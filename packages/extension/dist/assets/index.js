var Se=Object.defineProperty;var Ee=(e,t,n)=>t in e?Se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ye=(e,t,n)=>Ee(e,typeof t!="symbol"?t+"":t,n);import{getContext as getContext$1,extension_settings}from"../../../../../../../extensions.js";import{loadWorldInfo,createWorldInfoEntry,saveWorldInfo}from"../../../../../../../world-info.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function makeMap(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),isModelListener=e=>e.startsWith("onUpdate:"),extend=Object.assign,remove=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},hasOwnProperty$7=Object.prototype.hasOwnProperty,hasOwn=(e,t)=>hasOwnProperty$7.call(e,t),isArray$1=Array.isArray,isMap=e=>toTypeString(e)==="[object Map]",isSet=e=>toTypeString(e)==="[object Set]",isFunction$1=e=>typeof e=="function",isString=e=>typeof e=="string",isSymbol$1=e=>typeof e=="symbol",isObject$1=e=>e!==null&&typeof e=="object",isPromise=e=>(isObject$1(e)||isFunction$1(e))&&isFunction$1(e.then)&&isFunction$1(e.catch),objectToString$1=Object.prototype.toString,toTypeString=e=>objectToString$1.call(e),toRawType=e=>toTypeString(e).slice(8,-1),isPlainObject$1=e=>toTypeString(e)==="[object Object]",isIntegerKey=e=>isString(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,(t,n)=>n?n.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction(e=>e?`on${capitalize(e)}`:""),hasChanged=(e,t)=>!Object.is(e,t),invokeArrayFns=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},def=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},looseToNumber=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(e){if(isArray$1(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=isString(r)?parseStringStyle(r):normalizeStyle(r);if(s)for(const o in s)t[o]=s[o]}return t}else if(isString(e)||isObject$1(e))return e}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(e){const t={};return e.replace(styleCommentRE,"").split(listDelimiterRE).forEach(n=>{if(n){const r=n.split(propertyDelimiterRE);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function normalizeClass(e){let t="";if(isString(e))t=e;else if(isArray$1(e))for(let n=0;n<e.length;n++){const r=normalizeClass(e[n]);r&&(t+=r+" ")}else if(isObject$1(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}const isRef$1=e=>!!(e&&e.__v_isRef===!0),toDisplayString=e=>isString(e)?e:e==null?"":isArray$1(e)||isObject$1(e)&&(e.toString===objectToString$1||!isFunction$1(e.toString))?isRef$1(e)?toDisplayString(e.value):JSON.stringify(e,replacer,2):String(e),replacer=(e,t)=>isRef$1(t)?replacer(e,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],o)=>(n[stringifySymbol(r,o)+" =>"]=s,n),{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>stringifySymbol(n))}:isSymbol$1(t)?stringifySymbol(t):isObject$1(t)&&!isArray$1(t)&&!isPlainObject$1(t)?String(t):t,stringifySymbol=(e,t="")=>{var n;return isSymbol$1(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let activeEffectScope;class EffectScope{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=activeEffectScope,!t&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=n}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function effectScope(e){return new EffectScope(e)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(e,t=!1){activeEffectScope&&activeEffectScope.cleanups.push(e)}let activeSub;const pausedQueueEffects=new WeakSet;class ReactiveEffect{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,activeEffectScope&&activeEffectScope.active&&activeEffectScope.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pausedQueueEffects.has(this)&&(pausedQueueEffects.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||batch(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cleanupEffect(this),prepareDeps(this);const t=activeSub,n=shouldTrack;activeSub=this,shouldTrack=!0;try{return this.fn()}finally{cleanupDeps(this),activeSub=t,shouldTrack=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)removeSub(t);this.deps=this.depsTail=void 0,cleanupEffect(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pausedQueueEffects.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){isDirty(this)&&this.run()}get dirty(){return isDirty(this)}}let batchDepth=0,batchedSub,batchedComputed;function batch(e,t=!1){if(e.flags|=8,t){e.next=batchedComputed,batchedComputed=e;return}e.next=batchedSub,batchedSub=e}function startBatch(){batchDepth++}function endBatch(){if(--batchDepth>0)return;if(batchedComputed){let t=batchedComputed;for(batchedComputed=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;batchedSub;){let t=batchedSub;for(batchedSub=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function prepareDeps(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function cleanupDeps(e){let t,n=e.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),removeSub(r),removeDep(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}e.deps=t,e.depsTail=n}function isDirty(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(refreshComputed(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function refreshComputed(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===globalVersion))return;e.globalVersion=globalVersion;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!isDirty(e)){e.flags&=-3;return}const n=activeSub,r=shouldTrack;activeSub=e,shouldTrack=!0;try{prepareDeps(e);const s=e.fn(e._value);(t.version===0||hasChanged(s,e._value))&&(e._value=s,t.version++)}catch(s){throw t.version++,s}finally{activeSub=n,shouldTrack=r,cleanupDeps(e),e.flags&=-3}}function removeSub(e,t=!1){const{dep:n,prevSub:r,nextSub:s}=e;if(r&&(r.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)removeSub(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function removeDep(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function cleanupEffect(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=activeSub;activeSub=void 0;try{t()}finally{activeSub=n}}}let globalVersion=0;class Link{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Dep{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!activeSub||!shouldTrack||activeSub===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==activeSub)n=this.activeLink=new Link(activeSub,this),activeSub.deps?(n.prevDep=activeSub.depsTail,activeSub.depsTail.nextDep=n,activeSub.depsTail=n):activeSub.deps=activeSub.depsTail=n,addSub(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=activeSub.depsTail,n.nextDep=void 0,activeSub.depsTail.nextDep=n,activeSub.depsTail=n,activeSub.deps===n&&(activeSub.deps=r)}return n}trigger(t){this.version++,globalVersion++,this.notify(t)}notify(t){startBatch();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{endBatch()}}}function addSub(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)addSub(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol(""),ARRAY_ITERATE_KEY=Symbol("");function track(e,t,n){if(shouldTrack&&activeSub){let r=targetMap.get(e);r||targetMap.set(e,r=new Map);let s=r.get(n);s||(r.set(n,s=new Dep),s.map=r,s.key=n),s.track()}}function trigger(e,t,n,r,s,o){const i=targetMap.get(e);if(!i){globalVersion++;return}const a=c=>{c&&c.trigger()};if(startBatch(),t==="clear")i.forEach(a);else{const c=isArray$1(e),d=c&&isIntegerKey(n);if(c&&n==="length"){const u=Number(r);i.forEach((h,b)=>{(b==="length"||b===ARRAY_ITERATE_KEY||!isSymbol$1(b)&&b>=u)&&a(h)})}else switch((n!==void 0||i.has(void 0))&&a(i.get(n)),d&&a(i.get(ARRAY_ITERATE_KEY)),t){case"add":c?d&&a(i.get("length")):(a(i.get(ITERATE_KEY)),isMap(e)&&a(i.get(MAP_KEY_ITERATE_KEY)));break;case"delete":c||(a(i.get(ITERATE_KEY)),isMap(e)&&a(i.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&a(i.get(ITERATE_KEY));break}}endBatch()}function getDepFromReactive(e,t){const n=targetMap.get(e);return n&&n.get(t)}function reactiveReadArray(e){const t=toRaw(e);return t===e?t:(track(t,"iterate",ARRAY_ITERATE_KEY),isShallow(e)?t:t.map(toReactive))}function shallowReadArray(e){return track(e=toRaw(e),"iterate",ARRAY_ITERATE_KEY),e}const arrayInstrumentations={__proto__:null,[Symbol.iterator](){return iterator(this,Symbol.iterator,toReactive)},concat(...e){return reactiveReadArray(this).concat(...e.map(t=>isArray$1(t)?reactiveReadArray(t):t))},entries(){return iterator(this,"entries",e=>(e[1]=toReactive(e[1]),e))},every(e,t){return apply$1(this,"every",e,t,void 0,arguments)},filter(e,t){return apply$1(this,"filter",e,t,n=>n.map(toReactive),arguments)},find(e,t){return apply$1(this,"find",e,t,toReactive,arguments)},findIndex(e,t){return apply$1(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return apply$1(this,"findLast",e,t,toReactive,arguments)},findLastIndex(e,t){return apply$1(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return apply$1(this,"forEach",e,t,void 0,arguments)},includes(...e){return searchProxy(this,"includes",e)},indexOf(...e){return searchProxy(this,"indexOf",e)},join(e){return reactiveReadArray(this).join(e)},lastIndexOf(...e){return searchProxy(this,"lastIndexOf",e)},map(e,t){return apply$1(this,"map",e,t,void 0,arguments)},pop(){return noTracking(this,"pop")},push(...e){return noTracking(this,"push",e)},reduce(e,...t){return reduce(this,"reduce",e,t)},reduceRight(e,...t){return reduce(this,"reduceRight",e,t)},shift(){return noTracking(this,"shift")},some(e,t){return apply$1(this,"some",e,t,void 0,arguments)},splice(...e){return noTracking(this,"splice",e)},toReversed(){return reactiveReadArray(this).toReversed()},toSorted(e){return reactiveReadArray(this).toSorted(e)},toSpliced(...e){return reactiveReadArray(this).toSpliced(...e)},unshift(...e){return noTracking(this,"unshift",e)},values(){return iterator(this,"values",toReactive)}};function iterator(e,t,n){const r=shallowReadArray(e),s=r[t]();return r!==e&&!isShallow(e)&&(s._next=s.next,s.next=()=>{const o=s._next();return o.value&&(o.value=n(o.value)),o}),s}const arrayProto$1=Array.prototype;function apply$1(e,t,n,r,s,o){const i=shallowReadArray(e),a=i!==e&&!isShallow(e),c=i[t];if(c!==arrayProto$1[t]){const h=c.apply(e,o);return a?toReactive(h):h}let d=n;i!==e&&(a?d=function(h,b){return n.call(this,toReactive(h),b,e)}:n.length>2&&(d=function(h,b){return n.call(this,h,b,e)}));const u=c.call(i,d,r);return a&&s?s(u):u}function reduce(e,t,n,r){const s=shallowReadArray(e);let o=n;return s!==e&&(isShallow(e)?n.length>3&&(o=function(i,a,c){return n.call(this,i,a,c,e)}):o=function(i,a,c){return n.call(this,i,toReactive(a),c,e)}),s[t](o,...r)}function searchProxy(e,t,n){const r=toRaw(e);track(r,"iterate",ARRAY_ITERATE_KEY);const s=r[t](...n);return(s===-1||s===!1)&&isProxy(n[0])?(n[0]=toRaw(n[0]),r[t](...n)):s}function noTracking(e,t,n=[]){pauseTracking(),startBatch();const r=toRaw(e)[t].apply(e,n);return endBatch(),resetTracking(),r}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(isSymbol$1));function hasOwnProperty$6(e){isSymbol$1(e)||(e=String(e));const t=toRaw(this);return track(t,"has",e),t.hasOwnProperty(e)}class BaseReactiveHandler{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(s?o?shallowReadonlyMap:readonlyMap:o?shallowReactiveMap:reactiveMap).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const i=isArray$1(t);if(!s){let c;if(i&&(c=arrayInstrumentations[n]))return c;if(n==="hasOwnProperty")return hasOwnProperty$6}const a=Reflect.get(t,n,isRef(t)?t:r);return(isSymbol$1(n)?builtInSymbols.has(n):isNonTrackableKeys(n))||(s||track(t,"get",n),o)?a:isRef(a)?i&&isIntegerKey(n)?a:a.value:isObject$1(a)?s?readonly(a):reactive(a):a}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(t=!1){super(!1,t)}set(t,n,r,s){let o=t[n];if(!this._isShallow){const c=isReadonly(o);if(!isShallow(r)&&!isReadonly(r)&&(o=toRaw(o),r=toRaw(r)),!isArray$1(t)&&isRef(o)&&!isRef(r))return c?!1:(o.value=r,!0)}const i=isArray$1(t)&&isIntegerKey(n)?Number(n)<t.length:hasOwn(t,n),a=Reflect.set(t,n,r,isRef(t)?t:s);return t===toRaw(s)&&(i?hasChanged(r,o)&&trigger(t,"set",n,r):trigger(t,"add",n,r)),a}deleteProperty(t,n){const r=hasOwn(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&trigger(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!isSymbol$1(n)||!builtInSymbols.has(n))&&track(t,"has",n),r}ownKeys(t){return track(t,"iterate",isArray$1(t)?"length":ITERATE_KEY),Reflect.ownKeys(t)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function createIterableMethod(e,t,n){return function(...r){const s=this.__v_raw,o=toRaw(s),i=isMap(o),a=e==="entries"||e===Symbol.iterator&&i,c=e==="keys"&&i,d=s[e](...r),u=n?toShallow:t?toReadonly:toReactive;return!t&&track(o,"iterate",c?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:h,done:b}=d.next();return b?{value:h,done:b}:{value:a?[u(h[0]),u(h[1])]:u(h),done:b}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function createInstrumentations(e,t){const n={get(s){const o=this.__v_raw,i=toRaw(o),a=toRaw(s);e||(hasChanged(s,a)&&track(i,"get",s),track(i,"get",a));const{has:c}=getProto(i),d=t?toShallow:e?toReadonly:toReactive;if(c.call(i,s))return d(o.get(s));if(c.call(i,a))return d(o.get(a));o!==i&&o.get(s)},get size(){const s=this.__v_raw;return!e&&track(toRaw(s),"iterate",ITERATE_KEY),Reflect.get(s,"size",s)},has(s){const o=this.__v_raw,i=toRaw(o),a=toRaw(s);return e||(hasChanged(s,a)&&track(i,"has",s),track(i,"has",a)),s===a?o.has(s):o.has(s)||o.has(a)},forEach(s,o){const i=this,a=i.__v_raw,c=toRaw(a),d=t?toShallow:e?toReadonly:toReactive;return!e&&track(c,"iterate",ITERATE_KEY),a.forEach((u,h)=>s.call(o,d(u),d(h),i))}};return extend(n,e?{add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear")}:{add(s){!t&&!isShallow(s)&&!isReadonly(s)&&(s=toRaw(s));const o=toRaw(this);return getProto(o).has.call(o,s)||(o.add(s),trigger(o,"add",s,s)),this},set(s,o){!t&&!isShallow(o)&&!isReadonly(o)&&(o=toRaw(o));const i=toRaw(this),{has:a,get:c}=getProto(i);let d=a.call(i,s);d||(s=toRaw(s),d=a.call(i,s));const u=c.call(i,s);return i.set(s,o),d?hasChanged(o,u)&&trigger(i,"set",s,o):trigger(i,"add",s,o),this},delete(s){const o=toRaw(this),{has:i,get:a}=getProto(o);let c=i.call(o,s);c||(s=toRaw(s),c=i.call(o,s)),a&&a.call(o,s);const d=o.delete(s);return c&&trigger(o,"delete",s,void 0),d},clear(){const s=toRaw(this),o=s.size!==0,i=s.clear();return o&&trigger(s,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=createIterableMethod(s,e,t)}),n}function createInstrumentationGetter(e,t){const n=createInstrumentations(e,t);return(r,s,o)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(hasOwn(n,s)&&s in r?n:r,s,o)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(e){return createReactiveObject(e,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(e,t,n,r,s){if(!isObject$1(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=s.get(e);if(o)return o;const i=getTargetType(e);if(i===0)return e;const a=new Proxy(e,i===2?r:n);return s.set(e,a),a}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return e?!!e.__v_raw:!1}function toRaw(e){const t=e&&e.__v_raw;return t?toRaw(t):e}function markRaw(e){return!hasOwn(e,"__v_skip")&&Object.isExtensible(e)&&def(e,"__v_skip",!0),e}const toReactive=e=>isObject$1(e)?reactive(e):e,toReadonly=e=>isObject$1(e)?readonly(e):e;function isRef(e){return e?e.__v_isRef===!0:!1}function ref(e){return createRef(e,!1)}function shallowRef(e){return createRef(e,!0)}function createRef(e,t){return isRef(e)?e:new RefImpl(e,t)}class RefImpl{constructor(t,n){this.dep=new Dep,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:toRaw(t),this._value=n?t:toReactive(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||isShallow(t)||isReadonly(t);t=r?t:toRaw(t),hasChanged(t,n)&&(this._rawValue=t,this._value=r?t:toReactive(t),this.dep.trigger())}}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,t,n)=>t==="__v_raw"?e:unref(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return isRef(s)&&!isRef(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}function toRefs(e){const t=isArray$1(e)?new Array(e.length):{};for(const n in e)t[n]=propertyToRef(e,n);return t}class ObjectRefImpl{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}class GetterRefImpl{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function toRef(e,t,n){return isRef(e)?e:isFunction$1(e)?new GetterRefImpl(e):isObject$1(e)&&arguments.length>1?propertyToRef(e,t,n):ref(e)}function propertyToRef(e,t,n){const r=e[t];return isRef(r)?r:new ObjectRefImpl(e,t,n)}class ComputedRefImpl{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Dep(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=globalVersion-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&activeSub!==this)return batch(this,!0),!0}get value(){const t=this.dep.track();return refreshComputed(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function computed$1(e,t,n=!1){let r,s;return isFunction$1(e)?r=e:(r=e.get,s=e.set),new ComputedRefImpl(r,s,n)}const INITIAL_WATCHER_VALUE={},cleanupMap=new WeakMap;let activeWatcher;function onWatcherCleanup(e,t=!1,n=activeWatcher){if(n){let r=cleanupMap.get(n);r||cleanupMap.set(n,r=[]),r.push(e)}}function watch$1(e,t,n=EMPTY_OBJ){const{immediate:r,deep:s,once:o,scheduler:i,augmentJob:a,call:c}=n,d=N=>s?N:isShallow(N)||s===!1||s===0?traverse(N,1):traverse(N);let u,h,b,S,x=!1,E=!1;if(isRef(e)?(h=()=>e.value,x=isShallow(e)):isReactive(e)?(h=()=>d(e),x=!0):isArray$1(e)?(E=!0,x=e.some(N=>isReactive(N)||isShallow(N)),h=()=>e.map(N=>{if(isRef(N))return N.value;if(isReactive(N))return d(N);if(isFunction$1(N))return c?c(N,2):N()})):isFunction$1(e)?t?h=c?()=>c(e,2):e:h=()=>{if(b){pauseTracking();try{b()}finally{resetTracking()}}const N=activeWatcher;activeWatcher=u;try{return c?c(e,3,[S]):e(S)}finally{activeWatcher=N}}:h=NOOP,t&&s){const N=h,C=s===!0?1/0:s;h=()=>traverse(N(),C)}const A=getCurrentScope(),R=()=>{u.stop(),A&&A.active&&remove(A.effects,u)};if(o&&t){const N=t;t=(...C)=>{N(...C),R()}}let H=E?new Array(e.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const D=N=>{if(!(!(u.flags&1)||!u.dirty&&!N))if(t){const C=u.run();if(s||x||(E?C.some((L,G)=>hasChanged(L,H[G])):hasChanged(C,H))){b&&b();const L=activeWatcher;activeWatcher=u;try{const G=[C,H===INITIAL_WATCHER_VALUE?void 0:E&&H[0]===INITIAL_WATCHER_VALUE?[]:H,S];c?c(t,3,G):t(...G),H=C}finally{activeWatcher=L}}}else u.run()};return a&&a(D),u=new ReactiveEffect(h),u.scheduler=i?()=>i(D,!1):D,S=N=>onWatcherCleanup(N,!1,u),b=u.onStop=()=>{const N=cleanupMap.get(u);if(N){if(c)c(N,4);else for(const C of N)C();cleanupMap.delete(u)}},t?r?D(!0):H=u.run():i?i(D.bind(null,!0),!0):u.run(),R.pause=u.pause.bind(u),R.resume=u.resume.bind(u),R.stop=R,R}function traverse(e,t=1/0,n){if(t<=0||!isObject$1(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,isRef(e))traverse(e.value,t,n);else if(isArray$1(e))for(let r=0;r<e.length;r++)traverse(e[r],t,n);else if(isSet(e)||isMap(e))e.forEach(r=>{traverse(r,t,n)});else if(isPlainObject$1(e)){for(const r in e)traverse(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&traverse(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const stack=[];let isWarning=!1;function warn$1(e,...t){if(isWarning)return;isWarning=!0,pauseTracking();const n=stack.length?stack[stack.length-1].component:null,r=n&&n.appContext.config.warnHandler,s=getComponentTrace();if(r)callWithErrorHandling(r,n,11,[e+t.map(o=>{var i,a;return(a=(i=o.toString)==null?void 0:i.call(o))!=null?a:JSON.stringify(o)}).join(""),n&&n.proxy,s.map(({vnode:o})=>`at <${formatComponentName(n,o.type)}>`).join(`
`),s]);else{const o=[`[Vue warn]: ${e}`,...t];s.length&&o.push(`
`,...formatTrace(s)),console.warn(...o)}resetTracking(),isWarning=!1}function getComponentTrace(){let e=stack[stack.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const r=e.component&&e.component.parent;e=r&&r.vnode}return t}function formatTrace(e){const t=[];return e.forEach((n,r)=>{t.push(...r===0?[]:[`
`],...formatTraceEntry(n))}),t}function formatTraceEntry({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",r=e.component?e.component.parent==null:!1,s=` at <${formatComponentName(e.component,e.type,r)}`,o=">"+n;return e.props?[s,...formatProps(e.props),o]:[s+o]}function formatProps(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(r=>{t.push(...formatProp(r,e[r]))}),n.length>3&&t.push(" ..."),t}function formatProp(e,t,n){return isString(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:isRef(t)?(t=formatProp(e,toRaw(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):isFunction$1(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=toRaw(t),n?t:[`${e}=`,t])}function callWithErrorHandling(e,t,n,r){try{return r?e(...r):e()}catch(s){handleError(s,t,n)}}function callWithAsyncErrorHandling(e,t,n,r){if(isFunction$1(e)){const s=callWithErrorHandling(e,t,n,r);return s&&isPromise(s)&&s.catch(o=>{handleError(o,t,n)}),s}if(isArray$1(e)){const s=[];for(let o=0;o<e.length;o++)s.push(callWithAsyncErrorHandling(e[o],t,n,r));return s}}function handleError(e,t,n,r=!0){const s=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||EMPTY_OBJ;if(t){let a=t.parent;const c=t.proxy,d=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](e,c,d)===!1)return}a=a.parent}if(o){pauseTracking(),callWithErrorHandling(o,null,10,[e,c,d]),resetTracking();return}}logError(e,n,s,r,i)}function logError(e,t,n,r=!0,s=!1){if(s)throw e;console.error(e)}const queue=[];let flushIndex=-1;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(e){const t=currentFlushPromise||resolvedPromise;return e?t.then(this?e.bind(this):e):t}function findInsertionIndex(e){let t=flushIndex+1,n=queue.length;for(;t<n;){const r=t+n>>>1,s=queue[r],o=getId(s);o<e||o===e&&s.flags&2?t=r+1:n=r}return t}function queueJob(e){if(!(e.flags&1)){const t=getId(e),n=queue[queue.length-1];!n||!(e.flags&2)&&t>=getId(n)?queue.push(e):queue.splice(findInsertionIndex(t),0,e),e.flags|=1,queueFlush()}}function queueFlush(){currentFlushPromise||(currentFlushPromise=resolvedPromise.then(flushJobs))}function queuePostFlushCb(e){isArray$1(e)?pendingPostFlushCbs.push(...e):activePostFlushCbs&&e.id===-1?activePostFlushCbs.splice(postFlushIndex+1,0,e):e.flags&1||(pendingPostFlushCbs.push(e),e.flags|=1),queueFlush()}function flushPreFlushCbs(e,t,n=flushIndex+1){for(;n<queue.length;n++){const r=queue[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;queue.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)].sort((n,r)=>getId(n)-getId(r));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++){const n=activePostFlushCbs[postFlushIndex];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?e.flags&2?-1:1/0:e.id;function flushJobs(e){try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const t=queue[flushIndex];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),callWithErrorHandling(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;flushIndex<queue.length;flushIndex++){const t=queue[flushIndex];t&&(t.flags&=-2)}flushIndex=-1,queue.length=0,flushPostFlushCbs(),currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const t=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,t}function withCtx(e,t=currentRenderingInstance,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&setBlockTracking(-1);const o=setCurrentRenderingInstance(t);let i;try{i=e(...s)}finally{setCurrentRenderingInstance(o),r._d&&setBlockTracking(1)}return i};return r._n=!0,r._c=!0,r._d=!0,r}function invokeDirectiveHook(e,t,n,r){const s=e.dirs,o=t&&t.dirs;for(let i=0;i<s.length;i++){const a=s[i];o&&(a.oldValue=o[i].value);let c=a.dir[r];c&&(pauseTracking(),callWithAsyncErrorHandling(c,n,8,[e.el,a,e,t]),resetTracking())}}const TeleportEndKey=Symbol("_vte"),isTeleport=e=>e.__isTeleport;function setTransitionHooks(e,t){e.shapeFlag&6&&e.component?(e.transition=t,setTransitionHooks(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function defineComponent(e,t){return isFunction$1(e)?extend({name:e.name},t,{setup:e}):e}function markAsyncBoundary(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function setRef(e,t,n,r,s=!1){if(isArray$1(e)){e.forEach((x,E)=>setRef(x,t&&(isArray$1(t)?t[E]:t),n,r,s));return}if(isAsyncWrapper(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&setRef(e,t,n,r.component.subTree);return}const o=r.shapeFlag&4?getComponentPublicInstance(r.component):r.el,i=s?null:o,{i:a,r:c}=e,d=t&&t.r,u=a.refs===EMPTY_OBJ?a.refs={}:a.refs,h=a.setupState,b=toRaw(h),S=h===EMPTY_OBJ?()=>!1:x=>hasOwn(b,x);if(d!=null&&d!==c&&(isString(d)?(u[d]=null,S(d)&&(h[d]=null)):isRef(d)&&(d.value=null)),isFunction$1(c))callWithErrorHandling(c,a,12,[i,u]);else{const x=isString(c),E=isRef(c);if(x||E){const A=()=>{if(e.f){const R=x?S(c)?h[c]:u[c]:c.value;s?isArray$1(R)&&remove(R,o):isArray$1(R)?R.includes(o)||R.push(o):x?(u[c]=[o],S(c)&&(h[c]=u[c])):(c.value=[o],e.k&&(u[e.k]=c.value))}else x?(u[c]=i,S(c)&&(h[c]=i)):E&&(c.value=i,e.k&&(u[e.k]=i))};i?(A.id=-1,queuePostRenderEffect(A,n)):A()}}}getGlobalThis().requestIdleCallback;getGlobalThis().cancelIdleCallback;const isAsyncWrapper=e=>!!e.type.__asyncLoader,isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,t){registerKeepAliveHook(e,"a",t)}function onDeactivated(e,t){registerKeepAliveHook(e,"da",t)}function registerKeepAliveHook(e,t,n=currentInstance){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(injectHook(t,r,n),n){let s=n.parent;for(;s&&s.parent;)isKeepAlive(s.parent.vnode)&&injectToKeepAliveRoot(r,t,n,s),s=s.parent}}function injectToKeepAliveRoot(e,t,n,r){const s=injectHook(t,e,r,!0);onUnmounted(()=>{remove(r[t],s)},n)}function injectHook(e,t,n=currentInstance,r=!1){if(n){const s=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...i)=>{pauseTracking();const a=setCurrentInstance(n),c=callWithAsyncErrorHandling(t,n,e,i);return a(),resetTracking(),c});return r?s.unshift(o):s.push(o),o}}const createHook=e=>(t,n=currentInstance)=>{(!isInSSRComponentSetup||e==="sp")&&injectHook(e,(...r)=>t(...r),n)},onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,t=currentInstance){injectHook("ec",e,t)}const COMPONENTS="components",NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDynamicComponent(e){return isString(e)?resolveAsset(COMPONENTS,e,!1)||e:e||NULL_DYNAMIC_COMPONENT}function resolveAsset(e,t,n=!0,r=!1){const s=currentRenderingInstance||currentInstance;if(s){const o=s.type;{const a=getComponentName(o,!1);if(a&&(a===t||a===camelize(t)||a===capitalize(camelize(t))))return o}const i=resolve(s[e]||o[e],t)||resolve(s.appContext[e],t);return!i&&r?o:i}}function resolve(e,t){return e&&(e[t]||e[camelize(t)]||e[capitalize(camelize(t))])}function renderSlot(e,t,n={},r,s){if(currentRenderingInstance.ce||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.ce)return t!=="default"&&(n.name=t),openBlock(),createBlock(Fragment,null,[createVNode("slot",n,r&&r())],64);let o=e[t];o&&o._c&&(o._d=!1),openBlock();const i=o&&ensureValidVNode(o(n)),a=n.key||i&&i.key,c=createBlock(Fragment,{key:(a&&!isSymbol$1(a)?a:`_${t}`)+(!i&&r?"_fb":"")},i||(r?r():[]),i&&e._===1?64:-2);return c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),o&&o._c&&(o._d=!0),c}function ensureValidVNode(e){return e.some(t=>isVNode(t)?!(t.type===Comment||t.type===Fragment&&!ensureValidVNode(t.children)):!0)?e:null}const getPublicInstance=e=>e?isStatefulComponent(e)?getComponentPublicInstance(e):getPublicInstance(e.parent):null,publicPropertiesMap=extend(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>e.f||(e.f=()=>{queueJob(e.update)}),$nextTick:e=>e.n||(e.n=nextTick.bind(e.proxy)),$watch:e=>instanceWatch.bind(e)}),hasSetupBinding=(e,t)=>e!==EMPTY_OBJ&&!e.__isScriptSetup&&hasOwn(e,t),PublicInstanceProxyHandlers={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:o,accessCache:i,type:a,appContext:c}=e;let d;if(t[0]!=="$"){const S=i[t];if(S!==void 0)switch(S){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return o[t]}else{if(hasSetupBinding(r,t))return i[t]=1,r[t];if(s!==EMPTY_OBJ&&hasOwn(s,t))return i[t]=2,s[t];if((d=e.propsOptions[0])&&hasOwn(d,t))return i[t]=3,o[t];if(n!==EMPTY_OBJ&&hasOwn(n,t))return i[t]=4,n[t];shouldCacheAccess&&(i[t]=0)}}const u=publicPropertiesMap[t];let h,b;if(u)return t==="$attrs"&&track(e.attrs,"get",""),u(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==EMPTY_OBJ&&hasOwn(n,t))return i[t]=4,n[t];if(b=c.config.globalProperties,hasOwn(b,t))return b[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:o}=e;return hasSetupBinding(s,t)?(s[t]=n,!0):r!==EMPTY_OBJ&&hasOwn(r,t)?(r[t]=n,!0):hasOwn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:o}},i){let a;return!!n[i]||e!==EMPTY_OBJ&&hasOwn(e,i)||hasSetupBinding(t,i)||(a=o[0])&&hasOwn(a,i)||hasOwn(r,i)||hasOwn(publicPropertiesMap,i)||hasOwn(s.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:hasOwn(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function useSlots(){return getContext().slots}function getContext(){const e=getCurrentInstance();return e.setupContext||(e.setupContext=createSetupContext(e))}function normalizePropsOrEmits(e){return isArray$1(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let shouldCacheAccess=!0;function applyOptions(e){const t=resolveMergedOptions(e),n=e.proxy,r=e.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook(t.beforeCreate,e,"bc");const{data:s,computed:o,methods:i,watch:a,provide:c,inject:d,created:u,beforeMount:h,mounted:b,beforeUpdate:S,updated:x,activated:E,deactivated:A,beforeDestroy:R,beforeUnmount:H,destroyed:D,unmounted:N,render:C,renderTracked:L,renderTriggered:G,errorCaptured:k,serverPrefetch:B,expose:U,inheritAttrs:X,components:Z,directives:re,filters:ie}=t;if(d&&resolveInjections(d,r,null),i)for(const V in i){const K=i[V];isFunction$1(K)&&(r[V]=K.bind(n))}if(s){const V=s.call(n,n);isObject$1(V)&&(e.data=reactive(V))}if(shouldCacheAccess=!0,o)for(const V in o){const K=o[V],se=isFunction$1(K)?K.bind(n,n):isFunction$1(K.get)?K.get.bind(n,n):NOOP,fe=!isFunction$1(K)&&isFunction$1(K.set)?K.set.bind(n):NOOP,oe=computed({get:se,set:fe});Object.defineProperty(r,V,{enumerable:!0,configurable:!0,get:()=>oe.value,set:Q=>oe.value=Q})}if(a)for(const V in a)createWatcher(a[V],r,n,V);if(c){const V=isFunction$1(c)?c.call(n):c;Reflect.ownKeys(V).forEach(K=>{provide(K,V[K])})}u&&callHook(u,e,"c");function W(V,K){isArray$1(K)?K.forEach(se=>V(se.bind(n))):K&&V(K.bind(n))}if(W(onBeforeMount,h),W(onMounted,b),W(onBeforeUpdate,S),W(onUpdated,x),W(onActivated,E),W(onDeactivated,A),W(onErrorCaptured,k),W(onRenderTracked,L),W(onRenderTriggered,G),W(onBeforeUnmount,H),W(onUnmounted,N),W(onServerPrefetch,B),isArray$1(U))if(U.length){const V=e.exposed||(e.exposed={});U.forEach(K=>{Object.defineProperty(V,K,{get:()=>n[K],set:se=>n[K]=se})})}else e.exposed||(e.exposed={});C&&e.render===NOOP&&(e.render=C),X!=null&&(e.inheritAttrs=X),Z&&(e.components=Z),re&&(e.directives=re),B&&markAsyncBoundary(e)}function resolveInjections(e,t,n=NOOP){isArray$1(e)&&(e=normalizeInject(e));for(const r in e){const s=e[r];let o;isObject$1(s)?"default"in s?o=inject(s.from||r,s.default,!0):o=inject(s.from||r):o=inject(s),isRef(o)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):t[r]=o}}function callHook(e,t,n){callWithAsyncErrorHandling(isArray$1(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function createWatcher(e,t,n,r){let s=r.includes(".")?createPathGetter(n,r):()=>n[r];if(isString(e)){const o=t[e];isFunction$1(o)&&watch(s,o)}else if(isFunction$1(e))watch(s,e.bind(n));else if(isObject$1(e))if(isArray$1(e))e.forEach(o=>createWatcher(o,t,n,r));else{const o=isFunction$1(e.handler)?e.handler.bind(n):t[e.handler];isFunction$1(o)&&watch(s,o,e)}}function resolveMergedOptions(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:o,config:{optionMergeStrategies:i}}=e.appContext,a=o.get(t);let c;return a?c=a:!s.length&&!n&&!r?c=t:(c={},s.length&&s.forEach(d=>mergeOptions(c,d,i,!0)),mergeOptions(c,t,i)),isObject$1(t)&&o.set(t,c),c}function mergeOptions(e,t,n,r=!1){const{mixins:s,extends:o}=t;o&&mergeOptions(e,o,n,!0),s&&s.forEach(i=>mergeOptions(e,i,n,!0));for(const i in t)if(!(r&&i==="expose")){const a=internalOptionMergeStrats[i]||n&&n[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,t){return t?e?function(){return extend(isFunction$1(e)?e.call(this,this):e,isFunction$1(t)?t.call(this,this):t)}:t:e}function mergeInject(e,t){return mergeObjectOptions(normalizeInject(e),normalizeInject(t))}function normalizeInject(e){if(isArray$1(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function mergeAsArray(e,t){return e?[...new Set([].concat(e,t))]:t}function mergeObjectOptions(e,t){return e?extend(Object.create(null),e,t):t}function mergeEmitsOrPropsOptions(e,t){return e?isArray$1(e)&&isArray$1(t)?[...new Set([...e,...t])]:extend(Object.create(null),normalizePropsOrEmits(e),normalizePropsOrEmits(t??{})):t}function mergeWatchOptions(e,t){if(!e)return t;if(!t)return e;const n=extend(Object.create(null),e);for(const r in t)n[r]=mergeAsArray(e[r],t[r]);return n}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(e,t){return function(r,s=null){isFunction$1(r)||(r=extend({},r)),s!=null&&!isObject$1(s)&&(s=null);const o=createAppContext(),i=new WeakSet,a=[];let c=!1;const d=o.app={_uid:uid$1++,_component:r,_props:s,_container:null,_context:o,_instance:null,version,get config(){return o.config},set config(u){},use(u,...h){return i.has(u)||(u&&isFunction$1(u.install)?(i.add(u),u.install(d,...h)):isFunction$1(u)&&(i.add(u),u(d,...h))),d},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),d},component(u,h){return h?(o.components[u]=h,d):o.components[u]},directive(u,h){return h?(o.directives[u]=h,d):o.directives[u]},mount(u,h,b){if(!c){const S=d._ceVNode||createVNode(r,s);return S.appContext=o,b===!0?b="svg":b===!1&&(b=void 0),e(S,u,b),c=!0,d._container=u,u.__vue_app__=d,getComponentPublicInstance(S.component)}},onUnmount(u){a.push(u)},unmount(){c&&(callWithAsyncErrorHandling(a,d._instance,16),e(null,d._container),delete d._container.__vue_app__)},provide(u,h){return o.provides[u]=h,d},runWithContext(u){const h=currentApp;currentApp=d;try{return u()}finally{currentApp=h}}};return d}}let currentApp=null;function provide(e,t){if(currentInstance){let n=currentInstance.provides;const r=currentInstance.parent&&currentInstance.parent.provides;r===n&&(n=currentInstance.provides=Object.create(r)),n[e]=t}}function inject(e,t,n=!1){const r=currentInstance||currentRenderingInstance;if(r||currentApp){const s=currentApp?currentApp._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&isFunction$1(t)?t.call(r&&r.proxy):t}}function hasInjectionContext(){return!!(currentInstance||currentRenderingInstance||currentApp)}const internalObjectProto={},createInternalObject=()=>Object.create(internalObjectProto),isInternalObject=e=>Object.getPrototypeOf(e)===internalObjectProto;function initProps(e,t,n,r=!1){const s={},o=createInternalObject();e.propsDefaults=Object.create(null),setFullProps(e,t,s,o);for(const i in e.propsOptions[0])i in s||(s[i]=void 0);n?e.props=r?s:shallowReactive(s):e.type.props?e.props=s:e.props=o,e.attrs=o}function updateProps(e,t,n,r){const{props:s,attrs:o,vnode:{patchFlag:i}}=e,a=toRaw(s),[c]=e.propsOptions;let d=!1;if((r||i>0)&&!(i&16)){if(i&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let b=u[h];if(isEmitListener(e.emitsOptions,b))continue;const S=t[b];if(c)if(hasOwn(o,b))S!==o[b]&&(o[b]=S,d=!0);else{const x=camelize(b);s[x]=resolvePropValue(c,a,x,S,e,!1)}else S!==o[b]&&(o[b]=S,d=!0)}}}else{setFullProps(e,t,s,o)&&(d=!0);let u;for(const h in a)(!t||!hasOwn(t,h)&&((u=hyphenate(h))===h||!hasOwn(t,u)))&&(c?n&&(n[h]!==void 0||n[u]!==void 0)&&(s[h]=resolvePropValue(c,a,h,void 0,e,!0)):delete s[h]);if(o!==a)for(const h in o)(!t||!hasOwn(t,h))&&(delete o[h],d=!0)}d&&trigger(e.attrs,"set","")}function setFullProps(e,t,n,r){const[s,o]=e.propsOptions;let i=!1,a;if(t)for(let c in t){if(isReservedProp(c))continue;const d=t[c];let u;s&&hasOwn(s,u=camelize(c))?!o||!o.includes(u)?n[u]=d:(a||(a={}))[u]=d:isEmitListener(e.emitsOptions,c)||(!(c in r)||d!==r[c])&&(r[c]=d,i=!0)}if(o){const c=toRaw(n),d=a||EMPTY_OBJ;for(let u=0;u<o.length;u++){const h=o[u];n[h]=resolvePropValue(s,c,h,d[h],e,!hasOwn(d,h))}}return i}function resolvePropValue(e,t,n,r,s,o){const i=e[n];if(i!=null){const a=hasOwn(i,"default");if(a&&r===void 0){const c=i.default;if(i.type!==Function&&!i.skipFactory&&isFunction$1(c)){const{propsDefaults:d}=s;if(n in d)r=d[n];else{const u=setCurrentInstance(s);r=d[n]=c.call(null,t),u()}}else r=c;s.ce&&s.ce._setProp(n,r)}i[0]&&(o&&!a?r=!1:i[1]&&(r===""||r===hyphenate(n))&&(r=!0))}return r}const mixinPropsCache=new WeakMap;function normalizePropsOptions(e,t,n=!1){const r=n?mixinPropsCache:t.propsCache,s=r.get(e);if(s)return s;const o=e.props,i={},a=[];let c=!1;if(!isFunction$1(e)){const u=h=>{c=!0;const[b,S]=normalizePropsOptions(h,t,!0);extend(i,b),S&&a.push(...S)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!c)return isObject$1(e)&&r.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray$1(o))for(let u=0;u<o.length;u++){const h=camelize(o[u]);validatePropName(h)&&(i[h]=EMPTY_OBJ)}else if(o)for(const u in o){const h=camelize(u);if(validatePropName(h)){const b=o[u],S=i[h]=isArray$1(b)||isFunction$1(b)?{type:b}:extend({},b),x=S.type;let E=!1,A=!0;if(isArray$1(x))for(let R=0;R<x.length;++R){const H=x[R],D=isFunction$1(H)&&H.name;if(D==="Boolean"){E=!0;break}else D==="String"&&(A=!1)}else E=isFunction$1(x)&&x.name==="Boolean";S[0]=E,S[1]=A,(E||hasOwn(S,"default"))&&a.push(h)}}const d=[i,a];return isObject$1(e)&&r.set(e,d),d}function validatePropName(e){return e[0]!=="$"&&!isReservedProp(e)}const isInternalKey=e=>e[0]==="_"||e==="$stable",normalizeSlotValue=e=>isArray$1(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot=(e,t,n)=>{if(t._n)return t;const r=withCtx((...s)=>normalizeSlotValue(t(...s)),n);return r._c=!1,r},normalizeObjectSlots=(e,t,n)=>{const r=e._ctx;for(const s in e){if(isInternalKey(s))continue;const o=e[s];if(isFunction$1(o))t[s]=normalizeSlot(s,o,r);else if(o!=null){const i=normalizeSlotValue(o);t[s]=()=>i}}},normalizeVNodeSlots=(e,t)=>{const n=normalizeSlotValue(t);e.slots.default=()=>n},assignSlots=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},initSlots=(e,t,n)=>{const r=e.slots=createInternalObject();if(e.vnode.shapeFlag&32){const s=t._;s?(assignSlots(r,t,n),n&&def(r,"_",s,!0)):normalizeObjectSlots(t,r)}else t&&normalizeVNodeSlots(e,t)},updateSlots=(e,t,n)=>{const{vnode:r,slots:s}=e;let o=!0,i=EMPTY_OBJ;if(r.shapeFlag&32){const a=t._;a?n&&a===1?o=!1:assignSlots(s,t,n):(o=!t.$stable,normalizeObjectSlots(t,s)),i=t}else t&&(normalizeVNodeSlots(e,t),i={default:1});if(o)for(const a in s)!isInternalKey(a)&&i[a]==null&&delete s[a]},queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,t){const n=getGlobalThis();n.__VUE__=!0;const{insert:r,remove:s,patchProp:o,createElement:i,createText:a,createComment:c,setText:d,setElementText:u,parentNode:h,nextSibling:b,setScopeId:S=NOOP,insertStaticContent:x}=e,E=(l,f,g,v=null,m=null,y=null,P=void 0,I=null,T=!!f.dynamicChildren)=>{if(l===f)return;l&&!isSameVNodeType(l,f)&&(v=de(l),Q(l,m,y,!0),l=null),f.patchFlag===-2&&(T=!1,f.dynamicChildren=null);const{type:_,ref:$,shapeFlag:w}=f;switch(_){case Text:A(l,f,g,v);break;case Comment:R(l,f,g,v);break;case Static:l==null&&H(f,g,v,P);break;case Fragment:Z(l,f,g,v,m,y,P,I,T);break;default:w&1?C(l,f,g,v,m,y,P,I,T):w&6?re(l,f,g,v,m,y,P,I,T):(w&64||w&128)&&_.process(l,f,g,v,m,y,P,I,T,ce)}$!=null&&m&&setRef($,l&&l.ref,y,f||l,!f)},A=(l,f,g,v)=>{if(l==null)r(f.el=a(f.children),g,v);else{const m=f.el=l.el;f.children!==l.children&&d(m,f.children)}},R=(l,f,g,v)=>{l==null?r(f.el=c(f.children||""),g,v):f.el=l.el},H=(l,f,g,v)=>{[l.el,l.anchor]=x(l.children,f,g,v,l.el,l.anchor)},D=({el:l,anchor:f},g,v)=>{let m;for(;l&&l!==f;)m=b(l),r(l,g,v),l=m;r(f,g,v)},N=({el:l,anchor:f})=>{let g;for(;l&&l!==f;)g=b(l),s(l),l=g;s(f)},C=(l,f,g,v,m,y,P,I,T)=>{f.type==="svg"?P="svg":f.type==="math"&&(P="mathml"),l==null?L(f,g,v,m,y,P,I,T):B(l,f,m,y,P,I,T)},L=(l,f,g,v,m,y,P,I)=>{let T,_;const{props:$,shapeFlag:w,transition:O,dirs:M}=l;if(T=l.el=i(l.type,y,$&&$.is,$),w&8?u(T,l.children):w&16&&k(l.children,T,null,v,m,resolveChildrenNamespace(l,y),P,I),M&&invokeDirectiveHook(l,null,v,"created"),G(T,l,l.scopeId,P,v),$){for(const z in $)z!=="value"&&!isReservedProp(z)&&o(T,z,null,$[z],y,v);"value"in $&&o(T,"value",null,$.value,y),(_=$.onVnodeBeforeMount)&&invokeVNodeHook(_,v,l)}M&&invokeDirectiveHook(l,null,v,"beforeMount");const F=needTransition(m,O);F&&O.beforeEnter(T),r(T,f,g),((_=$&&$.onVnodeMounted)||F||M)&&queuePostRenderEffect(()=>{_&&invokeVNodeHook(_,v,l),F&&O.enter(T),M&&invokeDirectiveHook(l,null,v,"mounted")},m)},G=(l,f,g,v,m)=>{if(g&&S(l,g),v)for(let y=0;y<v.length;y++)S(l,v[y]);if(m){let y=m.subTree;if(f===y||isSuspense(y.type)&&(y.ssContent===f||y.ssFallback===f)){const P=m.vnode;G(l,P,P.scopeId,P.slotScopeIds,m.parent)}}},k=(l,f,g,v,m,y,P,I,T=0)=>{for(let _=T;_<l.length;_++){const $=l[_]=I?cloneIfMounted(l[_]):normalizeVNode(l[_]);E(null,$,f,g,v,m,y,P,I)}},B=(l,f,g,v,m,y,P)=>{const I=f.el=l.el;let{patchFlag:T,dynamicChildren:_,dirs:$}=f;T|=l.patchFlag&16;const w=l.props||EMPTY_OBJ,O=f.props||EMPTY_OBJ;let M;if(g&&toggleRecurse(g,!1),(M=O.onVnodeBeforeUpdate)&&invokeVNodeHook(M,g,f,l),$&&invokeDirectiveHook(f,l,g,"beforeUpdate"),g&&toggleRecurse(g,!0),(w.innerHTML&&O.innerHTML==null||w.textContent&&O.textContent==null)&&u(I,""),_?U(l.dynamicChildren,_,I,g,v,resolveChildrenNamespace(f,m),y):P||K(l,f,I,null,g,v,resolveChildrenNamespace(f,m),y,!1),T>0){if(T&16)X(I,w,O,g,m);else if(T&2&&w.class!==O.class&&o(I,"class",null,O.class,m),T&4&&o(I,"style",w.style,O.style,m),T&8){const F=f.dynamicProps;for(let z=0;z<F.length;z++){const j=F[z],q=w[j],Y=O[j];(Y!==q||j==="value")&&o(I,j,q,Y,m,g)}}T&1&&l.children!==f.children&&u(I,f.children)}else!P&&_==null&&X(I,w,O,g,m);((M=O.onVnodeUpdated)||$)&&queuePostRenderEffect(()=>{M&&invokeVNodeHook(M,g,f,l),$&&invokeDirectiveHook(f,l,g,"updated")},v)},U=(l,f,g,v,m,y,P)=>{for(let I=0;I<f.length;I++){const T=l[I],_=f[I],$=T.el&&(T.type===Fragment||!isSameVNodeType(T,_)||T.shapeFlag&70)?h(T.el):g;E(T,_,$,null,v,m,y,P,!0)}},X=(l,f,g,v,m)=>{if(f!==g){if(f!==EMPTY_OBJ)for(const y in f)!isReservedProp(y)&&!(y in g)&&o(l,y,f[y],null,m,v);for(const y in g){if(isReservedProp(y))continue;const P=g[y],I=f[y];P!==I&&y!=="value"&&o(l,y,I,P,m,v)}"value"in g&&o(l,"value",f.value,g.value,m)}},Z=(l,f,g,v,m,y,P,I,T)=>{const _=f.el=l?l.el:a(""),$=f.anchor=l?l.anchor:a("");let{patchFlag:w,dynamicChildren:O,slotScopeIds:M}=f;M&&(I=I?I.concat(M):M),l==null?(r(_,g,v),r($,g,v),k(f.children||[],g,$,m,y,P,I,T)):w>0&&w&64&&O&&l.dynamicChildren?(U(l.dynamicChildren,O,g,m,y,P,I),(f.key!=null||m&&f===m.subTree)&&traverseStaticChildren(l,f,!0)):K(l,f,g,$,m,y,P,I,T)},re=(l,f,g,v,m,y,P,I,T)=>{f.slotScopeIds=I,l==null?f.shapeFlag&512?m.ctx.activate(f,g,v,P,T):ie(f,g,v,m,y,P,T):ue(l,f,T)},ie=(l,f,g,v,m,y,P)=>{const I=l.component=createComponentInstance(l,v,m);if(isKeepAlive(l)&&(I.ctx.renderer=ce),setupComponent(I,!1,P),I.asyncDep){if(m&&m.registerDep(I,W,P),!l.el){const T=I.subTree=createVNode(Comment);R(null,T,f,g)}}else W(I,l,f,g,m,y,P)},ue=(l,f,g)=>{const v=f.component=l.component;if(shouldUpdateComponent(l,f,g))if(v.asyncDep&&!v.asyncResolved){V(v,f,g);return}else v.next=f,v.update();else f.el=l.el,v.vnode=f},W=(l,f,g,v,m,y,P)=>{const I=()=>{if(l.isMounted){let{next:w,bu:O,u:M,parent:F,vnode:z}=l;{const te=locateNonHydratedAsyncRoot(l);if(te){w&&(w.el=z.el,V(l,w,P)),te.asyncDep.then(()=>{l.isUnmounted||I()});return}}let j=w,q;toggleRecurse(l,!1),w?(w.el=z.el,V(l,w,P)):w=z,O&&invokeArrayFns(O),(q=w.props&&w.props.onVnodeBeforeUpdate)&&invokeVNodeHook(q,F,w,z),toggleRecurse(l,!0);const Y=renderComponentRoot(l),ee=l.subTree;l.subTree=Y,E(ee,Y,h(ee.el),de(ee),l,m,y),w.el=Y.el,j===null&&updateHOCHostEl(l,Y.el),M&&queuePostRenderEffect(M,m),(q=w.props&&w.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(q,F,w,z),m)}else{let w;const{el:O,props:M}=f,{bm:F,m:z,parent:j,root:q,type:Y}=l,ee=isAsyncWrapper(f);toggleRecurse(l,!1),F&&invokeArrayFns(F),!ee&&(w=M&&M.onVnodeBeforeMount)&&invokeVNodeHook(w,j,f),toggleRecurse(l,!0);{q.ce&&q.ce._injectChildStyle(Y);const te=l.subTree=renderComponentRoot(l);E(null,te,g,v,l,m,y),f.el=te.el}if(z&&queuePostRenderEffect(z,m),!ee&&(w=M&&M.onVnodeMounted)){const te=f;queuePostRenderEffect(()=>invokeVNodeHook(w,j,te),m)}(f.shapeFlag&256||j&&isAsyncWrapper(j.vnode)&&j.vnode.shapeFlag&256)&&l.a&&queuePostRenderEffect(l.a,m),l.isMounted=!0,f=g=v=null}};l.scope.on();const T=l.effect=new ReactiveEffect(I);l.scope.off();const _=l.update=T.run.bind(T),$=l.job=T.runIfDirty.bind(T);$.i=l,$.id=l.uid,T.scheduler=()=>queueJob($),toggleRecurse(l,!0),_()},V=(l,f,g)=>{f.component=l;const v=l.vnode.props;l.vnode=f,l.next=null,updateProps(l,f.props,v,g),updateSlots(l,f.children,g),pauseTracking(),flushPreFlushCbs(l),resetTracking()},K=(l,f,g,v,m,y,P,I,T=!1)=>{const _=l&&l.children,$=l?l.shapeFlag:0,w=f.children,{patchFlag:O,shapeFlag:M}=f;if(O>0){if(O&128){fe(_,w,g,v,m,y,P,I,T);return}else if(O&256){se(_,w,g,v,m,y,P,I,T);return}}M&8?($&16&&ae(_,m,y),w!==_&&u(g,w)):$&16?M&16?fe(_,w,g,v,m,y,P,I,T):ae(_,m,y,!0):($&8&&u(g,""),M&16&&k(w,g,v,m,y,P,I,T))},se=(l,f,g,v,m,y,P,I,T)=>{l=l||EMPTY_ARR,f=f||EMPTY_ARR;const _=l.length,$=f.length,w=Math.min(_,$);let O;for(O=0;O<w;O++){const M=f[O]=T?cloneIfMounted(f[O]):normalizeVNode(f[O]);E(l[O],M,g,null,m,y,P,I,T)}_>$?ae(l,m,y,!0,!1,w):k(f,g,v,m,y,P,I,T,w)},fe=(l,f,g,v,m,y,P,I,T)=>{let _=0;const $=f.length;let w=l.length-1,O=$-1;for(;_<=w&&_<=O;){const M=l[_],F=f[_]=T?cloneIfMounted(f[_]):normalizeVNode(f[_]);if(isSameVNodeType(M,F))E(M,F,g,null,m,y,P,I,T);else break;_++}for(;_<=w&&_<=O;){const M=l[w],F=f[O]=T?cloneIfMounted(f[O]):normalizeVNode(f[O]);if(isSameVNodeType(M,F))E(M,F,g,null,m,y,P,I,T);else break;w--,O--}if(_>w){if(_<=O){const M=O+1,F=M<$?f[M].el:v;for(;_<=O;)E(null,f[_]=T?cloneIfMounted(f[_]):normalizeVNode(f[_]),g,F,m,y,P,I,T),_++}}else if(_>O)for(;_<=w;)Q(l[_],m,y,!0),_++;else{const M=_,F=_,z=new Map;for(_=F;_<=O;_++){const J=f[_]=T?cloneIfMounted(f[_]):normalizeVNode(f[_]);J.key!=null&&z.set(J.key,_)}let j,q=0;const Y=O-F+1;let ee=!1,te=0;const le=new Array(Y);for(_=0;_<Y;_++)le[_]=0;for(_=M;_<=w;_++){const J=l[_];if(q>=Y){Q(J,m,y,!0);continue}let ne;if(J.key!=null)ne=z.get(J.key);else for(j=F;j<=O;j++)if(le[j-F]===0&&isSameVNodeType(J,f[j])){ne=j;break}ne===void 0?Q(J,m,y,!0):(le[ne-F]=_+1,ne>=te?te=ne:ee=!0,E(J,f[ne],g,null,m,y,P,I,T),q++)}const me=ee?getSequence(le):EMPTY_ARR;for(j=me.length-1,_=Y-1;_>=0;_--){const J=F+_,ne=f[J],be=J+1<$?f[J+1].el:v;le[_]===0?E(null,ne,g,be,m,y,P,I,T):ee&&(j<0||_!==me[j]?oe(ne,g,be,2):j--)}}},oe=(l,f,g,v,m=null)=>{const{el:y,type:P,transition:I,children:T,shapeFlag:_}=l;if(_&6){oe(l.component.subTree,f,g,v);return}if(_&128){l.suspense.move(f,g,v);return}if(_&64){P.move(l,f,g,ce);return}if(P===Fragment){r(y,f,g);for(let w=0;w<T.length;w++)oe(T[w],f,g,v);r(l.anchor,f,g);return}if(P===Static){D(l,f,g);return}if(v!==2&&_&1&&I)if(v===0)I.beforeEnter(y),r(y,f,g),queuePostRenderEffect(()=>I.enter(y),m);else{const{leave:w,delayLeave:O,afterLeave:M}=I,F=()=>r(y,f,g),z=()=>{w(y,()=>{F(),M&&M()})};O?O(y,F,z):z()}else r(y,f,g)},Q=(l,f,g,v=!1,m=!1)=>{const{type:y,props:P,ref:I,children:T,dynamicChildren:_,shapeFlag:$,patchFlag:w,dirs:O,cacheIndex:M}=l;if(w===-2&&(m=!1),I!=null&&setRef(I,null,g,l,!0),M!=null&&(f.renderCache[M]=void 0),$&256){f.ctx.deactivate(l);return}const F=$&1&&O,z=!isAsyncWrapper(l);let j;if(z&&(j=P&&P.onVnodeBeforeUnmount)&&invokeVNodeHook(j,f,l),$&6)_e(l.component,g,v);else{if($&128){l.suspense.unmount(g,v);return}F&&invokeDirectiveHook(l,null,f,"beforeUnmount"),$&64?l.type.remove(l,f,g,ce,v):_&&!_.hasOnce&&(y!==Fragment||w>0&&w&64)?ae(_,f,g,!1,!0):(y===Fragment&&w&384||!m&&$&16)&&ae(T,f,g),v&&he(l)}(z&&(j=P&&P.onVnodeUnmounted)||F)&&queuePostRenderEffect(()=>{j&&invokeVNodeHook(j,f,l),F&&invokeDirectiveHook(l,null,f,"unmounted")},g)},he=l=>{const{type:f,el:g,anchor:v,transition:m}=l;if(f===Fragment){ve(g,v);return}if(f===Static){N(l);return}const y=()=>{s(g),m&&!m.persisted&&m.afterLeave&&m.afterLeave()};if(l.shapeFlag&1&&m&&!m.persisted){const{leave:P,delayLeave:I}=m,T=()=>P(g,y);I?I(l.el,y,T):T()}else y()},ve=(l,f)=>{let g;for(;l!==f;)g=b(l),s(l),l=g;s(f)},_e=(l,f,g)=>{const{bum:v,scope:m,job:y,subTree:P,um:I,m:T,a:_}=l;invalidateMount(T),invalidateMount(_),v&&invokeArrayFns(v),m.stop(),y&&(y.flags|=8,Q(P,l,f,g)),I&&queuePostRenderEffect(I,f),queuePostRenderEffect(()=>{l.isUnmounted=!0},f),f&&f.pendingBranch&&!f.isUnmounted&&l.asyncDep&&!l.asyncResolved&&l.suspenseId===f.pendingId&&(f.deps--,f.deps===0&&f.resolve())},ae=(l,f,g,v=!1,m=!1,y=0)=>{for(let P=y;P<l.length;P++)Q(l[P],f,g,v,m)},de=l=>{if(l.shapeFlag&6)return de(l.component.subTree);if(l.shapeFlag&128)return l.suspense.next();const f=b(l.anchor||l.el),g=f&&f[TeleportEndKey];return g?b(g):f};let pe=!1;const ge=(l,f,g)=>{l==null?f._vnode&&Q(f._vnode,null,null,!0):E(f._vnode||null,l,f,null,null,null,g),f._vnode=l,pe||(pe=!0,flushPreFlushCbs(),flushPostFlushCbs(),pe=!1)},ce={p:E,um:Q,m:oe,r:he,mt:ie,mc:k,pc:K,pbc:U,n:de,o:e};return{render:ge,hydrate:void 0,createApp:createAppAPI(ge)}}function resolveChildrenNamespace({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function toggleRecurse({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function needTransition(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function traverseStaticChildren(e,t,n=!1){const r=e.children,s=t.children;if(isArray$1(r)&&isArray$1(s))for(let o=0;o<r.length;o++){const i=r[o];let a=s[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[o]=cloneIfMounted(s[o]),a.el=i.el),!n&&a.patchFlag!==-2&&traverseStaticChildren(i,a)),a.type===Text&&(a.el=i.el)}}function getSequence(e){const t=e.slice(),n=[0];let r,s,o,i,a;const c=e.length;for(r=0;r<c;r++){const d=e[r];if(d!==0){if(s=n[n.length-1],e[s]<d){t[r]=s,n.push(r);continue}for(o=0,i=n.length-1;o<i;)a=o+i>>1,e[n[a]]<d?o=a+1:i=a;d<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,i=n[o-1];o-- >0;)n[o]=i,i=t[i];return n}function locateNonHydratedAsyncRoot(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:locateNonHydratedAsyncRoot(t)}function invalidateMount(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function watchEffect(e,t){return doWatch(e,null,t)}function watch(e,t,n){return doWatch(e,t,n)}function doWatch(e,t,n=EMPTY_OBJ){const{immediate:r,deep:s,flush:o,once:i}=n,a=extend({},n),c=t&&r||!t&&o!=="post";let d;if(isInSSRComponentSetup){if(o==="sync"){const S=useSSRContext();d=S.__watcherHandles||(S.__watcherHandles=[])}else if(!c){const S=()=>{};return S.stop=NOOP,S.resume=NOOP,S.pause=NOOP,S}}const u=currentInstance;a.call=(S,x,E)=>callWithAsyncErrorHandling(S,u,x,E);let h=!1;o==="post"?a.scheduler=S=>{queuePostRenderEffect(S,u&&u.suspense)}:o!=="sync"&&(h=!0,a.scheduler=(S,x)=>{x?S():queueJob(S)}),a.augmentJob=S=>{t&&(S.flags|=4),h&&(S.flags|=2,u&&(S.id=u.uid,S.i=u))};const b=watch$1(e,t,a);return isInSSRComponentSetup&&(d?d.push(b):c&&b()),b}function instanceWatch(e,t,n){const r=this.proxy,s=isString(e)?e.includes(".")?createPathGetter(r,e):()=>r[e]:e.bind(r,r);let o;isFunction$1(t)?o=t:(o=t.handler,n=t);const i=setCurrentInstance(this),a=doWatch(s,o.bind(r),n);return i(),a}function createPathGetter(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const getModelModifiers=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${camelize(t)}Modifiers`]||e[`${hyphenate(t)}Modifiers`];function emit(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||EMPTY_OBJ;let s=n;const o=t.startsWith("update:"),i=o&&getModelModifiers(r,t.slice(7));i&&(i.trim&&(s=n.map(u=>isString(u)?u.trim():u)),i.number&&(s=n.map(looseToNumber)));let a,c=r[a=toHandlerKey(t)]||r[a=toHandlerKey(camelize(t))];!c&&o&&(c=r[a=toHandlerKey(hyphenate(t))]),c&&callWithAsyncErrorHandling(c,e,6,s);const d=r[a+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,callWithAsyncErrorHandling(d,e,6,s)}}function normalizeEmitsOptions(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const o=e.emits;let i={},a=!1;if(!isFunction$1(e)){const c=d=>{const u=normalizeEmitsOptions(d,t,!0);u&&(a=!0,extend(i,u))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!o&&!a?(isObject$1(e)&&r.set(e,null),null):(isArray$1(o)?o.forEach(c=>i[c]=null):extend(i,o),isObject$1(e)&&r.set(e,i),i)}function isEmitListener(e,t){return!e||!isOn(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn(e,t[0].toLowerCase()+t.slice(1))||hasOwn(e,hyphenate(t))||hasOwn(e,t))}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[o],slots:i,attrs:a,emit:c,render:d,renderCache:u,props:h,data:b,setupState:S,ctx:x,inheritAttrs:E}=e,A=setCurrentRenderingInstance(e);let R,H;try{if(n.shapeFlag&4){const N=s||r,C=N;R=normalizeVNode(d.call(C,N,u,h,S,b,x)),H=a}else{const N=t;R=normalizeVNode(N.length>1?N(h,{attrs:a,slots:i,emit:c}):N(h,null)),H=t.props?a:getFunctionalFallthrough(a)}}catch(N){blockStack.length=0,handleError(N,e,1),R=createVNode(Comment)}let D=R;if(H&&E!==!1){const N=Object.keys(H),{shapeFlag:C}=D;N.length&&C&7&&(o&&N.some(isModelListener)&&(H=filterModelListeners(H,o)),D=cloneVNode(D,H,!1,!0))}return n.dirs&&(D=cloneVNode(D,null,!1,!0),D.dirs=D.dirs?D.dirs.concat(n.dirs):n.dirs),n.transition&&setTransitionHooks(D,n.transition),R=D,setCurrentRenderingInstance(A),R}const getFunctionalFallthrough=e=>{let t;for(const n in e)(n==="class"||n==="style"||isOn(n))&&((t||(t={}))[n]=e[n]);return t},filterModelListeners=(e,t)=>{const n={};for(const r in e)(!isModelListener(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function shouldUpdateComponent(e,t,n){const{props:r,children:s,component:o}=e,{props:i,children:a,patchFlag:c}=t,d=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?hasPropsChanged(r,i,d):!!i;if(c&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const b=u[h];if(i[b]!==r[b]&&!isEmitListener(d,b))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===i?!1:r?i?hasPropsChanged(r,i,d):!0:!!i;return!1}function hasPropsChanged(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const o=r[s];if(t[o]!==e[o]&&!isEmitListener(n,o))return!0}return!1}function updateHOCHostEl({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const isSuspense=e=>e.__isSuspense;function queueEffectWithSuspense(e,t){t&&t.pendingBranch?isArray$1(e)?t.effects.push(...e):t.effects.push(e):queuePostFlushCb(e)}const Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e,t=!1){isBlockTreeEnabled+=e,e<0&&currentBlock&&t&&(currentBlock.hasOnce=!0)}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,t,n,r,s,o){return setupBlock(createBaseVNode(e,t,n,r,s,o,!0))}function createBlock(e,t,n,r,s){return setupBlock(createVNode(e,t,n,r,s,!0))}function isVNode(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,t){return e.type===t.type&&e.key===t.key}const normalizeKey=({key:e})=>e??null,normalizeRef=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?isString(e)||isRef(e)||isFunction$1(e)?{i:currentRenderingInstance,r:e,k:t,f:!!n}:e:null);function createBaseVNode(e,t=null,n=null,r=0,s=null,o=e===Fragment?0:1,i=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return a?(normalizeChildren(c,n),o&128&&e.normalize(c)):n&&(c.shapeFlag|=isString(n)?8:16),isBlockTreeEnabled>0&&!i&&currentBlock&&(c.patchFlag>0||o&6)&&c.patchFlag!==32&&currentBlock.push(c),c}const createVNode=_createVNode;function _createVNode(e,t=null,n=null,r=0,s=null,o=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e=Comment),isVNode(e)){const a=cloneVNode(e,t,!0);return n&&normalizeChildren(a,n),isBlockTreeEnabled>0&&!o&&currentBlock&&(a.shapeFlag&6?currentBlock[currentBlock.indexOf(e)]=a:currentBlock.push(a)),a.patchFlag=-2,a}if(isClassComponent(e)&&(e=e.__vccOpts),t){t=guardReactiveProps(t);let{class:a,style:c}=t;a&&!isString(a)&&(t.class=normalizeClass(a)),isObject$1(c)&&(isProxy(c)&&!isArray$1(c)&&(c=extend({},c)),t.style=normalizeStyle(c))}const i=isString(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject$1(e)?4:isFunction$1(e)?2:0;return createBaseVNode(e,t,n,r,s,i,o,!0)}function guardReactiveProps(e){return e?isProxy(e)||isInternalObject(e)?extend({},e):e:null}function cloneVNode(e,t,n=!1,r=!1){const{props:s,ref:o,patchFlag:i,children:a,transition:c}=e,d=t?mergeProps(s||{},t):s,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&normalizeKey(d),ref:t&&t.ref?n&&o?isArray$1(o)?o.concat(normalizeRef(t)):[o,normalizeRef(t)]:normalizeRef(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fragment?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&r&&setTransitionHooks(u,c.clone(u)),u}function createTextVNode(e=" ",t=0){return createVNode(Text,null,e,t)}function createCommentVNode(e="",t=!1){return t?(openBlock(),createBlock(Comment,null,e)):createVNode(Comment,null,e)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray$1(e)?createVNode(Fragment,null,e.slice()):isVNode(e)?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cloneVNode(e)}function normalizeChildren(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(isArray$1(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),normalizeChildren(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!isInternalObject(t)?t._ctx=currentRenderingInstance:s===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else isFunction$1(t)?(t={default:t,_ctx:currentRenderingInstance},n=32):(t=String(t),r&64?(n=16,t=[createTextVNode(t)]):n=8);e.children=t,e.shapeFlag|=n}function mergeProps(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=normalizeClass([t.class,r.class]));else if(s==="style")t.style=normalizeStyle([t.style,r.style]);else if(isOn(s)){const o=t[s],i=r[s];i&&o!==i&&!(isArray$1(o)&&o.includes(i))&&(t[s]=o?[].concat(o,i):i)}else s!==""&&(t[s]=r[s])}return t}function invokeVNodeHook(e,t,n,r=null){callWithAsyncErrorHandling(e,t,7,[n,r])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||emptyAppContext,o={uid:uid++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(r,s),emitsOptions:normalizeEmitsOptions(r,s),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:r.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=emit.bind(null,o),e.ce&&e.ce(o),o}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,setInSSRSetupState;{const e=getGlobalThis(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),o=>{s.length>1?s.forEach(i=>i(o)):s[0](o)}};internalSetCurrentInstance=t("__VUE_INSTANCE_SETTERS__",n=>currentInstance=n),setInSSRSetupState=t("__VUE_SSR_SETTERS__",n=>isInSSRComponentSetup=n)}const setCurrentInstance=e=>{const t=currentInstance;return internalSetCurrentInstance(e),e.scope.on(),()=>{e.scope.off(),internalSetCurrentInstance(t)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,t=!1,n=!1){t&&setInSSRSetupState(t);const{props:r,children:s}=e.vnode,o=isStatefulComponent(e);initProps(e,r,o,t),initSlots(e,s,n);const i=o?setupStatefulComponent(e,t):void 0;return t&&setInSSRSetupState(!1),i}function setupStatefulComponent(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,PublicInstanceProxyHandlers);const{setup:r}=n;if(r){pauseTracking();const s=e.setupContext=r.length>1?createSetupContext(e):null,o=setCurrentInstance(e),i=callWithErrorHandling(r,e,0,[e.props,s]),a=isPromise(i);if(resetTracking(),o(),(a||e.sp)&&!isAsyncWrapper(e)&&markAsyncBoundary(e),a){if(i.then(unsetCurrentInstance,unsetCurrentInstance),t)return i.then(c=>{handleSetupResult(e,c)}).catch(c=>{handleError(c,e,0)});e.asyncDep=i}else handleSetupResult(e,i)}else finishComponentSetup(e)}function handleSetupResult(e,t,n){isFunction$1(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:isObject$1(t)&&(e.setupState=proxyRefs(t)),finishComponentSetup(e)}function finishComponentSetup(e,t,n){const r=e.type;e.render||(e.render=r.render||NOOP);{const s=setCurrentInstance(e);pauseTracking();try{applyOptions(e)}finally{resetTracking(),s()}}}const attrsProxyHandlers={get(e,t){return track(e,"get",""),e[t]}};function createSetupContext(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,attrsProxyHandlers),slots:e.slots,emit:e.emit,expose:t}}function getComponentPublicInstance(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in publicPropertiesMap)return publicPropertiesMap[n](e)},has(t,n){return n in t||n in publicPropertiesMap}})):e.proxy}const classifyRE=/(?:^|[-_])(\w)/g,classify=e=>e.replace(classifyRE,t=>t.toUpperCase()).replace(/[-_]/g,"");function getComponentName(e,t=!0){return isFunction$1(e)?e.displayName||e.name:e.name||t&&e.__name}function formatComponentName(e,t,n=!1){let r=getComponentName(t);if(!r&&t.__file){const s=t.__file.match(/([^/\\]+)\.\w+$/);s&&(r=s[1])}if(!r&&e&&e.parent){const s=o=>{for(const i in o)if(o[i]===t)return i};r=s(e.components||e.parent.type.components)||s(e.appContext.components)}return r?classify(r):n?"App":"Anonymous"}function isClassComponent(e){return isFunction$1(e)&&"__vccOpts"in e}const computed=(e,t)=>computed$1(e,t,isInSSRComponentSetup),version="3.5.13",warn=NOOP;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let policy;const tt=typeof window<"u"&&window.trustedTypes;if(tt)try{policy=tt.createPolicy("vue",{createHTML:e=>e})}catch{}const unsafeToTrustedHTML=policy?e=>policy.createHTML(e):e=>e,svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?doc.createElementNS(svgNS,e):t==="mathml"?doc.createElementNS(mathmlNS,e):n?doc.createElement(e,{is:n}):doc.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,o){const i=n?n.previousSibling:t.lastChild;if(s&&(s===o||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{templateContainer.innerHTML=unsafeToTrustedHTML(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=templateContainer.content;if(r==="svg"||r==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},vtcKey=Symbol("_vtc");function patchClass(e,t,n){const r=e[vtcKey];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),CSS_VAR_TEXT=Symbol(""),displayRE=/(^|;)\s*display\s*:/;function patchStyle(e,t,n){const r=e.style,s=isString(n);let o=!1;if(n&&!s){if(t)if(isString(t))for(const i of t.split(";")){const a=i.slice(0,i.indexOf(":")).trim();n[a]==null&&setStyle(r,a,"")}else for(const i in t)n[i]==null&&setStyle(r,i,"");for(const i in n)i==="display"&&(o=!0),setStyle(r,i,n[i])}else if(s){if(t!==n){const i=r[CSS_VAR_TEXT];i&&(n+=";"+i),r.cssText=n,o=displayRE.test(n)}}else t&&e.removeAttribute("style");vShowOriginalDisplay in e&&(e[vShowOriginalDisplay]=o?r.display:"",e[vShowHidden]&&(r.display="none"))}const importantRE=/\s*!important$/;function setStyle(e,t,n){if(isArray$1(n))n.forEach(r=>setStyle(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=autoPrefix(e,t);importantRE.test(n)?e.setProperty(hyphenate(r),n.replace(importantRE,""),"important"):e[r]=n}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,t){const n=prefixCache[t];if(n)return n;let r=camelize(t);if(r!=="filter"&&r in e)return prefixCache[t]=r;r=capitalize(r);for(let s=0;s<prefixes.length;s++){const o=prefixes[s]+r;if(o in e)return prefixCache[t]=o}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,t,n,r,s,o=isSpecialBooleanAttr(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(xlinkNS,t.slice(6,t.length)):e.setAttributeNS(xlinkNS,t,n):n==null||o&&!includeBooleanAttr(n)?e.removeAttribute(t):e.setAttribute(t,o?"":isSymbol$1(n)?String(n):n)}function patchDOMProp(e,t,n,r,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?unsafeToTrustedHTML(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(a!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let i=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=includeBooleanAttr(n):n==null&&a==="string"?(n="",i=!0):a==="number"&&(n=0,i=!0)}try{e[t]=n}catch{}i&&e.removeAttribute(s||t)}function addEventListener(e,t,n,r){e.addEventListener(t,n,r)}function removeEventListener(e,t,n,r){e.removeEventListener(t,n,r)}const veiKey=Symbol("_vei");function patchEvent(e,t,n,r,s=null){const o=e[veiKey]||(e[veiKey]={}),i=o[t];if(r&&i)i.value=r;else{const[a,c]=parseName(t);if(r){const d=o[t]=createInvoker(r,s);addEventListener(e,a,d,c)}else i&&(removeEventListener(e,a,i,c),o[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let t;if(optionsModifierRE.test(e)){t={};let r;for(;r=e.match(optionsModifierRE);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hyphenate(e.slice(2)),t]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(r,n.value),t,5,[r])};return n.value=e,n.attached=getNow(),n}function patchStopImmediatePropagation(e,t){if(isArray$1(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const isNativeOn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,patchProp=(e,t,n,r,s,o)=>{const i=s==="svg";t==="class"?patchClass(e,r,i):t==="style"?patchStyle(e,n,r):isOn(t)?isModelListener(t)||patchEvent(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(e,t,r,i))?(patchDOMProp(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&patchAttr(e,t,r,i,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!isString(r))?patchDOMProp(e,camelize(t),r,o,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),patchAttr(e,t,r,i))};function shouldSetAsProp(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&isNativeOn(t)&&isFunction$1(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return isNativeOn(t)&&isString(n)?!1:t in e}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>systemModifiers.some(n=>e[`${n}Key`]&&!t.includes(n))},withModifiers=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(s,...o)=>{for(let i=0;i<t.length;i++){const a=modifierGuards[t[i]];if(a&&a(s,t))return}return e(s,...o)})},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const o=hyphenate(s.key);if(t.some(i=>i===o||keyNames[i]===o))return e(s)})},rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...e)=>{const t=ensureRenderer().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=normalizeContainer(r);if(!s)return;const o=t._component;!isFunction$1(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const i=n(s,!1,resolveRootNamespace(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),i},t};function resolveRootNamespace(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function normalizeContainer(e){return isString(e)?document.querySelector(e):e}/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let activePinia;const setActivePinia=e=>activePinia=e,piniaSymbol=Symbol();function isPlainObject(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var MutationType;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const e=effectScope(!0),t=e.run(()=>ref({}));let n=[],r=[];const s=markRaw({install(o){setActivePinia(s),s._a=o,o.provide(piniaSymbol,s),o.config.globalProperties.$pinia=s,r.forEach(i=>n.push(i)),r=[]},use(o){return this._a?n.push(o):r.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const noop=()=>{};function addSubscription(e,t,n,r=noop){e.push(t);const s=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),r())};return!n&&getCurrentScope()&&onScopeDispose(s),s}function triggerSubscriptions(e,...t){e.slice().forEach(n=>{n(...t)})}const fallbackRunWithContext=e=>e(),ACTION_MARKER=Symbol(),ACTION_NAME=Symbol();function mergeReactiveObjects(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,r)=>e.set(r,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],s=e[n];isPlainObject(s)&&isPlainObject(r)&&e.hasOwnProperty(n)&&!isRef(r)&&!isReactive(r)?e[n]=mergeReactiveObjects(s,r):e[n]=r}return e}const skipHydrateSymbol=Symbol();function shouldHydrate(e){return!isPlainObject(e)||!e.hasOwnProperty(skipHydrateSymbol)}const{assign}=Object;function isComputed(e){return!!(isRef(e)&&e.effect)}function createOptionsStore(e,t,n,r){const{state:s,actions:o,getters:i}=t,a=n.state.value[e];let c;function d(){a||(n.state.value[e]=s?s():{});const u=toRefs(n.state.value[e]);return assign(u,o,Object.keys(i||{}).reduce((h,b)=>(h[b]=markRaw(computed(()=>{setActivePinia(n);const S=n._s.get(e);return i[b].call(S,S)})),h),{}))}return c=createSetupStore(e,d,t,n,r,!0),c}function createSetupStore(e,t,n={},r,s,o){let i;const a=assign({actions:{}},n),c={deep:!0};let d,u,h=[],b=[],S;const x=r.state.value[e];!o&&!x&&(r.state.value[e]={}),ref({});let E;function A(k){let B;d=u=!1,typeof k=="function"?(k(r.state.value[e]),B={type:MutationType.patchFunction,storeId:e,events:S}):(mergeReactiveObjects(r.state.value[e],k),B={type:MutationType.patchObject,payload:k,storeId:e,events:S});const U=E=Symbol();nextTick().then(()=>{E===U&&(d=!0)}),u=!0,triggerSubscriptions(h,B,r.state.value[e])}const R=o?function(){const{state:B}=n,U=B?B():{};this.$patch(X=>{assign(X,U)})}:noop;function H(){i.stop(),h=[],b=[],r._s.delete(e)}const D=(k,B="")=>{if(ACTION_MARKER in k)return k[ACTION_NAME]=B,k;const U=function(){setActivePinia(r);const X=Array.from(arguments),Z=[],re=[];function ie(V){Z.push(V)}function ue(V){re.push(V)}triggerSubscriptions(b,{args:X,name:U[ACTION_NAME],store:C,after:ie,onError:ue});let W;try{W=k.apply(this&&this.$id===e?this:C,X)}catch(V){throw triggerSubscriptions(re,V),V}return W instanceof Promise?W.then(V=>(triggerSubscriptions(Z,V),V)).catch(V=>(triggerSubscriptions(re,V),Promise.reject(V))):(triggerSubscriptions(Z,W),W)};return U[ACTION_MARKER]=!0,U[ACTION_NAME]=B,U},N={_p:r,$id:e,$onAction:addSubscription.bind(null,b),$patch:A,$reset:R,$subscribe(k,B={}){const U=addSubscription(h,k,B.detached,()=>X()),X=i.run(()=>watch(()=>r.state.value[e],Z=>{(B.flush==="sync"?u:d)&&k({storeId:e,type:MutationType.direct,events:S},Z)},assign({},c,B)));return U},$dispose:H},C=reactive(N);r._s.set(e,C);const G=(r._a&&r._a.runWithContext||fallbackRunWithContext)(()=>r._e.run(()=>(i=effectScope()).run(()=>t({action:D}))));for(const k in G){const B=G[k];if(isRef(B)&&!isComputed(B)||isReactive(B))o||(x&&shouldHydrate(B)&&(isRef(B)?B.value=x[k]:mergeReactiveObjects(B,x[k])),r.state.value[e][k]=B);else if(typeof B=="function"){const U=D(B,k);G[k]=U,a.actions[k]=B}}return assign(C,G),assign(toRaw(C),G),Object.defineProperty(C,"$state",{get:()=>r.state.value[e],set:k=>{A(B=>{assign(B,k)})}}),r._p.forEach(k=>{assign(C,i.run(()=>k({store:C,app:r._a,pinia:r,options:a})))}),x&&o&&n.hydrate&&n.hydrate(C.$state,x),d=!0,u=!0,C}/*! #__NO_SIDE_EFFECTS__ */function defineStore(e,t,n){let r,s;const o=typeof t=="function";typeof e=="string"?(r=e,s=o?n:t):(s=e,r=e.id);function i(a,c){const d=hasInjectionContext();return a=a||(d?inject(piniaSymbol,null):null),a&&setActivePinia(a),a=activePinia,a._s.has(r)||(o?createSetupStore(r,t,s,a):createOptionsStore(r,s,a)),a._s.get(r)}return i.$id=r,i}const configProviderContextKey=Symbol(),defaultNamespace="el",statePrefix="is-",_bem=(e,t,n,r,s)=>{let o=`${e}-${t}`;return n&&(o+=`-${n}`),r&&(o+=`__${r}`),s&&(o+=`--${s}`),o},namespaceContextKey=Symbol("namespaceContextKey"),useGetDerivedNamespace=e=>{const t=getCurrentInstance()?inject(namespaceContextKey,ref(defaultNamespace)):ref(defaultNamespace);return computed(()=>unref(t)||defaultNamespace)},useNamespace=(e,t)=>{const n=useGetDerivedNamespace();return{namespace:n,b:(E="")=>_bem(n.value,e,E,"",""),e:E=>E?_bem(n.value,e,"",E,""):"",m:E=>E?_bem(n.value,e,"","",E):"",be:(E,A)=>E&&A?_bem(n.value,e,E,A,""):"",em:(E,A)=>E&&A?_bem(n.value,e,"",E,A):"",bm:(E,A)=>E&&A?_bem(n.value,e,E,"",A):"",bem:(E,A,R)=>E&&A&&R?_bem(n.value,e,E,A,R):"",is:(E,...A)=>{const R=A.length>=1?A[0]:!0;return E&&R?`${statePrefix}${E}`:""},cssVar:E=>{const A={};for(const R in E)E[R]&&(A[`--${n.value}-${R}`]=E[R]);return A},cssVarName:E=>`--${n.value}-${E}`,cssVarBlock:E=>{const A={};for(const R in E)E[R]&&(A[`--${n.value}-${e}-${R}`]=E[R]);return A},cssVarBlockName:E=>`--${n.value}-${e}-${E}`}};var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root.Symbol,objectProto$6=Object.prototype,hasOwnProperty$5=objectProto$6.hasOwnProperty,nativeObjectToString$1=objectProto$6.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(e){var t=hasOwnProperty$5.call(e,symToStringTag$1),n=e[symToStringTag$1];try{e[symToStringTag$1]=void 0;var r=!0}catch{}var s=nativeObjectToString$1.call(e);return r&&(t?e[symToStringTag$1]=n:delete e[symToStringTag$1]),s}var objectProto$5=Object.prototype,nativeObjectToString=objectProto$5.toString;function objectToString(e){return nativeObjectToString.call(e)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(e){return e==null?e===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(e)?getRawTag(e):objectToString(e)}function isObjectLike(e){return e!=null&&typeof e=="object"}var symbolTag="[object Symbol]";function isSymbol(e){return typeof e=="symbol"||isObjectLike(e)&&baseGetTag(e)==symbolTag}function arrayMap(e,t){for(var n=-1,r=e==null?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}var isArray=Array.isArray,symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function baseToString(e){if(typeof e=="string")return e;if(isArray(e))return arrayMap(e,baseToString)+"";if(isSymbol(e))return symbolToString?symbolToString.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function isObject(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function identity(e){return e}var asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(e){if(!isObject(e))return!1;var t=baseGetTag(e);return t==funcTag||t==genTag||t==asyncTag||t==proxyTag}var coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var e=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function isMasked(e){return!!maskSrcKey&&maskSrcKey in e}var funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource(e){if(e!=null){try{return funcToString$1.call(e)}catch{}try{return e+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$4=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$4=objectProto$4.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$4).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(e){if(!isObject(e)||isMasked(e))return!1;var t=isFunction(e)?reIsNative:reIsHostCtor;return t.test(toSource(e))}function getValue(e,t){return e==null?void 0:e[t]}function getNative(e,t){var n=getValue(e,t);return baseIsNative(n)?n:void 0}function apply(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(e){var t=0,n=0;return function(){var r=nativeNow(),s=HOT_SPAN-(r-n);if(n=r,s>0){if(++t>=HOT_COUNT)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function constant(e){return function(){return e}}var defineProperty=function(){try{var e=getNative(Object,"defineProperty");return e({},"",{}),e}catch{}}(),baseSetToString=defineProperty?function(e,t){return defineProperty(e,"toString",{configurable:!0,enumerable:!1,value:constant(t),writable:!0})}:identity,setToString=shortOut(baseSetToString),MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(e,t){var n=typeof e;return t=t??MAX_SAFE_INTEGER$1,!!t&&(n=="number"||n!="symbol"&&reIsUint.test(e))&&e>-1&&e%1==0&&e<t}function baseAssignValue(e,t,n){t=="__proto__"&&defineProperty?defineProperty(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function eq(e,t){return e===t||e!==e&&t!==t}var objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function assignValue(e,t,n){var r=e[t];(!(hasOwnProperty$3.call(e,t)&&eq(r,n))||n===void 0&&!(t in e))&&baseAssignValue(e,t,n)}var nativeMax=Math.max;function overRest(e,t,n){return t=nativeMax(t===void 0?e.length-1:t,0),function(){for(var r=arguments,s=-1,o=nativeMax(r.length-t,0),i=Array(o);++s<o;)i[s]=r[t+s];s=-1;for(var a=Array(t+1);++s<t;)a[s]=r[s];return a[t]=n(i),apply(e,this,a)}}var MAX_SAFE_INTEGER=9007199254740991;function isLength(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER}var argsTag="[object Arguments]";function baseIsArguments(e){return isObjectLike(e)&&baseGetTag(e)==argsTag}var objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty,propertyIsEnumerable=objectProto$2.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(e){return isObjectLike(e)&&hasOwnProperty$2.call(e,"callee")&&!propertyIsEnumerable.call(e,"callee")},reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(e,t){if(isArray(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||isSymbol(e)?!0:reIsPlainProp.test(e)||!reIsDeepProp.test(e)||t!=null&&e in Object(t)}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var HASH_UNDEFINED$1="__lodash_hash_undefined__",objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function hashGet(e){var t=this.__data__;if(nativeCreate){var n=t[e];return n===HASH_UNDEFINED$1?void 0:n}return hasOwnProperty$1.call(t,e)?t[e]:void 0}var objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function hashHas(e){var t=this.__data__;return nativeCreate?t[e]!==void 0:hasOwnProperty.call(t,e)}var HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=nativeCreate&&t===void 0?HASH_UNDEFINED:t,this}function Hash(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(e,t){for(var n=e.length;n--;)if(eq(e[n][0],t))return n;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(e){var t=this.__data__,n=assocIndexOf(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():splice.call(t,n,1),--this.size,!0}function listCacheGet(e){var t=this.__data__,n=assocIndexOf(t,e);return n<0?void 0:t[n][1]}function listCacheHas(e){return assocIndexOf(this.__data__,e)>-1}function listCacheSet(e,t){var n=this.__data__,r=assocIndexOf(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function ListCache(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function getMapData(e,t){var n=e.__data__;return isKeyable(t)?n[typeof t=="string"?"string":"hash"]:n.map}function mapCacheDelete(e){var t=getMapData(this,e).delete(e);return this.size-=t?1:0,t}function mapCacheGet(e){return getMapData(this,e).get(e)}function mapCacheHas(e){return getMapData(this,e).has(e)}function mapCacheSet(e,t){var n=getMapData(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function MapCache(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT="Expected a function";function memoize(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(FUNC_ERROR_TEXT);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],o=n.cache;if(o.has(s))return o.get(s);var i=e.apply(this,r);return n.cache=o.set(s,i)||o,i};return n.cache=new(memoize.Cache||MapCache),n}memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(e){var t=memoize(e,function(r){return n.size===MAX_MEMOIZE_SIZE&&n.clear(),r}),n=t.cache;return t}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(rePropName,function(n,r,s,o){t.push(s?o.replace(reEscapeChar,"$1"):r||n)}),t});function toString(e){return e==null?"":baseToString(e)}function castPath(e,t){return isArray(e)?e:isKey(e,t)?[e]:stringToPath(toString(e))}function toKey(e){if(typeof e=="string"||isSymbol(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function baseGet(e,t){t=castPath(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[toKey(t[n++])];return n&&n==r?e:void 0}function arrayPush(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}var spreadableSymbol=Symbol$1?Symbol$1.isConcatSpreadable:void 0;function isFlattenable(e){return isArray(e)||isArguments(e)||!!(spreadableSymbol&&e&&e[spreadableSymbol])}function baseFlatten(e,t,n,r,s){var o=-1,i=e.length;for(n||(n=isFlattenable),s||(s=[]);++o<i;){var a=e[o];n(a)?arrayPush(s,a):s[s.length]=a}return s}function flatten(e){var t=e==null?0:e.length;return t?baseFlatten(e):[]}function flatRest(e){return setToString(overRest(e,void 0,flatten),e+"")}function baseHasIn(e,t){return e!=null&&t in Object(e)}function hasPath(e,t,n){t=castPath(t,e);for(var r=-1,s=t.length,o=!1;++r<s;){var i=toKey(t[r]);if(!(o=e!=null&&n(e,i)))break;e=e[i]}return o||++r!=s?o:(s=e==null?0:e.length,!!s&&isLength(s)&&isIndex(i,s)&&(isArray(e)||isArguments(e)))}function hasIn(e,t){return e!=null&&hasPath(e,t,baseHasIn)}function fromPairs(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var s=e[t];r[s[0]]=s[1]}return r}function baseSet(e,t,n,r){if(!isObject(e))return e;t=castPath(t,e);for(var s=-1,o=t.length,i=o-1,a=e;a!=null&&++s<o;){var c=toKey(t[s]),d=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(s!=i){var u=a[c];d=void 0,d===void 0&&(d=isObject(u)?u:isIndex(t[s+1])?[]:{})}assignValue(a,c,d),a=a[c]}return e}function basePickBy(e,t,n){for(var r=-1,s=t.length,o={};++r<s;){var i=t[r],a=baseGet(e,i);n(a,i)&&baseSet(o,castPath(i,e),a)}return o}function basePick(e,t){return basePickBy(e,t,function(n,r){return hasIn(e,r)})}var pick=flatRest(function(e,t){return e==null?{}:basePick(e,t)});const isUndefined=e=>e===void 0,isBoolean=e=>typeof e=="boolean",isNumber=e=>typeof e=="number",isStringNumber=e=>isString(e)?!Number.isNaN(Number(e)):!1;var __defProp$9=Object.defineProperty,__defProps$6=Object.defineProperties,__getOwnPropDescs$6=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$b=Object.getOwnPropertySymbols,__hasOwnProp$b=Object.prototype.hasOwnProperty,__propIsEnum$b=Object.prototype.propertyIsEnumerable,__defNormalProp$9=(e,t,n)=>t in e?__defProp$9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,__spreadValues$9=(e,t)=>{for(var n in t||(t={}))__hasOwnProp$b.call(t,n)&&__defNormalProp$9(e,n,t[n]);if(__getOwnPropSymbols$b)for(var n of __getOwnPropSymbols$b(t))__propIsEnum$b.call(t,n)&&__defNormalProp$9(e,n,t[n]);return e},__spreadProps$6=(e,t)=>__defProps$6(e,__getOwnPropDescs$6(t));function computedEager(e,t){var n;const r=shallowRef();return watchEffect(()=>{r.value=e()},__spreadProps$6(__spreadValues$9({},t),{flush:(n=void 0)!=null?n:"sync"})),readonly(r)}var _a;const isClient=typeof window<"u";isClient&&((_a=window==null?void 0:window.navigator)!=null&&_a.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);class ElementPlusError extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function throwError(e,t){throw new ElementPlusError(`[${e}] ${t}`)}function debugWarn(e,t){}ref(0);const zIndexContextKey=Symbol("zIndexContextKey"),localeContextKey=Symbol("localeContextKey"),epPropKey="__epPropKey",definePropType=e=>e,isEpProp=e=>isObject$1(e)&&!!e[epPropKey],buildProp=(e,t)=>{if(!isObject$1(e)||isEpProp(e))return e;const{values:n,required:r,default:s,type:o,validator:i}=e,c={type:o,required:!!r,validator:n||i?d=>{let u=!1,h=[];if(n&&(h=Array.from(n),hasOwn(e,"default")&&h.push(s),u||(u=h.includes(d))),i&&(u||(u=i(d))),!u&&h.length>0){const b=[...new Set(h)].map(S=>JSON.stringify(S)).join(", ");warn(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${b}], got value ${JSON.stringify(d)}.`)}return u}:void 0,[epPropKey]:!0};return hasOwn(e,"default")&&(c.default=s),c},buildProps=e=>fromPairs(Object.entries(e).map(([t,n])=>[t,buildProp(n,t)])),componentSizes=["","default","small","large"],useSizeProp=buildProp({type:String,values:componentSizes,required:!1}),SIZE_INJECTION_KEY=Symbol("size"),useGlobalSize=()=>{const e=inject(SIZE_INJECTION_KEY,{});return computed(()=>unref(e.size)||"")},emptyValuesContextKey=Symbol("emptyValuesContextKey"),useEmptyValuesProps=buildProps({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:e=>isFunction$1(e)?!e():!e}}),keysOf=e=>Object.keys(e),globalConfig=ref();function useGlobalConfig(e,t=void 0){const n=getCurrentInstance()?inject(configProviderContextKey,globalConfig):globalConfig;return e?computed(()=>{var r,s;return(s=(r=n.value)==null?void 0:r[e])!=null?s:t}):n}const provideGlobalConfig=(e,t,n=!1)=>{var r;const s=!!getCurrentInstance(),o=s?useGlobalConfig():void 0,i=(r=void 0)!=null?r:s?provide:void 0;if(!i)return;const a=computed(()=>{const c=unref(e);return o!=null&&o.value?mergeConfig(o.value,c):c});return i(configProviderContextKey,a),i(localeContextKey,computed(()=>a.value.locale)),i(namespaceContextKey,computed(()=>a.value.namespace)),i(zIndexContextKey,computed(()=>a.value.zIndex)),i(SIZE_INJECTION_KEY,{size:computed(()=>a.value.size||"")}),i(emptyValuesContextKey,computed(()=>({emptyValues:a.value.emptyValues,valueOnClear:a.value.valueOnClear}))),(n||!globalConfig.value)&&(globalConfig.value=a.value),a},mergeConfig=(e,t)=>{const n=[...new Set([...keysOf(e),...keysOf(t)])],r={};for(const s of n)r[s]=t[s]!==void 0?t[s]:e[s];return r},UPDATE_MODEL_EVENT="update:modelValue",CHANGE_EVENT="change",INPUT_EVENT="input";var _export_sfc$1=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n};function addUnit(e,t="px"){if(!e)return"";if(isNumber(e)||isStringNumber(e))return`${e}${t}`;if(isString(e))return e}const withInstall=(e,t)=>{if(e.install=n=>{for(const r of[e,...Object.values(t??{})])n.component(r.name,r)},t)for(const[n,r]of Object.entries(t))e[n]=r;return e},withNoopInstall=e=>(e.install=NOOP,e),iconProps=buildProps({size:{type:definePropType([Number,String])},color:{type:String}}),__default__$3=defineComponent({name:"ElIcon",inheritAttrs:!1}),_sfc_main$5=defineComponent({...__default__$3,props:iconProps,setup(e){const t=e,n=useNamespace("icon"),r=computed(()=>{const{size:s,color:o}=t;return!s&&!o?{}:{fontSize:isUndefined(s)?void 0:addUnit(s),"--color":o}});return(s,o)=>(openBlock(),createElementBlock("i",mergeProps({class:unref(n).b(),style:unref(r)},s.$attrs),[renderSlot(s.$slots,"default")],16))}});var Icon=_export_sfc$1(_sfc_main$5,[["__file","icon.vue"]]);const ElIcon=withInstall(Icon);/*! Element Plus Icons Vue v2.3.1 */var loading_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Loading",__name:"loading",setup(e){return(t,n)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),loading_default=loading_vue_vue_type_script_setup_true_lang_default;const iconPropType=definePropType([String,Object,Function]),ariaProps=buildProps({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),useAriaProps=e=>pick(ariaProps,e),formContextKey=Symbol("formContextKey"),formItemContextKey=Symbol("formItemContextKey"),defaultIdInjection={prefix:Math.floor(Math.random()*1e4),current:0},ID_INJECTION_KEY=Symbol("elIdInjection"),useIdInjection=()=>getCurrentInstance()?inject(ID_INJECTION_KEY,defaultIdInjection):defaultIdInjection,useId=e=>{const t=useIdInjection(),n=useGetDerivedNamespace();return computedEager(()=>unref(e)||`${n.value}-id-${t.prefix}-${t.current++}`)},useFormItem=()=>{const e=inject(formContextKey,void 0),t=inject(formItemContextKey,void 0);return{form:e,formItem:t}},useFormItemInputId=(e,{formItemContext:t,disableIdGeneration:n,disableIdManagement:r})=>{n||(n=ref(!1)),r||(r=ref(!1));const s=ref();let o;const i=computed(()=>{var a;return!!(!(e.label||e.ariaLabel)&&t&&t.inputIds&&((a=t.inputIds)==null?void 0:a.length)<=1)});return onMounted(()=>{o=watch([toRef(e,"id"),n],([a,c])=>{const d=a??(c?void 0:useId().value);d!==s.value&&(t!=null&&t.removeInputId&&(s.value&&t.removeInputId(s.value),!(r!=null&&r.value)&&!c&&d&&t.addInputId(d)),s.value=d)},{immediate:!0})}),onUnmounted(()=>{o&&o(),t!=null&&t.removeInputId&&s.value&&t.removeInputId(s.value)}),{isLabeledByFormItem:i,inputId:s}},useProp=e=>{const t=getCurrentInstance();return computed(()=>{var n,r;return(r=(n=t==null?void 0:t.proxy)==null?void 0:n.$props)==null?void 0:r[e]})},useFormSize=(e,t={})=>{const n=ref(void 0),r=t.prop?n:useProp("size"),s=t.global?n:useGlobalSize(),o=t.form?{size:void 0}:inject(formContextKey,void 0),i=t.formItem?{size:void 0}:inject(formItemContextKey,void 0);return computed(()=>r.value||unref(e)||(i==null?void 0:i.size)||(o==null?void 0:o.size)||s.value||"")},useFormDisabled=e=>{const t=useProp("disabled"),n=inject(formContextKey,void 0);return computed(()=>t.value||unref(e)||(n==null?void 0:n.disabled)||!1)},buttonGroupContextKey=Symbol("buttonGroupContextKey"),useDeprecated=({from:e,replacement:t,scope:n,version:r,ref:s,type:o="API"},i)=>{watch(()=>unref(i),a=>{},{immediate:!0})},useButton=(e,t)=>{useDeprecated({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},computed(()=>e.type==="text"));const n=inject(buttonGroupContextKey,void 0),r=useGlobalConfig("button"),{form:s}=useFormItem(),o=useFormSize(computed(()=>n==null?void 0:n.size)),i=useFormDisabled(),a=ref(),c=useSlots(),d=computed(()=>e.type||(n==null?void 0:n.type)||""),u=computed(()=>{var x,E,A;return(A=(E=e.autoInsertSpace)!=null?E:(x=r.value)==null?void 0:x.autoInsertSpace)!=null?A:!1}),h=computed(()=>e.tag==="button"?{ariaDisabled:i.value||e.loading,disabled:i.value||e.loading,autofocus:e.autofocus,type:e.nativeType}:{}),b=computed(()=>{var x;const E=(x=c.default)==null?void 0:x.call(c);if(u.value&&(E==null?void 0:E.length)===1){const A=E[0];if((A==null?void 0:A.type)===Text){const R=A.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(R.trim())}}return!1});return{_disabled:i,_size:o,_type:d,_ref:a,_props:h,shouldAddSpace:b,handleClick:x=>{if(i.value||e.loading){x.stopPropagation();return}e.nativeType==="reset"&&(s==null||s.resetFields()),t("click",x)}}},buttonTypes=["default","primary","success","warning","info","danger","text",""],buttonNativeTypes=["button","submit","reset"],buttonProps=buildProps({size:useSizeProp,disabled:Boolean,type:{type:String,values:buttonTypes,default:""},icon:{type:iconPropType},nativeType:{type:String,values:buttonNativeTypes,default:"button"},loading:Boolean,loadingIcon:{type:iconPropType,default:()=>loading_default},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:definePropType([String,Object]),default:"button"}}),buttonEmits={click:e=>e instanceof MouseEvent};function bound01(e,t){isOnePointZero(e)&&(e="100%");var n=isPercentage(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function clamp01(e){return Math.min(1,Math.max(0,e))}function isOnePointZero(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function isPercentage(e){return typeof e=="string"&&e.indexOf("%")!==-1}function boundAlpha(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function convertToPercentage(e){return e<=1?"".concat(Number(e)*100,"%"):e}function pad2(e){return e.length===1?"0"+e:String(e)}function rgbToRgb(e,t,n){return{r:bound01(e,255)*255,g:bound01(t,255)*255,b:bound01(n,255)*255}}function rgbToHsl(e,t,n){e=bound01(e,255),t=bound01(t,255),n=bound01(n,255);var r=Math.max(e,t,n),s=Math.min(e,t,n),o=0,i=0,a=(r+s)/2;if(r===s)i=0,o=0;else{var c=r-s;switch(i=a>.5?c/(2-r-s):c/(r+s),r){case e:o=(t-n)/c+(t<n?6:0);break;case t:o=(n-e)/c+2;break;case n:o=(e-t)/c+4;break}o/=6}return{h:o,s:i,l:a}}function hue2rgb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function hslToRgb(e,t,n){var r,s,o;if(e=bound01(e,360),t=bound01(t,100),n=bound01(n,100),t===0)s=n,o=n,r=n;else{var i=n<.5?n*(1+t):n+t-n*t,a=2*n-i;r=hue2rgb(a,i,e+1/3),s=hue2rgb(a,i,e),o=hue2rgb(a,i,e-1/3)}return{r:r*255,g:s*255,b:o*255}}function rgbToHsv(e,t,n){e=bound01(e,255),t=bound01(t,255),n=bound01(n,255);var r=Math.max(e,t,n),s=Math.min(e,t,n),o=0,i=r,a=r-s,c=r===0?0:a/r;if(r===s)o=0;else{switch(r){case e:o=(t-n)/a+(t<n?6:0);break;case t:o=(n-e)/a+2;break;case n:o=(e-t)/a+4;break}o/=6}return{h:o,s:c,v:i}}function hsvToRgb(e,t,n){e=bound01(e,360)*6,t=bound01(t,100),n=bound01(n,100);var r=Math.floor(e),s=e-r,o=n*(1-t),i=n*(1-s*t),a=n*(1-(1-s)*t),c=r%6,d=[n,i,o,o,a,n][c],u=[a,n,n,i,o,o][c],h=[o,o,a,n,n,i][c];return{r:d*255,g:u*255,b:h*255}}function rgbToHex(e,t,n,r){var s=[pad2(Math.round(e).toString(16)),pad2(Math.round(t).toString(16)),pad2(Math.round(n).toString(16))];return r&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function rgbaToHex(e,t,n,r,s){var o=[pad2(Math.round(e).toString(16)),pad2(Math.round(t).toString(16)),pad2(Math.round(n).toString(16)),pad2(convertDecimalToHex(r))];return s&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function convertDecimalToHex(e){return Math.round(parseFloat(e)*255).toString(16)}function convertHexToDecimal(e){return parseIntFromHex(e)/255}function parseIntFromHex(e){return parseInt(e,16)}function numberInputToObject(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function inputToRGB(e){var t={r:0,g:0,b:0},n=1,r=null,s=null,o=null,i=!1,a=!1;return typeof e=="string"&&(e=stringInputToObject(e)),typeof e=="object"&&(isValidCSSUnit(e.r)&&isValidCSSUnit(e.g)&&isValidCSSUnit(e.b)?(t=rgbToRgb(e.r,e.g,e.b),i=!0,a=String(e.r).substr(-1)==="%"?"prgb":"rgb"):isValidCSSUnit(e.h)&&isValidCSSUnit(e.s)&&isValidCSSUnit(e.v)?(r=convertToPercentage(e.s),s=convertToPercentage(e.v),t=hsvToRgb(e.h,r,s),i=!0,a="hsv"):isValidCSSUnit(e.h)&&isValidCSSUnit(e.s)&&isValidCSSUnit(e.l)&&(r=convertToPercentage(e.s),o=convertToPercentage(e.l),t=hslToRgb(e.h,r,o),i=!0,a="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=boundAlpha(n),{ok:i,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var CSS_INTEGER="[-\\+]?\\d+%?",CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?",CSS_UNIT="(?:".concat(CSS_NUMBER,")|(?:").concat(CSS_INTEGER,")"),PERMISSIVE_MATCH3="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),PERMISSIVE_MATCH4="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),matchers={CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function stringInputToObject(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(names[e])e=names[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=matchers.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=matchers.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=matchers.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=matchers.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=matchers.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=matchers.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=matchers.hex8.exec(e),n?{r:parseIntFromHex(n[1]),g:parseIntFromHex(n[2]),b:parseIntFromHex(n[3]),a:convertHexToDecimal(n[4]),format:t?"name":"hex8"}:(n=matchers.hex6.exec(e),n?{r:parseIntFromHex(n[1]),g:parseIntFromHex(n[2]),b:parseIntFromHex(n[3]),format:t?"name":"hex"}:(n=matchers.hex4.exec(e),n?{r:parseIntFromHex(n[1]+n[1]),g:parseIntFromHex(n[2]+n[2]),b:parseIntFromHex(n[3]+n[3]),a:convertHexToDecimal(n[4]+n[4]),format:t?"name":"hex8"}:(n=matchers.hex3.exec(e),n?{r:parseIntFromHex(n[1]+n[1]),g:parseIntFromHex(n[2]+n[2]),b:parseIntFromHex(n[3]+n[3]),format:t?"name":"hex"}:!1)))))))))}function isValidCSSUnit(e){return!!matchers.CSS_UNIT.exec(String(e))}var TinyColor=function(){function e(t,n){t===void 0&&(t=""),n===void 0&&(n={});var r;if(t instanceof e)return t;typeof t=="number"&&(t=numberInputToObject(t)),this.originalInput=t;var s=inputToRGB(t);this.originalInput=t,this.r=s.r,this.g=s.g,this.b=s.b,this.a=s.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:s.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=s.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),n,r,s,o=t.r/255,i=t.g/255,a=t.b/255;return o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),i<=.03928?r=i/12.92:r=Math.pow((i+.055)/1.055,2.4),a<=.03928?s=a/12.92:s=Math.pow((a+.055)/1.055,2.4),.2126*n+.7152*r+.0722*s},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=boundAlpha(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=rgbToHsv(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=rgbToHsv(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),s=Math.round(t.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(s,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(s,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=rgbToHsl(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=rgbToHsl(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),s=Math.round(t.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(s,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(s,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),rgbToHex(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),rgbaToHex(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(n,", ").concat(r,")"):"rgba(".concat(t,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(n){return"".concat(Math.round(bound01(n,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(n){return Math.round(bound01(n,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+rgbToHex(this.r,this.g,this.b,!1),n=0,r=Object.entries(names);n<r.length;n++){var s=r[n],o=s[0],i=s[1];if(t===i)return o}return!1},e.prototype.toString=function(t){var n=!!t;t=t??this.format;var r=!1,s=this.a<1&&this.a>=0,o=!n&&s&&(t.startsWith("hex")||t==="name");return o?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=clamp01(n.l),new e(n)},e.prototype.brighten=function(t){t===void 0&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),new e(n)},e.prototype.darken=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=clamp01(n.l),new e(n)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=clamp01(n.s),new e(n)},e.prototype.saturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=clamp01(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){n===void 0&&(n=50);var r=this.toRgb(),s=new e(t).toRgb(),o=n/100,i={r:(s.r-r.r)*o+r.r,g:(s.g-r.g)*o+r.g,b:(s.b-r.b)*o+r.b,a:(s.a-r.a)*o+r.a};return new e(i)},e.prototype.analogous=function(t,n){t===void 0&&(t=6),n===void 0&&(n=30);var r=this.toHsl(),s=360/n,o=[this];for(r.h=(r.h-(s*t>>1)+720)%360;--t;)r.h=(r.h+s)%360,o.push(new e(r));return o},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var n=this.toHsv(),r=n.h,s=n.s,o=n.v,i=[],a=1/t;t--;)i.push(new e({h:r,s,v:o})),o=(o+a)%1;return i},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),s=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/s,g:(n.g*n.a+r.g*r.a*(1-n.a))/s,b:(n.b*n.a+r.b*r.a*(1-n.a))/s,a:s})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,s=[this],o=360/t,i=1;i<t;i++)s.push(new e({h:(r+i*o)%360,s:n.s,l:n.l}));return s},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function darken(e,t=20){return e.mix("#141414",t).toString()}function useButtonCustomStyle(e){const t=useFormDisabled(),n=useNamespace("button");return computed(()=>{let r={},s=e.color;if(s){const o=s.match(/var\((.*?)\)/);o&&(s=window.getComputedStyle(window.document.documentElement).getPropertyValue(o[1]));const i=new TinyColor(s),a=e.dark?i.tint(20).toString():darken(i,20);if(e.plain)r=n.cssVarBlock({"bg-color":e.dark?darken(i,90):i.tint(90).toString(),"text-color":s,"border-color":e.dark?darken(i,50):i.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":s,"hover-border-color":s,"active-bg-color":a,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":a}),t.value&&(r[n.cssVarBlockName("disabled-bg-color")]=e.dark?darken(i,90):i.tint(90).toString(),r[n.cssVarBlockName("disabled-text-color")]=e.dark?darken(i,50):i.tint(50).toString(),r[n.cssVarBlockName("disabled-border-color")]=e.dark?darken(i,80):i.tint(80).toString());else{const c=e.dark?darken(i,30):i.tint(30).toString(),d=i.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(r=n.cssVarBlock({"bg-color":s,"text-color":d,"border-color":s,"hover-bg-color":c,"hover-text-color":d,"hover-border-color":c,"active-bg-color":a,"active-border-color":a}),t.value){const u=e.dark?darken(i,50):i.tint(50).toString();r[n.cssVarBlockName("disabled-bg-color")]=u,r[n.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,r[n.cssVarBlockName("disabled-border-color")]=u}}}return r})}const __default__$2=defineComponent({name:"ElButton"}),_sfc_main$4=defineComponent({...__default__$2,props:buttonProps,emits:buttonEmits,setup(e,{expose:t,emit:n}){const r=e,s=useButtonCustomStyle(r),o=useNamespace("button"),{_ref:i,_size:a,_type:c,_disabled:d,_props:u,shouldAddSpace:h,handleClick:b}=useButton(r,n),S=computed(()=>[o.b(),o.m(c.value),o.m(a.value),o.is("disabled",d.value),o.is("loading",r.loading),o.is("plain",r.plain),o.is("round",r.round),o.is("circle",r.circle),o.is("text",r.text),o.is("link",r.link),o.is("has-bg",r.bg)]);return t({ref:i,size:a,type:c,disabled:d,shouldAddSpace:h}),(x,E)=>(openBlock(),createBlock(resolveDynamicComponent(x.tag),mergeProps({ref_key:"_ref",ref:i},unref(u),{class:unref(S),style:unref(s),onClick:unref(b)}),{default:withCtx(()=>[x.loading?(openBlock(),createElementBlock(Fragment,{key:0},[x.$slots.loading?renderSlot(x.$slots,"loading",{key:0}):(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass(unref(o).is("loading"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(x.loadingIcon)))]),_:1},8,["class"]))],64)):x.icon||x.$slots.icon?(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[x.icon?(openBlock(),createBlock(resolveDynamicComponent(x.icon),{key:0})):renderSlot(x.$slots,"icon",{key:1})]),_:3})):createCommentVNode("v-if",!0),x.$slots.default?(openBlock(),createElementBlock("span",{key:2,class:normalizeClass({[unref(o).em("text","expand")]:unref(h)})},[renderSlot(x.$slots,"default")],2)):createCommentVNode("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var Button=_export_sfc$1(_sfc_main$4,[["__file","button.vue"]]);const buttonGroupProps={size:buttonProps.size,type:buttonProps.type},__default__$1=defineComponent({name:"ElButtonGroup"}),_sfc_main$3=defineComponent({...__default__$1,props:buttonGroupProps,setup(e){const t=e;provide(buttonGroupContextKey,reactive({size:toRef(t,"size"),type:toRef(t,"type")}));const n=useNamespace("button");return(r,s)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(n).b("group"))},[renderSlot(r.$slots,"default")],2))}});var ButtonGroup=_export_sfc$1(_sfc_main$3,[["__file","button-group.vue"]]);const ElButton=withInstall(Button,{ButtonGroup});withNoopInstall(ButtonGroup);const configProviderProps=buildProps({a11y:{type:Boolean,default:!0},locale:{type:definePropType(Object)},size:useSizeProp,button:{type:definePropType(Object)},experimentalFeatures:{type:definePropType(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:definePropType(Object)},zIndex:Number,namespace:{type:String,default:"el"},...useEmptyValuesProps}),messageConfig={},ConfigProvider=defineComponent({name:"ElConfigProvider",props:configProviderProps,setup(e,{slots:t}){watch(()=>e.message,r=>{Object.assign(messageConfig,r??{})},{immediate:!0,deep:!0});const n=provideGlobalConfig(e);return()=>renderSlot(t,"default",{config:n==null?void 0:n.value})}}),ElConfigProvider=withInstall(ConfigProvider),isValidComponentSize=e=>["",...componentSizes].includes(e),switchProps=buildProps({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:isValidComponentSize},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:iconPropType},activeActionIcon:{type:iconPropType},activeIcon:{type:iconPropType},inactiveIcon:{type:iconPropType},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:definePropType(Function)},id:String,tabindex:{type:[String,Number]},...useAriaProps(["ariaLabel"])}),switchEmits={[UPDATE_MODEL_EVENT]:e=>isBoolean(e)||isString(e)||isNumber(e),[CHANGE_EVENT]:e=>isBoolean(e)||isString(e)||isNumber(e),[INPUT_EVENT]:e=>isBoolean(e)||isString(e)||isNumber(e)},COMPONENT_NAME="ElSwitch",__default__=defineComponent({name:COMPONENT_NAME}),_sfc_main$2=defineComponent({...__default__,props:switchProps,emits:switchEmits,setup(e,{expose:t,emit:n}){const r=e,{formItem:s}=useFormItem(),o=useFormSize(),i=useNamespace("switch"),{inputId:a}=useFormItemInputId(r,{formItemContext:s}),c=useFormDisabled(computed(()=>r.loading)),d=ref(r.modelValue!==!1),u=ref(),h=ref(),b=computed(()=>[i.b(),i.m(o.value),i.is("disabled",c.value),i.is("checked",R.value)]),S=computed(()=>[i.e("label"),i.em("label","left"),i.is("active",!R.value)]),x=computed(()=>[i.e("label"),i.em("label","right"),i.is("active",R.value)]),E=computed(()=>({width:addUnit(r.width)}));watch(()=>r.modelValue,()=>{d.value=!0});const A=computed(()=>d.value?r.modelValue:!1),R=computed(()=>A.value===r.activeValue);[r.activeValue,r.inactiveValue].includes(A.value)||(n(UPDATE_MODEL_EVENT,r.inactiveValue),n(CHANGE_EVENT,r.inactiveValue),n(INPUT_EVENT,r.inactiveValue)),watch(R,C=>{var L;u.value.checked=C,r.validateEvent&&((L=s==null?void 0:s.validate)==null||L.call(s,"change").catch(G=>void 0))});const H=()=>{const C=R.value?r.inactiveValue:r.activeValue;n(UPDATE_MODEL_EVENT,C),n(CHANGE_EVENT,C),n(INPUT_EVENT,C),nextTick(()=>{u.value.checked=R.value})},D=()=>{if(c.value)return;const{beforeChange:C}=r;if(!C){H();return}const L=C();[isPromise(L),isBoolean(L)].includes(!0)||throwError(COMPONENT_NAME,"beforeChange must return type `Promise<boolean>` or `boolean`"),isPromise(L)?L.then(k=>{k&&H()}).catch(k=>{}):L&&H()},N=()=>{var C,L;(L=(C=u.value)==null?void 0:C.focus)==null||L.call(C)};return onMounted(()=>{u.value.checked=R.value}),t({focus:N,checked:R}),(C,L)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(b)),onClick:withModifiers(D,["prevent"])},[createBaseVNode("input",{id:unref(a),ref_key:"input",ref:u,class:normalizeClass(unref(i).e("input")),type:"checkbox",role:"switch","aria-checked":unref(R),"aria-disabled":unref(c),"aria-label":C.ariaLabel,name:C.name,"true-value":C.activeValue,"false-value":C.inactiveValue,disabled:unref(c),tabindex:C.tabindex,onChange:H,onKeydown:withKeys(D,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!C.inlinePrompt&&(C.inactiveIcon||C.inactiveText)?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(S))},[C.inactiveIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(C.inactiveIcon)))]),_:1})):createCommentVNode("v-if",!0),!C.inactiveIcon&&C.inactiveText?(openBlock(),createElementBlock("span",{key:1,"aria-hidden":unref(R)},toDisplayString(C.inactiveText),9,["aria-hidden"])):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("span",{ref_key:"core",ref:h,class:normalizeClass(unref(i).e("core")),style:normalizeStyle(unref(E))},[C.inlinePrompt?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(i).e("inner"))},[C.activeIcon||C.inactiveIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(i).is("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(R)?C.activeIcon:C.inactiveIcon)))]),_:1},8,["class"])):C.activeText||C.inactiveText?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(i).is("text")),"aria-hidden":!unref(R)},toDisplayString(unref(R)?C.activeText:C.inactiveText),11,["aria-hidden"])):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(i).e("action"))},[C.loading?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(i).is("loading"))},{default:withCtx(()=>[createVNode(unref(loading_default))]),_:1},8,["class"])):unref(R)?renderSlot(C.$slots,"active-action",{key:1},()=>[C.activeActionIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(C.activeActionIcon)))]),_:1})):createCommentVNode("v-if",!0)]):unref(R)?createCommentVNode("v-if",!0):renderSlot(C.$slots,"inactive-action",{key:2},()=>[C.inactiveActionIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(C.inactiveActionIcon)))]),_:1})):createCommentVNode("v-if",!0)])],2)],6),!C.inlinePrompt&&(C.activeIcon||C.activeText)?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(x))},[C.activeIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(C.activeIcon)))]),_:1})):createCommentVNode("v-if",!0),!C.activeIcon&&C.activeText?(openBlock(),createElementBlock("span",{key:1,"aria-hidden":!unref(R)},toDisplayString(C.activeText),9,["aria-hidden"])):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0)],10,["onClick"]))}});var Switch=_export_sfc$1(_sfc_main$2,[["__file","switch.vue"]]);const ElSwitch=withInstall(Switch),useVueAppStore=defineStore("vue-app",()=>{const e=shallowRef(void 0),t=shallowRef({});return{vueApp:e,chatApps:t}}),useWorldInfoStore=defineStore("world-info",()=>{const e=ref([]),t=ref({}),n=ref(0);return{worldInfo:e,vueBook:t,nextId:()=>(n.value++,n.value)}}),registerVarWorldInfo=(e,t)=>{const n=useWorldInfoStore();typeof t=="string"?n.worldInfo.push({predicate:e,name:t}):n.worldInfo.push({predicate:e,name:`func#${n.nextId()}`,entry:t})};var ExtensionPromptPosition=(e=>(e[e.AFTER_STORY=0]="AFTER_STORY",e[e.IN_CHAT=1]="IN_CHAT",e))(ExtensionPromptPosition||{}),ExtensionPromptRole=(e=>(e[e.SYSTEM=0]="SYSTEM",e[e.USER=1]="USER",e[e.ASSISTANT=2]="ASSISTANT",e))(ExtensionPromptRole||{}),EntryPosition=(e=>(e[e.BEFORE_CHAR_DEF=0]="BEFORE_CHAR_DEF",e[e.AFTER_CHAR_DEF=1]="AFTER_CHAR_DEF",e[e.BEFORE_AUTHOR_NOTE=2]="BEFORE_AUTHOR_NOTE",e[e.AFTER_AUTHOR_NOTE=3]="AFTER_AUTHOR_NOTE",e[e.IN_DEPTH=4]="IN_DEPTH",e[e.BEFORE_EXAMPLE_MES=5]="BEFORE_EXAMPLE_MES",e[e.AFTER_EXAMPLE_MES=6]="AFTER_EXAMPLE_MES",e))(EntryPosition||{});const reloadVueBook=e=>{const{vueBook:t}=useWorldInfoStore();for(const n in t)delete t[n];for(const n in e){const r=e[n],s=/^Vue-(.+)$/.exec(r.comment);if(s){const o=s[1];r.position==EntryPosition.IN_DEPTH&&r.role==ExtensionPromptRole.SYSTEM&&(t[o]={content:r.content,depth:r.depth})}}},cleanVue$1=()=>{var n;const e=useVueAppStore(),t=document.getElementById("vue-css");console.log("try cleanVue, vueCssElem:",t),(n=t==null?void 0:t.parentNode)==null||n.removeChild(t),e.vueApp=void 0,e.chatApps={}},reloadVue=async()=>{var e,t,n;const{settings}=useSettingsStore(),store=useVueAppStore();if(!settings.enabled)return;console.log("vue");const context=getContext$1(),currentCharacter=context.characters[context.characterId];if(!currentCharacter){console.log(""),cleanVue$1();return}const bookName=(t=(e=currentCharacter.data)==null?void 0:e.character_book)==null?void 0:t.name;if(!bookName){console.log(""),cleanVue$1();return}const bookEntries=(n=await loadWorldInfo(bookName))==null?void 0:n.entries;if(!bookEntries){console.log(""),cleanVue$1();return}reloadVueBook(bookEntries);let jsContent,cssContent;for(const r in bookEntries){const s=bookEntries[r];s.comment=="vue-js"&&(jsContent=s.content),s.comment=="vue-css"&&(cssContent=s.content)}if(!jsContent||!cssContent){console.log("vue"),cleanVue$1();return}console.log("vue-jsvue-cssVue APP"),window.acceptVueApp=r=>{store.vueApp=r},window.registerVarWorldInfo=registerVarWorldInfo,store.vueApp=void 0;try{eval(jsContent)}catch(r){console.log("Vue APP"),cleanVue$1();return}if(!store.vueApp){console.log("Vue APP"),cleanVue$1();return}console.log("Vue APP");const styleElem=document.createElement("style");styleElem.id="vue-css",styleElem.textContent=cssContent,document.head.appendChild(styleElem),console.log("Vue APPCSS"),store.chatApps={},console.log("APP")},cleanVue=()=>{const e=document.getElementById("chat");if(!e)return;for(const n of e.childNodes)if(n instanceof HTMLDivElement){if(!n.classList.contains("mes"))continue;const s=n.querySelector(".mes_block");if(!s)return;const o=s.querySelector(".mes_text");if(!o)return;o.hidden=!1;const i=s.querySelector(".vue-frontend-app");i&&i.remove()}const{chatApps:t}=useVueAppStore();for(const n in t)delete t[n]};var MessageUpdateReason;(function(e){e[e.EDIT=0]="EDIT",e[e.SWIPE=1]="SWIPE",e[e.STREAM=2]="STREAM",e[e.STREAM_END=3]="STREAM_END",e[e.UNKNOWN=4]="UNKNOWN"})(MessageUpdateReason||(MessageUpdateReason={}));class FrontendEventEmitter{constructor(){ye(this,"listeners",{})}on(t,n){this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].add(n)}off(t,n){this.listeners[t]&&this.listeners[t].has(n)&&this.listeners[t].delete(n)}emit(t,...n){this.listeners[t]&&this.listeners[t].forEach(r=>r(...n))}}const renderMessage=(e,t)=>n=>getContext$1().messageFormatting(n,e,!1,!1,t),messageVars=e=>()=>{const n=getContext$1().chat[e];if(n.swipes){const r=n.swipe_info[n.swipe_id];return r.extra||(r.extra={}),r.extra.vueFrontendVars||(r.extra.vueFrontendVars={}),r.extra.vueFrontendVars}else return n.extra||(n.extra={}),n.extra.vueFrontendVars||(n.extra.vueFrontendVars={}),n.extra.vueFrontendVars},handleVarChange=async e=>{const{worldInfo:t,vueBook:n}=useWorldInfoStore(),r=getContext$1();try{for(const s of t){const o=s.predicate(e);if(s.entry&&o){const i=s.entry(e);r.setExtensionPrompt(`Vue-${s.name}`,i.content,ExtensionPromptPosition.IN_CHAT,i.depth)}else if(s.name in n&&o){const i=n[s.name];r.setExtensionPrompt(`Vue-${s.name}`,i.content,ExtensionPromptPosition.IN_CHAT,i.depth)}else r.setExtensionPrompt(`Vue-${s.name}`,"",ExtensionPromptPosition.AFTER_STORY,0)}}catch(s){console.log(s)}},saveChat=e=>{const t=getContext$1(),n=t.chat,r=t.saveChat;return async()=>{if(e==n.length-1){handleVarChange(messageVars(e)),await r();return}let s=!1;for(let o=e;o<n.length;o++)if(!n[o].is_system&&!n[o].is_user){s=!0;break}s||(handleVarChange(messageVars(e)),await r())}},createWrapperApi=(e,t,n)=>{e.provide("wrapperApi",{renderMessage:renderMessage(t,n),messageVars:messageVars(n),saveChat:saveChat(n),getVueBook:()=>useWorldInfoStore().vueBook})},renderSingleVueApp=(e,t,n,r)=>{const{vueApp:s,chatApps:o}=useVueAppStore(),{settings:i}=useSettingsStore();if(!s||!i.enabled)return;const a=getContext$1(),c=n.querySelector(".mes_block");if(!c)return;const d=c.querySelector(".ch_name");if(!d)return;const u=c.querySelector(".mes_text");if(!u)return;u.hidden=!0;const h=c.querySelector(".vue-frontend-app");if(h instanceof HTMLDivElement){h.hidden=!1,o[e].emit("messageUpdated",t,r);return}const b=s();b.provide("initialMessage",t);const S=document.createElement("div");S.classList.add("vue-frontend-app"),S.style.paddingRight="30px",d.insertAdjacentElement("afterend",S);const x=new FrontendEventEmitter;o[e]=x,b.provide("frontendEventEmitter",x),b.provide("tavernContext",getContext$1),createWrapperApi(b,a.characters[a.characterId].name,e),b.mount(S),new MutationObserver(()=>{const A=document.getElementById("curEditTextarea");A&&A.parentNode==u&&(u.hidden=!1,S.hidden=!0)}).observe(u,{childList:!0,subtree:!0,characterData:!0})},getContent=(e,t)=>{let n="";const r=e[t];return r.swipe_id?n=r.swipes[r.swipe_id]??"...":n=e[t].mes,n},renderVue=e=>{var r;const t=getContext$1().chat,n=document.getElementById("chat");if(n){for(const s of n.childNodes)if(s instanceof HTMLDivElement){if(!s.classList.contains("mes"))continue;const i=s.attributes.getNamedItem("is_user"),a=s.attributes.getNamedItem("is_system");if(!i||!a)continue;const c=i.value,d=a.value;if(c=="true"||d=="true")continue;const u=parseInt(((r=s.attributes.getNamedItem("mesid"))==null?void 0:r.value)??"-1");if(u<0)continue;console.log(`#${u}...`),renderSingleVueApp(u,getContent(t,u),s,e)}}},useSettingsStore=defineStore("settings",()=>{const e=getContext$1(),n=reactive({enabled:!0});if(extension_settings["vue-frontend"]){const r=extension_settings["vue-frontend"];for(const s in r)n[s]=r[s]}return watch(n,async r=>{r.enabled?(await reloadVue(),renderVue(MessageUpdateReason.UNKNOWN)):cleanVue(),extension_settings["vue-frontend"]={...r},e.saveSettingsDebounced()}),{settings:n}}),uploadFrontend=async()=>{var e,t;try{let n=await window.showDirectoryPicker();n.name=="dist"&&(n=await n.getDirectoryHandle("assets"));let r,s;for await(const[d,u]of n.entries())d.startsWith("index")&&(d.endsWith(".css")&&(r=u),d.endsWith(".js")&&(s=u));if(!r||!s||r.kind!="file"||s.kind!="file")throw Error();const o=await r.getFile(),i=await s.getFile(),a=await o.text(),c=await i.text();try{const d=getContext$1(),u=d.characters[d.characterId];if(!u){alert("");return}const h=(t=(e=u.data)==null?void 0:e.character_book)==null?void 0:t.name;if(!h){alert("");return}const b=await loadWorldInfo(h);if(!b){alert("");return}console.log(b);let S,x;for(const A in b.entries){const R=b.entries[A];R.comment=="vue-css"&&(S=R),R.comment=="vue-js"&&(x=R)}if(S||(S=createWorldInfoEntry(h,b)),x||(x=createWorldInfoEntry(h,b)),!S||!x){alert("");return}S.comment="vue-css",x.comment="vue-js",S.content=a,x.content=c,await saveWorldInfo(h,b);const{settings:E}=useSettingsStore();E.enabled&&(await reloadVue(),cleanVue(),renderVue(MessageUpdateReason.UNKNOWN)),alert("Vue")}catch(d){console.log("Err uploading vue frontend"),console.log(d),alert("")}}catch(n){console.log("Err uploading vue frontend"),console.log(n),alert("Vue")}},_hoisted_1$1={class:"outer-container"},_hoisted_2$1={class:"dark"},_hoisted_3$1={class:"inner-container"},_hoisted_4={class:"switch-row"},_sfc_main$1=defineComponent({__name:"SettingPage",setup(e){const{settings:t}=useSettingsStore();return(n,r)=>{const s=ElSwitch,o=ElButton;return openBlock(),createElementBlock("div",_hoisted_1$1,[createBaseVNode("html",_hoisted_2$1,[createBaseVNode("div",_hoisted_3$1,[createBaseVNode("div",_hoisted_4,[r[1]||(r[1]=createBaseVNode("div",{class:"text"},"",-1)),createVNode(s,{modelValue:unref(t).enabled,"onUpdate:modelValue":r[0]||(r[0]=i=>unref(t).enabled=i)},null,8,["modelValue"])]),createBaseVNode("div",null,[createVNode(o,{onClick:unref(uploadFrontend)},{default:withCtx(()=>r[2]||(r[2]=[createTextVNode("Vue")])),_:1},8,["onClick"])])])])])}}}),_export_sfc=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},SettingPage=_export_sfc(_sfc_main$1,[["__scopeId","data-v-6f1ac032"]]),updateLastMessage=e=>{const t=document.getElementById("chat");if(!t)return;const n=t.querySelector(".last_mes");if(n instanceof HTMLDivElement){const r=n.attributes.getNamedItem("mesid");if(!r)return;const s=parseInt(r.value);renderSingleVueApp(s,e,n,MessageUpdateReason.STREAM)}},emitVarEvent=e=>{const{settings:t}=useSettingsStore();if(!t.enabled)return;const n=useVueAppStore().chatApps[e];if(!n)return;const s=getContext$1().chat;let o;for(let a=e-1;a>=0;a--){const c=s[a];!c.is_user&&!c.is_system&&(o=a)}if(console.log("Try emit var event, mesId:",e,"last mesId:",o),o==null){n.emit("initVariables",getContent(s,e));return}const i=messageVars(o)();n.emit("updateVariables",i,getContent(s,e))},emitVarEvents=()=>{const t=getContext$1().chat;for(const[n,r]of t.entries())!r.is_system&&!r.is_user&&emitVarEvent(n)},listenEvents=()=>{const{event_types:e,eventSource:t}=getContext$1(),n={[e.CHAT_CHANGED]:async()=>{await reloadVue(),renderVue(MessageUpdateReason.UNKNOWN),emitVarEvents()},[e.MESSAGE_DELETED]:()=>{cleanVue(),renderVue(MessageUpdateReason.UNKNOWN),emitVarEvents()},[e.CHARACTER_MESSAGE_RENDERED]:r=>{renderVue(MessageUpdateReason.STREAM_END),emitVarEvent(r)},[e.MESSAGE_UPDATED]:()=>{renderVue(MessageUpdateReason.EDIT),emitVarEvents()},[e.MESSAGE_SWIPED]:()=>{renderVue(MessageUpdateReason.SWIPE)},[e.STREAM_TOKEN_RECEIVED]:updateLastMessage};for(const r in n)t.on(r,(...s)=>{const o=n[r];console.log("Vue frontend: SillyTavern event received:",r),console.log("args:",s),o(...s)})},_hoisted_1={class:"example-extension-settings"},_hoisted_2={class:"inline-drawer"},_hoisted_3={class:"inline-drawer-content"},_sfc_main=defineComponent({__name:"App",setup(e){return onMounted(listenEvents),(t,n)=>{const r=ElConfigProvider;return openBlock(),createBlock(r,{namespace:"stv"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[n[1]||(n[1]=createBaseVNode("div",{class:"inline-drawer-toggle inline-drawer-header"},[createBaseVNode("b",null,"Vue"),createBaseVNode("div",{class:"inline-drawer-icon fa-solid fa-circle-chevron-down down"})],-1)),createBaseVNode("div",_hoisted_3,[createVNode(SettingPage),n[0]||(n[0]=createBaseVNode("hr",{class:"sysHR"},null,-1))])])])]),_:1})}}}),extensionsSettingsElem=document.getElementById("extensions_settings"),settingDiv=document.createElement("div");settingDiv.id="vue-frontend-settings";const appElem=extensionsSettingsElem.appendChild(settingDiv),app=createApp(_sfc_main),pinia=createPinia();app.use(pinia);app.mount(appElem);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AdnVlK3NoYXJlZEAzLjUuMTMvbm9kZV9tb2R1bGVzL0B2dWUvc2hhcmVkL2Rpc3Qvc2hhcmVkLmVzbS1idW5kbGVyLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2dWUrcmVhY3Rpdml0eUAzLjUuMTMvbm9kZV9tb2R1bGVzL0B2dWUvcmVhY3Rpdml0eS9kaXN0L3JlYWN0aXZpdHkuZXNtLWJ1bmRsZXIuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHZ1ZStydW50aW1lLWNvcmVAMy41LjEzL25vZGVfbW9kdWxlcy9AdnVlL3J1bnRpbWUtY29yZS9kaXN0L3J1bnRpbWUtY29yZS5lc20tYnVuZGxlci5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AdnVlK3J1bnRpbWUtZG9tQDMuNS4xMy9ub2RlX21vZHVsZXMvQHZ1ZS9ydW50aW1lLWRvbS9kaXN0L3J1bnRpbWUtZG9tLmVzbS1idW5kbGVyLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3BpbmlhQDIuMy4wX3R5cGVzY3JpcHRANS42LjNfdnVlQDMuNS4xM190eXBlc2NyaXB0QDUuNi4zXy9ub2RlX21vZHVsZXMvcGluaWEvZGlzdC9waW5pYS5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZWxlbWVudC1wbHVzQDIuOS4zX3Z1ZUAzLjUuMTNfdHlwZXNjcmlwdEA1LjYuM18vbm9kZV9tb2R1bGVzL2VsZW1lbnQtcGx1cy9lcy9jb21wb25lbnRzL2NvbmZpZy1wcm92aWRlci9zcmMvY29uc3RhbnRzLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9lbGVtZW50LXBsdXNAMi45LjNfdnVlQDMuNS4xM190eXBlc2NyaXB0QDUuNi4zXy9ub2RlX21vZHVsZXMvZWxlbWVudC1wbHVzL2VzL2hvb2tzL3VzZS1uYW1lc3BhY2UvaW5kZXgubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2ZyZWVHbG9iYWwuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fcm9vdC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19TeW1ib2wuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fZ2V0UmF3VGFnLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX29iamVjdFRvU3RyaW5nLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2Jhc2VHZXRUYWcuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9pc09iamVjdExpa2UuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9pc1N5bWJvbC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19hcnJheU1hcC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL2lzQXJyYXkuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fYmFzZVRvU3RyaW5nLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvaXNPYmplY3QuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9pZGVudGl0eS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL2lzRnVuY3Rpb24uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fY29yZUpzRGF0YS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19pc01hc2tlZC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL190b1NvdXJjZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19iYXNlSXNOYXRpdmUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fZ2V0VmFsdWUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fZ2V0TmF0aXZlLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2FwcGx5LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX3Nob3J0T3V0LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvY29uc3RhbnQuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fZGVmaW5lUHJvcGVydHkuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fYmFzZVNldFRvU3RyaW5nLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX3NldFRvU3RyaW5nLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2lzSW5kZXguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fYmFzZUFzc2lnblZhbHVlLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvZXEuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fYXNzaWduVmFsdWUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fb3ZlclJlc3QuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9pc0xlbmd0aC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19iYXNlSXNBcmd1bWVudHMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9pc0FyZ3VtZW50cy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19pc0tleS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19uYXRpdmVDcmVhdGUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9faGFzaENsZWFyLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2hhc2hEZWxldGUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9faGFzaEdldC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19oYXNoSGFzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2hhc2hTZXQuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fSGFzaC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19saXN0Q2FjaGVDbGVhci5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19hc3NvY0luZGV4T2YuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fbGlzdENhY2hlRGVsZXRlLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2xpc3RDYWNoZUdldC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19saXN0Q2FjaGVIYXMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fbGlzdENhY2hlU2V0LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX0xpc3RDYWNoZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19NYXAuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fbWFwQ2FjaGVDbGVhci5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19pc0tleWFibGUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fZ2V0TWFwRGF0YS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19tYXBDYWNoZURlbGV0ZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19tYXBDYWNoZUdldC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19tYXBDYWNoZUhhcy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19tYXBDYWNoZVNldC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19NYXBDYWNoZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL21lbW9pemUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fbWVtb2l6ZUNhcHBlZC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19zdHJpbmdUb1BhdGguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy90b1N0cmluZy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19jYXN0UGF0aC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL190b0tleS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19iYXNlR2V0LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2FycmF5UHVzaC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19pc0ZsYXR0ZW5hYmxlLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2Jhc2VGbGF0dGVuLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvZmxhdHRlbi5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19mbGF0UmVzdC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19iYXNlSGFzSW4uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9faGFzUGF0aC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL2hhc0luLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvZnJvbVBhaXJzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2Jhc2VTZXQuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fYmFzZVBpY2tCeS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19iYXNlUGljay5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL3BpY2suanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZWxlbWVudC1wbHVzQDIuOS4zX3Z1ZUAzLjUuMTNfdHlwZXNjcmlwdEA1LjYuM18vbm9kZV9tb2R1bGVzL2VsZW1lbnQtcGx1cy9lcy91dGlscy90eXBlcy5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHZ1ZXVzZStzaGFyZWRAOS4xMy4wX3Z1ZUAzLjUuMTNfdHlwZXNjcmlwdEA1LjYuM18vbm9kZV9tb2R1bGVzL0B2dWV1c2Uvc2hhcmVkL2luZGV4Lm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9lbGVtZW50LXBsdXNAMi45LjNfdnVlQDMuNS4xM190eXBlc2NyaXB0QDUuNi4zXy9ub2RlX21vZHVsZXMvZWxlbWVudC1wbHVzL2VzL3V0aWxzL2Vycm9yLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9lbGVtZW50LXBsdXNAMi45LjNfdnVlQDMuNS4xM190eXBlc2NyaXB0QDUuNi4zXy9ub2RlX21vZHVsZXMvZWxlbWVudC1wbHVzL2VzL2hvb2tzL3VzZS16LWluZGV4L2luZGV4Lm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9lbGVtZW50LXBsdXNAMi45LjNfdnVlQDMuNS4xM190eXBlc2NyaXB0QDUuNi4zXy9ub2RlX21vZHVsZXMvZWxlbWVudC1wbHVzL2VzL2hvb2tzL3VzZS1sb2NhbGUvaW5kZXgubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2VsZW1lbnQtcGx1c0AyLjkuM192dWVAMy41LjEzX3R5cGVzY3JpcHRANS42LjNfL25vZGVfbW9kdWxlcy9lbGVtZW50LXBsdXMvZXMvdXRpbHMvdnVlL3Byb3BzL3J1bnRpbWUubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2VsZW1lbnQtcGx1c0AyLjkuM192dWVAMy41LjEzX3R5cGVzY3JpcHRANS42LjNfL25vZGVfbW9kdWxlcy9lbGVtZW50LXBsdXMvZXMvY29uc3RhbnRzL3NpemUubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2VsZW1lbnQtcGx1c0AyLjkuM192dWVAMy41LjEzX3R5cGVzY3JpcHRANS42LjNfL25vZGVfbW9kdWxlcy9lbGVtZW50LXBsdXMvZXMvaG9va3MvdXNlLXNpemUvaW5kZXgubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2VsZW1lbnQtcGx1c0AyLjkuM192dWVAMy41LjEzX3R5cGVzY3JpcHRANS42LjNfL25vZGVfbW9kdWxlcy9lbGVtZW50LXBsdXMvZXMvaG9va3MvdXNlLWVtcHR5LXZhbHVlcy9pbmRleC5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZWxlbWVudC1wbHVzQDIuOS4zX3Z1ZUAzLjUuMTNfdHlwZXNjcmlwdEA1LjYuM18vbm9kZV9tb2R1bGVzL2VsZW1lbnQtcGx1cy9lcy91dGlscy9vYmplY3RzLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9lbGVtZW50LXBsdXNAMi45LjNfdnVlQDMuNS4xM190eXBlc2NyaXB0QDUuNi4zXy9ub2RlX21vZHVsZXMvZWxlbWVudC1wbHVzL2VzL2NvbXBvbmVudHMvY29uZmlnLXByb3ZpZGVyL3NyYy9ob29rcy91c2UtZ2xvYmFsLWNvbmZpZy5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZWxlbWVudC1wbHVzQDIuOS4zX3Z1ZUAzLjUuMTNfdHlwZXNjcmlwdEA1LjYuM18vbm9kZV9tb2R1bGVzL2VsZW1lbnQtcGx1cy9lcy9jb25zdGFudHMvZXZlbnQubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2VsZW1lbnQtcGx1c0AyLjkuM192dWVAMy41LjEzX3R5cGVzY3JpcHRANS42LjNfL25vZGVfbW9kdWxlcy9lbGVtZW50LXBsdXMvZXMvX3ZpcnR1YWwvcGx1Z2luLXZ1ZV9leHBvcnQtaGVscGVyLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9lbGVtZW50LXBsdXNAMi45LjNfdnVlQDMuNS4xM190eXBlc2NyaXB0QDUuNi4zXy9ub2RlX21vZHVsZXMvZWxlbWVudC1wbHVzL2VzL3V0aWxzL2RvbS9zdHlsZS5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZWxlbWVudC1wbHVzQDIuOS4zX3Z1ZUAzLjUuMTNfdHlwZXNjcmlwdEA1LjYuM18vbm9kZV9tb2R1bGVzL2VsZW1lbnQtcGx1cy9lcy91dGlscy92dWUvaW5zdGFsbC5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZWxlbWVudC1wbHVzQDIuOS4zX3Z1ZUAzLjUuMTNfdHlwZXNjcmlwdEA1LjYuM18vbm9kZV9tb2R1bGVzL2VsZW1lbnQtcGx1cy9lcy9jb21wb25lbnRzL2ljb24vc3JjL2ljb24ubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2VsZW1lbnQtcGx1c0AyLjkuM192dWVAMy41LjEzX3R5cGVzY3JpcHRANS42LjNfL25vZGVfbW9kdWxlcy9lbGVtZW50LXBsdXMvZXMvY29tcG9uZW50cy9pY29uL3NyYy9pY29uMi5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZWxlbWVudC1wbHVzQDIuOS4zX3Z1ZUAzLjUuMTNfdHlwZXNjcmlwdEA1LjYuM18vbm9kZV9tb2R1bGVzL2VsZW1lbnQtcGx1cy9lcy9jb21wb25lbnRzL2ljb24vaW5kZXgubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BlbGVtZW50LXBsdXMraWNvbnMtdnVlQDIuMy4xX3Z1ZUAzLjUuMTNfdHlwZXNjcmlwdEA1LjYuM18vbm9kZV9tb2R1bGVzL0BlbGVtZW50LXBsdXMvaWNvbnMtdnVlL2Rpc3QvaW5kZXguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZWxlbWVudC1wbHVzQDIuOS4zX3Z1ZUAzLjUuMTNfdHlwZXNjcmlwdEA1LjYuM18vbm9kZV9tb2R1bGVzL2VsZW1lbnQtcGx1cy9lcy91dGlscy92dWUvaWNvbi5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZWxlbWVudC1wbHVzQDIuOS4zX3Z1ZUAzLjUuMTNfdHlwZXNjcmlwdEA1LjYuM18vbm9kZV9tb2R1bGVzL2VsZW1lbnQtcGx1cy9lcy9ob29rcy91c2UtYXJpYS9pbmRleC5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZWxlbWVudC1wbHVzQDIuOS4zX3Z1ZUAzLjUuMTNfdHlwZXNjcmlwdEA1LjYuM18vbm9kZV9tb2R1bGVzL2VsZW1lbnQtcGx1cy9lcy9jb21wb25lbnRzL2Zvcm0vc3JjL2NvbnN0YW50cy5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZWxlbWVudC1wbHVzQDIuOS4zX3Z1ZUAzLjUuMTNfdHlwZXNjcmlwdEA1LjYuM18vbm9kZV9tb2R1bGVzL2VsZW1lbnQtcGx1cy9lcy9ob29rcy91c2UtaWQvaW5kZXgubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2VsZW1lbnQtcGx1c0AyLjkuM192dWVAMy41LjEzX3R5cGVzY3JpcHRANS42LjNfL25vZGVfbW9kdWxlcy9lbGVtZW50LXBsdXMvZXMvY29tcG9uZW50cy9mb3JtL3NyYy9ob29rcy91c2UtZm9ybS1pdGVtLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9lbGVtZW50LXBsdXNAMi45LjNfdnVlQDMuNS4xM190eXBlc2NyaXB0QDUuNi4zXy9ub2RlX21vZHVsZXMvZWxlbWVudC1wbHVzL2VzL2hvb2tzL3VzZS1wcm9wL2luZGV4Lm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9lbGVtZW50LXBsdXNAMi45LjNfdnVlQDMuNS4xM190eXBlc2NyaXB0QDUuNi4zXy9ub2RlX21vZHVsZXMvZWxlbWVudC1wbHVzL2VzL2NvbXBvbmVudHMvZm9ybS9zcmMvaG9va3MvdXNlLWZvcm0tY29tbW9uLXByb3BzLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9lbGVtZW50LXBsdXNAMi45LjNfdnVlQDMuNS4xM190eXBlc2NyaXB0QDUuNi4zXy9ub2RlX21vZHVsZXMvZWxlbWVudC1wbHVzL2VzL2NvbXBvbmVudHMvYnV0dG9uL3NyYy9jb25zdGFudHMubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2VsZW1lbnQtcGx1c0AyLjkuM192dWVAMy41LjEzX3R5cGVzY3JpcHRANS42LjNfL25vZGVfbW9kdWxlcy9lbGVtZW50LXBsdXMvZXMvaG9va3MvdXNlLWRlcHJlY2F0ZWQvaW5kZXgubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2VsZW1lbnQtcGx1c0AyLjkuM192dWVAMy41LjEzX3R5cGVzY3JpcHRANS42LjNfL25vZGVfbW9kdWxlcy9lbGVtZW50LXBsdXMvZXMvY29tcG9uZW50cy9idXR0b24vc3JjL3VzZS1idXR0b24ubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2VsZW1lbnQtcGx1c0AyLjkuM192dWVAMy41LjEzX3R5cGVzY3JpcHRANS42LjNfL25vZGVfbW9kdWxlcy9lbGVtZW50LXBsdXMvZXMvY29tcG9uZW50cy9idXR0b24vc3JjL2J1dHRvbi5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGN0cmwrdGlueWNvbG9yQDMuNi4xL25vZGVfbW9kdWxlcy9AY3RybC90aW55Y29sb3IvZGlzdC9tb2R1bGUvdXRpbC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AY3RybCt0aW55Y29sb3JAMy42LjEvbm9kZV9tb2R1bGVzL0BjdHJsL3Rpbnljb2xvci9kaXN0L21vZHVsZS9jb252ZXJzaW9uLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BjdHJsK3Rpbnljb2xvckAzLjYuMS9ub2RlX21vZHVsZXMvQGN0cmwvdGlueWNvbG9yL2Rpc3QvbW9kdWxlL2Nzcy1jb2xvci1uYW1lcy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AY3RybCt0aW55Y29sb3JAMy42LjEvbm9kZV9tb2R1bGVzL0BjdHJsL3Rpbnljb2xvci9kaXN0L21vZHVsZS9mb3JtYXQtaW5wdXQuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGN0cmwrdGlueWNvbG9yQDMuNi4xL25vZGVfbW9kdWxlcy9AY3RybC90aW55Y29sb3IvZGlzdC9tb2R1bGUvaW5kZXguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZWxlbWVudC1wbHVzQDIuOS4zX3Z1ZUAzLjUuMTNfdHlwZXNjcmlwdEA1LjYuM18vbm9kZV9tb2R1bGVzL2VsZW1lbnQtcGx1cy9lcy9jb21wb25lbnRzL2J1dHRvbi9zcmMvYnV0dG9uLWN1c3RvbS5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZWxlbWVudC1wbHVzQDIuOS4zX3Z1ZUAzLjUuMTNfdHlwZXNjcmlwdEA1LjYuM18vbm9kZV9tb2R1bGVzL2VsZW1lbnQtcGx1cy9lcy9jb21wb25lbnRzL2J1dHRvbi9zcmMvYnV0dG9uMi5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZWxlbWVudC1wbHVzQDIuOS4zX3Z1ZUAzLjUuMTNfdHlwZXNjcmlwdEA1LjYuM18vbm9kZV9tb2R1bGVzL2VsZW1lbnQtcGx1cy9lcy9jb21wb25lbnRzL2J1dHRvbi9zcmMvYnV0dG9uLWdyb3VwLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9lbGVtZW50LXBsdXNAMi45LjNfdnVlQDMuNS4xM190eXBlc2NyaXB0QDUuNi4zXy9ub2RlX21vZHVsZXMvZWxlbWVudC1wbHVzL2VzL2NvbXBvbmVudHMvYnV0dG9uL3NyYy9idXR0b24tZ3JvdXAyLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9lbGVtZW50LXBsdXNAMi45LjNfdnVlQDMuNS4xM190eXBlc2NyaXB0QDUuNi4zXy9ub2RlX21vZHVsZXMvZWxlbWVudC1wbHVzL2VzL2NvbXBvbmVudHMvYnV0dG9uL2luZGV4Lm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9lbGVtZW50LXBsdXNAMi45LjNfdnVlQDMuNS4xM190eXBlc2NyaXB0QDUuNi4zXy9ub2RlX21vZHVsZXMvZWxlbWVudC1wbHVzL2VzL2NvbXBvbmVudHMvY29uZmlnLXByb3ZpZGVyL3NyYy9jb25maWctcHJvdmlkZXItcHJvcHMubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2VsZW1lbnQtcGx1c0AyLjkuM192dWVAMy41LjEzX3R5cGVzY3JpcHRANS42LjNfL25vZGVfbW9kdWxlcy9lbGVtZW50LXBsdXMvZXMvY29tcG9uZW50cy9jb25maWctcHJvdmlkZXIvc3JjL2NvbmZpZy1wcm92aWRlci5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZWxlbWVudC1wbHVzQDIuOS4zX3Z1ZUAzLjUuMTNfdHlwZXNjcmlwdEA1LjYuM18vbm9kZV9tb2R1bGVzL2VsZW1lbnQtcGx1cy9lcy9jb21wb25lbnRzL2NvbmZpZy1wcm92aWRlci9pbmRleC5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZWxlbWVudC1wbHVzQDIuOS4zX3Z1ZUAzLjUuMTNfdHlwZXNjcmlwdEA1LjYuM18vbm9kZV9tb2R1bGVzL2VsZW1lbnQtcGx1cy9lcy91dGlscy92dWUvdmFsaWRhdG9yLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9lbGVtZW50LXBsdXNAMi45LjNfdnVlQDMuNS4xM190eXBlc2NyaXB0QDUuNi4zXy9ub2RlX21vZHVsZXMvZWxlbWVudC1wbHVzL2VzL2NvbXBvbmVudHMvc3dpdGNoL3NyYy9zd2l0Y2gubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2VsZW1lbnQtcGx1c0AyLjkuM192dWVAMy41LjEzX3R5cGVzY3JpcHRANS42LjNfL25vZGVfbW9kdWxlcy9lbGVtZW50LXBsdXMvZXMvY29tcG9uZW50cy9zd2l0Y2gvc3JjL3N3aXRjaDIubWpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2VsZW1lbnQtcGx1c0AyLjkuM192dWVAMy41LjEzX3R5cGVzY3JpcHRANS42LjNfL25vZGVfbW9kdWxlcy9lbGVtZW50LXBsdXMvZXMvY29tcG9uZW50cy9zd2l0Y2gvaW5kZXgubWpzIiwiLi4vLi4vc3JjL3N0b3Jlcy92dWUtYXBwLnRzIiwiLi4vLi4vc3JjL3N0b3Jlcy93b3JsZC1pbmZvLnRzIiwiLi4vLi4vc3JjL3RhdmVybi9yZWdpc3Rlci12YXItd29ybGQtaW5mby50cyIsIi4uLy4uL3NyYy90YXZlcm4tdHlwZXMvZW51bXMudHMiLCIuLi8uLi9zcmMvdGF2ZXJuL3JlbG9hZC12dWUudHMiLCIuLi8uLi9zcmMvdGF2ZXJuL3JlbmRlci9jbGVhbi12dWUudHMiLCIuLi8uLi8uLi9mcm9udGVuZC1ldmVudC1lbWl0dGVyL2Rpc3QvZXZlbnRzLmpzIiwiLi4vLi4vLi4vZnJvbnRlbmQtZXZlbnQtZW1pdHRlci9kaXN0L2luZGV4LmpzIiwiLi4vLi4vc3JjL3RhdmVybi93cmFwcGVyLWFwaS9yZW5kZXItbWVzc2FnZS50cyIsIi4uLy4uL3NyYy90YXZlcm4vd3JhcHBlci1hcGkvbWVzc2FnZS12YXJzLnRzIiwiLi4vLi4vc3JjL3RhdmVybi9oYW5kbGUtdmFyLWNoYW5nZS50cyIsIi4uLy4uL3NyYy90YXZlcm4vd3JhcHBlci1hcGkvc2F2ZS1jaGF0LnRzIiwiLi4vLi4vc3JjL3RhdmVybi93cmFwcGVyLWFwaS9pbmRleC50cyIsIi4uLy4uL3NyYy90YXZlcm4vcmVuZGVyL3JlbmRlci1zaW5nbGUtdnVlLWFwcC50cyIsIi4uLy4uL3NyYy90YXZlcm4vZ2V0LWNvbnRlbnQudHMiLCIuLi8uLi9zcmMvdGF2ZXJuL3JlbmRlci9yZW5kZXItdnVlLnRzIiwiLi4vLi4vc3JjL3N0b3Jlcy9zZXR0aW5nLnRzIiwiLi4vLi4vc3JjL3RhdmVybi91cGxvYWQtZnJvbnRlbmQudHMiLCIuLi8uLi9zcmMvY29tcG9uZW50cy9TZXR0aW5nUGFnZS52dWUiLCIuLi8uLi9zcmMvdGF2ZXJuL3JlbmRlci91cGRhdGUtbGFzdC1tZXNzYWdlLnRzIiwiLi4vLi4vc3JjL3RhdmVybi9lbWl0LXZhci1ldmVudC50cyIsIi4uLy4uL3NyYy90YXZlcm4vZW1pdC12YXItZXZlbnRzLnRzIiwiLi4vLi4vc3JjL3RhdmVybi9saXN0ZW4tZXZlbnRzLnRzIiwiLi4vLi4vc3JjL0FwcC52dWUiLCIuLi8uLi9zcmMvbWFpbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiogQHZ1ZS9zaGFyZWQgdjMuNS4xM1xuKiAoYykgMjAxOC1wcmVzZW50IFl1eGkgKEV2YW4pIFlvdSBhbmQgVnVlIGNvbnRyaWJ1dG9yc1xuKiBAbGljZW5zZSBNSVRcbioqL1xuLyohICNfX05PX1NJREVfRUZGRUNUU19fICovXG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gbWFrZU1hcChzdHIpIHtcbiAgY29uc3QgbWFwID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGZvciAoY29uc3Qga2V5IG9mIHN0ci5zcGxpdChcIixcIikpIG1hcFtrZXldID0gMTtcbiAgcmV0dXJuICh2YWwpID0+IHZhbCBpbiBtYXA7XG59XG5cbmNvbnN0IEVNUFRZX09CSiA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBPYmplY3QuZnJlZXplKHt9KSA6IHt9O1xuY29uc3QgRU1QVFlfQVJSID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IE9iamVjdC5mcmVlemUoW10pIDogW107XG5jb25zdCBOT09QID0gKCkgPT4ge1xufTtcbmNvbnN0IE5PID0gKCkgPT4gZmFsc2U7XG5jb25zdCBpc09uID0gKGtleSkgPT4ga2V5LmNoYXJDb2RlQXQoMCkgPT09IDExMSAmJiBrZXkuY2hhckNvZGVBdCgxKSA9PT0gMTEwICYmIC8vIHVwcGVyY2FzZSBsZXR0ZXJcbihrZXkuY2hhckNvZGVBdCgyKSA+IDEyMiB8fCBrZXkuY2hhckNvZGVBdCgyKSA8IDk3KTtcbmNvbnN0IGlzTW9kZWxMaXN0ZW5lciA9IChrZXkpID0+IGtleS5zdGFydHNXaXRoKFwib25VcGRhdGU6XCIpO1xuY29uc3QgZXh0ZW5kID0gT2JqZWN0LmFzc2lnbjtcbmNvbnN0IHJlbW92ZSA9IChhcnIsIGVsKSA9PiB7XG4gIGNvbnN0IGkgPSBhcnIuaW5kZXhPZihlbCk7XG4gIGlmIChpID4gLTEpIHtcbiAgICBhcnIuc3BsaWNlKGksIDEpO1xuICB9XG59O1xuY29uc3QgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuY29uc3QgaGFzT3duID0gKHZhbCwga2V5KSA9PiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbCwga2V5KTtcbmNvbnN0IGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuY29uc3QgaXNNYXAgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gXCJbb2JqZWN0IE1hcF1cIjtcbmNvbnN0IGlzU2V0ID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09IFwiW29iamVjdCBTZXRdXCI7XG5jb25zdCBpc0RhdGUgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gXCJbb2JqZWN0IERhdGVdXCI7XG5jb25zdCBpc1JlZ0V4cCA9ICh2YWwpID0+IHRvVHlwZVN0cmluZyh2YWwpID09PSBcIltvYmplY3QgUmVnRXhwXVwiO1xuY29uc3QgaXNGdW5jdGlvbiA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09IFwiZnVuY3Rpb25cIjtcbmNvbnN0IGlzU3RyaW5nID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIjtcbmNvbnN0IGlzU3ltYm9sID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gXCJzeW1ib2xcIjtcbmNvbnN0IGlzT2JqZWN0ID0gKHZhbCkgPT4gdmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwgPT09IFwib2JqZWN0XCI7XG5jb25zdCBpc1Byb21pc2UgPSAodmFsKSA9PiB7XG4gIHJldHVybiAoaXNPYmplY3QodmFsKSB8fCBpc0Z1bmN0aW9uKHZhbCkpICYmIGlzRnVuY3Rpb24odmFsLnRoZW4pICYmIGlzRnVuY3Rpb24odmFsLmNhdGNoKTtcbn07XG5jb25zdCBvYmplY3RUb1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5jb25zdCB0b1R5cGVTdHJpbmcgPSAodmFsdWUpID0+IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuY29uc3QgdG9SYXdUeXBlID0gKHZhbHVlKSA9PiB7XG4gIHJldHVybiB0b1R5cGVTdHJpbmcodmFsdWUpLnNsaWNlKDgsIC0xKTtcbn07XG5jb25zdCBpc1BsYWluT2JqZWN0ID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09IFwiW29iamVjdCBPYmplY3RdXCI7XG5jb25zdCBpc0ludGVnZXJLZXkgPSAoa2V5KSA9PiBpc1N0cmluZyhrZXkpICYmIGtleSAhPT0gXCJOYU5cIiAmJiBrZXlbMF0gIT09IFwiLVwiICYmIFwiXCIgKyBwYXJzZUludChrZXksIDEwKSA9PT0ga2V5O1xuY29uc3QgaXNSZXNlcnZlZFByb3AgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChcbiAgLy8gdGhlIGxlYWRpbmcgY29tbWEgaXMgaW50ZW50aW9uYWwgc28gZW1wdHkgc3RyaW5nIFwiXCIgaXMgYWxzbyBpbmNsdWRlZFxuICBcIixrZXkscmVmLHJlZl9mb3IscmVmX2tleSxvblZub2RlQmVmb3JlTW91bnQsb25Wbm9kZU1vdW50ZWQsb25Wbm9kZUJlZm9yZVVwZGF0ZSxvblZub2RlVXBkYXRlZCxvblZub2RlQmVmb3JlVW5tb3VudCxvblZub2RlVW5tb3VudGVkXCJcbik7XG5jb25zdCBpc0J1aWx0SW5EaXJlY3RpdmUgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChcbiAgXCJiaW5kLGNsb2FrLGVsc2UtaWYsZWxzZSxmb3IsaHRtbCxpZixtb2RlbCxvbixvbmNlLHByZSxzaG93LHNsb3QsdGV4dCxtZW1vXCJcbik7XG5jb25zdCBjYWNoZVN0cmluZ0Z1bmN0aW9uID0gKGZuKSA9PiB7XG4gIGNvbnN0IGNhY2hlID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHJldHVybiAoc3RyKSA9PiB7XG4gICAgY29uc3QgaGl0ID0gY2FjaGVbc3RyXTtcbiAgICByZXR1cm4gaGl0IHx8IChjYWNoZVtzdHJdID0gZm4oc3RyKSk7XG4gIH07XG59O1xuY29uc3QgY2FtZWxpemVSRSA9IC8tKFxcdykvZztcbmNvbnN0IGNhbWVsaXplID0gY2FjaGVTdHJpbmdGdW5jdGlvbihcbiAgKHN0cikgPT4ge1xuICAgIHJldHVybiBzdHIucmVwbGFjZShjYW1lbGl6ZVJFLCAoXywgYykgPT4gYyA/IGMudG9VcHBlckNhc2UoKSA6IFwiXCIpO1xuICB9XG4pO1xuY29uc3QgaHlwaGVuYXRlUkUgPSAvXFxCKFtBLVpdKS9nO1xuY29uc3QgaHlwaGVuYXRlID0gY2FjaGVTdHJpbmdGdW5jdGlvbihcbiAgKHN0cikgPT4gc3RyLnJlcGxhY2UoaHlwaGVuYXRlUkUsIFwiLSQxXCIpLnRvTG93ZXJDYXNlKClcbik7XG5jb25zdCBjYXBpdGFsaXplID0gY2FjaGVTdHJpbmdGdW5jdGlvbigoc3RyKSA9PiB7XG4gIHJldHVybiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSk7XG59KTtcbmNvbnN0IHRvSGFuZGxlcktleSA9IGNhY2hlU3RyaW5nRnVuY3Rpb24oXG4gIChzdHIpID0+IHtcbiAgICBjb25zdCBzID0gc3RyID8gYG9uJHtjYXBpdGFsaXplKHN0cil9YCA6IGBgO1xuICAgIHJldHVybiBzO1xuICB9XG4pO1xuY29uc3QgaGFzQ2hhbmdlZCA9ICh2YWx1ZSwgb2xkVmFsdWUpID0+ICFPYmplY3QuaXModmFsdWUsIG9sZFZhbHVlKTtcbmNvbnN0IGludm9rZUFycmF5Rm5zID0gKGZucywgLi4uYXJnKSA9PiB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZm5zLmxlbmd0aDsgaSsrKSB7XG4gICAgZm5zW2ldKC4uLmFyZyk7XG4gIH1cbn07XG5jb25zdCBkZWYgPSAob2JqLCBrZXksIHZhbHVlLCB3cml0YWJsZSA9IGZhbHNlKSA9PiB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB3cml0YWJsZSxcbiAgICB2YWx1ZVxuICB9KTtcbn07XG5jb25zdCBsb29zZVRvTnVtYmVyID0gKHZhbCkgPT4ge1xuICBjb25zdCBuID0gcGFyc2VGbG9hdCh2YWwpO1xuICByZXR1cm4gaXNOYU4obikgPyB2YWwgOiBuO1xufTtcbmNvbnN0IHRvTnVtYmVyID0gKHZhbCkgPT4ge1xuICBjb25zdCBuID0gaXNTdHJpbmcodmFsKSA/IE51bWJlcih2YWwpIDogTmFOO1xuICByZXR1cm4gaXNOYU4obikgPyB2YWwgOiBuO1xufTtcbmxldCBfZ2xvYmFsVGhpcztcbmNvbnN0IGdldEdsb2JhbFRoaXMgPSAoKSA9PiB7XG4gIHJldHVybiBfZ2xvYmFsVGhpcyB8fCAoX2dsb2JhbFRoaXMgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHt9KTtcbn07XG5jb25zdCBpZGVudFJFID0gL15bXyRhLXpBLVpcXHhBMC1cXHVGRkZGXVtfJGEtekEtWjAtOVxceEEwLVxcdUZGRkZdKiQvO1xuZnVuY3Rpb24gZ2VuUHJvcHNBY2Nlc3NFeHAobmFtZSkge1xuICByZXR1cm4gaWRlbnRSRS50ZXN0KG5hbWUpID8gYF9fcHJvcHMuJHtuYW1lfWAgOiBgX19wcm9wc1ske0pTT04uc3RyaW5naWZ5KG5hbWUpfV1gO1xufVxuZnVuY3Rpb24gZ2VuQ2FjaGVLZXkoc291cmNlLCBvcHRpb25zKSB7XG4gIHJldHVybiBzb3VyY2UgKyBKU09OLnN0cmluZ2lmeShcbiAgICBvcHRpb25zLFxuICAgIChfLCB2YWwpID0+IHR5cGVvZiB2YWwgPT09IFwiZnVuY3Rpb25cIiA/IHZhbC50b1N0cmluZygpIDogdmFsXG4gICk7XG59XG5cbmNvbnN0IFBhdGNoRmxhZ3MgPSB7XG4gIFwiVEVYVFwiOiAxLFxuICBcIjFcIjogXCJURVhUXCIsXG4gIFwiQ0xBU1NcIjogMixcbiAgXCIyXCI6IFwiQ0xBU1NcIixcbiAgXCJTVFlMRVwiOiA0LFxuICBcIjRcIjogXCJTVFlMRVwiLFxuICBcIlBST1BTXCI6IDgsXG4gIFwiOFwiOiBcIlBST1BTXCIsXG4gIFwiRlVMTF9QUk9QU1wiOiAxNixcbiAgXCIxNlwiOiBcIkZVTExfUFJPUFNcIixcbiAgXCJORUVEX0hZRFJBVElPTlwiOiAzMixcbiAgXCIzMlwiOiBcIk5FRURfSFlEUkFUSU9OXCIsXG4gIFwiU1RBQkxFX0ZSQUdNRU5UXCI6IDY0LFxuICBcIjY0XCI6IFwiU1RBQkxFX0ZSQUdNRU5UXCIsXG4gIFwiS0VZRURfRlJBR01FTlRcIjogMTI4LFxuICBcIjEyOFwiOiBcIktFWUVEX0ZSQUdNRU5UXCIsXG4gIFwiVU5LRVlFRF9GUkFHTUVOVFwiOiAyNTYsXG4gIFwiMjU2XCI6IFwiVU5LRVlFRF9GUkFHTUVOVFwiLFxuICBcIk5FRURfUEFUQ0hcIjogNTEyLFxuICBcIjUxMlwiOiBcIk5FRURfUEFUQ0hcIixcbiAgXCJEWU5BTUlDX1NMT1RTXCI6IDEwMjQsXG4gIFwiMTAyNFwiOiBcIkRZTkFNSUNfU0xPVFNcIixcbiAgXCJERVZfUk9PVF9GUkFHTUVOVFwiOiAyMDQ4LFxuICBcIjIwNDhcIjogXCJERVZfUk9PVF9GUkFHTUVOVFwiLFxuICBcIkNBQ0hFRFwiOiAtMSxcbiAgXCItMVwiOiBcIkNBQ0hFRFwiLFxuICBcIkJBSUxcIjogLTIsXG4gIFwiLTJcIjogXCJCQUlMXCJcbn07XG5jb25zdCBQYXRjaEZsYWdOYW1lcyA9IHtcbiAgWzFdOiBgVEVYVGAsXG4gIFsyXTogYENMQVNTYCxcbiAgWzRdOiBgU1RZTEVgLFxuICBbOF06IGBQUk9QU2AsXG4gIFsxNl06IGBGVUxMX1BST1BTYCxcbiAgWzMyXTogYE5FRURfSFlEUkFUSU9OYCxcbiAgWzY0XTogYFNUQUJMRV9GUkFHTUVOVGAsXG4gIFsxMjhdOiBgS0VZRURfRlJBR01FTlRgLFxuICBbMjU2XTogYFVOS0VZRURfRlJBR01FTlRgLFxuICBbNTEyXTogYE5FRURfUEFUQ0hgLFxuICBbMTAyNF06IGBEWU5BTUlDX1NMT1RTYCxcbiAgWzIwNDhdOiBgREVWX1JPT1RfRlJBR01FTlRgLFxuICBbLTFdOiBgSE9JU1RFRGAsXG4gIFstMl06IGBCQUlMYFxufTtcblxuY29uc3QgU2hhcGVGbGFncyA9IHtcbiAgXCJFTEVNRU5UXCI6IDEsXG4gIFwiMVwiOiBcIkVMRU1FTlRcIixcbiAgXCJGVU5DVElPTkFMX0NPTVBPTkVOVFwiOiAyLFxuICBcIjJcIjogXCJGVU5DVElPTkFMX0NPTVBPTkVOVFwiLFxuICBcIlNUQVRFRlVMX0NPTVBPTkVOVFwiOiA0LFxuICBcIjRcIjogXCJTVEFURUZVTF9DT01QT05FTlRcIixcbiAgXCJURVhUX0NISUxEUkVOXCI6IDgsXG4gIFwiOFwiOiBcIlRFWFRfQ0hJTERSRU5cIixcbiAgXCJBUlJBWV9DSElMRFJFTlwiOiAxNixcbiAgXCIxNlwiOiBcIkFSUkFZX0NISUxEUkVOXCIsXG4gIFwiU0xPVFNfQ0hJTERSRU5cIjogMzIsXG4gIFwiMzJcIjogXCJTTE9UU19DSElMRFJFTlwiLFxuICBcIlRFTEVQT1JUXCI6IDY0LFxuICBcIjY0XCI6IFwiVEVMRVBPUlRcIixcbiAgXCJTVVNQRU5TRVwiOiAxMjgsXG4gIFwiMTI4XCI6IFwiU1VTUEVOU0VcIixcbiAgXCJDT01QT05FTlRfU0hPVUxEX0tFRVBfQUxJVkVcIjogMjU2LFxuICBcIjI1NlwiOiBcIkNPTVBPTkVOVF9TSE9VTERfS0VFUF9BTElWRVwiLFxuICBcIkNPTVBPTkVOVF9LRVBUX0FMSVZFXCI6IDUxMixcbiAgXCI1MTJcIjogXCJDT01QT05FTlRfS0VQVF9BTElWRVwiLFxuICBcIkNPTVBPTkVOVFwiOiA2LFxuICBcIjZcIjogXCJDT01QT05FTlRcIlxufTtcblxuY29uc3QgU2xvdEZsYWdzID0ge1xuICBcIlNUQUJMRVwiOiAxLFxuICBcIjFcIjogXCJTVEFCTEVcIixcbiAgXCJEWU5BTUlDXCI6IDIsXG4gIFwiMlwiOiBcIkRZTkFNSUNcIixcbiAgXCJGT1JXQVJERURcIjogMyxcbiAgXCIzXCI6IFwiRk9SV0FSREVEXCJcbn07XG5jb25zdCBzbG90RmxhZ3NUZXh0ID0ge1xuICBbMV06IFwiU1RBQkxFXCIsXG4gIFsyXTogXCJEWU5BTUlDXCIsXG4gIFszXTogXCJGT1JXQVJERURcIlxufTtcblxuY29uc3QgR0xPQkFMU19BTExPV0VEID0gXCJJbmZpbml0eSx1bmRlZmluZWQsTmFOLGlzRmluaXRlLGlzTmFOLHBhcnNlRmxvYXQscGFyc2VJbnQsZGVjb2RlVVJJLGRlY29kZVVSSUNvbXBvbmVudCxlbmNvZGVVUkksZW5jb2RlVVJJQ29tcG9uZW50LE1hdGgsTnVtYmVyLERhdGUsQXJyYXksT2JqZWN0LEJvb2xlYW4sU3RyaW5nLFJlZ0V4cCxNYXAsU2V0LEpTT04sSW50bCxCaWdJbnQsY29uc29sZSxFcnJvcixTeW1ib2xcIjtcbmNvbnN0IGlzR2xvYmFsbHlBbGxvd2VkID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoR0xPQkFMU19BTExPV0VEKTtcbmNvbnN0IGlzR2xvYmFsbHlXaGl0ZWxpc3RlZCA9IGlzR2xvYmFsbHlBbGxvd2VkO1xuXG5jb25zdCByYW5nZSA9IDI7XG5mdW5jdGlvbiBnZW5lcmF0ZUNvZGVGcmFtZShzb3VyY2UsIHN0YXJ0ID0gMCwgZW5kID0gc291cmNlLmxlbmd0aCkge1xuICBzdGFydCA9IE1hdGgubWF4KDAsIE1hdGgubWluKHN0YXJ0LCBzb3VyY2UubGVuZ3RoKSk7XG4gIGVuZCA9IE1hdGgubWF4KDAsIE1hdGgubWluKGVuZCwgc291cmNlLmxlbmd0aCkpO1xuICBpZiAoc3RhcnQgPiBlbmQpIHJldHVybiBcIlwiO1xuICBsZXQgbGluZXMgPSBzb3VyY2Uuc3BsaXQoLyhcXHI/XFxuKS8pO1xuICBjb25zdCBuZXdsaW5lU2VxdWVuY2VzID0gbGluZXMuZmlsdGVyKChfLCBpZHgpID0+IGlkeCAlIDIgPT09IDEpO1xuICBsaW5lcyA9IGxpbmVzLmZpbHRlcigoXywgaWR4KSA9PiBpZHggJSAyID09PSAwKTtcbiAgbGV0IGNvdW50ID0gMDtcbiAgY29uc3QgcmVzID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb3VudCArPSBsaW5lc1tpXS5sZW5ndGggKyAobmV3bGluZVNlcXVlbmNlc1tpXSAmJiBuZXdsaW5lU2VxdWVuY2VzW2ldLmxlbmd0aCB8fCAwKTtcbiAgICBpZiAoY291bnQgPj0gc3RhcnQpIHtcbiAgICAgIGZvciAobGV0IGogPSBpIC0gcmFuZ2U7IGogPD0gaSArIHJhbmdlIHx8IGVuZCA+IGNvdW50OyBqKyspIHtcbiAgICAgICAgaWYgKGogPCAwIHx8IGogPj0gbGluZXMubGVuZ3RoKSBjb250aW51ZTtcbiAgICAgICAgY29uc3QgbGluZSA9IGogKyAxO1xuICAgICAgICByZXMucHVzaChcbiAgICAgICAgICBgJHtsaW5lfSR7XCIgXCIucmVwZWF0KE1hdGgubWF4KDMgLSBTdHJpbmcobGluZSkubGVuZ3RoLCAwKSl9fCAgJHtsaW5lc1tqXX1gXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IGxpbmVMZW5ndGggPSBsaW5lc1tqXS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IG5ld0xpbmVTZXFMZW5ndGggPSBuZXdsaW5lU2VxdWVuY2VzW2pdICYmIG5ld2xpbmVTZXF1ZW5jZXNbal0ubGVuZ3RoIHx8IDA7XG4gICAgICAgIGlmIChqID09PSBpKSB7XG4gICAgICAgICAgY29uc3QgcGFkID0gc3RhcnQgLSAoY291bnQgLSAobGluZUxlbmd0aCArIG5ld0xpbmVTZXFMZW5ndGgpKTtcbiAgICAgICAgICBjb25zdCBsZW5ndGggPSBNYXRoLm1heChcbiAgICAgICAgICAgIDEsXG4gICAgICAgICAgICBlbmQgPiBjb3VudCA/IGxpbmVMZW5ndGggLSBwYWQgOiBlbmQgLSBzdGFydFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmVzLnB1c2goYCAgIHwgIGAgKyBcIiBcIi5yZXBlYXQocGFkKSArIFwiXlwiLnJlcGVhdChsZW5ndGgpKTtcbiAgICAgICAgfSBlbHNlIGlmIChqID4gaSkge1xuICAgICAgICAgIGlmIChlbmQgPiBjb3VudCkge1xuICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gTWF0aC5tYXgoTWF0aC5taW4oZW5kIC0gY291bnQsIGxpbmVMZW5ndGgpLCAxKTtcbiAgICAgICAgICAgIHJlcy5wdXNoKGAgICB8ICBgICsgXCJeXCIucmVwZWF0KGxlbmd0aCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb3VudCArPSBsaW5lTGVuZ3RoICsgbmV3TGluZVNlcUxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXMuam9pbihcIlxcblwiKTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplU3R5bGUodmFsdWUpIHtcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgY29uc3QgcmVzID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgaXRlbSA9IHZhbHVlW2ldO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IGlzU3RyaW5nKGl0ZW0pID8gcGFyc2VTdHJpbmdTdHlsZShpdGVtKSA6IG5vcm1hbGl6ZVN0eWxlKGl0ZW0pO1xuICAgICAgaWYgKG5vcm1hbGl6ZWQpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbm9ybWFsaXplZCkge1xuICAgICAgICAgIHJlc1trZXldID0gbm9ybWFsaXplZFtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH0gZWxzZSBpZiAoaXNTdHJpbmcodmFsdWUpIHx8IGlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufVxuY29uc3QgbGlzdERlbGltaXRlclJFID0gLzsoPyFbXihdKlxcKSkvZztcbmNvbnN0IHByb3BlcnR5RGVsaW1pdGVyUkUgPSAvOihbXl0rKS87XG5jb25zdCBzdHlsZUNvbW1lbnRSRSA9IC9cXC9cXCpbXl0qP1xcKlxcLy9nO1xuZnVuY3Rpb24gcGFyc2VTdHJpbmdTdHlsZShjc3NUZXh0KSB7XG4gIGNvbnN0IHJldCA9IHt9O1xuICBjc3NUZXh0LnJlcGxhY2Uoc3R5bGVDb21tZW50UkUsIFwiXCIpLnNwbGl0KGxpc3REZWxpbWl0ZXJSRSkuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgIGlmIChpdGVtKSB7XG4gICAgICBjb25zdCB0bXAgPSBpdGVtLnNwbGl0KHByb3BlcnR5RGVsaW1pdGVyUkUpO1xuICAgICAgdG1wLmxlbmd0aCA+IDEgJiYgKHJldFt0bXBbMF0udHJpbSgpXSA9IHRtcFsxXS50cmltKCkpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXQ7XG59XG5mdW5jdGlvbiBzdHJpbmdpZnlTdHlsZShzdHlsZXMpIHtcbiAgaWYgKCFzdHlsZXMpIHJldHVybiBcIlwiO1xuICBpZiAoaXNTdHJpbmcoc3R5bGVzKSkgcmV0dXJuIHN0eWxlcztcbiAgbGV0IHJldCA9IFwiXCI7XG4gIGZvciAoY29uc3Qga2V5IGluIHN0eWxlcykge1xuICAgIGNvbnN0IHZhbHVlID0gc3R5bGVzW2tleV07XG4gICAgaWYgKGlzU3RyaW5nKHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRLZXkgPSBrZXkuc3RhcnRzV2l0aChgLS1gKSA/IGtleSA6IGh5cGhlbmF0ZShrZXkpO1xuICAgICAgcmV0ICs9IGAke25vcm1hbGl6ZWRLZXl9OiR7dmFsdWV9O2A7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXQ7XG59XG5mdW5jdGlvbiBub3JtYWxpemVDbGFzcyh2YWx1ZSkge1xuICBsZXQgcmVzID0gXCJcIjtcbiAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuICAgIHJlcyA9IHZhbHVlO1xuICB9IGVsc2UgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZUNsYXNzKHZhbHVlW2ldKTtcbiAgICAgIGlmIChub3JtYWxpemVkKSB7XG4gICAgICAgIHJlcyArPSBub3JtYWxpemVkICsgXCIgXCI7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiB2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlW25hbWVdKSB7XG4gICAgICAgIHJlcyArPSBuYW1lICsgXCIgXCI7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXMudHJpbSgpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplUHJvcHMocHJvcHMpIHtcbiAgaWYgKCFwcm9wcykgcmV0dXJuIG51bGw7XG4gIGxldCB7IGNsYXNzOiBrbGFzcywgc3R5bGUgfSA9IHByb3BzO1xuICBpZiAoa2xhc3MgJiYgIWlzU3RyaW5nKGtsYXNzKSkge1xuICAgIHByb3BzLmNsYXNzID0gbm9ybWFsaXplQ2xhc3Moa2xhc3MpO1xuICB9XG4gIGlmIChzdHlsZSkge1xuICAgIHByb3BzLnN0eWxlID0gbm9ybWFsaXplU3R5bGUoc3R5bGUpO1xuICB9XG4gIHJldHVybiBwcm9wcztcbn1cblxuY29uc3QgSFRNTF9UQUdTID0gXCJodG1sLGJvZHksYmFzZSxoZWFkLGxpbmssbWV0YSxzdHlsZSx0aXRsZSxhZGRyZXNzLGFydGljbGUsYXNpZGUsZm9vdGVyLGhlYWRlcixoZ3JvdXAsaDEsaDIsaDMsaDQsaDUsaDYsbmF2LHNlY3Rpb24sZGl2LGRkLGRsLGR0LGZpZ2NhcHRpb24sZmlndXJlLHBpY3R1cmUsaHIsaW1nLGxpLG1haW4sb2wscCxwcmUsdWwsYSxiLGFiYnIsYmRpLGJkbyxicixjaXRlLGNvZGUsZGF0YSxkZm4sZW0saSxrYmQsbWFyayxxLHJwLHJ0LHJ1YnkscyxzYW1wLHNtYWxsLHNwYW4sc3Ryb25nLHN1YixzdXAsdGltZSx1LHZhcix3YnIsYXJlYSxhdWRpbyxtYXAsdHJhY2ssdmlkZW8sZW1iZWQsb2JqZWN0LHBhcmFtLHNvdXJjZSxjYW52YXMsc2NyaXB0LG5vc2NyaXB0LGRlbCxpbnMsY2FwdGlvbixjb2wsY29sZ3JvdXAsdGFibGUsdGhlYWQsdGJvZHksdGQsdGgsdHIsYnV0dG9uLGRhdGFsaXN0LGZpZWxkc2V0LGZvcm0saW5wdXQsbGFiZWwsbGVnZW5kLG1ldGVyLG9wdGdyb3VwLG9wdGlvbixvdXRwdXQscHJvZ3Jlc3Msc2VsZWN0LHRleHRhcmVhLGRldGFpbHMsZGlhbG9nLG1lbnUsc3VtbWFyeSx0ZW1wbGF0ZSxibG9ja3F1b3RlLGlmcmFtZSx0Zm9vdFwiO1xuY29uc3QgU1ZHX1RBR1MgPSBcInN2ZyxhbmltYXRlLGFuaW1hdGVNb3Rpb24sYW5pbWF0ZVRyYW5zZm9ybSxjaXJjbGUsY2xpcFBhdGgsY29sb3ItcHJvZmlsZSxkZWZzLGRlc2MsZGlzY2FyZCxlbGxpcHNlLGZlQmxlbmQsZmVDb2xvck1hdHJpeCxmZUNvbXBvbmVudFRyYW5zZmVyLGZlQ29tcG9zaXRlLGZlQ29udm9sdmVNYXRyaXgsZmVEaWZmdXNlTGlnaHRpbmcsZmVEaXNwbGFjZW1lbnRNYXAsZmVEaXN0YW50TGlnaHQsZmVEcm9wU2hhZG93LGZlRmxvb2QsZmVGdW5jQSxmZUZ1bmNCLGZlRnVuY0csZmVGdW5jUixmZUdhdXNzaWFuQmx1cixmZUltYWdlLGZlTWVyZ2UsZmVNZXJnZU5vZGUsZmVNb3JwaG9sb2d5LGZlT2Zmc2V0LGZlUG9pbnRMaWdodCxmZVNwZWN1bGFyTGlnaHRpbmcsZmVTcG90TGlnaHQsZmVUaWxlLGZlVHVyYnVsZW5jZSxmaWx0ZXIsZm9yZWlnbk9iamVjdCxnLGhhdGNoLGhhdGNocGF0aCxpbWFnZSxsaW5lLGxpbmVhckdyYWRpZW50LG1hcmtlcixtYXNrLG1lc2gsbWVzaGdyYWRpZW50LG1lc2hwYXRjaCxtZXNocm93LG1ldGFkYXRhLG1wYXRoLHBhdGgscGF0dGVybixwb2x5Z29uLHBvbHlsaW5lLHJhZGlhbEdyYWRpZW50LHJlY3Qsc2V0LHNvbGlkY29sb3Isc3RvcCxzd2l0Y2gsc3ltYm9sLHRleHQsdGV4dFBhdGgsdGl0bGUsdHNwYW4sdW5rbm93bix1c2Usdmlld1wiO1xuY29uc3QgTUFUSF9UQUdTID0gXCJhbm5vdGF0aW9uLGFubm90YXRpb24teG1sLG1hY3Rpb24sbWFsaWduZ3JvdXAsbWFsaWdubWFyayxtYXRoLG1lbmNsb3NlLG1lcnJvcixtZmVuY2VkLG1mcmFjLG1mcmFjdGlvbixtZ2x5cGgsbWksbWxhYmVsZWR0cixtbG9uZ2RpdixtbXVsdGlzY3JpcHRzLG1uLG1vLG1vdmVyLG1wYWRkZWQsbXBoYW50b20sbXByZXNjcmlwdHMsbXJvb3QsbXJvdyxtcyxtc2NhcnJpZXMsbXNjYXJyeSxtc2dyb3VwLG1zbGluZSxtc3BhY2UsbXNxcnQsbXNyb3csbXN0YWNrLG1zdHlsZSxtc3ViLG1zdWJzdXAsbXN1cCxtdGFibGUsbXRkLG10ZXh0LG10cixtdW5kZXIsbXVuZGVyb3Zlcixub25lLHNlbWFudGljc1wiO1xuY29uc3QgVk9JRF9UQUdTID0gXCJhcmVhLGJhc2UsYnIsY29sLGVtYmVkLGhyLGltZyxpbnB1dCxsaW5rLG1ldGEscGFyYW0sc291cmNlLHRyYWNrLHdiclwiO1xuY29uc3QgaXNIVE1MVGFnID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoSFRNTF9UQUdTKTtcbmNvbnN0IGlzU1ZHVGFnID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoU1ZHX1RBR1MpO1xuY29uc3QgaXNNYXRoTUxUYWcgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChNQVRIX1RBR1MpO1xuY29uc3QgaXNWb2lkVGFnID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoVk9JRF9UQUdTKTtcblxuY29uc3Qgc3BlY2lhbEJvb2xlYW5BdHRycyA9IGBpdGVtc2NvcGUsYWxsb3dmdWxsc2NyZWVuLGZvcm1ub3ZhbGlkYXRlLGlzbWFwLG5vbW9kdWxlLG5vdmFsaWRhdGUscmVhZG9ubHlgO1xuY29uc3QgaXNTcGVjaWFsQm9vbGVhbkF0dHIgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChzcGVjaWFsQm9vbGVhbkF0dHJzKTtcbmNvbnN0IGlzQm9vbGVhbkF0dHIgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChcbiAgc3BlY2lhbEJvb2xlYW5BdHRycyArIGAsYXN5bmMsYXV0b2ZvY3VzLGF1dG9wbGF5LGNvbnRyb2xzLGRlZmF1bHQsZGVmZXIsZGlzYWJsZWQsaGlkZGVuLGluZXJ0LGxvb3Asb3BlbixyZXF1aXJlZCxyZXZlcnNlZCxzY29wZWQsc2VhbWxlc3MsY2hlY2tlZCxtdXRlZCxtdWx0aXBsZSxzZWxlY3RlZGBcbik7XG5mdW5jdGlvbiBpbmNsdWRlQm9vbGVhbkF0dHIodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgfHwgdmFsdWUgPT09IFwiXCI7XG59XG5jb25zdCB1bnNhZmVBdHRyQ2hhclJFID0gL1s+Lz1cIidcXHUwMDA5XFx1MDAwYVxcdTAwMGNcXHUwMDIwXS87XG5jb25zdCBhdHRyVmFsaWRhdGlvbkNhY2hlID0ge307XG5mdW5jdGlvbiBpc1NTUlNhZmVBdHRyTmFtZShuYW1lKSB7XG4gIGlmIChhdHRyVmFsaWRhdGlvbkNhY2hlLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgcmV0dXJuIGF0dHJWYWxpZGF0aW9uQ2FjaGVbbmFtZV07XG4gIH1cbiAgY29uc3QgaXNVbnNhZmUgPSB1bnNhZmVBdHRyQ2hhclJFLnRlc3QobmFtZSk7XG4gIGlmIChpc1Vuc2FmZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoYHVuc2FmZSBhdHRyaWJ1dGUgbmFtZTogJHtuYW1lfWApO1xuICB9XG4gIHJldHVybiBhdHRyVmFsaWRhdGlvbkNhY2hlW25hbWVdID0gIWlzVW5zYWZlO1xufVxuY29uc3QgcHJvcHNUb0F0dHJNYXAgPSB7XG4gIGFjY2VwdENoYXJzZXQ6IFwiYWNjZXB0LWNoYXJzZXRcIixcbiAgY2xhc3NOYW1lOiBcImNsYXNzXCIsXG4gIGh0bWxGb3I6IFwiZm9yXCIsXG4gIGh0dHBFcXVpdjogXCJodHRwLWVxdWl2XCJcbn07XG5jb25zdCBpc0tub3duSHRtbEF0dHIgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChcbiAgYGFjY2VwdCxhY2NlcHQtY2hhcnNldCxhY2Nlc3NrZXksYWN0aW9uLGFsaWduLGFsbG93LGFsdCxhc3luYyxhdXRvY2FwaXRhbGl6ZSxhdXRvY29tcGxldGUsYXV0b2ZvY3VzLGF1dG9wbGF5LGJhY2tncm91bmQsYmdjb2xvcixib3JkZXIsYnVmZmVyZWQsY2FwdHVyZSxjaGFsbGVuZ2UsY2hhcnNldCxjaGVja2VkLGNpdGUsY2xhc3MsY29kZSxjb2RlYmFzZSxjb2xvcixjb2xzLGNvbHNwYW4sY29udGVudCxjb250ZW50ZWRpdGFibGUsY29udGV4dG1lbnUsY29udHJvbHMsY29vcmRzLGNyb3Nzb3JpZ2luLGNzcCxkYXRhLGRhdGV0aW1lLGRlY29kaW5nLGRlZmF1bHQsZGVmZXIsZGlyLGRpcm5hbWUsZGlzYWJsZWQsZG93bmxvYWQsZHJhZ2dhYmxlLGRyb3B6b25lLGVuY3R5cGUsZW50ZXJrZXloaW50LGZvcixmb3JtLGZvcm1hY3Rpb24sZm9ybWVuY3R5cGUsZm9ybW1ldGhvZCxmb3Jtbm92YWxpZGF0ZSxmb3JtdGFyZ2V0LGhlYWRlcnMsaGVpZ2h0LGhpZGRlbixoaWdoLGhyZWYsaHJlZmxhbmcsaHR0cC1lcXVpdixpY29uLGlkLGltcG9ydGFuY2UsaW5lcnQsaW50ZWdyaXR5LGlzbWFwLGl0ZW1wcm9wLGtleXR5cGUsa2luZCxsYWJlbCxsYW5nLGxhbmd1YWdlLGxvYWRpbmcsbGlzdCxsb29wLGxvdyxtYW5pZmVzdCxtYXgsbWF4bGVuZ3RoLG1pbmxlbmd0aCxtZWRpYSxtaW4sbXVsdGlwbGUsbXV0ZWQsbmFtZSxub3ZhbGlkYXRlLG9wZW4sb3B0aW11bSxwYXR0ZXJuLHBpbmcscGxhY2Vob2xkZXIscG9zdGVyLHByZWxvYWQscmFkaW9ncm91cCxyZWFkb25seSxyZWZlcnJlcnBvbGljeSxyZWwscmVxdWlyZWQscmV2ZXJzZWQscm93cyxyb3dzcGFuLHNhbmRib3gsc2NvcGUsc2NvcGVkLHNlbGVjdGVkLHNoYXBlLHNpemUsc2l6ZXMsc2xvdCxzcGFuLHNwZWxsY2hlY2ssc3JjLHNyY2RvYyxzcmNsYW5nLHNyY3NldCxzdGFydCxzdGVwLHN0eWxlLHN1bW1hcnksdGFiaW5kZXgsdGFyZ2V0LHRpdGxlLHRyYW5zbGF0ZSx0eXBlLHVzZW1hcCx2YWx1ZSx3aWR0aCx3cmFwYFxuKTtcbmNvbnN0IGlzS25vd25TdmdBdHRyID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoXG4gIGB4bWxucyxhY2NlbnQtaGVpZ2h0LGFjY3VtdWxhdGUsYWRkaXRpdmUsYWxpZ25tZW50LWJhc2VsaW5lLGFscGhhYmV0aWMsYW1wbGl0dWRlLGFyYWJpYy1mb3JtLGFzY2VudCxhdHRyaWJ1dGVOYW1lLGF0dHJpYnV0ZVR5cGUsYXppbXV0aCxiYXNlRnJlcXVlbmN5LGJhc2VsaW5lLXNoaWZ0LGJhc2VQcm9maWxlLGJib3gsYmVnaW4sYmlhcyxieSxjYWxjTW9kZSxjYXAtaGVpZ2h0LGNsYXNzLGNsaXAsY2xpcFBhdGhVbml0cyxjbGlwLXBhdGgsY2xpcC1ydWxlLGNvbG9yLGNvbG9yLWludGVycG9sYXRpb24sY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzLGNvbG9yLXByb2ZpbGUsY29sb3ItcmVuZGVyaW5nLGNvbnRlbnRTY3JpcHRUeXBlLGNvbnRlbnRTdHlsZVR5cGUsY3Jvc3NvcmlnaW4sY3Vyc29yLGN4LGN5LGQsZGVjZWxlcmF0ZSxkZXNjZW50LGRpZmZ1c2VDb25zdGFudCxkaXJlY3Rpb24sZGlzcGxheSxkaXZpc29yLGRvbWluYW50LWJhc2VsaW5lLGR1cixkeCxkeSxlZGdlTW9kZSxlbGV2YXRpb24sZW5hYmxlLWJhY2tncm91bmQsZW5kLGV4cG9uZW50LGZpbGwsZmlsbC1vcGFjaXR5LGZpbGwtcnVsZSxmaWx0ZXIsZmlsdGVyUmVzLGZpbHRlclVuaXRzLGZsb29kLWNvbG9yLGZsb29kLW9wYWNpdHksZm9udC1mYW1pbHksZm9udC1zaXplLGZvbnQtc2l6ZS1hZGp1c3QsZm9udC1zdHJldGNoLGZvbnQtc3R5bGUsZm9udC12YXJpYW50LGZvbnQtd2VpZ2h0LGZvcm1hdCxmcm9tLGZyLGZ4LGZ5LGcxLGcyLGdseXBoLW5hbWUsZ2x5cGgtb3JpZW50YXRpb24taG9yaXpvbnRhbCxnbHlwaC1vcmllbnRhdGlvbi12ZXJ0aWNhbCxnbHlwaFJlZixncmFkaWVudFRyYW5zZm9ybSxncmFkaWVudFVuaXRzLGhhbmdpbmcsaGVpZ2h0LGhyZWYsaHJlZmxhbmcsaG9yaXotYWR2LXgsaG9yaXotb3JpZ2luLXgsaWQsaWRlb2dyYXBoaWMsaW1hZ2UtcmVuZGVyaW5nLGluLGluMixpbnRlcmNlcHQsayxrMSxrMixrMyxrNCxrZXJuZWxNYXRyaXgsa2VybmVsVW5pdExlbmd0aCxrZXJuaW5nLGtleVBvaW50cyxrZXlTcGxpbmVzLGtleVRpbWVzLGxhbmcsbGVuZ3RoQWRqdXN0LGxldHRlci1zcGFjaW5nLGxpZ2h0aW5nLWNvbG9yLGxpbWl0aW5nQ29uZUFuZ2xlLGxvY2FsLG1hcmtlci1lbmQsbWFya2VyLW1pZCxtYXJrZXItc3RhcnQsbWFya2VySGVpZ2h0LG1hcmtlclVuaXRzLG1hcmtlcldpZHRoLG1hc2ssbWFza0NvbnRlbnRVbml0cyxtYXNrVW5pdHMsbWF0aGVtYXRpY2FsLG1heCxtZWRpYSxtZXRob2QsbWluLG1vZGUsbmFtZSxudW1PY3RhdmVzLG9mZnNldCxvcGFjaXR5LG9wZXJhdG9yLG9yZGVyLG9yaWVudCxvcmllbnRhdGlvbixvcmlnaW4sb3ZlcmZsb3csb3ZlcmxpbmUtcG9zaXRpb24sb3ZlcmxpbmUtdGhpY2tuZXNzLHBhbm9zZS0xLHBhaW50LW9yZGVyLHBhdGgscGF0aExlbmd0aCxwYXR0ZXJuQ29udGVudFVuaXRzLHBhdHRlcm5UcmFuc2Zvcm0scGF0dGVyblVuaXRzLHBpbmcscG9pbnRlci1ldmVudHMscG9pbnRzLHBvaW50c0F0WCxwb2ludHNBdFkscG9pbnRzQXRaLHByZXNlcnZlQWxwaGEscHJlc2VydmVBc3BlY3RSYXRpbyxwcmltaXRpdmVVbml0cyxyLHJhZGl1cyxyZWZlcnJlclBvbGljeSxyZWZYLHJlZlkscmVsLHJlbmRlcmluZy1pbnRlbnQscmVwZWF0Q291bnQscmVwZWF0RHVyLHJlcXVpcmVkRXh0ZW5zaW9ucyxyZXF1aXJlZEZlYXR1cmVzLHJlc3RhcnQscmVzdWx0LHJvdGF0ZSxyeCxyeSxzY2FsZSxzZWVkLHNoYXBlLXJlbmRlcmluZyxzbG9wZSxzcGFjaW5nLHNwZWN1bGFyQ29uc3RhbnQsc3BlY3VsYXJFeHBvbmVudCxzcGVlZCxzcHJlYWRNZXRob2Qsc3RhcnRPZmZzZXQsc3RkRGV2aWF0aW9uLHN0ZW1oLHN0ZW12LHN0aXRjaFRpbGVzLHN0b3AtY29sb3Isc3RvcC1vcGFjaXR5LHN0cmlrZXRocm91Z2gtcG9zaXRpb24sc3RyaWtldGhyb3VnaC10aGlja25lc3Msc3RyaW5nLHN0cm9rZSxzdHJva2UtZGFzaGFycmF5LHN0cm9rZS1kYXNob2Zmc2V0LHN0cm9rZS1saW5lY2FwLHN0cm9rZS1saW5lam9pbixzdHJva2UtbWl0ZXJsaW1pdCxzdHJva2Utb3BhY2l0eSxzdHJva2Utd2lkdGgsc3R5bGUsc3VyZmFjZVNjYWxlLHN5c3RlbUxhbmd1YWdlLHRhYmluZGV4LHRhYmxlVmFsdWVzLHRhcmdldCx0YXJnZXRYLHRhcmdldFksdGV4dC1hbmNob3IsdGV4dC1kZWNvcmF0aW9uLHRleHQtcmVuZGVyaW5nLHRleHRMZW5ndGgsdG8sdHJhbnNmb3JtLHRyYW5zZm9ybS1vcmlnaW4sdHlwZSx1MSx1Mix1bmRlcmxpbmUtcG9zaXRpb24sdW5kZXJsaW5lLXRoaWNrbmVzcyx1bmljb2RlLHVuaWNvZGUtYmlkaSx1bmljb2RlLXJhbmdlLHVuaXRzLXBlci1lbSx2LWFscGhhYmV0aWMsdi1oYW5naW5nLHYtaWRlb2dyYXBoaWMsdi1tYXRoZW1hdGljYWwsdmFsdWVzLHZlY3Rvci1lZmZlY3QsdmVyc2lvbix2ZXJ0LWFkdi15LHZlcnQtb3JpZ2luLXgsdmVydC1vcmlnaW4teSx2aWV3Qm94LHZpZXdUYXJnZXQsdmlzaWJpbGl0eSx3aWR0aCx3aWR0aHMsd29yZC1zcGFjaW5nLHdyaXRpbmctbW9kZSx4LHgtaGVpZ2h0LHgxLHgyLHhDaGFubmVsU2VsZWN0b3IseGxpbms6YWN0dWF0ZSx4bGluazphcmNyb2xlLHhsaW5rOmhyZWYseGxpbms6cm9sZSx4bGluazpzaG93LHhsaW5rOnRpdGxlLHhsaW5rOnR5cGUseG1sbnM6eGxpbmsseG1sOmJhc2UseG1sOmxhbmcseG1sOnNwYWNlLHkseTEseTIseUNoYW5uZWxTZWxlY3Rvcix6LHpvb21BbmRQYW5gXG4pO1xuY29uc3QgaXNLbm93bk1hdGhNTEF0dHIgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChcbiAgYGFjY2VudCxhY2NlbnR1bmRlcixhY3Rpb250eXBlLGFsaWduLGFsaWdubWVudHNjb3BlLGFsdGltZyxhbHRpbWctaGVpZ2h0LGFsdGltZy12YWxpZ24sYWx0aW1nLXdpZHRoLGFsdHRleHQsYmV2ZWxsZWQsY2xvc2UsY29sdW1uc2FsaWduLGNvbHVtbmxpbmVzLGNvbHVtbnNwYW4sZGVub21hbGlnbixkZXB0aCxkaXIsZGlzcGxheSxkaXNwbGF5c3R5bGUsZW5jb2RpbmcsZXF1YWxjb2x1bW5zLGVxdWFscm93cyxmZW5jZSxmb250c3R5bGUsZm9udHdlaWdodCxmb3JtLGZyYW1lLGZyYW1lc3BhY2luZyxncm91cGFsaWduLGhlaWdodCxocmVmLGlkLGluZGVudGFsaWduLGluZGVudGFsaWduZmlyc3QsaW5kZW50YWxpZ25sYXN0LGluZGVudHNoaWZ0LGluZGVudHNoaWZ0Zmlyc3QsaW5kZW50c2hpZnRsYXN0LGluZGV4dHlwZSxqdXN0aWZ5LGxhcmdldG9wLGxhcmdlb3AsbHF1b3RlLGxzcGFjZSxtYXRoYmFja2dyb3VuZCxtYXRoY29sb3IsbWF0aHNpemUsbWF0aHZhcmlhbnQsbWF4c2l6ZSxtaW5sYWJlbHNwYWNpbmcsbW9kZSxvdGhlcixvdmVyZmxvdyxwb3NpdGlvbixyb3dhbGlnbixyb3dsaW5lcyxyb3dzcGFuLHJxdW90ZSxyc3BhY2Usc2NyaXB0bGV2ZWwsc2NyaXB0bWluc2l6ZSxzY3JpcHRzaXplbXVsdGlwbGllcixzZWxlY3Rpb24sc2VwYXJhdG9yLHNlcGFyYXRvcnMsc2hpZnQsc2lkZSxzcmMsc3RhY2thbGlnbixzdHJldGNoeSxzdWJzY3JpcHRzaGlmdCxzdXBlcnNjcmlwdHNoaWZ0LHN5bW1ldHJpYyx2b2Zmc2V0LHdpZHRoLHdpZHRocyx4bGluazpocmVmLHhsaW5rOnNob3cseGxpbms6dHlwZSx4bWxuc2Bcbik7XG5mdW5jdGlvbiBpc1JlbmRlcmFibGVBdHRyVmFsdWUodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuIHR5cGUgPT09IFwic3RyaW5nXCIgfHwgdHlwZSA9PT0gXCJudW1iZXJcIiB8fCB0eXBlID09PSBcImJvb2xlYW5cIjtcbn1cblxuY29uc3QgZXNjYXBlUkUgPSAvW1wiJyY8Pl0vO1xuZnVuY3Rpb24gZXNjYXBlSHRtbChzdHJpbmcpIHtcbiAgY29uc3Qgc3RyID0gXCJcIiArIHN0cmluZztcbiAgY29uc3QgbWF0Y2ggPSBlc2NhcGVSRS5leGVjKHN0cik7XG4gIGlmICghbWF0Y2gpIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG4gIGxldCBodG1sID0gXCJcIjtcbiAgbGV0IGVzY2FwZWQ7XG4gIGxldCBpbmRleDtcbiAgbGV0IGxhc3RJbmRleCA9IDA7XG4gIGZvciAoaW5kZXggPSBtYXRjaC5pbmRleDsgaW5kZXggPCBzdHIubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgc3dpdGNoIChzdHIuY2hhckNvZGVBdChpbmRleCkpIHtcbiAgICAgIGNhc2UgMzQ6XG4gICAgICAgIGVzY2FwZWQgPSBcIiZxdW90O1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMzg6XG4gICAgICAgIGVzY2FwZWQgPSBcIiZhbXA7XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAzOTpcbiAgICAgICAgZXNjYXBlZCA9IFwiJiMzOTtcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDYwOlxuICAgICAgICBlc2NhcGVkID0gXCImbHQ7XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA2MjpcbiAgICAgICAgZXNjYXBlZCA9IFwiJmd0O1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAobGFzdEluZGV4ICE9PSBpbmRleCkge1xuICAgICAgaHRtbCArPSBzdHIuc2xpY2UobGFzdEluZGV4LCBpbmRleCk7XG4gICAgfVxuICAgIGxhc3RJbmRleCA9IGluZGV4ICsgMTtcbiAgICBodG1sICs9IGVzY2FwZWQ7XG4gIH1cbiAgcmV0dXJuIGxhc3RJbmRleCAhPT0gaW5kZXggPyBodG1sICsgc3RyLnNsaWNlKGxhc3RJbmRleCwgaW5kZXgpIDogaHRtbDtcbn1cbmNvbnN0IGNvbW1lbnRTdHJpcFJFID0gL14tPz58PCEtLXwtLT58LS0hPnw8IS0kL2c7XG5mdW5jdGlvbiBlc2NhcGVIdG1sQ29tbWVudChzcmMpIHtcbiAgcmV0dXJuIHNyYy5yZXBsYWNlKGNvbW1lbnRTdHJpcFJFLCBcIlwiKTtcbn1cbmNvbnN0IGNzc1Zhck5hbWVFc2NhcGVTeW1ib2xzUkUgPSAvWyAhXCIjJCUmJygpKissLi86Ozw9Pj9AW1xcXFxcXF1eYHt8fX5dL2c7XG5mdW5jdGlvbiBnZXRFc2NhcGVkQ3NzVmFyTmFtZShrZXksIGRvdWJsZUVzY2FwZSkge1xuICByZXR1cm4ga2V5LnJlcGxhY2UoXG4gICAgY3NzVmFyTmFtZUVzY2FwZVN5bWJvbHNSRSxcbiAgICAocykgPT4gZG91YmxlRXNjYXBlID8gcyA9PT0gJ1wiJyA/ICdcXFxcXFxcXFxcXFxcIicgOiBgXFxcXFxcXFwke3N9YCA6IGBcXFxcJHtzfWBcbiAgKTtcbn1cblxuZnVuY3Rpb24gbG9vc2VDb21wYXJlQXJyYXlzKGEsIGIpIHtcbiAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICBsZXQgZXF1YWwgPSB0cnVlO1xuICBmb3IgKGxldCBpID0gMDsgZXF1YWwgJiYgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICBlcXVhbCA9IGxvb3NlRXF1YWwoYVtpXSwgYltpXSk7XG4gIH1cbiAgcmV0dXJuIGVxdWFsO1xufVxuZnVuY3Rpb24gbG9vc2VFcXVhbChhLCBiKSB7XG4gIGlmIChhID09PSBiKSByZXR1cm4gdHJ1ZTtcbiAgbGV0IGFWYWxpZFR5cGUgPSBpc0RhdGUoYSk7XG4gIGxldCBiVmFsaWRUeXBlID0gaXNEYXRlKGIpO1xuICBpZiAoYVZhbGlkVHlwZSB8fCBiVmFsaWRUeXBlKSB7XG4gICAgcmV0dXJuIGFWYWxpZFR5cGUgJiYgYlZhbGlkVHlwZSA/IGEuZ2V0VGltZSgpID09PSBiLmdldFRpbWUoKSA6IGZhbHNlO1xuICB9XG4gIGFWYWxpZFR5cGUgPSBpc1N5bWJvbChhKTtcbiAgYlZhbGlkVHlwZSA9IGlzU3ltYm9sKGIpO1xuICBpZiAoYVZhbGlkVHlwZSB8fCBiVmFsaWRUeXBlKSB7XG4gICAgcmV0dXJuIGEgPT09IGI7XG4gIH1cbiAgYVZhbGlkVHlwZSA9IGlzQXJyYXkoYSk7XG4gIGJWYWxpZFR5cGUgPSBpc0FycmF5KGIpO1xuICBpZiAoYVZhbGlkVHlwZSB8fCBiVmFsaWRUeXBlKSB7XG4gICAgcmV0dXJuIGFWYWxpZFR5cGUgJiYgYlZhbGlkVHlwZSA/IGxvb3NlQ29tcGFyZUFycmF5cyhhLCBiKSA6IGZhbHNlO1xuICB9XG4gIGFWYWxpZFR5cGUgPSBpc09iamVjdChhKTtcbiAgYlZhbGlkVHlwZSA9IGlzT2JqZWN0KGIpO1xuICBpZiAoYVZhbGlkVHlwZSB8fCBiVmFsaWRUeXBlKSB7XG4gICAgaWYgKCFhVmFsaWRUeXBlIHx8ICFiVmFsaWRUeXBlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGFLZXlzQ291bnQgPSBPYmplY3Qua2V5cyhhKS5sZW5ndGg7XG4gICAgY29uc3QgYktleXNDb3VudCA9IE9iamVjdC5rZXlzKGIpLmxlbmd0aDtcbiAgICBpZiAoYUtleXNDb3VudCAhPT0gYktleXNDb3VudCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBhKSB7XG4gICAgICBjb25zdCBhSGFzS2V5ID0gYS5oYXNPd25Qcm9wZXJ0eShrZXkpO1xuICAgICAgY29uc3QgYkhhc0tleSA9IGIuaGFzT3duUHJvcGVydHkoa2V5KTtcbiAgICAgIGlmIChhSGFzS2V5ICYmICFiSGFzS2V5IHx8ICFhSGFzS2V5ICYmIGJIYXNLZXkgfHwgIWxvb3NlRXF1YWwoYVtrZXldLCBiW2tleV0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIFN0cmluZyhhKSA9PT0gU3RyaW5nKGIpO1xufVxuZnVuY3Rpb24gbG9vc2VJbmRleE9mKGFyciwgdmFsKSB7XG4gIHJldHVybiBhcnIuZmluZEluZGV4KChpdGVtKSA9PiBsb29zZUVxdWFsKGl0ZW0sIHZhbCkpO1xufVxuXG5jb25zdCBpc1JlZiA9ICh2YWwpID0+IHtcbiAgcmV0dXJuICEhKHZhbCAmJiB2YWxbXCJfX3ZfaXNSZWZcIl0gPT09IHRydWUpO1xufTtcbmNvbnN0IHRvRGlzcGxheVN0cmluZyA9ICh2YWwpID0+IHtcbiAgcmV0dXJuIGlzU3RyaW5nKHZhbCkgPyB2YWwgOiB2YWwgPT0gbnVsbCA/IFwiXCIgOiBpc0FycmF5KHZhbCkgfHwgaXNPYmplY3QodmFsKSAmJiAodmFsLnRvU3RyaW5nID09PSBvYmplY3RUb1N0cmluZyB8fCAhaXNGdW5jdGlvbih2YWwudG9TdHJpbmcpKSA/IGlzUmVmKHZhbCkgPyB0b0Rpc3BsYXlTdHJpbmcodmFsLnZhbHVlKSA6IEpTT04uc3RyaW5naWZ5KHZhbCwgcmVwbGFjZXIsIDIpIDogU3RyaW5nKHZhbCk7XG59O1xuY29uc3QgcmVwbGFjZXIgPSAoX2tleSwgdmFsKSA9PiB7XG4gIGlmIChpc1JlZih2YWwpKSB7XG4gICAgcmV0dXJuIHJlcGxhY2VyKF9rZXksIHZhbC52YWx1ZSk7XG4gIH0gZWxzZSBpZiAoaXNNYXAodmFsKSkge1xuICAgIHJldHVybiB7XG4gICAgICBbYE1hcCgke3ZhbC5zaXplfSlgXTogWy4uLnZhbC5lbnRyaWVzKCldLnJlZHVjZShcbiAgICAgICAgKGVudHJpZXMsIFtrZXksIHZhbDJdLCBpKSA9PiB7XG4gICAgICAgICAgZW50cmllc1tzdHJpbmdpZnlTeW1ib2woa2V5LCBpKSArIFwiID0+XCJdID0gdmFsMjtcbiAgICAgICAgICByZXR1cm4gZW50cmllcztcbiAgICAgICAgfSxcbiAgICAgICAge31cbiAgICAgIClcbiAgICB9O1xuICB9IGVsc2UgaWYgKGlzU2V0KHZhbCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgW2BTZXQoJHt2YWwuc2l6ZX0pYF06IFsuLi52YWwudmFsdWVzKCldLm1hcCgodikgPT4gc3RyaW5naWZ5U3ltYm9sKHYpKVxuICAgIH07XG4gIH0gZWxzZSBpZiAoaXNTeW1ib2wodmFsKSkge1xuICAgIHJldHVybiBzdHJpbmdpZnlTeW1ib2wodmFsKTtcbiAgfSBlbHNlIGlmIChpc09iamVjdCh2YWwpICYmICFpc0FycmF5KHZhbCkgJiYgIWlzUGxhaW5PYmplY3QodmFsKSkge1xuICAgIHJldHVybiBTdHJpbmcodmFsKTtcbiAgfVxuICByZXR1cm4gdmFsO1xufTtcbmNvbnN0IHN0cmluZ2lmeVN5bWJvbCA9ICh2LCBpID0gXCJcIikgPT4ge1xuICB2YXIgX2E7XG4gIHJldHVybiAoXG4gICAgLy8gU3ltYm9sLmRlc2NyaXB0aW9uIGluIGVzMjAxOSsgc28gd2UgbmVlZCB0byBjYXN0IGhlcmUgdG8gcGFzc1xuICAgIC8vIHRoZSBsaWI6IGVzMjAxNiBjaGVja1xuICAgIGlzU3ltYm9sKHYpID8gYFN5bWJvbCgkeyhfYSA9IHYuZGVzY3JpcHRpb24pICE9IG51bGwgPyBfYSA6IGl9KWAgOiB2XG4gICk7XG59O1xuXG5leHBvcnQgeyBFTVBUWV9BUlIsIEVNUFRZX09CSiwgTk8sIE5PT1AsIFBhdGNoRmxhZ05hbWVzLCBQYXRjaEZsYWdzLCBTaGFwZUZsYWdzLCBTbG90RmxhZ3MsIGNhbWVsaXplLCBjYXBpdGFsaXplLCBjc3NWYXJOYW1lRXNjYXBlU3ltYm9sc1JFLCBkZWYsIGVzY2FwZUh0bWwsIGVzY2FwZUh0bWxDb21tZW50LCBleHRlbmQsIGdlbkNhY2hlS2V5LCBnZW5Qcm9wc0FjY2Vzc0V4cCwgZ2VuZXJhdGVDb2RlRnJhbWUsIGdldEVzY2FwZWRDc3NWYXJOYW1lLCBnZXRHbG9iYWxUaGlzLCBoYXNDaGFuZ2VkLCBoYXNPd24sIGh5cGhlbmF0ZSwgaW5jbHVkZUJvb2xlYW5BdHRyLCBpbnZva2VBcnJheUZucywgaXNBcnJheSwgaXNCb29sZWFuQXR0ciwgaXNCdWlsdEluRGlyZWN0aXZlLCBpc0RhdGUsIGlzRnVuY3Rpb24sIGlzR2xvYmFsbHlBbGxvd2VkLCBpc0dsb2JhbGx5V2hpdGVsaXN0ZWQsIGlzSFRNTFRhZywgaXNJbnRlZ2VyS2V5LCBpc0tub3duSHRtbEF0dHIsIGlzS25vd25NYXRoTUxBdHRyLCBpc0tub3duU3ZnQXR0ciwgaXNNYXAsIGlzTWF0aE1MVGFnLCBpc01vZGVsTGlzdGVuZXIsIGlzT2JqZWN0LCBpc09uLCBpc1BsYWluT2JqZWN0LCBpc1Byb21pc2UsIGlzUmVnRXhwLCBpc1JlbmRlcmFibGVBdHRyVmFsdWUsIGlzUmVzZXJ2ZWRQcm9wLCBpc1NTUlNhZmVBdHRyTmFtZSwgaXNTVkdUYWcsIGlzU2V0LCBpc1NwZWNpYWxCb29sZWFuQXR0ciwgaXNTdHJpbmcsIGlzU3ltYm9sLCBpc1ZvaWRUYWcsIGxvb3NlRXF1YWwsIGxvb3NlSW5kZXhPZiwgbG9vc2VUb051bWJlciwgbWFrZU1hcCwgbm9ybWFsaXplQ2xhc3MsIG5vcm1hbGl6ZVByb3BzLCBub3JtYWxpemVTdHlsZSwgb2JqZWN0VG9TdHJpbmcsIHBhcnNlU3RyaW5nU3R5bGUsIHByb3BzVG9BdHRyTWFwLCByZW1vdmUsIHNsb3RGbGFnc1RleHQsIHN0cmluZ2lmeVN0eWxlLCB0b0Rpc3BsYXlTdHJpbmcsIHRvSGFuZGxlcktleSwgdG9OdW1iZXIsIHRvUmF3VHlwZSwgdG9UeXBlU3RyaW5nIH07XG4iLCIvKipcbiogQHZ1ZS9yZWFjdGl2aXR5IHYzLjUuMTNcbiogKGMpIDIwMTgtcHJlc2VudCBZdXhpIChFdmFuKSBZb3UgYW5kIFZ1ZSBjb250cmlidXRvcnNcbiogQGxpY2Vuc2UgTUlUXG4qKi9cbmltcG9ydCB7IGhhc0NoYW5nZWQsIGV4dGVuZCwgaXNBcnJheSwgaXNJbnRlZ2VyS2V5LCBpc1N5bWJvbCwgaXNNYXAsIGhhc093biwgaXNPYmplY3QsIG1ha2VNYXAsIHRvUmF3VHlwZSwgY2FwaXRhbGl6ZSwgZGVmLCBpc0Z1bmN0aW9uLCBFTVBUWV9PQkosIGlzU2V0LCBpc1BsYWluT2JqZWN0LCBOT09QLCByZW1vdmUgfSBmcm9tICdAdnVlL3NoYXJlZCc7XG5cbmZ1bmN0aW9uIHdhcm4obXNnLCAuLi5hcmdzKSB7XG4gIGNvbnNvbGUud2FybihgW1Z1ZSB3YXJuXSAke21zZ31gLCAuLi5hcmdzKTtcbn1cblxubGV0IGFjdGl2ZUVmZmVjdFNjb3BlO1xuY2xhc3MgRWZmZWN0U2NvcGUge1xuICBjb25zdHJ1Y3RvcihkZXRhY2hlZCA9IGZhbHNlKSB7XG4gICAgdGhpcy5kZXRhY2hlZCA9IGRldGFjaGVkO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuX2FjdGl2ZSA9IHRydWU7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5lZmZlY3RzID0gW107XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5jbGVhbnVwcyA9IFtdO1xuICAgIHRoaXMuX2lzUGF1c2VkID0gZmFsc2U7XG4gICAgdGhpcy5wYXJlbnQgPSBhY3RpdmVFZmZlY3RTY29wZTtcbiAgICBpZiAoIWRldGFjaGVkICYmIGFjdGl2ZUVmZmVjdFNjb3BlKSB7XG4gICAgICB0aGlzLmluZGV4ID0gKGFjdGl2ZUVmZmVjdFNjb3BlLnNjb3BlcyB8fCAoYWN0aXZlRWZmZWN0U2NvcGUuc2NvcGVzID0gW10pKS5wdXNoKFxuICAgICAgICB0aGlzXG4gICAgICApIC0gMTtcbiAgICB9XG4gIH1cbiAgZ2V0IGFjdGl2ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fYWN0aXZlO1xuICB9XG4gIHBhdXNlKCkge1xuICAgIGlmICh0aGlzLl9hY3RpdmUpIHtcbiAgICAgIHRoaXMuX2lzUGF1c2VkID0gdHJ1ZTtcbiAgICAgIGxldCBpLCBsO1xuICAgICAgaWYgKHRoaXMuc2NvcGVzKSB7XG4gICAgICAgIGZvciAoaSA9IDAsIGwgPSB0aGlzLnNjb3Blcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICB0aGlzLnNjb3Blc1tpXS5wYXVzZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5lZmZlY3RzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB0aGlzLmVmZmVjdHNbaV0ucGF1c2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJlc3VtZXMgdGhlIGVmZmVjdCBzY29wZSwgaW5jbHVkaW5nIGFsbCBjaGlsZCBzY29wZXMgYW5kIGVmZmVjdHMuXG4gICAqL1xuICByZXN1bWUoKSB7XG4gICAgaWYgKHRoaXMuX2FjdGl2ZSkge1xuICAgICAgaWYgKHRoaXMuX2lzUGF1c2VkKSB7XG4gICAgICAgIHRoaXMuX2lzUGF1c2VkID0gZmFsc2U7XG4gICAgICAgIGxldCBpLCBsO1xuICAgICAgICBpZiAodGhpcy5zY29wZXMpIHtcbiAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5zY29wZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnNjb3Blc1tpXS5yZXN1bWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gMCwgbCA9IHRoaXMuZWZmZWN0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICB0aGlzLmVmZmVjdHNbaV0ucmVzdW1lKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcnVuKGZuKSB7XG4gICAgaWYgKHRoaXMuX2FjdGl2ZSkge1xuICAgICAgY29uc3QgY3VycmVudEVmZmVjdFNjb3BlID0gYWN0aXZlRWZmZWN0U2NvcGU7XG4gICAgICB0cnkge1xuICAgICAgICBhY3RpdmVFZmZlY3RTY29wZSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBmbigpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgYWN0aXZlRWZmZWN0U2NvcGUgPSBjdXJyZW50RWZmZWN0U2NvcGU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuKGBjYW5ub3QgcnVuIGFuIGluYWN0aXZlIGVmZmVjdCBzY29wZS5gKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uIG5vbi1kZXRhY2hlZCBzY29wZXNcbiAgICogQGludGVybmFsXG4gICAqL1xuICBvbigpIHtcbiAgICBhY3RpdmVFZmZlY3RTY29wZSA9IHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uIG5vbi1kZXRhY2hlZCBzY29wZXNcbiAgICogQGludGVybmFsXG4gICAqL1xuICBvZmYoKSB7XG4gICAgYWN0aXZlRWZmZWN0U2NvcGUgPSB0aGlzLnBhcmVudDtcbiAgfVxuICBzdG9wKGZyb21QYXJlbnQpIHtcbiAgICBpZiAodGhpcy5fYWN0aXZlKSB7XG4gICAgICB0aGlzLl9hY3RpdmUgPSBmYWxzZTtcbiAgICAgIGxldCBpLCBsO1xuICAgICAgZm9yIChpID0gMCwgbCA9IHRoaXMuZWZmZWN0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdGhpcy5lZmZlY3RzW2ldLnN0b3AoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZWZmZWN0cy5sZW5ndGggPSAwO1xuICAgICAgZm9yIChpID0gMCwgbCA9IHRoaXMuY2xlYW51cHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHRoaXMuY2xlYW51cHNbaV0oKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2xlYW51cHMubGVuZ3RoID0gMDtcbiAgICAgIGlmICh0aGlzLnNjb3Blcykge1xuICAgICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5zY29wZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgdGhpcy5zY29wZXNbaV0uc3RvcCh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNjb3Blcy5sZW5ndGggPSAwO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLmRldGFjaGVkICYmIHRoaXMucGFyZW50ICYmICFmcm9tUGFyZW50KSB7XG4gICAgICAgIGNvbnN0IGxhc3QgPSB0aGlzLnBhcmVudC5zY29wZXMucG9wKCk7XG4gICAgICAgIGlmIChsYXN0ICYmIGxhc3QgIT09IHRoaXMpIHtcbiAgICAgICAgICB0aGlzLnBhcmVudC5zY29wZXNbdGhpcy5pbmRleF0gPSBsYXN0O1xuICAgICAgICAgIGxhc3QuaW5kZXggPSB0aGlzLmluZGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLnBhcmVudCA9IHZvaWQgMDtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGVmZmVjdFNjb3BlKGRldGFjaGVkKSB7XG4gIHJldHVybiBuZXcgRWZmZWN0U2NvcGUoZGV0YWNoZWQpO1xufVxuZnVuY3Rpb24gZ2V0Q3VycmVudFNjb3BlKCkge1xuICByZXR1cm4gYWN0aXZlRWZmZWN0U2NvcGU7XG59XG5mdW5jdGlvbiBvblNjb3BlRGlzcG9zZShmbiwgZmFpbFNpbGVudGx5ID0gZmFsc2UpIHtcbiAgaWYgKGFjdGl2ZUVmZmVjdFNjb3BlKSB7XG4gICAgYWN0aXZlRWZmZWN0U2NvcGUuY2xlYW51cHMucHVzaChmbik7XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhZmFpbFNpbGVudGx5KSB7XG4gICAgd2FybihcbiAgICAgIGBvblNjb3BlRGlzcG9zZSgpIGlzIGNhbGxlZCB3aGVuIHRoZXJlIGlzIG5vIGFjdGl2ZSBlZmZlY3Qgc2NvcGUgdG8gYmUgYXNzb2NpYXRlZCB3aXRoLmBcbiAgICApO1xuICB9XG59XG5cbmxldCBhY3RpdmVTdWI7XG5jb25zdCBFZmZlY3RGbGFncyA9IHtcbiAgXCJBQ1RJVkVcIjogMSxcbiAgXCIxXCI6IFwiQUNUSVZFXCIsXG4gIFwiUlVOTklOR1wiOiAyLFxuICBcIjJcIjogXCJSVU5OSU5HXCIsXG4gIFwiVFJBQ0tJTkdcIjogNCxcbiAgXCI0XCI6IFwiVFJBQ0tJTkdcIixcbiAgXCJOT1RJRklFRFwiOiA4LFxuICBcIjhcIjogXCJOT1RJRklFRFwiLFxuICBcIkRJUlRZXCI6IDE2LFxuICBcIjE2XCI6IFwiRElSVFlcIixcbiAgXCJBTExPV19SRUNVUlNFXCI6IDMyLFxuICBcIjMyXCI6IFwiQUxMT1dfUkVDVVJTRVwiLFxuICBcIlBBVVNFRFwiOiA2NCxcbiAgXCI2NFwiOiBcIlBBVVNFRFwiXG59O1xuY29uc3QgcGF1c2VkUXVldWVFZmZlY3RzID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrU2V0KCk7XG5jbGFzcyBSZWFjdGl2ZUVmZmVjdCB7XG4gIGNvbnN0cnVjdG9yKGZuKSB7XG4gICAgdGhpcy5mbiA9IGZuO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuZGVwcyA9IHZvaWQgMDtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLmRlcHNUYWlsID0gdm9pZCAwO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuZmxhZ3MgPSAxIHwgNDtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLm5leHQgPSB2b2lkIDA7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5jbGVhbnVwID0gdm9pZCAwO1xuICAgIHRoaXMuc2NoZWR1bGVyID0gdm9pZCAwO1xuICAgIGlmIChhY3RpdmVFZmZlY3RTY29wZSAmJiBhY3RpdmVFZmZlY3RTY29wZS5hY3RpdmUpIHtcbiAgICAgIGFjdGl2ZUVmZmVjdFNjb3BlLmVmZmVjdHMucHVzaCh0aGlzKTtcbiAgICB9XG4gIH1cbiAgcGF1c2UoKSB7XG4gICAgdGhpcy5mbGFncyB8PSA2NDtcbiAgfVxuICByZXN1bWUoKSB7XG4gICAgaWYgKHRoaXMuZmxhZ3MgJiA2NCkge1xuICAgICAgdGhpcy5mbGFncyAmPSB+NjQ7XG4gICAgICBpZiAocGF1c2VkUXVldWVFZmZlY3RzLmhhcyh0aGlzKSkge1xuICAgICAgICBwYXVzZWRRdWV1ZUVmZmVjdHMuZGVsZXRlKHRoaXMpO1xuICAgICAgICB0aGlzLnRyaWdnZXIoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgbm90aWZ5KCkge1xuICAgIGlmICh0aGlzLmZsYWdzICYgMiAmJiAhKHRoaXMuZmxhZ3MgJiAzMikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCEodGhpcy5mbGFncyAmIDgpKSB7XG4gICAgICBiYXRjaCh0aGlzKTtcbiAgICB9XG4gIH1cbiAgcnVuKCkge1xuICAgIGlmICghKHRoaXMuZmxhZ3MgJiAxKSkge1xuICAgICAgcmV0dXJuIHRoaXMuZm4oKTtcbiAgICB9XG4gICAgdGhpcy5mbGFncyB8PSAyO1xuICAgIGNsZWFudXBFZmZlY3QodGhpcyk7XG4gICAgcHJlcGFyZURlcHModGhpcyk7XG4gICAgY29uc3QgcHJldkVmZmVjdCA9IGFjdGl2ZVN1YjtcbiAgICBjb25zdCBwcmV2U2hvdWxkVHJhY2sgPSBzaG91bGRUcmFjaztcbiAgICBhY3RpdmVTdWIgPSB0aGlzO1xuICAgIHNob3VsZFRyYWNrID0gdHJ1ZTtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHRoaXMuZm4oKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgYWN0aXZlU3ViICE9PSB0aGlzKSB7XG4gICAgICAgIHdhcm4oXG4gICAgICAgICAgXCJBY3RpdmUgZWZmZWN0IHdhcyBub3QgcmVzdG9yZWQgY29ycmVjdGx5IC0gdGhpcyBpcyBsaWtlbHkgYSBWdWUgaW50ZXJuYWwgYnVnLlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjbGVhbnVwRGVwcyh0aGlzKTtcbiAgICAgIGFjdGl2ZVN1YiA9IHByZXZFZmZlY3Q7XG4gICAgICBzaG91bGRUcmFjayA9IHByZXZTaG91bGRUcmFjaztcbiAgICAgIHRoaXMuZmxhZ3MgJj0gfjI7XG4gICAgfVxuICB9XG4gIHN0b3AoKSB7XG4gICAgaWYgKHRoaXMuZmxhZ3MgJiAxKSB7XG4gICAgICBmb3IgKGxldCBsaW5rID0gdGhpcy5kZXBzOyBsaW5rOyBsaW5rID0gbGluay5uZXh0RGVwKSB7XG4gICAgICAgIHJlbW92ZVN1YihsaW5rKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZGVwcyA9IHRoaXMuZGVwc1RhaWwgPSB2b2lkIDA7XG4gICAgICBjbGVhbnVwRWZmZWN0KHRoaXMpO1xuICAgICAgdGhpcy5vblN0b3AgJiYgdGhpcy5vblN0b3AoKTtcbiAgICAgIHRoaXMuZmxhZ3MgJj0gfjE7XG4gICAgfVxuICB9XG4gIHRyaWdnZXIoKSB7XG4gICAgaWYgKHRoaXMuZmxhZ3MgJiA2NCkge1xuICAgICAgcGF1c2VkUXVldWVFZmZlY3RzLmFkZCh0aGlzKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc2NoZWR1bGVyKSB7XG4gICAgICB0aGlzLnNjaGVkdWxlcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJ1bklmRGlydHkoKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcnVuSWZEaXJ0eSgpIHtcbiAgICBpZiAoaXNEaXJ0eSh0aGlzKSkge1xuICAgICAgdGhpcy5ydW4oKTtcbiAgICB9XG4gIH1cbiAgZ2V0IGRpcnR5KCkge1xuICAgIHJldHVybiBpc0RpcnR5KHRoaXMpO1xuICB9XG59XG5sZXQgYmF0Y2hEZXB0aCA9IDA7XG5sZXQgYmF0Y2hlZFN1YjtcbmxldCBiYXRjaGVkQ29tcHV0ZWQ7XG5mdW5jdGlvbiBiYXRjaChzdWIsIGlzQ29tcHV0ZWQgPSBmYWxzZSkge1xuICBzdWIuZmxhZ3MgfD0gODtcbiAgaWYgKGlzQ29tcHV0ZWQpIHtcbiAgICBzdWIubmV4dCA9IGJhdGNoZWRDb21wdXRlZDtcbiAgICBiYXRjaGVkQ29tcHV0ZWQgPSBzdWI7XG4gICAgcmV0dXJuO1xuICB9XG4gIHN1Yi5uZXh0ID0gYmF0Y2hlZFN1YjtcbiAgYmF0Y2hlZFN1YiA9IHN1Yjtcbn1cbmZ1bmN0aW9uIHN0YXJ0QmF0Y2goKSB7XG4gIGJhdGNoRGVwdGgrKztcbn1cbmZ1bmN0aW9uIGVuZEJhdGNoKCkge1xuICBpZiAoLS1iYXRjaERlcHRoID4gMCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoYmF0Y2hlZENvbXB1dGVkKSB7XG4gICAgbGV0IGUgPSBiYXRjaGVkQ29tcHV0ZWQ7XG4gICAgYmF0Y2hlZENvbXB1dGVkID0gdm9pZCAwO1xuICAgIHdoaWxlIChlKSB7XG4gICAgICBjb25zdCBuZXh0ID0gZS5uZXh0O1xuICAgICAgZS5uZXh0ID0gdm9pZCAwO1xuICAgICAgZS5mbGFncyAmPSB+ODtcbiAgICAgIGUgPSBuZXh0O1xuICAgIH1cbiAgfVxuICBsZXQgZXJyb3I7XG4gIHdoaWxlIChiYXRjaGVkU3ViKSB7XG4gICAgbGV0IGUgPSBiYXRjaGVkU3ViO1xuICAgIGJhdGNoZWRTdWIgPSB2b2lkIDA7XG4gICAgd2hpbGUgKGUpIHtcbiAgICAgIGNvbnN0IG5leHQgPSBlLm5leHQ7XG4gICAgICBlLm5leHQgPSB2b2lkIDA7XG4gICAgICBlLmZsYWdzICY9IH44O1xuICAgICAgaWYgKGUuZmxhZ3MgJiAxKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgO1xuICAgICAgICAgIGUudHJpZ2dlcigpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZSA9IG5leHQ7XG4gICAgfVxuICB9XG4gIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG59XG5mdW5jdGlvbiBwcmVwYXJlRGVwcyhzdWIpIHtcbiAgZm9yIChsZXQgbGluayA9IHN1Yi5kZXBzOyBsaW5rOyBsaW5rID0gbGluay5uZXh0RGVwKSB7XG4gICAgbGluay52ZXJzaW9uID0gLTE7XG4gICAgbGluay5wcmV2QWN0aXZlTGluayA9IGxpbmsuZGVwLmFjdGl2ZUxpbms7XG4gICAgbGluay5kZXAuYWN0aXZlTGluayA9IGxpbms7XG4gIH1cbn1cbmZ1bmN0aW9uIGNsZWFudXBEZXBzKHN1Yikge1xuICBsZXQgaGVhZDtcbiAgbGV0IHRhaWwgPSBzdWIuZGVwc1RhaWw7XG4gIGxldCBsaW5rID0gdGFpbDtcbiAgd2hpbGUgKGxpbmspIHtcbiAgICBjb25zdCBwcmV2ID0gbGluay5wcmV2RGVwO1xuICAgIGlmIChsaW5rLnZlcnNpb24gPT09IC0xKSB7XG4gICAgICBpZiAobGluayA9PT0gdGFpbCkgdGFpbCA9IHByZXY7XG4gICAgICByZW1vdmVTdWIobGluayk7XG4gICAgICByZW1vdmVEZXAobGluayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhlYWQgPSBsaW5rO1xuICAgIH1cbiAgICBsaW5rLmRlcC5hY3RpdmVMaW5rID0gbGluay5wcmV2QWN0aXZlTGluaztcbiAgICBsaW5rLnByZXZBY3RpdmVMaW5rID0gdm9pZCAwO1xuICAgIGxpbmsgPSBwcmV2O1xuICB9XG4gIHN1Yi5kZXBzID0gaGVhZDtcbiAgc3ViLmRlcHNUYWlsID0gdGFpbDtcbn1cbmZ1bmN0aW9uIGlzRGlydHkoc3ViKSB7XG4gIGZvciAobGV0IGxpbmsgPSBzdWIuZGVwczsgbGluazsgbGluayA9IGxpbmsubmV4dERlcCkge1xuICAgIGlmIChsaW5rLmRlcC52ZXJzaW9uICE9PSBsaW5rLnZlcnNpb24gfHwgbGluay5kZXAuY29tcHV0ZWQgJiYgKHJlZnJlc2hDb21wdXRlZChsaW5rLmRlcC5jb21wdXRlZCkgfHwgbGluay5kZXAudmVyc2lvbiAhPT0gbGluay52ZXJzaW9uKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIGlmIChzdWIuX2RpcnR5KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gcmVmcmVzaENvbXB1dGVkKGNvbXB1dGVkKSB7XG4gIGlmIChjb21wdXRlZC5mbGFncyAmIDQgJiYgIShjb21wdXRlZC5mbGFncyAmIDE2KSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb21wdXRlZC5mbGFncyAmPSB+MTY7XG4gIGlmIChjb21wdXRlZC5nbG9iYWxWZXJzaW9uID09PSBnbG9iYWxWZXJzaW9uKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbXB1dGVkLmdsb2JhbFZlcnNpb24gPSBnbG9iYWxWZXJzaW9uO1xuICBjb25zdCBkZXAgPSBjb21wdXRlZC5kZXA7XG4gIGNvbXB1dGVkLmZsYWdzIHw9IDI7XG4gIGlmIChkZXAudmVyc2lvbiA+IDAgJiYgIWNvbXB1dGVkLmlzU1NSICYmIGNvbXB1dGVkLmRlcHMgJiYgIWlzRGlydHkoY29tcHV0ZWQpKSB7XG4gICAgY29tcHV0ZWQuZmxhZ3MgJj0gfjI7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHByZXZTdWIgPSBhY3RpdmVTdWI7XG4gIGNvbnN0IHByZXZTaG91bGRUcmFjayA9IHNob3VsZFRyYWNrO1xuICBhY3RpdmVTdWIgPSBjb21wdXRlZDtcbiAgc2hvdWxkVHJhY2sgPSB0cnVlO1xuICB0cnkge1xuICAgIHByZXBhcmVEZXBzKGNvbXB1dGVkKTtcbiAgICBjb25zdCB2YWx1ZSA9IGNvbXB1dGVkLmZuKGNvbXB1dGVkLl92YWx1ZSk7XG4gICAgaWYgKGRlcC52ZXJzaW9uID09PSAwIHx8IGhhc0NoYW5nZWQodmFsdWUsIGNvbXB1dGVkLl92YWx1ZSkpIHtcbiAgICAgIGNvbXB1dGVkLl92YWx1ZSA9IHZhbHVlO1xuICAgICAgZGVwLnZlcnNpb24rKztcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGRlcC52ZXJzaW9uKys7XG4gICAgdGhyb3cgZXJyO1xuICB9IGZpbmFsbHkge1xuICAgIGFjdGl2ZVN1YiA9IHByZXZTdWI7XG4gICAgc2hvdWxkVHJhY2sgPSBwcmV2U2hvdWxkVHJhY2s7XG4gICAgY2xlYW51cERlcHMoY29tcHV0ZWQpO1xuICAgIGNvbXB1dGVkLmZsYWdzICY9IH4yO1xuICB9XG59XG5mdW5jdGlvbiByZW1vdmVTdWIobGluaywgc29mdCA9IGZhbHNlKSB7XG4gIGNvbnN0IHsgZGVwLCBwcmV2U3ViLCBuZXh0U3ViIH0gPSBsaW5rO1xuICBpZiAocHJldlN1Yikge1xuICAgIHByZXZTdWIubmV4dFN1YiA9IG5leHRTdWI7XG4gICAgbGluay5wcmV2U3ViID0gdm9pZCAwO1xuICB9XG4gIGlmIChuZXh0U3ViKSB7XG4gICAgbmV4dFN1Yi5wcmV2U3ViID0gcHJldlN1YjtcbiAgICBsaW5rLm5leHRTdWIgPSB2b2lkIDA7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgZGVwLnN1YnNIZWFkID09PSBsaW5rKSB7XG4gICAgZGVwLnN1YnNIZWFkID0gbmV4dFN1YjtcbiAgfVxuICBpZiAoZGVwLnN1YnMgPT09IGxpbmspIHtcbiAgICBkZXAuc3VicyA9IHByZXZTdWI7XG4gICAgaWYgKCFwcmV2U3ViICYmIGRlcC5jb21wdXRlZCkge1xuICAgICAgZGVwLmNvbXB1dGVkLmZsYWdzICY9IH40O1xuICAgICAgZm9yIChsZXQgbCA9IGRlcC5jb21wdXRlZC5kZXBzOyBsOyBsID0gbC5uZXh0RGVwKSB7XG4gICAgICAgIHJlbW92ZVN1YihsLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKCFzb2Z0ICYmICEtLWRlcC5zYyAmJiBkZXAubWFwKSB7XG4gICAgZGVwLm1hcC5kZWxldGUoZGVwLmtleSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlbW92ZURlcChsaW5rKSB7XG4gIGNvbnN0IHsgcHJldkRlcCwgbmV4dERlcCB9ID0gbGluaztcbiAgaWYgKHByZXZEZXApIHtcbiAgICBwcmV2RGVwLm5leHREZXAgPSBuZXh0RGVwO1xuICAgIGxpbmsucHJldkRlcCA9IHZvaWQgMDtcbiAgfVxuICBpZiAobmV4dERlcCkge1xuICAgIG5leHREZXAucHJldkRlcCA9IHByZXZEZXA7XG4gICAgbGluay5uZXh0RGVwID0gdm9pZCAwO1xuICB9XG59XG5mdW5jdGlvbiBlZmZlY3QoZm4sIG9wdGlvbnMpIHtcbiAgaWYgKGZuLmVmZmVjdCBpbnN0YW5jZW9mIFJlYWN0aXZlRWZmZWN0KSB7XG4gICAgZm4gPSBmbi5lZmZlY3QuZm47XG4gIH1cbiAgY29uc3QgZSA9IG5ldyBSZWFjdGl2ZUVmZmVjdChmbik7XG4gIGlmIChvcHRpb25zKSB7XG4gICAgZXh0ZW5kKGUsIG9wdGlvbnMpO1xuICB9XG4gIHRyeSB7XG4gICAgZS5ydW4oKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgZS5zdG9wKCk7XG4gICAgdGhyb3cgZXJyO1xuICB9XG4gIGNvbnN0IHJ1bm5lciA9IGUucnVuLmJpbmQoZSk7XG4gIHJ1bm5lci5lZmZlY3QgPSBlO1xuICByZXR1cm4gcnVubmVyO1xufVxuZnVuY3Rpb24gc3RvcChydW5uZXIpIHtcbiAgcnVubmVyLmVmZmVjdC5zdG9wKCk7XG59XG5sZXQgc2hvdWxkVHJhY2sgPSB0cnVlO1xuY29uc3QgdHJhY2tTdGFjayA9IFtdO1xuZnVuY3Rpb24gcGF1c2VUcmFja2luZygpIHtcbiAgdHJhY2tTdGFjay5wdXNoKHNob3VsZFRyYWNrKTtcbiAgc2hvdWxkVHJhY2sgPSBmYWxzZTtcbn1cbmZ1bmN0aW9uIGVuYWJsZVRyYWNraW5nKCkge1xuICB0cmFja1N0YWNrLnB1c2goc2hvdWxkVHJhY2spO1xuICBzaG91bGRUcmFjayA9IHRydWU7XG59XG5mdW5jdGlvbiByZXNldFRyYWNraW5nKCkge1xuICBjb25zdCBsYXN0ID0gdHJhY2tTdGFjay5wb3AoKTtcbiAgc2hvdWxkVHJhY2sgPSBsYXN0ID09PSB2b2lkIDAgPyB0cnVlIDogbGFzdDtcbn1cbmZ1bmN0aW9uIG9uRWZmZWN0Q2xlYW51cChmbiwgZmFpbFNpbGVudGx5ID0gZmFsc2UpIHtcbiAgaWYgKGFjdGl2ZVN1YiBpbnN0YW5jZW9mIFJlYWN0aXZlRWZmZWN0KSB7XG4gICAgYWN0aXZlU3ViLmNsZWFudXAgPSBmbjtcbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFmYWlsU2lsZW50bHkpIHtcbiAgICB3YXJuKFxuICAgICAgYG9uRWZmZWN0Q2xlYW51cCgpIHdhcyBjYWxsZWQgd2hlbiB0aGVyZSB3YXMgbm8gYWN0aXZlIGVmZmVjdCB0byBhc3NvY2lhdGUgd2l0aC5gXG4gICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gY2xlYW51cEVmZmVjdChlKSB7XG4gIGNvbnN0IHsgY2xlYW51cCB9ID0gZTtcbiAgZS5jbGVhbnVwID0gdm9pZCAwO1xuICBpZiAoY2xlYW51cCkge1xuICAgIGNvbnN0IHByZXZTdWIgPSBhY3RpdmVTdWI7XG4gICAgYWN0aXZlU3ViID0gdm9pZCAwO1xuICAgIHRyeSB7XG4gICAgICBjbGVhbnVwKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGFjdGl2ZVN1YiA9IHByZXZTdWI7XG4gICAgfVxuICB9XG59XG5cbmxldCBnbG9iYWxWZXJzaW9uID0gMDtcbmNsYXNzIExpbmsge1xuICBjb25zdHJ1Y3RvcihzdWIsIGRlcCkge1xuICAgIHRoaXMuc3ViID0gc3ViO1xuICAgIHRoaXMuZGVwID0gZGVwO1xuICAgIHRoaXMudmVyc2lvbiA9IGRlcC52ZXJzaW9uO1xuICAgIHRoaXMubmV4dERlcCA9IHRoaXMucHJldkRlcCA9IHRoaXMubmV4dFN1YiA9IHRoaXMucHJldlN1YiA9IHRoaXMucHJldkFjdGl2ZUxpbmsgPSB2b2lkIDA7XG4gIH1cbn1cbmNsYXNzIERlcCB7XG4gIGNvbnN0cnVjdG9yKGNvbXB1dGVkKSB7XG4gICAgdGhpcy5jb21wdXRlZCA9IGNvbXB1dGVkO1xuICAgIHRoaXMudmVyc2lvbiA9IDA7XG4gICAgLyoqXG4gICAgICogTGluayBiZXR3ZWVuIHRoaXMgZGVwIGFuZCB0aGUgY3VycmVudCBhY3RpdmUgZWZmZWN0XG4gICAgICovXG4gICAgdGhpcy5hY3RpdmVMaW5rID0gdm9pZCAwO1xuICAgIC8qKlxuICAgICAqIERvdWJseSBsaW5rZWQgbGlzdCByZXByZXNlbnRpbmcgdGhlIHN1YnNjcmliaW5nIGVmZmVjdHMgKHRhaWwpXG4gICAgICovXG4gICAgdGhpcy5zdWJzID0gdm9pZCAwO1xuICAgIC8qKlxuICAgICAqIEZvciBvYmplY3QgcHJvcGVydHkgZGVwcyBjbGVhbnVwXG4gICAgICovXG4gICAgdGhpcy5tYXAgPSB2b2lkIDA7XG4gICAgdGhpcy5rZXkgPSB2b2lkIDA7XG4gICAgLyoqXG4gICAgICogU3Vic2NyaWJlciBjb3VudGVyXG4gICAgICovXG4gICAgdGhpcy5zYyA9IDA7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHRoaXMuc3Vic0hlYWQgPSB2b2lkIDA7XG4gICAgfVxuICB9XG4gIHRyYWNrKGRlYnVnSW5mbykge1xuICAgIGlmICghYWN0aXZlU3ViIHx8ICFzaG91bGRUcmFjayB8fCBhY3RpdmVTdWIgPT09IHRoaXMuY29tcHV0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGxpbmsgPSB0aGlzLmFjdGl2ZUxpbms7XG4gICAgaWYgKGxpbmsgPT09IHZvaWQgMCB8fCBsaW5rLnN1YiAhPT0gYWN0aXZlU3ViKSB7XG4gICAgICBsaW5rID0gdGhpcy5hY3RpdmVMaW5rID0gbmV3IExpbmsoYWN0aXZlU3ViLCB0aGlzKTtcbiAgICAgIGlmICghYWN0aXZlU3ViLmRlcHMpIHtcbiAgICAgICAgYWN0aXZlU3ViLmRlcHMgPSBhY3RpdmVTdWIuZGVwc1RhaWwgPSBsaW5rO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGluay5wcmV2RGVwID0gYWN0aXZlU3ViLmRlcHNUYWlsO1xuICAgICAgICBhY3RpdmVTdWIuZGVwc1RhaWwubmV4dERlcCA9IGxpbms7XG4gICAgICAgIGFjdGl2ZVN1Yi5kZXBzVGFpbCA9IGxpbms7XG4gICAgICB9XG4gICAgICBhZGRTdWIobGluayk7XG4gICAgfSBlbHNlIGlmIChsaW5rLnZlcnNpb24gPT09IC0xKSB7XG4gICAgICBsaW5rLnZlcnNpb24gPSB0aGlzLnZlcnNpb247XG4gICAgICBpZiAobGluay5uZXh0RGVwKSB7XG4gICAgICAgIGNvbnN0IG5leHQgPSBsaW5rLm5leHREZXA7XG4gICAgICAgIG5leHQucHJldkRlcCA9IGxpbmsucHJldkRlcDtcbiAgICAgICAgaWYgKGxpbmsucHJldkRlcCkge1xuICAgICAgICAgIGxpbmsucHJldkRlcC5uZXh0RGVwID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICBsaW5rLnByZXZEZXAgPSBhY3RpdmVTdWIuZGVwc1RhaWw7XG4gICAgICAgIGxpbmsubmV4dERlcCA9IHZvaWQgMDtcbiAgICAgICAgYWN0aXZlU3ViLmRlcHNUYWlsLm5leHREZXAgPSBsaW5rO1xuICAgICAgICBhY3RpdmVTdWIuZGVwc1RhaWwgPSBsaW5rO1xuICAgICAgICBpZiAoYWN0aXZlU3ViLmRlcHMgPT09IGxpbmspIHtcbiAgICAgICAgICBhY3RpdmVTdWIuZGVwcyA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgYWN0aXZlU3ViLm9uVHJhY2spIHtcbiAgICAgIGFjdGl2ZVN1Yi5vblRyYWNrKFxuICAgICAgICBleHRlbmQoXG4gICAgICAgICAge1xuICAgICAgICAgICAgZWZmZWN0OiBhY3RpdmVTdWJcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRlYnVnSW5mb1xuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbGluaztcbiAgfVxuICB0cmlnZ2VyKGRlYnVnSW5mbykge1xuICAgIHRoaXMudmVyc2lvbisrO1xuICAgIGdsb2JhbFZlcnNpb24rKztcbiAgICB0aGlzLm5vdGlmeShkZWJ1Z0luZm8pO1xuICB9XG4gIG5vdGlmeShkZWJ1Z0luZm8pIHtcbiAgICBzdGFydEJhdGNoKCk7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIGZvciAobGV0IGhlYWQgPSB0aGlzLnN1YnNIZWFkOyBoZWFkOyBoZWFkID0gaGVhZC5uZXh0U3ViKSB7XG4gICAgICAgICAgaWYgKGhlYWQuc3ViLm9uVHJpZ2dlciAmJiAhKGhlYWQuc3ViLmZsYWdzICYgOCkpIHtcbiAgICAgICAgICAgIGhlYWQuc3ViLm9uVHJpZ2dlcihcbiAgICAgICAgICAgICAgZXh0ZW5kKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGVmZmVjdDogaGVhZC5zdWJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRlYnVnSW5mb1xuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yIChsZXQgbGluayA9IHRoaXMuc3ViczsgbGluazsgbGluayA9IGxpbmsucHJldlN1Yikge1xuICAgICAgICBpZiAobGluay5zdWIubm90aWZ5KCkpIHtcbiAgICAgICAgICA7XG4gICAgICAgICAgbGluay5zdWIuZGVwLm5vdGlmeSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGVuZEJhdGNoKCk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBhZGRTdWIobGluaykge1xuICBsaW5rLmRlcC5zYysrO1xuICBpZiAobGluay5zdWIuZmxhZ3MgJiA0KSB7XG4gICAgY29uc3QgY29tcHV0ZWQgPSBsaW5rLmRlcC5jb21wdXRlZDtcbiAgICBpZiAoY29tcHV0ZWQgJiYgIWxpbmsuZGVwLnN1YnMpIHtcbiAgICAgIGNvbXB1dGVkLmZsYWdzIHw9IDQgfCAxNjtcbiAgICAgIGZvciAobGV0IGwgPSBjb21wdXRlZC5kZXBzOyBsOyBsID0gbC5uZXh0RGVwKSB7XG4gICAgICAgIGFkZFN1YihsKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgY3VycmVudFRhaWwgPSBsaW5rLmRlcC5zdWJzO1xuICAgIGlmIChjdXJyZW50VGFpbCAhPT0gbGluaykge1xuICAgICAgbGluay5wcmV2U3ViID0gY3VycmVudFRhaWw7XG4gICAgICBpZiAoY3VycmVudFRhaWwpIGN1cnJlbnRUYWlsLm5leHRTdWIgPSBsaW5rO1xuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBsaW5rLmRlcC5zdWJzSGVhZCA9PT0gdm9pZCAwKSB7XG4gICAgICBsaW5rLmRlcC5zdWJzSGVhZCA9IGxpbms7XG4gICAgfVxuICAgIGxpbmsuZGVwLnN1YnMgPSBsaW5rO1xuICB9XG59XG5jb25zdCB0YXJnZXRNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IElURVJBVEVfS0VZID0gU3ltYm9sKFxuICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gXCJPYmplY3QgaXRlcmF0ZVwiIDogXCJcIlxuKTtcbmNvbnN0IE1BUF9LRVlfSVRFUkFURV9LRVkgPSBTeW1ib2woXG4gICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBcIk1hcCBrZXlzIGl0ZXJhdGVcIiA6IFwiXCJcbik7XG5jb25zdCBBUlJBWV9JVEVSQVRFX0tFWSA9IFN5bWJvbChcbiAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IFwiQXJyYXkgaXRlcmF0ZVwiIDogXCJcIlxuKTtcbmZ1bmN0aW9uIHRyYWNrKHRhcmdldCwgdHlwZSwga2V5KSB7XG4gIGlmIChzaG91bGRUcmFjayAmJiBhY3RpdmVTdWIpIHtcbiAgICBsZXQgZGVwc01hcCA9IHRhcmdldE1hcC5nZXQodGFyZ2V0KTtcbiAgICBpZiAoIWRlcHNNYXApIHtcbiAgICAgIHRhcmdldE1hcC5zZXQodGFyZ2V0LCBkZXBzTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSk7XG4gICAgfVxuICAgIGxldCBkZXAgPSBkZXBzTWFwLmdldChrZXkpO1xuICAgIGlmICghZGVwKSB7XG4gICAgICBkZXBzTWFwLnNldChrZXksIGRlcCA9IG5ldyBEZXAoKSk7XG4gICAgICBkZXAubWFwID0gZGVwc01hcDtcbiAgICAgIGRlcC5rZXkgPSBrZXk7XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBkZXAudHJhY2soe1xuICAgICAgICB0YXJnZXQsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIGtleVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlcC50cmFjaygpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gdHJpZ2dlcih0YXJnZXQsIHR5cGUsIGtleSwgbmV3VmFsdWUsIG9sZFZhbHVlLCBvbGRUYXJnZXQpIHtcbiAgY29uc3QgZGVwc01hcCA9IHRhcmdldE1hcC5nZXQodGFyZ2V0KTtcbiAgaWYgKCFkZXBzTWFwKSB7XG4gICAgZ2xvYmFsVmVyc2lvbisrO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBydW4gPSAoZGVwKSA9PiB7XG4gICAgaWYgKGRlcCkge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgZGVwLnRyaWdnZXIoe1xuICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICB0eXBlLFxuICAgICAgICAgIGtleSxcbiAgICAgICAgICBuZXdWYWx1ZSxcbiAgICAgICAgICBvbGRWYWx1ZSxcbiAgICAgICAgICBvbGRUYXJnZXRcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZXAudHJpZ2dlcigpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgc3RhcnRCYXRjaCgpO1xuICBpZiAodHlwZSA9PT0gXCJjbGVhclwiKSB7XG4gICAgZGVwc01hcC5mb3JFYWNoKHJ1bik7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgdGFyZ2V0SXNBcnJheSA9IGlzQXJyYXkodGFyZ2V0KTtcbiAgICBjb25zdCBpc0FycmF5SW5kZXggPSB0YXJnZXRJc0FycmF5ICYmIGlzSW50ZWdlcktleShrZXkpO1xuICAgIGlmICh0YXJnZXRJc0FycmF5ICYmIGtleSA9PT0gXCJsZW5ndGhcIikge1xuICAgICAgY29uc3QgbmV3TGVuZ3RoID0gTnVtYmVyKG5ld1ZhbHVlKTtcbiAgICAgIGRlcHNNYXAuZm9yRWFjaCgoZGVwLCBrZXkyKSA9PiB7XG4gICAgICAgIGlmIChrZXkyID09PSBcImxlbmd0aFwiIHx8IGtleTIgPT09IEFSUkFZX0lURVJBVEVfS0VZIHx8ICFpc1N5bWJvbChrZXkyKSAmJiBrZXkyID49IG5ld0xlbmd0aCkge1xuICAgICAgICAgIHJ1bihkZXApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGtleSAhPT0gdm9pZCAwIHx8IGRlcHNNYXAuaGFzKHZvaWQgMCkpIHtcbiAgICAgICAgcnVuKGRlcHNNYXAuZ2V0KGtleSkpO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlJbmRleCkge1xuICAgICAgICBydW4oZGVwc01hcC5nZXQoQVJSQVlfSVRFUkFURV9LRVkpKTtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwiYWRkXCI6XG4gICAgICAgICAgaWYgKCF0YXJnZXRJc0FycmF5KSB7XG4gICAgICAgICAgICBydW4oZGVwc01hcC5nZXQoSVRFUkFURV9LRVkpKTtcbiAgICAgICAgICAgIGlmIChpc01hcCh0YXJnZXQpKSB7XG4gICAgICAgICAgICAgIHJ1bihkZXBzTWFwLmdldChNQVBfS0VZX0lURVJBVEVfS0VZKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5SW5kZXgpIHtcbiAgICAgICAgICAgIHJ1bihkZXBzTWFwLmdldChcImxlbmd0aFwiKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZGVsZXRlXCI6XG4gICAgICAgICAgaWYgKCF0YXJnZXRJc0FycmF5KSB7XG4gICAgICAgICAgICBydW4oZGVwc01hcC5nZXQoSVRFUkFURV9LRVkpKTtcbiAgICAgICAgICAgIGlmIChpc01hcCh0YXJnZXQpKSB7XG4gICAgICAgICAgICAgIHJ1bihkZXBzTWFwLmdldChNQVBfS0VZX0lURVJBVEVfS0VZKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic2V0XCI6XG4gICAgICAgICAgaWYgKGlzTWFwKHRhcmdldCkpIHtcbiAgICAgICAgICAgIHJ1bihkZXBzTWFwLmdldChJVEVSQVRFX0tFWSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZW5kQmF0Y2goKTtcbn1cbmZ1bmN0aW9uIGdldERlcEZyb21SZWFjdGl2ZShvYmplY3QsIGtleSkge1xuICBjb25zdCBkZXBNYXAgPSB0YXJnZXRNYXAuZ2V0KG9iamVjdCk7XG4gIHJldHVybiBkZXBNYXAgJiYgZGVwTWFwLmdldChrZXkpO1xufVxuXG5mdW5jdGlvbiByZWFjdGl2ZVJlYWRBcnJheShhcnJheSkge1xuICBjb25zdCByYXcgPSB0b1JhdyhhcnJheSk7XG4gIGlmIChyYXcgPT09IGFycmF5KSByZXR1cm4gcmF3O1xuICB0cmFjayhyYXcsIFwiaXRlcmF0ZVwiLCBBUlJBWV9JVEVSQVRFX0tFWSk7XG4gIHJldHVybiBpc1NoYWxsb3coYXJyYXkpID8gcmF3IDogcmF3Lm1hcCh0b1JlYWN0aXZlKTtcbn1cbmZ1bmN0aW9uIHNoYWxsb3dSZWFkQXJyYXkoYXJyKSB7XG4gIHRyYWNrKGFyciA9IHRvUmF3KGFyciksIFwiaXRlcmF0ZVwiLCBBUlJBWV9JVEVSQVRFX0tFWSk7XG4gIHJldHVybiBhcnI7XG59XG5jb25zdCBhcnJheUluc3RydW1lbnRhdGlvbnMgPSB7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgcmV0dXJuIGl0ZXJhdG9yKHRoaXMsIFN5bWJvbC5pdGVyYXRvciwgdG9SZWFjdGl2ZSk7XG4gIH0sXG4gIGNvbmNhdCguLi5hcmdzKSB7XG4gICAgcmV0dXJuIHJlYWN0aXZlUmVhZEFycmF5KHRoaXMpLmNvbmNhdChcbiAgICAgIC4uLmFyZ3MubWFwKCh4KSA9PiBpc0FycmF5KHgpID8gcmVhY3RpdmVSZWFkQXJyYXkoeCkgOiB4KVxuICAgICk7XG4gIH0sXG4gIGVudHJpZXMoKSB7XG4gICAgcmV0dXJuIGl0ZXJhdG9yKHRoaXMsIFwiZW50cmllc1wiLCAodmFsdWUpID0+IHtcbiAgICAgIHZhbHVlWzFdID0gdG9SZWFjdGl2ZSh2YWx1ZVsxXSk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSk7XG4gIH0sXG4gIGV2ZXJ5KGZuLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGFwcGx5KHRoaXMsIFwiZXZlcnlcIiwgZm4sIHRoaXNBcmcsIHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgfSxcbiAgZmlsdGVyKGZuLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGFwcGx5KHRoaXMsIFwiZmlsdGVyXCIsIGZuLCB0aGlzQXJnLCAodikgPT4gdi5tYXAodG9SZWFjdGl2ZSksIGFyZ3VtZW50cyk7XG4gIH0sXG4gIGZpbmQoZm4sIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gYXBwbHkodGhpcywgXCJmaW5kXCIsIGZuLCB0aGlzQXJnLCB0b1JlYWN0aXZlLCBhcmd1bWVudHMpO1xuICB9LFxuICBmaW5kSW5kZXgoZm4sIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gYXBwbHkodGhpcywgXCJmaW5kSW5kZXhcIiwgZm4sIHRoaXNBcmcsIHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgfSxcbiAgZmluZExhc3QoZm4sIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gYXBwbHkodGhpcywgXCJmaW5kTGFzdFwiLCBmbiwgdGhpc0FyZywgdG9SZWFjdGl2ZSwgYXJndW1lbnRzKTtcbiAgfSxcbiAgZmluZExhc3RJbmRleChmbiwgdGhpc0FyZykge1xuICAgIHJldHVybiBhcHBseSh0aGlzLCBcImZpbmRMYXN0SW5kZXhcIiwgZm4sIHRoaXNBcmcsIHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgfSxcbiAgLy8gZmxhdCwgZmxhdE1hcCBjb3VsZCBiZW5lZml0IGZyb20gQVJSQVlfSVRFUkFURSBidXQgYXJlIG5vdCBzdHJhaWdodC1mb3J3YXJkIHRvIGltcGxlbWVudFxuICBmb3JFYWNoKGZuLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGFwcGx5KHRoaXMsIFwiZm9yRWFjaFwiLCBmbiwgdGhpc0FyZywgdm9pZCAwLCBhcmd1bWVudHMpO1xuICB9LFxuICBpbmNsdWRlcyguLi5hcmdzKSB7XG4gICAgcmV0dXJuIHNlYXJjaFByb3h5KHRoaXMsIFwiaW5jbHVkZXNcIiwgYXJncyk7XG4gIH0sXG4gIGluZGV4T2YoLi4uYXJncykge1xuICAgIHJldHVybiBzZWFyY2hQcm94eSh0aGlzLCBcImluZGV4T2ZcIiwgYXJncyk7XG4gIH0sXG4gIGpvaW4oc2VwYXJhdG9yKSB7XG4gICAgcmV0dXJuIHJlYWN0aXZlUmVhZEFycmF5KHRoaXMpLmpvaW4oc2VwYXJhdG9yKTtcbiAgfSxcbiAgLy8ga2V5cygpIGl0ZXJhdG9yIG9ubHkgcmVhZHMgYGxlbmd0aGAsIG5vIG9wdGltaXNhdGlvbiByZXF1aXJlZFxuICBsYXN0SW5kZXhPZiguLi5hcmdzKSB7XG4gICAgcmV0dXJuIHNlYXJjaFByb3h5KHRoaXMsIFwibGFzdEluZGV4T2ZcIiwgYXJncyk7XG4gIH0sXG4gIG1hcChmbiwgdGhpc0FyZykge1xuICAgIHJldHVybiBhcHBseSh0aGlzLCBcIm1hcFwiLCBmbiwgdGhpc0FyZywgdm9pZCAwLCBhcmd1bWVudHMpO1xuICB9LFxuICBwb3AoKSB7XG4gICAgcmV0dXJuIG5vVHJhY2tpbmcodGhpcywgXCJwb3BcIik7XG4gIH0sXG4gIHB1c2goLi4uYXJncykge1xuICAgIHJldHVybiBub1RyYWNraW5nKHRoaXMsIFwicHVzaFwiLCBhcmdzKTtcbiAgfSxcbiAgcmVkdWNlKGZuLCAuLi5hcmdzKSB7XG4gICAgcmV0dXJuIHJlZHVjZSh0aGlzLCBcInJlZHVjZVwiLCBmbiwgYXJncyk7XG4gIH0sXG4gIHJlZHVjZVJpZ2h0KGZuLCAuLi5hcmdzKSB7XG4gICAgcmV0dXJuIHJlZHVjZSh0aGlzLCBcInJlZHVjZVJpZ2h0XCIsIGZuLCBhcmdzKTtcbiAgfSxcbiAgc2hpZnQoKSB7XG4gICAgcmV0dXJuIG5vVHJhY2tpbmcodGhpcywgXCJzaGlmdFwiKTtcbiAgfSxcbiAgLy8gc2xpY2UgY291bGQgdXNlIEFSUkFZX0lURVJBVEUgYnV0IGFsc28gc2VlbXMgdG8gYmVnIGZvciByYW5nZSB0cmFja2luZ1xuICBzb21lKGZuLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGFwcGx5KHRoaXMsIFwic29tZVwiLCBmbiwgdGhpc0FyZywgdm9pZCAwLCBhcmd1bWVudHMpO1xuICB9LFxuICBzcGxpY2UoLi4uYXJncykge1xuICAgIHJldHVybiBub1RyYWNraW5nKHRoaXMsIFwic3BsaWNlXCIsIGFyZ3MpO1xuICB9LFxuICB0b1JldmVyc2VkKCkge1xuICAgIHJldHVybiByZWFjdGl2ZVJlYWRBcnJheSh0aGlzKS50b1JldmVyc2VkKCk7XG4gIH0sXG4gIHRvU29ydGVkKGNvbXBhcmVyKSB7XG4gICAgcmV0dXJuIHJlYWN0aXZlUmVhZEFycmF5KHRoaXMpLnRvU29ydGVkKGNvbXBhcmVyKTtcbiAgfSxcbiAgdG9TcGxpY2VkKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gcmVhY3RpdmVSZWFkQXJyYXkodGhpcykudG9TcGxpY2VkKC4uLmFyZ3MpO1xuICB9LFxuICB1bnNoaWZ0KC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gbm9UcmFja2luZyh0aGlzLCBcInVuc2hpZnRcIiwgYXJncyk7XG4gIH0sXG4gIHZhbHVlcygpIHtcbiAgICByZXR1cm4gaXRlcmF0b3IodGhpcywgXCJ2YWx1ZXNcIiwgdG9SZWFjdGl2ZSk7XG4gIH1cbn07XG5mdW5jdGlvbiBpdGVyYXRvcihzZWxmLCBtZXRob2QsIHdyYXBWYWx1ZSkge1xuICBjb25zdCBhcnIgPSBzaGFsbG93UmVhZEFycmF5KHNlbGYpO1xuICBjb25zdCBpdGVyID0gYXJyW21ldGhvZF0oKTtcbiAgaWYgKGFyciAhPT0gc2VsZiAmJiAhaXNTaGFsbG93KHNlbGYpKSB7XG4gICAgaXRlci5fbmV4dCA9IGl0ZXIubmV4dDtcbiAgICBpdGVyLm5leHQgPSAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBpdGVyLl9uZXh0KCk7XG4gICAgICBpZiAocmVzdWx0LnZhbHVlKSB7XG4gICAgICAgIHJlc3VsdC52YWx1ZSA9IHdyYXBWYWx1ZShyZXN1bHQudmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9XG4gIHJldHVybiBpdGVyO1xufVxuY29uc3QgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcbmZ1bmN0aW9uIGFwcGx5KHNlbGYsIG1ldGhvZCwgZm4sIHRoaXNBcmcsIHdyYXBwZWRSZXRGbiwgYXJncykge1xuICBjb25zdCBhcnIgPSBzaGFsbG93UmVhZEFycmF5KHNlbGYpO1xuICBjb25zdCBuZWVkc1dyYXAgPSBhcnIgIT09IHNlbGYgJiYgIWlzU2hhbGxvdyhzZWxmKTtcbiAgY29uc3QgbWV0aG9kRm4gPSBhcnJbbWV0aG9kXTtcbiAgaWYgKG1ldGhvZEZuICE9PSBhcnJheVByb3RvW21ldGhvZF0pIHtcbiAgICBjb25zdCByZXN1bHQyID0gbWV0aG9kRm4uYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgcmV0dXJuIG5lZWRzV3JhcCA/IHRvUmVhY3RpdmUocmVzdWx0MikgOiByZXN1bHQyO1xuICB9XG4gIGxldCB3cmFwcGVkRm4gPSBmbjtcbiAgaWYgKGFyciAhPT0gc2VsZikge1xuICAgIGlmIChuZWVkc1dyYXApIHtcbiAgICAgIHdyYXBwZWRGbiA9IGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIHRvUmVhY3RpdmUoaXRlbSksIGluZGV4LCBzZWxmKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChmbi5sZW5ndGggPiAyKSB7XG4gICAgICB3cmFwcGVkRm4gPSBmdW5jdGlvbihpdGVtLCBpbmRleCkge1xuICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCBpdGVtLCBpbmRleCwgc2VsZik7XG4gICAgICB9O1xuICAgIH1cbiAgfVxuICBjb25zdCByZXN1bHQgPSBtZXRob2RGbi5jYWxsKGFyciwgd3JhcHBlZEZuLCB0aGlzQXJnKTtcbiAgcmV0dXJuIG5lZWRzV3JhcCAmJiB3cmFwcGVkUmV0Rm4gPyB3cmFwcGVkUmV0Rm4ocmVzdWx0KSA6IHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHJlZHVjZShzZWxmLCBtZXRob2QsIGZuLCBhcmdzKSB7XG4gIGNvbnN0IGFyciA9IHNoYWxsb3dSZWFkQXJyYXkoc2VsZik7XG4gIGxldCB3cmFwcGVkRm4gPSBmbjtcbiAgaWYgKGFyciAhPT0gc2VsZikge1xuICAgIGlmICghaXNTaGFsbG93KHNlbGYpKSB7XG4gICAgICB3cmFwcGVkRm4gPSBmdW5jdGlvbihhY2MsIGl0ZW0sIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIGFjYywgdG9SZWFjdGl2ZShpdGVtKSwgaW5kZXgsIHNlbGYpO1xuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGZuLmxlbmd0aCA+IDMpIHtcbiAgICAgIHdyYXBwZWRGbiA9IGZ1bmN0aW9uKGFjYywgaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhpcywgYWNjLCBpdGVtLCBpbmRleCwgc2VsZik7XG4gICAgICB9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gYXJyW21ldGhvZF0od3JhcHBlZEZuLCAuLi5hcmdzKTtcbn1cbmZ1bmN0aW9uIHNlYXJjaFByb3h5KHNlbGYsIG1ldGhvZCwgYXJncykge1xuICBjb25zdCBhcnIgPSB0b1JhdyhzZWxmKTtcbiAgdHJhY2soYXJyLCBcIml0ZXJhdGVcIiwgQVJSQVlfSVRFUkFURV9LRVkpO1xuICBjb25zdCByZXMgPSBhcnJbbWV0aG9kXSguLi5hcmdzKTtcbiAgaWYgKChyZXMgPT09IC0xIHx8IHJlcyA9PT0gZmFsc2UpICYmIGlzUHJveHkoYXJnc1swXSkpIHtcbiAgICBhcmdzWzBdID0gdG9SYXcoYXJnc1swXSk7XG4gICAgcmV0dXJuIGFyclttZXRob2RdKC4uLmFyZ3MpO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBub1RyYWNraW5nKHNlbGYsIG1ldGhvZCwgYXJncyA9IFtdKSB7XG4gIHBhdXNlVHJhY2tpbmcoKTtcbiAgc3RhcnRCYXRjaCgpO1xuICBjb25zdCByZXMgPSB0b1JhdyhzZWxmKVttZXRob2RdLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICBlbmRCYXRjaCgpO1xuICByZXNldFRyYWNraW5nKCk7XG4gIHJldHVybiByZXM7XG59XG5cbmNvbnN0IGlzTm9uVHJhY2thYmxlS2V5cyA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKGBfX3Byb3RvX18sX192X2lzUmVmLF9faXNWdWVgKTtcbmNvbnN0IGJ1aWx0SW5TeW1ib2xzID0gbmV3IFNldChcbiAgLyogQF9fUFVSRV9fICovIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKFN5bWJvbCkuZmlsdGVyKChrZXkpID0+IGtleSAhPT0gXCJhcmd1bWVudHNcIiAmJiBrZXkgIT09IFwiY2FsbGVyXCIpLm1hcCgoa2V5KSA9PiBTeW1ib2xba2V5XSkuZmlsdGVyKGlzU3ltYm9sKVxuKTtcbmZ1bmN0aW9uIGhhc093blByb3BlcnR5KGtleSkge1xuICBpZiAoIWlzU3ltYm9sKGtleSkpIGtleSA9IFN0cmluZyhrZXkpO1xuICBjb25zdCBvYmogPSB0b1Jhdyh0aGlzKTtcbiAgdHJhY2sob2JqLCBcImhhc1wiLCBrZXkpO1xuICByZXR1cm4gb2JqLmhhc093blByb3BlcnR5KGtleSk7XG59XG5jbGFzcyBCYXNlUmVhY3RpdmVIYW5kbGVyIHtcbiAgY29uc3RydWN0b3IoX2lzUmVhZG9ubHkgPSBmYWxzZSwgX2lzU2hhbGxvdyA9IGZhbHNlKSB7XG4gICAgdGhpcy5faXNSZWFkb25seSA9IF9pc1JlYWRvbmx5O1xuICAgIHRoaXMuX2lzU2hhbGxvdyA9IF9pc1NoYWxsb3c7XG4gIH1cbiAgZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcikge1xuICAgIGlmIChrZXkgPT09IFwiX192X3NraXBcIikgcmV0dXJuIHRhcmdldFtcIl9fdl9za2lwXCJdO1xuICAgIGNvbnN0IGlzUmVhZG9ubHkyID0gdGhpcy5faXNSZWFkb25seSwgaXNTaGFsbG93MiA9IHRoaXMuX2lzU2hhbGxvdztcbiAgICBpZiAoa2V5ID09PSBcIl9fdl9pc1JlYWN0aXZlXCIpIHtcbiAgICAgIHJldHVybiAhaXNSZWFkb25seTI7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09IFwiX192X2lzUmVhZG9ubHlcIikge1xuICAgICAgcmV0dXJuIGlzUmVhZG9ubHkyO1xuICAgIH0gZWxzZSBpZiAoa2V5ID09PSBcIl9fdl9pc1NoYWxsb3dcIikge1xuICAgICAgcmV0dXJuIGlzU2hhbGxvdzI7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09IFwiX192X3Jhd1wiKSB7XG4gICAgICBpZiAocmVjZWl2ZXIgPT09IChpc1JlYWRvbmx5MiA/IGlzU2hhbGxvdzIgPyBzaGFsbG93UmVhZG9ubHlNYXAgOiByZWFkb25seU1hcCA6IGlzU2hhbGxvdzIgPyBzaGFsbG93UmVhY3RpdmVNYXAgOiByZWFjdGl2ZU1hcCkuZ2V0KHRhcmdldCkgfHwgLy8gcmVjZWl2ZXIgaXMgbm90IHRoZSByZWFjdGl2ZSBwcm94eSwgYnV0IGhhcyB0aGUgc2FtZSBwcm90b3R5cGVcbiAgICAgIC8vIHRoaXMgbWVhbnMgdGhlIHJlY2VpdmVyIGlzIGEgdXNlciBwcm94eSBvZiB0aGUgcmVhY3RpdmUgcHJveHlcbiAgICAgIE9iamVjdC5nZXRQcm90b3R5cGVPZih0YXJnZXQpID09PSBPYmplY3QuZ2V0UHJvdG90eXBlT2YocmVjZWl2ZXIpKSB7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHRhcmdldElzQXJyYXkgPSBpc0FycmF5KHRhcmdldCk7XG4gICAgaWYgKCFpc1JlYWRvbmx5Mikge1xuICAgICAgbGV0IGZuO1xuICAgICAgaWYgKHRhcmdldElzQXJyYXkgJiYgKGZuID0gYXJyYXlJbnN0cnVtZW50YXRpb25zW2tleV0pKSB7XG4gICAgICAgIHJldHVybiBmbjtcbiAgICAgIH1cbiAgICAgIGlmIChrZXkgPT09IFwiaGFzT3duUHJvcGVydHlcIikge1xuICAgICAgICByZXR1cm4gaGFzT3duUHJvcGVydHk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJlcyA9IFJlZmxlY3QuZ2V0KFxuICAgICAgdGFyZ2V0LFxuICAgICAga2V5LFxuICAgICAgLy8gaWYgdGhpcyBpcyBhIHByb3h5IHdyYXBwaW5nIGEgcmVmLCByZXR1cm4gbWV0aG9kcyB1c2luZyB0aGUgcmF3IHJlZlxuICAgICAgLy8gYXMgcmVjZWl2ZXIgc28gdGhhdCB3ZSBkb24ndCBoYXZlIHRvIGNhbGwgYHRvUmF3YCBvbiB0aGUgcmVmIGluIGFsbFxuICAgICAgLy8gaXRzIGNsYXNzIG1ldGhvZHNcbiAgICAgIGlzUmVmKHRhcmdldCkgPyB0YXJnZXQgOiByZWNlaXZlclxuICAgICk7XG4gICAgaWYgKGlzU3ltYm9sKGtleSkgPyBidWlsdEluU3ltYm9scy5oYXMoa2V5KSA6IGlzTm9uVHJhY2thYmxlS2V5cyhrZXkpKSB7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICBpZiAoIWlzUmVhZG9ubHkyKSB7XG4gICAgICB0cmFjayh0YXJnZXQsIFwiZ2V0XCIsIGtleSk7XG4gICAgfVxuICAgIGlmIChpc1NoYWxsb3cyKSB7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICBpZiAoaXNSZWYocmVzKSkge1xuICAgICAgcmV0dXJuIHRhcmdldElzQXJyYXkgJiYgaXNJbnRlZ2VyS2V5KGtleSkgPyByZXMgOiByZXMudmFsdWU7XG4gICAgfVxuICAgIGlmIChpc09iamVjdChyZXMpKSB7XG4gICAgICByZXR1cm4gaXNSZWFkb25seTIgPyByZWFkb25seShyZXMpIDogcmVhY3RpdmUocmVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfVxufVxuY2xhc3MgTXV0YWJsZVJlYWN0aXZlSGFuZGxlciBleHRlbmRzIEJhc2VSZWFjdGl2ZUhhbmRsZXIge1xuICBjb25zdHJ1Y3Rvcihpc1NoYWxsb3cyID0gZmFsc2UpIHtcbiAgICBzdXBlcihmYWxzZSwgaXNTaGFsbG93Mik7XG4gIH1cbiAgc2V0KHRhcmdldCwga2V5LCB2YWx1ZSwgcmVjZWl2ZXIpIHtcbiAgICBsZXQgb2xkVmFsdWUgPSB0YXJnZXRba2V5XTtcbiAgICBpZiAoIXRoaXMuX2lzU2hhbGxvdykge1xuICAgICAgY29uc3QgaXNPbGRWYWx1ZVJlYWRvbmx5ID0gaXNSZWFkb25seShvbGRWYWx1ZSk7XG4gICAgICBpZiAoIWlzU2hhbGxvdyh2YWx1ZSkgJiYgIWlzUmVhZG9ubHkodmFsdWUpKSB7XG4gICAgICAgIG9sZFZhbHVlID0gdG9SYXcob2xkVmFsdWUpO1xuICAgICAgICB2YWx1ZSA9IHRvUmF3KHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNBcnJheSh0YXJnZXQpICYmIGlzUmVmKG9sZFZhbHVlKSAmJiAhaXNSZWYodmFsdWUpKSB7XG4gICAgICAgIGlmIChpc09sZFZhbHVlUmVhZG9ubHkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb2xkVmFsdWUudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBoYWRLZXkgPSBpc0FycmF5KHRhcmdldCkgJiYgaXNJbnRlZ2VyS2V5KGtleSkgPyBOdW1iZXIoa2V5KSA8IHRhcmdldC5sZW5ndGggOiBoYXNPd24odGFyZ2V0LCBrZXkpO1xuICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3Quc2V0KFxuICAgICAgdGFyZ2V0LFxuICAgICAga2V5LFxuICAgICAgdmFsdWUsXG4gICAgICBpc1JlZih0YXJnZXQpID8gdGFyZ2V0IDogcmVjZWl2ZXJcbiAgICApO1xuICAgIGlmICh0YXJnZXQgPT09IHRvUmF3KHJlY2VpdmVyKSkge1xuICAgICAgaWYgKCFoYWRLZXkpIHtcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiYWRkXCIsIGtleSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChoYXNDaGFuZ2VkKHZhbHVlLCBvbGRWYWx1ZSkpIHtcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwic2V0XCIsIGtleSwgdmFsdWUsIG9sZFZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBkZWxldGVQcm9wZXJ0eSh0YXJnZXQsIGtleSkge1xuICAgIGNvbnN0IGhhZEtleSA9IGhhc093bih0YXJnZXQsIGtleSk7XG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0YXJnZXRba2V5XTtcbiAgICBjb25zdCByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KHRhcmdldCwga2V5KTtcbiAgICBpZiAocmVzdWx0ICYmIGhhZEtleSkge1xuICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiZGVsZXRlXCIsIGtleSwgdm9pZCAwLCBvbGRWYWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgaGFzKHRhcmdldCwga2V5KSB7XG4gICAgY29uc3QgcmVzdWx0ID0gUmVmbGVjdC5oYXModGFyZ2V0LCBrZXkpO1xuICAgIGlmICghaXNTeW1ib2woa2V5KSB8fCAhYnVpbHRJblN5bWJvbHMuaGFzKGtleSkpIHtcbiAgICAgIHRyYWNrKHRhcmdldCwgXCJoYXNcIiwga2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBvd25LZXlzKHRhcmdldCkge1xuICAgIHRyYWNrKFxuICAgICAgdGFyZ2V0LFxuICAgICAgXCJpdGVyYXRlXCIsXG4gICAgICBpc0FycmF5KHRhcmdldCkgPyBcImxlbmd0aFwiIDogSVRFUkFURV9LRVlcbiAgICApO1xuICAgIHJldHVybiBSZWZsZWN0Lm93bktleXModGFyZ2V0KTtcbiAgfVxufVxuY2xhc3MgUmVhZG9ubHlSZWFjdGl2ZUhhbmRsZXIgZXh0ZW5kcyBCYXNlUmVhY3RpdmVIYW5kbGVyIHtcbiAgY29uc3RydWN0b3IoaXNTaGFsbG93MiA9IGZhbHNlKSB7XG4gICAgc3VwZXIodHJ1ZSwgaXNTaGFsbG93Mik7XG4gIH1cbiAgc2V0KHRhcmdldCwga2V5KSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgIGBTZXQgb3BlcmF0aW9uIG9uIGtleSBcIiR7U3RyaW5nKGtleSl9XCIgZmFpbGVkOiB0YXJnZXQgaXMgcmVhZG9ubHkuYCxcbiAgICAgICAgdGFyZ2V0XG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBkZWxldGVQcm9wZXJ0eSh0YXJnZXQsIGtleSkge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuKFxuICAgICAgICBgRGVsZXRlIG9wZXJhdGlvbiBvbiBrZXkgXCIke1N0cmluZyhrZXkpfVwiIGZhaWxlZDogdGFyZ2V0IGlzIHJlYWRvbmx5LmAsXG4gICAgICAgIHRhcmdldFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cbmNvbnN0IG11dGFibGVIYW5kbGVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTXV0YWJsZVJlYWN0aXZlSGFuZGxlcigpO1xuY29uc3QgcmVhZG9ubHlIYW5kbGVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgUmVhZG9ubHlSZWFjdGl2ZUhhbmRsZXIoKTtcbmNvbnN0IHNoYWxsb3dSZWFjdGl2ZUhhbmRsZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBNdXRhYmxlUmVhY3RpdmVIYW5kbGVyKHRydWUpO1xuY29uc3Qgc2hhbGxvd1JlYWRvbmx5SGFuZGxlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFJlYWRvbmx5UmVhY3RpdmVIYW5kbGVyKHRydWUpO1xuXG5jb25zdCB0b1NoYWxsb3cgPSAodmFsdWUpID0+IHZhbHVlO1xuY29uc3QgZ2V0UHJvdG8gPSAodikgPT4gUmVmbGVjdC5nZXRQcm90b3R5cGVPZih2KTtcbmZ1bmN0aW9uIGNyZWF0ZUl0ZXJhYmxlTWV0aG9kKG1ldGhvZCwgaXNSZWFkb25seTIsIGlzU2hhbGxvdzIpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB0YXJnZXQgPSB0aGlzW1wiX192X3Jhd1wiXTtcbiAgICBjb25zdCByYXdUYXJnZXQgPSB0b1Jhdyh0YXJnZXQpO1xuICAgIGNvbnN0IHRhcmdldElzTWFwID0gaXNNYXAocmF3VGFyZ2V0KTtcbiAgICBjb25zdCBpc1BhaXIgPSBtZXRob2QgPT09IFwiZW50cmllc1wiIHx8IG1ldGhvZCA9PT0gU3ltYm9sLml0ZXJhdG9yICYmIHRhcmdldElzTWFwO1xuICAgIGNvbnN0IGlzS2V5T25seSA9IG1ldGhvZCA9PT0gXCJrZXlzXCIgJiYgdGFyZ2V0SXNNYXA7XG4gICAgY29uc3QgaW5uZXJJdGVyYXRvciA9IHRhcmdldFttZXRob2RdKC4uLmFyZ3MpO1xuICAgIGNvbnN0IHdyYXAgPSBpc1NoYWxsb3cyID8gdG9TaGFsbG93IDogaXNSZWFkb25seTIgPyB0b1JlYWRvbmx5IDogdG9SZWFjdGl2ZTtcbiAgICAhaXNSZWFkb25seTIgJiYgdHJhY2soXG4gICAgICByYXdUYXJnZXQsXG4gICAgICBcIml0ZXJhdGVcIixcbiAgICAgIGlzS2V5T25seSA/IE1BUF9LRVlfSVRFUkFURV9LRVkgOiBJVEVSQVRFX0tFWVxuICAgICk7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIGl0ZXJhdG9yIHByb3RvY29sXG4gICAgICBuZXh0KCkge1xuICAgICAgICBjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBpbm5lckl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgcmV0dXJuIGRvbmUgPyB7IHZhbHVlLCBkb25lIH0gOiB7XG4gICAgICAgICAgdmFsdWU6IGlzUGFpciA/IFt3cmFwKHZhbHVlWzBdKSwgd3JhcCh2YWx1ZVsxXSldIDogd3JhcCh2YWx1ZSksXG4gICAgICAgICAgZG9uZVxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIC8vIGl0ZXJhYmxlIHByb3RvY29sXG4gICAgICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJlYWRvbmx5TWV0aG9kKHR5cGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgY29uc3Qga2V5ID0gYXJnc1swXSA/IGBvbiBrZXkgXCIke2FyZ3NbMF19XCIgYCA6IGBgO1xuICAgICAgd2FybihcbiAgICAgICAgYCR7Y2FwaXRhbGl6ZSh0eXBlKX0gb3BlcmF0aW9uICR7a2V5fWZhaWxlZDogdGFyZ2V0IGlzIHJlYWRvbmx5LmAsXG4gICAgICAgIHRvUmF3KHRoaXMpXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdHlwZSA9PT0gXCJkZWxldGVcIiA/IGZhbHNlIDogdHlwZSA9PT0gXCJjbGVhclwiID8gdm9pZCAwIDogdGhpcztcbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUluc3RydW1lbnRhdGlvbnMocmVhZG9ubHksIHNoYWxsb3cpIHtcbiAgY29uc3QgaW5zdHJ1bWVudGF0aW9ucyA9IHtcbiAgICBnZXQoa2V5KSB7XG4gICAgICBjb25zdCB0YXJnZXQgPSB0aGlzW1wiX192X3Jhd1wiXTtcbiAgICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XG4gICAgICBjb25zdCByYXdLZXkgPSB0b1JhdyhrZXkpO1xuICAgICAgaWYgKCFyZWFkb25seSkge1xuICAgICAgICBpZiAoaGFzQ2hhbmdlZChrZXksIHJhd0tleSkpIHtcbiAgICAgICAgICB0cmFjayhyYXdUYXJnZXQsIFwiZ2V0XCIsIGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdHJhY2socmF3VGFyZ2V0LCBcImdldFwiLCByYXdLZXkpO1xuICAgICAgfVxuICAgICAgY29uc3QgeyBoYXMgfSA9IGdldFByb3RvKHJhd1RhcmdldCk7XG4gICAgICBjb25zdCB3cmFwID0gc2hhbGxvdyA/IHRvU2hhbGxvdyA6IHJlYWRvbmx5ID8gdG9SZWFkb25seSA6IHRvUmVhY3RpdmU7XG4gICAgICBpZiAoaGFzLmNhbGwocmF3VGFyZ2V0LCBrZXkpKSB7XG4gICAgICAgIHJldHVybiB3cmFwKHRhcmdldC5nZXQoa2V5KSk7XG4gICAgICB9IGVsc2UgaWYgKGhhcy5jYWxsKHJhd1RhcmdldCwgcmF3S2V5KSkge1xuICAgICAgICByZXR1cm4gd3JhcCh0YXJnZXQuZ2V0KHJhd0tleSkpO1xuICAgICAgfSBlbHNlIGlmICh0YXJnZXQgIT09IHJhd1RhcmdldCkge1xuICAgICAgICB0YXJnZXQuZ2V0KGtleSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXNbXCJfX3ZfcmF3XCJdO1xuICAgICAgIXJlYWRvbmx5ICYmIHRyYWNrKHRvUmF3KHRhcmdldCksIFwiaXRlcmF0ZVwiLCBJVEVSQVRFX0tFWSk7XG4gICAgICByZXR1cm4gUmVmbGVjdC5nZXQodGFyZ2V0LCBcInNpemVcIiwgdGFyZ2V0KTtcbiAgICB9LFxuICAgIGhhcyhrZXkpIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXNbXCJfX3ZfcmF3XCJdO1xuICAgICAgY29uc3QgcmF3VGFyZ2V0ID0gdG9SYXcodGFyZ2V0KTtcbiAgICAgIGNvbnN0IHJhd0tleSA9IHRvUmF3KGtleSk7XG4gICAgICBpZiAoIXJlYWRvbmx5KSB7XG4gICAgICAgIGlmIChoYXNDaGFuZ2VkKGtleSwgcmF3S2V5KSkge1xuICAgICAgICAgIHRyYWNrKHJhd1RhcmdldCwgXCJoYXNcIiwga2V5KTtcbiAgICAgICAgfVxuICAgICAgICB0cmFjayhyYXdUYXJnZXQsIFwiaGFzXCIsIHJhd0tleSk7XG4gICAgICB9XG4gICAgICByZXR1cm4ga2V5ID09PSByYXdLZXkgPyB0YXJnZXQuaGFzKGtleSkgOiB0YXJnZXQuaGFzKGtleSkgfHwgdGFyZ2V0LmhhcyhyYXdLZXkpO1xuICAgIH0sXG4gICAgZm9yRWFjaChjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgY29uc3Qgb2JzZXJ2ZWQgPSB0aGlzO1xuICAgICAgY29uc3QgdGFyZ2V0ID0gb2JzZXJ2ZWRbXCJfX3ZfcmF3XCJdO1xuICAgICAgY29uc3QgcmF3VGFyZ2V0ID0gdG9SYXcodGFyZ2V0KTtcbiAgICAgIGNvbnN0IHdyYXAgPSBzaGFsbG93ID8gdG9TaGFsbG93IDogcmVhZG9ubHkgPyB0b1JlYWRvbmx5IDogdG9SZWFjdGl2ZTtcbiAgICAgICFyZWFkb25seSAmJiB0cmFjayhyYXdUYXJnZXQsIFwiaXRlcmF0ZVwiLCBJVEVSQVRFX0tFWSk7XG4gICAgICByZXR1cm4gdGFyZ2V0LmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgd3JhcCh2YWx1ZSksIHdyYXAoa2V5KSwgb2JzZXJ2ZWQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICBleHRlbmQoXG4gICAgaW5zdHJ1bWVudGF0aW9ucyxcbiAgICByZWFkb25seSA/IHtcbiAgICAgIGFkZDogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJhZGRcIiksXG4gICAgICBzZXQ6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwic2V0XCIpLFxuICAgICAgZGVsZXRlOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImRlbGV0ZVwiKSxcbiAgICAgIGNsZWFyOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImNsZWFyXCIpXG4gICAgfSA6IHtcbiAgICAgIGFkZCh2YWx1ZSkge1xuICAgICAgICBpZiAoIXNoYWxsb3cgJiYgIWlzU2hhbGxvdyh2YWx1ZSkgJiYgIWlzUmVhZG9ubHkodmFsdWUpKSB7XG4gICAgICAgICAgdmFsdWUgPSB0b1Jhdyh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdG9SYXcodGhpcyk7XG4gICAgICAgIGNvbnN0IHByb3RvID0gZ2V0UHJvdG8odGFyZ2V0KTtcbiAgICAgICAgY29uc3QgaGFkS2V5ID0gcHJvdG8uaGFzLmNhbGwodGFyZ2V0LCB2YWx1ZSk7XG4gICAgICAgIGlmICghaGFkS2V5KSB7XG4gICAgICAgICAgdGFyZ2V0LmFkZCh2YWx1ZSk7XG4gICAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiYWRkXCIsIHZhbHVlLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LFxuICAgICAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKCFzaGFsbG93ICYmICFpc1NoYWxsb3codmFsdWUpICYmICFpc1JlYWRvbmx5KHZhbHVlKSkge1xuICAgICAgICAgIHZhbHVlID0gdG9SYXcodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRvUmF3KHRoaXMpO1xuICAgICAgICBjb25zdCB7IGhhcywgZ2V0IH0gPSBnZXRQcm90byh0YXJnZXQpO1xuICAgICAgICBsZXQgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xuICAgICAgICBpZiAoIWhhZEtleSkge1xuICAgICAgICAgIGtleSA9IHRvUmF3KGtleSk7XG4gICAgICAgICAgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBjaGVja0lkZW50aXR5S2V5cyh0YXJnZXQsIGhhcywga2V5KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IGdldC5jYWxsKHRhcmdldCwga2V5KTtcbiAgICAgICAgdGFyZ2V0LnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgaWYgKCFoYWRLZXkpIHtcbiAgICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJhZGRcIiwga2V5LCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaGFzQ2hhbmdlZCh2YWx1ZSwgb2xkVmFsdWUpKSB7XG4gICAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwic2V0XCIsIGtleSwgdmFsdWUsIG9sZFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sXG4gICAgICBkZWxldGUoa2V5KSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRvUmF3KHRoaXMpO1xuICAgICAgICBjb25zdCB7IGhhcywgZ2V0IH0gPSBnZXRQcm90byh0YXJnZXQpO1xuICAgICAgICBsZXQgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xuICAgICAgICBpZiAoIWhhZEtleSkge1xuICAgICAgICAgIGtleSA9IHRvUmF3KGtleSk7XG4gICAgICAgICAgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBjaGVja0lkZW50aXR5S2V5cyh0YXJnZXQsIGhhcywga2V5KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IGdldCA/IGdldC5jYWxsKHRhcmdldCwga2V5KSA6IHZvaWQgMDtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGFyZ2V0LmRlbGV0ZShrZXkpO1xuICAgICAgICBpZiAoaGFkS2V5KSB7XG4gICAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiZGVsZXRlXCIsIGtleSwgdm9pZCAwLCBvbGRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0sXG4gICAgICBjbGVhcigpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdG9SYXcodGhpcyk7XG4gICAgICAgIGNvbnN0IGhhZEl0ZW1zID0gdGFyZ2V0LnNpemUgIT09IDA7XG4gICAgICAgIGNvbnN0IG9sZFRhcmdldCA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBpc01hcCh0YXJnZXQpID8gbmV3IE1hcCh0YXJnZXQpIDogbmV3IFNldCh0YXJnZXQpIDogdm9pZCAwO1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0YXJnZXQuY2xlYXIoKTtcbiAgICAgICAgaWYgKGhhZEl0ZW1zKSB7XG4gICAgICAgICAgdHJpZ2dlcihcbiAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgIFwiY2xlYXJcIixcbiAgICAgICAgICAgIHZvaWQgMCxcbiAgICAgICAgICAgIHZvaWQgMCxcbiAgICAgICAgICAgIG9sZFRhcmdldFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICB9XG4gICk7XG4gIGNvbnN0IGl0ZXJhdG9yTWV0aG9kcyA9IFtcbiAgICBcImtleXNcIixcbiAgICBcInZhbHVlc1wiLFxuICAgIFwiZW50cmllc1wiLFxuICAgIFN5bWJvbC5pdGVyYXRvclxuICBdO1xuICBpdGVyYXRvck1ldGhvZHMuZm9yRWFjaCgobWV0aG9kKSA9PiB7XG4gICAgaW5zdHJ1bWVudGF0aW9uc1ttZXRob2RdID0gY3JlYXRlSXRlcmFibGVNZXRob2QobWV0aG9kLCByZWFkb25seSwgc2hhbGxvdyk7XG4gIH0pO1xuICByZXR1cm4gaW5zdHJ1bWVudGF0aW9ucztcbn1cbmZ1bmN0aW9uIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcihpc1JlYWRvbmx5Miwgc2hhbGxvdykge1xuICBjb25zdCBpbnN0cnVtZW50YXRpb25zID0gY3JlYXRlSW5zdHJ1bWVudGF0aW9ucyhpc1JlYWRvbmx5Miwgc2hhbGxvdyk7XG4gIHJldHVybiAodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSA9PiB7XG4gICAgaWYgKGtleSA9PT0gXCJfX3ZfaXNSZWFjdGl2ZVwiKSB7XG4gICAgICByZXR1cm4gIWlzUmVhZG9ubHkyO1xuICAgIH0gZWxzZSBpZiAoa2V5ID09PSBcIl9fdl9pc1JlYWRvbmx5XCIpIHtcbiAgICAgIHJldHVybiBpc1JlYWRvbmx5MjtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfcmF3XCIpIHtcbiAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuICAgIHJldHVybiBSZWZsZWN0LmdldChcbiAgICAgIGhhc093bihpbnN0cnVtZW50YXRpb25zLCBrZXkpICYmIGtleSBpbiB0YXJnZXQgPyBpbnN0cnVtZW50YXRpb25zIDogdGFyZ2V0LFxuICAgICAga2V5LFxuICAgICAgcmVjZWl2ZXJcbiAgICApO1xuICB9O1xufVxuY29uc3QgbXV0YWJsZUNvbGxlY3Rpb25IYW5kbGVycyA9IHtcbiAgZ2V0OiAvKiBAX19QVVJFX18gKi8gY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKGZhbHNlLCBmYWxzZSlcbn07XG5jb25zdCBzaGFsbG93Q29sbGVjdGlvbkhhbmRsZXJzID0ge1xuICBnZXQ6IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIoZmFsc2UsIHRydWUpXG59O1xuY29uc3QgcmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMgPSB7XG4gIGdldDogLyogQF9fUFVSRV9fICovIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcih0cnVlLCBmYWxzZSlcbn07XG5jb25zdCBzaGFsbG93UmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMgPSB7XG4gIGdldDogLyogQF9fUFVSRV9fICovIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcih0cnVlLCB0cnVlKVxufTtcbmZ1bmN0aW9uIGNoZWNrSWRlbnRpdHlLZXlzKHRhcmdldCwgaGFzLCBrZXkpIHtcbiAgY29uc3QgcmF3S2V5ID0gdG9SYXcoa2V5KTtcbiAgaWYgKHJhd0tleSAhPT0ga2V5ICYmIGhhcy5jYWxsKHRhcmdldCwgcmF3S2V5KSkge1xuICAgIGNvbnN0IHR5cGUgPSB0b1Jhd1R5cGUodGFyZ2V0KTtcbiAgICB3YXJuKFxuICAgICAgYFJlYWN0aXZlICR7dHlwZX0gY29udGFpbnMgYm90aCB0aGUgcmF3IGFuZCByZWFjdGl2ZSB2ZXJzaW9ucyBvZiB0aGUgc2FtZSBvYmplY3Qke3R5cGUgPT09IGBNYXBgID8gYCBhcyBrZXlzYCA6IGBgfSwgd2hpY2ggY2FuIGxlYWQgdG8gaW5jb25zaXN0ZW5jaWVzLiBBdm9pZCBkaWZmZXJlbnRpYXRpbmcgYmV0d2VlbiB0aGUgcmF3IGFuZCByZWFjdGl2ZSB2ZXJzaW9ucyBvZiBhbiBvYmplY3QgYW5kIG9ubHkgdXNlIHRoZSByZWFjdGl2ZSB2ZXJzaW9uIGlmIHBvc3NpYmxlLmBcbiAgICApO1xuICB9XG59XG5cbmNvbnN0IHJlYWN0aXZlTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5jb25zdCBzaGFsbG93UmVhY3RpdmVNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHJlYWRvbmx5TWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5jb25zdCBzaGFsbG93UmVhZG9ubHlNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIHRhcmdldFR5cGVNYXAocmF3VHlwZSkge1xuICBzd2l0Y2ggKHJhd1R5cGUpIHtcbiAgICBjYXNlIFwiT2JqZWN0XCI6XG4gICAgY2FzZSBcIkFycmF5XCI6XG4gICAgICByZXR1cm4gMSAvKiBDT01NT04gKi87XG4gICAgY2FzZSBcIk1hcFwiOlxuICAgIGNhc2UgXCJTZXRcIjpcbiAgICBjYXNlIFwiV2Vha01hcFwiOlxuICAgIGNhc2UgXCJXZWFrU2V0XCI6XG4gICAgICByZXR1cm4gMiAvKiBDT0xMRUNUSU9OICovO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gMCAvKiBJTlZBTElEICovO1xuICB9XG59XG5mdW5jdGlvbiBnZXRUYXJnZXRUeXBlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZVtcIl9fdl9za2lwXCJdIHx8ICFPYmplY3QuaXNFeHRlbnNpYmxlKHZhbHVlKSA/IDAgLyogSU5WQUxJRCAqLyA6IHRhcmdldFR5cGVNYXAodG9SYXdUeXBlKHZhbHVlKSk7XG59XG5mdW5jdGlvbiByZWFjdGl2ZSh0YXJnZXQpIHtcbiAgaWYgKGlzUmVhZG9ubHkodGFyZ2V0KSkge1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KFxuICAgIHRhcmdldCxcbiAgICBmYWxzZSxcbiAgICBtdXRhYmxlSGFuZGxlcnMsXG4gICAgbXV0YWJsZUNvbGxlY3Rpb25IYW5kbGVycyxcbiAgICByZWFjdGl2ZU1hcFxuICApO1xufVxuZnVuY3Rpb24gc2hhbGxvd1JlYWN0aXZlKHRhcmdldCkge1xuICByZXR1cm4gY3JlYXRlUmVhY3RpdmVPYmplY3QoXG4gICAgdGFyZ2V0LFxuICAgIGZhbHNlLFxuICAgIHNoYWxsb3dSZWFjdGl2ZUhhbmRsZXJzLFxuICAgIHNoYWxsb3dDb2xsZWN0aW9uSGFuZGxlcnMsXG4gICAgc2hhbGxvd1JlYWN0aXZlTWFwXG4gICk7XG59XG5mdW5jdGlvbiByZWFkb25seSh0YXJnZXQpIHtcbiAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KFxuICAgIHRhcmdldCxcbiAgICB0cnVlLFxuICAgIHJlYWRvbmx5SGFuZGxlcnMsXG4gICAgcmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMsXG4gICAgcmVhZG9ubHlNYXBcbiAgKTtcbn1cbmZ1bmN0aW9uIHNoYWxsb3dSZWFkb25seSh0YXJnZXQpIHtcbiAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KFxuICAgIHRhcmdldCxcbiAgICB0cnVlLFxuICAgIHNoYWxsb3dSZWFkb25seUhhbmRsZXJzLFxuICAgIHNoYWxsb3dSZWFkb25seUNvbGxlY3Rpb25IYW5kbGVycyxcbiAgICBzaGFsbG93UmVhZG9ubHlNYXBcbiAgKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KHRhcmdldCwgaXNSZWFkb25seTIsIGJhc2VIYW5kbGVycywgY29sbGVjdGlvbkhhbmRsZXJzLCBwcm94eU1hcCkge1xuICBpZiAoIWlzT2JqZWN0KHRhcmdldCkpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybihcbiAgICAgICAgYHZhbHVlIGNhbm5vdCBiZSBtYWRlICR7aXNSZWFkb25seTIgPyBcInJlYWRvbmx5XCIgOiBcInJlYWN0aXZlXCJ9OiAke1N0cmluZyhcbiAgICAgICAgICB0YXJnZXRcbiAgICAgICAgKX1gXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIGlmICh0YXJnZXRbXCJfX3ZfcmF3XCJdICYmICEoaXNSZWFkb25seTIgJiYgdGFyZ2V0W1wiX192X2lzUmVhY3RpdmVcIl0pKSB7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICBjb25zdCBleGlzdGluZ1Byb3h5ID0gcHJveHlNYXAuZ2V0KHRhcmdldCk7XG4gIGlmIChleGlzdGluZ1Byb3h5KSB7XG4gICAgcmV0dXJuIGV4aXN0aW5nUHJveHk7XG4gIH1cbiAgY29uc3QgdGFyZ2V0VHlwZSA9IGdldFRhcmdldFR5cGUodGFyZ2V0KTtcbiAgaWYgKHRhcmdldFR5cGUgPT09IDAgLyogSU5WQUxJRCAqLykge1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgY29uc3QgcHJveHkgPSBuZXcgUHJveHkoXG4gICAgdGFyZ2V0LFxuICAgIHRhcmdldFR5cGUgPT09IDIgLyogQ09MTEVDVElPTiAqLyA/IGNvbGxlY3Rpb25IYW5kbGVycyA6IGJhc2VIYW5kbGVyc1xuICApO1xuICBwcm94eU1hcC5zZXQodGFyZ2V0LCBwcm94eSk7XG4gIHJldHVybiBwcm94eTtcbn1cbmZ1bmN0aW9uIGlzUmVhY3RpdmUodmFsdWUpIHtcbiAgaWYgKGlzUmVhZG9ubHkodmFsdWUpKSB7XG4gICAgcmV0dXJuIGlzUmVhY3RpdmUodmFsdWVbXCJfX3ZfcmF3XCJdKTtcbiAgfVxuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWVbXCJfX3ZfaXNSZWFjdGl2ZVwiXSk7XG59XG5mdW5jdGlvbiBpc1JlYWRvbmx5KHZhbHVlKSB7XG4gIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZVtcIl9fdl9pc1JlYWRvbmx5XCJdKTtcbn1cbmZ1bmN0aW9uIGlzU2hhbGxvdyh2YWx1ZSkge1xuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWVbXCJfX3ZfaXNTaGFsbG93XCJdKTtcbn1cbmZ1bmN0aW9uIGlzUHJveHkodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID8gISF2YWx1ZVtcIl9fdl9yYXdcIl0gOiBmYWxzZTtcbn1cbmZ1bmN0aW9uIHRvUmF3KG9ic2VydmVkKSB7XG4gIGNvbnN0IHJhdyA9IG9ic2VydmVkICYmIG9ic2VydmVkW1wiX192X3Jhd1wiXTtcbiAgcmV0dXJuIHJhdyA/IHRvUmF3KHJhdykgOiBvYnNlcnZlZDtcbn1cbmZ1bmN0aW9uIG1hcmtSYXcodmFsdWUpIHtcbiAgaWYgKCFoYXNPd24odmFsdWUsIFwiX192X3NraXBcIikgJiYgT2JqZWN0LmlzRXh0ZW5zaWJsZSh2YWx1ZSkpIHtcbiAgICBkZWYodmFsdWUsIFwiX192X3NraXBcIiwgdHJ1ZSk7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuY29uc3QgdG9SZWFjdGl2ZSA9ICh2YWx1ZSkgPT4gaXNPYmplY3QodmFsdWUpID8gcmVhY3RpdmUodmFsdWUpIDogdmFsdWU7XG5jb25zdCB0b1JlYWRvbmx5ID0gKHZhbHVlKSA9PiBpc09iamVjdCh2YWx1ZSkgPyByZWFkb25seSh2YWx1ZSkgOiB2YWx1ZTtcblxuZnVuY3Rpb24gaXNSZWYocikge1xuICByZXR1cm4gciA/IHJbXCJfX3ZfaXNSZWZcIl0gPT09IHRydWUgOiBmYWxzZTtcbn1cbmZ1bmN0aW9uIHJlZih2YWx1ZSkge1xuICByZXR1cm4gY3JlYXRlUmVmKHZhbHVlLCBmYWxzZSk7XG59XG5mdW5jdGlvbiBzaGFsbG93UmVmKHZhbHVlKSB7XG4gIHJldHVybiBjcmVhdGVSZWYodmFsdWUsIHRydWUpO1xufVxuZnVuY3Rpb24gY3JlYXRlUmVmKHJhd1ZhbHVlLCBzaGFsbG93KSB7XG4gIGlmIChpc1JlZihyYXdWYWx1ZSkpIHtcbiAgICByZXR1cm4gcmF3VmFsdWU7XG4gIH1cbiAgcmV0dXJuIG5ldyBSZWZJbXBsKHJhd1ZhbHVlLCBzaGFsbG93KTtcbn1cbmNsYXNzIFJlZkltcGwge1xuICBjb25zdHJ1Y3Rvcih2YWx1ZSwgaXNTaGFsbG93Mikge1xuICAgIHRoaXMuZGVwID0gbmV3IERlcCgpO1xuICAgIHRoaXNbXCJfX3ZfaXNSZWZcIl0gPSB0cnVlO1xuICAgIHRoaXNbXCJfX3ZfaXNTaGFsbG93XCJdID0gZmFsc2U7XG4gICAgdGhpcy5fcmF3VmFsdWUgPSBpc1NoYWxsb3cyID8gdmFsdWUgOiB0b1Jhdyh2YWx1ZSk7XG4gICAgdGhpcy5fdmFsdWUgPSBpc1NoYWxsb3cyID8gdmFsdWUgOiB0b1JlYWN0aXZlKHZhbHVlKTtcbiAgICB0aGlzW1wiX192X2lzU2hhbGxvd1wiXSA9IGlzU2hhbGxvdzI7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB0aGlzLmRlcC50cmFjayh7XG4gICAgICAgIHRhcmdldDogdGhpcyxcbiAgICAgICAgdHlwZTogXCJnZXRcIixcbiAgICAgICAga2V5OiBcInZhbHVlXCJcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRlcC50cmFjaygpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gIH1cbiAgc2V0IHZhbHVlKG5ld1ZhbHVlKSB7XG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzLl9yYXdWYWx1ZTtcbiAgICBjb25zdCB1c2VEaXJlY3RWYWx1ZSA9IHRoaXNbXCJfX3ZfaXNTaGFsbG93XCJdIHx8IGlzU2hhbGxvdyhuZXdWYWx1ZSkgfHwgaXNSZWFkb25seShuZXdWYWx1ZSk7XG4gICAgbmV3VmFsdWUgPSB1c2VEaXJlY3RWYWx1ZSA/IG5ld1ZhbHVlIDogdG9SYXcobmV3VmFsdWUpO1xuICAgIGlmIChoYXNDaGFuZ2VkKG5ld1ZhbHVlLCBvbGRWYWx1ZSkpIHtcbiAgICAgIHRoaXMuX3Jhd1ZhbHVlID0gbmV3VmFsdWU7XG4gICAgICB0aGlzLl92YWx1ZSA9IHVzZURpcmVjdFZhbHVlID8gbmV3VmFsdWUgOiB0b1JlYWN0aXZlKG5ld1ZhbHVlKTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIHRoaXMuZGVwLnRyaWdnZXIoe1xuICAgICAgICAgIHRhcmdldDogdGhpcyxcbiAgICAgICAgICB0eXBlOiBcInNldFwiLFxuICAgICAgICAgIGtleTogXCJ2YWx1ZVwiLFxuICAgICAgICAgIG5ld1ZhbHVlLFxuICAgICAgICAgIG9sZFZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5kZXAudHJpZ2dlcigpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gdHJpZ2dlclJlZihyZWYyKSB7XG4gIGlmIChyZWYyLmRlcCkge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICByZWYyLmRlcC50cmlnZ2VyKHtcbiAgICAgICAgdGFyZ2V0OiByZWYyLFxuICAgICAgICB0eXBlOiBcInNldFwiLFxuICAgICAgICBrZXk6IFwidmFsdWVcIixcbiAgICAgICAgbmV3VmFsdWU6IHJlZjIuX3ZhbHVlXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVmMi5kZXAudHJpZ2dlcigpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gdW5yZWYocmVmMikge1xuICByZXR1cm4gaXNSZWYocmVmMikgPyByZWYyLnZhbHVlIDogcmVmMjtcbn1cbmZ1bmN0aW9uIHRvVmFsdWUoc291cmNlKSB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKHNvdXJjZSkgPyBzb3VyY2UoKSA6IHVucmVmKHNvdXJjZSk7XG59XG5jb25zdCBzaGFsbG93VW53cmFwSGFuZGxlcnMgPSB7XG4gIGdldDogKHRhcmdldCwga2V5LCByZWNlaXZlcikgPT4ga2V5ID09PSBcIl9fdl9yYXdcIiA/IHRhcmdldCA6IHVucmVmKFJlZmxlY3QuZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcikpLFxuICBzZXQ6ICh0YXJnZXQsIGtleSwgdmFsdWUsIHJlY2VpdmVyKSA9PiB7XG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0YXJnZXRba2V5XTtcbiAgICBpZiAoaXNSZWYob2xkVmFsdWUpICYmICFpc1JlZih2YWx1ZSkpIHtcbiAgICAgIG9sZFZhbHVlLnZhbHVlID0gdmFsdWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFJlZmxlY3Quc2V0KHRhcmdldCwga2V5LCB2YWx1ZSwgcmVjZWl2ZXIpO1xuICAgIH1cbiAgfVxufTtcbmZ1bmN0aW9uIHByb3h5UmVmcyhvYmplY3RXaXRoUmVmcykge1xuICByZXR1cm4gaXNSZWFjdGl2ZShvYmplY3RXaXRoUmVmcykgPyBvYmplY3RXaXRoUmVmcyA6IG5ldyBQcm94eShvYmplY3RXaXRoUmVmcywgc2hhbGxvd1Vud3JhcEhhbmRsZXJzKTtcbn1cbmNsYXNzIEN1c3RvbVJlZkltcGwge1xuICBjb25zdHJ1Y3RvcihmYWN0b3J5KSB7XG4gICAgdGhpc1tcIl9fdl9pc1JlZlwiXSA9IHRydWU7XG4gICAgdGhpcy5fdmFsdWUgPSB2b2lkIDA7XG4gICAgY29uc3QgZGVwID0gdGhpcy5kZXAgPSBuZXcgRGVwKCk7XG4gICAgY29uc3QgeyBnZXQsIHNldCB9ID0gZmFjdG9yeShkZXAudHJhY2suYmluZChkZXApLCBkZXAudHJpZ2dlci5iaW5kKGRlcCkpO1xuICAgIHRoaXMuX2dldCA9IGdldDtcbiAgICB0aGlzLl9zZXQgPSBzZXQ7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZSA9IHRoaXMuX2dldCgpO1xuICB9XG4gIHNldCB2YWx1ZShuZXdWYWwpIHtcbiAgICB0aGlzLl9zZXQobmV3VmFsKTtcbiAgfVxufVxuZnVuY3Rpb24gY3VzdG9tUmVmKGZhY3RvcnkpIHtcbiAgcmV0dXJuIG5ldyBDdXN0b21SZWZJbXBsKGZhY3RvcnkpO1xufVxuZnVuY3Rpb24gdG9SZWZzKG9iamVjdCkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaXNQcm94eShvYmplY3QpKSB7XG4gICAgd2FybihgdG9SZWZzKCkgZXhwZWN0cyBhIHJlYWN0aXZlIG9iamVjdCBidXQgcmVjZWl2ZWQgYSBwbGFpbiBvbmUuYCk7XG4gIH1cbiAgY29uc3QgcmV0ID0gaXNBcnJheShvYmplY3QpID8gbmV3IEFycmF5KG9iamVjdC5sZW5ndGgpIDoge307XG4gIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCkge1xuICAgIHJldFtrZXldID0gcHJvcGVydHlUb1JlZihvYmplY3QsIGtleSk7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cbmNsYXNzIE9iamVjdFJlZkltcGwge1xuICBjb25zdHJ1Y3Rvcihfb2JqZWN0LCBfa2V5LCBfZGVmYXVsdFZhbHVlKSB7XG4gICAgdGhpcy5fb2JqZWN0ID0gX29iamVjdDtcbiAgICB0aGlzLl9rZXkgPSBfa2V5O1xuICAgIHRoaXMuX2RlZmF1bHRWYWx1ZSA9IF9kZWZhdWx0VmFsdWU7XG4gICAgdGhpc1tcIl9fdl9pc1JlZlwiXSA9IHRydWU7XG4gICAgdGhpcy5fdmFsdWUgPSB2b2lkIDA7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIGNvbnN0IHZhbCA9IHRoaXMuX29iamVjdFt0aGlzLl9rZXldO1xuICAgIHJldHVybiB0aGlzLl92YWx1ZSA9IHZhbCA9PT0gdm9pZCAwID8gdGhpcy5fZGVmYXVsdFZhbHVlIDogdmFsO1xuICB9XG4gIHNldCB2YWx1ZShuZXdWYWwpIHtcbiAgICB0aGlzLl9vYmplY3RbdGhpcy5fa2V5XSA9IG5ld1ZhbDtcbiAgfVxuICBnZXQgZGVwKCkge1xuICAgIHJldHVybiBnZXREZXBGcm9tUmVhY3RpdmUodG9SYXcodGhpcy5fb2JqZWN0KSwgdGhpcy5fa2V5KTtcbiAgfVxufVxuY2xhc3MgR2V0dGVyUmVmSW1wbCB7XG4gIGNvbnN0cnVjdG9yKF9nZXR0ZXIpIHtcbiAgICB0aGlzLl9nZXR0ZXIgPSBfZ2V0dGVyO1xuICAgIHRoaXNbXCJfX3ZfaXNSZWZcIl0gPSB0cnVlO1xuICAgIHRoaXNbXCJfX3ZfaXNSZWFkb25seVwiXSA9IHRydWU7XG4gICAgdGhpcy5fdmFsdWUgPSB2b2lkIDA7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZSA9IHRoaXMuX2dldHRlcigpO1xuICB9XG59XG5mdW5jdGlvbiB0b1JlZihzb3VyY2UsIGtleSwgZGVmYXVsdFZhbHVlKSB7XG4gIGlmIChpc1JlZihzb3VyY2UpKSB7XG4gICAgcmV0dXJuIHNvdXJjZTtcbiAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHNvdXJjZSkpIHtcbiAgICByZXR1cm4gbmV3IEdldHRlclJlZkltcGwoc291cmNlKTtcbiAgfSBlbHNlIGlmIChpc09iamVjdChzb3VyY2UpICYmIGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgcmV0dXJuIHByb3BlcnR5VG9SZWYoc291cmNlLCBrZXksIGRlZmF1bHRWYWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHJlZihzb3VyY2UpO1xuICB9XG59XG5mdW5jdGlvbiBwcm9wZXJ0eVRvUmVmKHNvdXJjZSwga2V5LCBkZWZhdWx0VmFsdWUpIHtcbiAgY29uc3QgdmFsID0gc291cmNlW2tleV07XG4gIHJldHVybiBpc1JlZih2YWwpID8gdmFsIDogbmV3IE9iamVjdFJlZkltcGwoc291cmNlLCBrZXksIGRlZmF1bHRWYWx1ZSk7XG59XG5cbmNsYXNzIENvbXB1dGVkUmVmSW1wbCB7XG4gIGNvbnN0cnVjdG9yKGZuLCBzZXR0ZXIsIGlzU1NSKSB7XG4gICAgdGhpcy5mbiA9IGZuO1xuICAgIHRoaXMuc2V0dGVyID0gc2V0dGVyO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuX3ZhbHVlID0gdm9pZCAwO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuZGVwID0gbmV3IERlcCh0aGlzKTtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLl9fdl9pc1JlZiA9IHRydWU7XG4gICAgLy8gVE9ETyBpc29sYXRlZERlY2xhcmF0aW9ucyBcIl9fdl9pc1JlYWRvbmx5XCJcbiAgICAvLyBBIGNvbXB1dGVkIGlzIGFsc28gYSBzdWJzY3JpYmVyIHRoYXQgdHJhY2tzIG90aGVyIGRlcHNcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLmRlcHMgPSB2b2lkIDA7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5kZXBzVGFpbCA9IHZvaWQgMDtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLmZsYWdzID0gMTY7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5nbG9iYWxWZXJzaW9uID0gZ2xvYmFsVmVyc2lvbiAtIDE7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5uZXh0ID0gdm9pZCAwO1xuICAgIC8vIGZvciBiYWNrd2FyZHMgY29tcGF0XG4gICAgdGhpcy5lZmZlY3QgPSB0aGlzO1xuICAgIHRoaXNbXCJfX3ZfaXNSZWFkb25seVwiXSA9ICFzZXR0ZXI7XG4gICAgdGhpcy5pc1NTUiA9IGlzU1NSO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIG5vdGlmeSgpIHtcbiAgICB0aGlzLmZsYWdzIHw9IDE2O1xuICAgIGlmICghKHRoaXMuZmxhZ3MgJiA4KSAmJiAvLyBhdm9pZCBpbmZpbml0ZSBzZWxmIHJlY3Vyc2lvblxuICAgIGFjdGl2ZVN1YiAhPT0gdGhpcykge1xuICAgICAgYmF0Y2godGhpcywgdHJ1ZSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIDtcbiAgfVxuICBnZXQgdmFsdWUoKSB7XG4gICAgY29uc3QgbGluayA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyB0aGlzLmRlcC50cmFjayh7XG4gICAgICB0YXJnZXQ6IHRoaXMsXG4gICAgICB0eXBlOiBcImdldFwiLFxuICAgICAga2V5OiBcInZhbHVlXCJcbiAgICB9KSA6IHRoaXMuZGVwLnRyYWNrKCk7XG4gICAgcmVmcmVzaENvbXB1dGVkKHRoaXMpO1xuICAgIGlmIChsaW5rKSB7XG4gICAgICBsaW5rLnZlcnNpb24gPSB0aGlzLmRlcC52ZXJzaW9uO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gIH1cbiAgc2V0IHZhbHVlKG5ld1ZhbHVlKSB7XG4gICAgaWYgKHRoaXMuc2V0dGVyKSB7XG4gICAgICB0aGlzLnNldHRlcihuZXdWYWx1ZSk7XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuKFwiV3JpdGUgb3BlcmF0aW9uIGZhaWxlZDogY29tcHV0ZWQgdmFsdWUgaXMgcmVhZG9ubHlcIik7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBjb21wdXRlZChnZXR0ZXJPck9wdGlvbnMsIGRlYnVnT3B0aW9ucywgaXNTU1IgPSBmYWxzZSkge1xuICBsZXQgZ2V0dGVyO1xuICBsZXQgc2V0dGVyO1xuICBpZiAoaXNGdW5jdGlvbihnZXR0ZXJPck9wdGlvbnMpKSB7XG4gICAgZ2V0dGVyID0gZ2V0dGVyT3JPcHRpb25zO1xuICB9IGVsc2Uge1xuICAgIGdldHRlciA9IGdldHRlck9yT3B0aW9ucy5nZXQ7XG4gICAgc2V0dGVyID0gZ2V0dGVyT3JPcHRpb25zLnNldDtcbiAgfVxuICBjb25zdCBjUmVmID0gbmV3IENvbXB1dGVkUmVmSW1wbChnZXR0ZXIsIHNldHRlciwgaXNTU1IpO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBkZWJ1Z09wdGlvbnMgJiYgIWlzU1NSKSB7XG4gICAgY1JlZi5vblRyYWNrID0gZGVidWdPcHRpb25zLm9uVHJhY2s7XG4gICAgY1JlZi5vblRyaWdnZXIgPSBkZWJ1Z09wdGlvbnMub25UcmlnZ2VyO1xuICB9XG4gIHJldHVybiBjUmVmO1xufVxuXG5jb25zdCBUcmFja09wVHlwZXMgPSB7XG4gIFwiR0VUXCI6IFwiZ2V0XCIsXG4gIFwiSEFTXCI6IFwiaGFzXCIsXG4gIFwiSVRFUkFURVwiOiBcIml0ZXJhdGVcIlxufTtcbmNvbnN0IFRyaWdnZXJPcFR5cGVzID0ge1xuICBcIlNFVFwiOiBcInNldFwiLFxuICBcIkFERFwiOiBcImFkZFwiLFxuICBcIkRFTEVURVwiOiBcImRlbGV0ZVwiLFxuICBcIkNMRUFSXCI6IFwiY2xlYXJcIlxufTtcbmNvbnN0IFJlYWN0aXZlRmxhZ3MgPSB7XG4gIFwiU0tJUFwiOiBcIl9fdl9za2lwXCIsXG4gIFwiSVNfUkVBQ1RJVkVcIjogXCJfX3ZfaXNSZWFjdGl2ZVwiLFxuICBcIklTX1JFQURPTkxZXCI6IFwiX192X2lzUmVhZG9ubHlcIixcbiAgXCJJU19TSEFMTE9XXCI6IFwiX192X2lzU2hhbGxvd1wiLFxuICBcIlJBV1wiOiBcIl9fdl9yYXdcIixcbiAgXCJJU19SRUZcIjogXCJfX3ZfaXNSZWZcIlxufTtcblxuY29uc3QgV2F0Y2hFcnJvckNvZGVzID0ge1xuICBcIldBVENIX0dFVFRFUlwiOiAyLFxuICBcIjJcIjogXCJXQVRDSF9HRVRURVJcIixcbiAgXCJXQVRDSF9DQUxMQkFDS1wiOiAzLFxuICBcIjNcIjogXCJXQVRDSF9DQUxMQkFDS1wiLFxuICBcIldBVENIX0NMRUFOVVBcIjogNCxcbiAgXCI0XCI6IFwiV0FUQ0hfQ0xFQU5VUFwiXG59O1xuY29uc3QgSU5JVElBTF9XQVRDSEVSX1ZBTFVFID0ge307XG5jb25zdCBjbGVhbnVwTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5sZXQgYWN0aXZlV2F0Y2hlciA9IHZvaWQgMDtcbmZ1bmN0aW9uIGdldEN1cnJlbnRXYXRjaGVyKCkge1xuICByZXR1cm4gYWN0aXZlV2F0Y2hlcjtcbn1cbmZ1bmN0aW9uIG9uV2F0Y2hlckNsZWFudXAoY2xlYW51cEZuLCBmYWlsU2lsZW50bHkgPSBmYWxzZSwgb3duZXIgPSBhY3RpdmVXYXRjaGVyKSB7XG4gIGlmIChvd25lcikge1xuICAgIGxldCBjbGVhbnVwcyA9IGNsZWFudXBNYXAuZ2V0KG93bmVyKTtcbiAgICBpZiAoIWNsZWFudXBzKSBjbGVhbnVwTWFwLnNldChvd25lciwgY2xlYW51cHMgPSBbXSk7XG4gICAgY2xlYW51cHMucHVzaChjbGVhbnVwRm4pO1xuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWZhaWxTaWxlbnRseSkge1xuICAgIHdhcm4oXG4gICAgICBgb25XYXRjaGVyQ2xlYW51cCgpIHdhcyBjYWxsZWQgd2hlbiB0aGVyZSB3YXMgbm8gYWN0aXZlIHdhdGNoZXIgdG8gYXNzb2NpYXRlIHdpdGguYFxuICAgICk7XG4gIH1cbn1cbmZ1bmN0aW9uIHdhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnMgPSBFTVBUWV9PQkopIHtcbiAgY29uc3QgeyBpbW1lZGlhdGUsIGRlZXAsIG9uY2UsIHNjaGVkdWxlciwgYXVnbWVudEpvYiwgY2FsbCB9ID0gb3B0aW9ucztcbiAgY29uc3Qgd2FybkludmFsaWRTb3VyY2UgPSAocykgPT4ge1xuICAgIChvcHRpb25zLm9uV2FybiB8fCB3YXJuKShcbiAgICAgIGBJbnZhbGlkIHdhdGNoIHNvdXJjZTogYCxcbiAgICAgIHMsXG4gICAgICBgQSB3YXRjaCBzb3VyY2UgY2FuIG9ubHkgYmUgYSBnZXR0ZXIvZWZmZWN0IGZ1bmN0aW9uLCBhIHJlZiwgYSByZWFjdGl2ZSBvYmplY3QsIG9yIGFuIGFycmF5IG9mIHRoZXNlIHR5cGVzLmBcbiAgICApO1xuICB9O1xuICBjb25zdCByZWFjdGl2ZUdldHRlciA9IChzb3VyY2UyKSA9PiB7XG4gICAgaWYgKGRlZXApIHJldHVybiBzb3VyY2UyO1xuICAgIGlmIChpc1NoYWxsb3coc291cmNlMikgfHwgZGVlcCA9PT0gZmFsc2UgfHwgZGVlcCA9PT0gMClcbiAgICAgIHJldHVybiB0cmF2ZXJzZShzb3VyY2UyLCAxKTtcbiAgICByZXR1cm4gdHJhdmVyc2Uoc291cmNlMik7XG4gIH07XG4gIGxldCBlZmZlY3Q7XG4gIGxldCBnZXR0ZXI7XG4gIGxldCBjbGVhbnVwO1xuICBsZXQgYm91bmRDbGVhbnVwO1xuICBsZXQgZm9yY2VUcmlnZ2VyID0gZmFsc2U7XG4gIGxldCBpc011bHRpU291cmNlID0gZmFsc2U7XG4gIGlmIChpc1JlZihzb3VyY2UpKSB7XG4gICAgZ2V0dGVyID0gKCkgPT4gc291cmNlLnZhbHVlO1xuICAgIGZvcmNlVHJpZ2dlciA9IGlzU2hhbGxvdyhzb3VyY2UpO1xuICB9IGVsc2UgaWYgKGlzUmVhY3RpdmUoc291cmNlKSkge1xuICAgIGdldHRlciA9ICgpID0+IHJlYWN0aXZlR2V0dGVyKHNvdXJjZSk7XG4gICAgZm9yY2VUcmlnZ2VyID0gdHJ1ZTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KHNvdXJjZSkpIHtcbiAgICBpc011bHRpU291cmNlID0gdHJ1ZTtcbiAgICBmb3JjZVRyaWdnZXIgPSBzb3VyY2Uuc29tZSgocykgPT4gaXNSZWFjdGl2ZShzKSB8fCBpc1NoYWxsb3cocykpO1xuICAgIGdldHRlciA9ICgpID0+IHNvdXJjZS5tYXAoKHMpID0+IHtcbiAgICAgIGlmIChpc1JlZihzKSkge1xuICAgICAgICByZXR1cm4gcy52YWx1ZTtcbiAgICAgIH0gZWxzZSBpZiAoaXNSZWFjdGl2ZShzKSkge1xuICAgICAgICByZXR1cm4gcmVhY3RpdmVHZXR0ZXIocyk7XG4gICAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24ocykpIHtcbiAgICAgICAgcmV0dXJuIGNhbGwgPyBjYWxsKHMsIDIpIDogcygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuSW52YWxpZFNvdXJjZShzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHNvdXJjZSkpIHtcbiAgICBpZiAoY2IpIHtcbiAgICAgIGdldHRlciA9IGNhbGwgPyAoKSA9PiBjYWxsKHNvdXJjZSwgMikgOiBzb3VyY2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdldHRlciA9ICgpID0+IHtcbiAgICAgICAgaWYgKGNsZWFudXApIHtcbiAgICAgICAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgcmVzZXRUcmFja2luZygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50RWZmZWN0ID0gYWN0aXZlV2F0Y2hlcjtcbiAgICAgICAgYWN0aXZlV2F0Y2hlciA9IGVmZmVjdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gY2FsbCA/IGNhbGwoc291cmNlLCAzLCBbYm91bmRDbGVhbnVwXSkgOiBzb3VyY2UoYm91bmRDbGVhbnVwKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBhY3RpdmVXYXRjaGVyID0gY3VycmVudEVmZmVjdDtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZ2V0dGVyID0gTk9PUDtcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm5JbnZhbGlkU291cmNlKHNvdXJjZSk7XG4gIH1cbiAgaWYgKGNiICYmIGRlZXApIHtcbiAgICBjb25zdCBiYXNlR2V0dGVyID0gZ2V0dGVyO1xuICAgIGNvbnN0IGRlcHRoID0gZGVlcCA9PT0gdHJ1ZSA/IEluZmluaXR5IDogZGVlcDtcbiAgICBnZXR0ZXIgPSAoKSA9PiB0cmF2ZXJzZShiYXNlR2V0dGVyKCksIGRlcHRoKTtcbiAgfVxuICBjb25zdCBzY29wZSA9IGdldEN1cnJlbnRTY29wZSgpO1xuICBjb25zdCB3YXRjaEhhbmRsZSA9ICgpID0+IHtcbiAgICBlZmZlY3Quc3RvcCgpO1xuICAgIGlmIChzY29wZSAmJiBzY29wZS5hY3RpdmUpIHtcbiAgICAgIHJlbW92ZShzY29wZS5lZmZlY3RzLCBlZmZlY3QpO1xuICAgIH1cbiAgfTtcbiAgaWYgKG9uY2UgJiYgY2IpIHtcbiAgICBjb25zdCBfY2IgPSBjYjtcbiAgICBjYiA9ICguLi5hcmdzKSA9PiB7XG4gICAgICBfY2IoLi4uYXJncyk7XG4gICAgICB3YXRjaEhhbmRsZSgpO1xuICAgIH07XG4gIH1cbiAgbGV0IG9sZFZhbHVlID0gaXNNdWx0aVNvdXJjZSA/IG5ldyBBcnJheShzb3VyY2UubGVuZ3RoKS5maWxsKElOSVRJQUxfV0FUQ0hFUl9WQUxVRSkgOiBJTklUSUFMX1dBVENIRVJfVkFMVUU7XG4gIGNvbnN0IGpvYiA9IChpbW1lZGlhdGVGaXJzdFJ1bikgPT4ge1xuICAgIGlmICghKGVmZmVjdC5mbGFncyAmIDEpIHx8ICFlZmZlY3QuZGlydHkgJiYgIWltbWVkaWF0ZUZpcnN0UnVuKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChjYikge1xuICAgICAgY29uc3QgbmV3VmFsdWUgPSBlZmZlY3QucnVuKCk7XG4gICAgICBpZiAoZGVlcCB8fCBmb3JjZVRyaWdnZXIgfHwgKGlzTXVsdGlTb3VyY2UgPyBuZXdWYWx1ZS5zb21lKCh2LCBpKSA9PiBoYXNDaGFuZ2VkKHYsIG9sZFZhbHVlW2ldKSkgOiBoYXNDaGFuZ2VkKG5ld1ZhbHVlLCBvbGRWYWx1ZSkpKSB7XG4gICAgICAgIGlmIChjbGVhbnVwKSB7XG4gICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGN1cnJlbnRXYXRjaGVyID0gYWN0aXZlV2F0Y2hlcjtcbiAgICAgICAgYWN0aXZlV2F0Y2hlciA9IGVmZmVjdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBhcmdzID0gW1xuICAgICAgICAgICAgbmV3VmFsdWUsXG4gICAgICAgICAgICAvLyBwYXNzIHVuZGVmaW5lZCBhcyB0aGUgb2xkIHZhbHVlIHdoZW4gaXQncyBjaGFuZ2VkIGZvciB0aGUgZmlyc3QgdGltZVxuICAgICAgICAgICAgb2xkVmFsdWUgPT09IElOSVRJQUxfV0FUQ0hFUl9WQUxVRSA/IHZvaWQgMCA6IGlzTXVsdGlTb3VyY2UgJiYgb2xkVmFsdWVbMF0gPT09IElOSVRJQUxfV0FUQ0hFUl9WQUxVRSA/IFtdIDogb2xkVmFsdWUsXG4gICAgICAgICAgICBib3VuZENsZWFudXBcbiAgICAgICAgICBdO1xuICAgICAgICAgIGNhbGwgPyBjYWxsKGNiLCAzLCBhcmdzKSA6IChcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgIGNiKC4uLmFyZ3MpXG4gICAgICAgICAgKTtcbiAgICAgICAgICBvbGRWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGFjdGl2ZVdhdGNoZXIgPSBjdXJyZW50V2F0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBlZmZlY3QucnVuKCk7XG4gICAgfVxuICB9O1xuICBpZiAoYXVnbWVudEpvYikge1xuICAgIGF1Z21lbnRKb2Ioam9iKTtcbiAgfVxuICBlZmZlY3QgPSBuZXcgUmVhY3RpdmVFZmZlY3QoZ2V0dGVyKTtcbiAgZWZmZWN0LnNjaGVkdWxlciA9IHNjaGVkdWxlciA/ICgpID0+IHNjaGVkdWxlcihqb2IsIGZhbHNlKSA6IGpvYjtcbiAgYm91bmRDbGVhbnVwID0gKGZuKSA9PiBvbldhdGNoZXJDbGVhbnVwKGZuLCBmYWxzZSwgZWZmZWN0KTtcbiAgY2xlYW51cCA9IGVmZmVjdC5vblN0b3AgPSAoKSA9PiB7XG4gICAgY29uc3QgY2xlYW51cHMgPSBjbGVhbnVwTWFwLmdldChlZmZlY3QpO1xuICAgIGlmIChjbGVhbnVwcykge1xuICAgICAgaWYgKGNhbGwpIHtcbiAgICAgICAgY2FsbChjbGVhbnVwcywgNCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGNvbnN0IGNsZWFudXAyIG9mIGNsZWFudXBzKSBjbGVhbnVwMigpO1xuICAgICAgfVxuICAgICAgY2xlYW51cE1hcC5kZWxldGUoZWZmZWN0KTtcbiAgICB9XG4gIH07XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgZWZmZWN0Lm9uVHJhY2sgPSBvcHRpb25zLm9uVHJhY2s7XG4gICAgZWZmZWN0Lm9uVHJpZ2dlciA9IG9wdGlvbnMub25UcmlnZ2VyO1xuICB9XG4gIGlmIChjYikge1xuICAgIGlmIChpbW1lZGlhdGUpIHtcbiAgICAgIGpvYih0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2xkVmFsdWUgPSBlZmZlY3QucnVuKCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHNjaGVkdWxlcikge1xuICAgIHNjaGVkdWxlcihqb2IuYmluZChudWxsLCB0cnVlKSwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgZWZmZWN0LnJ1bigpO1xuICB9XG4gIHdhdGNoSGFuZGxlLnBhdXNlID0gZWZmZWN0LnBhdXNlLmJpbmQoZWZmZWN0KTtcbiAgd2F0Y2hIYW5kbGUucmVzdW1lID0gZWZmZWN0LnJlc3VtZS5iaW5kKGVmZmVjdCk7XG4gIHdhdGNoSGFuZGxlLnN0b3AgPSB3YXRjaEhhbmRsZTtcbiAgcmV0dXJuIHdhdGNoSGFuZGxlO1xufVxuZnVuY3Rpb24gdHJhdmVyc2UodmFsdWUsIGRlcHRoID0gSW5maW5pdHksIHNlZW4pIHtcbiAgaWYgKGRlcHRoIDw9IDAgfHwgIWlzT2JqZWN0KHZhbHVlKSB8fCB2YWx1ZVtcIl9fdl9za2lwXCJdKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHNlZW4gPSBzZWVuIHx8IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGlmIChzZWVuLmhhcyh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgc2Vlbi5hZGQodmFsdWUpO1xuICBkZXB0aC0tO1xuICBpZiAoaXNSZWYodmFsdWUpKSB7XG4gICAgdHJhdmVyc2UodmFsdWUudmFsdWUsIGRlcHRoLCBzZWVuKTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRyYXZlcnNlKHZhbHVlW2ldLCBkZXB0aCwgc2Vlbik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzU2V0KHZhbHVlKSB8fCBpc01hcCh2YWx1ZSkpIHtcbiAgICB2YWx1ZS5mb3JFYWNoKCh2KSA9PiB7XG4gICAgICB0cmF2ZXJzZSh2LCBkZXB0aCwgc2Vlbik7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdCh2YWx1ZSkpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB2YWx1ZSkge1xuICAgICAgdHJhdmVyc2UodmFsdWVba2V5XSwgZGVwdGgsIHNlZW4pO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHZhbHVlKSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwga2V5KSkge1xuICAgICAgICB0cmF2ZXJzZSh2YWx1ZVtrZXldLCBkZXB0aCwgc2Vlbik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuZXhwb3J0IHsgQVJSQVlfSVRFUkFURV9LRVksIEVmZmVjdEZsYWdzLCBFZmZlY3RTY29wZSwgSVRFUkFURV9LRVksIE1BUF9LRVlfSVRFUkFURV9LRVksIFJlYWN0aXZlRWZmZWN0LCBSZWFjdGl2ZUZsYWdzLCBUcmFja09wVHlwZXMsIFRyaWdnZXJPcFR5cGVzLCBXYXRjaEVycm9yQ29kZXMsIGNvbXB1dGVkLCBjdXN0b21SZWYsIGVmZmVjdCwgZWZmZWN0U2NvcGUsIGVuYWJsZVRyYWNraW5nLCBnZXRDdXJyZW50U2NvcGUsIGdldEN1cnJlbnRXYXRjaGVyLCBpc1Byb3h5LCBpc1JlYWN0aXZlLCBpc1JlYWRvbmx5LCBpc1JlZiwgaXNTaGFsbG93LCBtYXJrUmF3LCBvbkVmZmVjdENsZWFudXAsIG9uU2NvcGVEaXNwb3NlLCBvbldhdGNoZXJDbGVhbnVwLCBwYXVzZVRyYWNraW5nLCBwcm94eVJlZnMsIHJlYWN0aXZlLCByZWFjdGl2ZVJlYWRBcnJheSwgcmVhZG9ubHksIHJlZiwgcmVzZXRUcmFja2luZywgc2hhbGxvd1JlYWN0aXZlLCBzaGFsbG93UmVhZEFycmF5LCBzaGFsbG93UmVhZG9ubHksIHNoYWxsb3dSZWYsIHN0b3AsIHRvUmF3LCB0b1JlYWN0aXZlLCB0b1JlYWRvbmx5LCB0b1JlZiwgdG9SZWZzLCB0b1ZhbHVlLCB0cmFjaywgdHJhdmVyc2UsIHRyaWdnZXIsIHRyaWdnZXJSZWYsIHVucmVmLCB3YXRjaCB9O1xuIiwiLyoqXG4qIEB2dWUvcnVudGltZS1jb3JlIHYzLjUuMTNcbiogKGMpIDIwMTgtcHJlc2VudCBZdXhpIChFdmFuKSBZb3UgYW5kIFZ1ZSBjb250cmlidXRvcnNcbiogQGxpY2Vuc2UgTUlUXG4qKi9cbmltcG9ydCB7IHBhdXNlVHJhY2tpbmcsIHJlc2V0VHJhY2tpbmcsIGlzUmVmLCB0b1JhdywgdHJhdmVyc2UsIHNoYWxsb3dSZWYsIHJlYWRvbmx5LCBpc1JlYWN0aXZlLCByZWYsIGlzU2hhbGxvdywgc2hhbGxvd1JlYWRBcnJheSwgdG9SZWFjdGl2ZSwgc2hhbGxvd1JlYWRvbmx5LCB0cmFjaywgcmVhY3RpdmUsIHNoYWxsb3dSZWFjdGl2ZSwgdHJpZ2dlciwgUmVhY3RpdmVFZmZlY3QsIHdhdGNoIGFzIHdhdGNoJDEsIGN1c3RvbVJlZiwgaXNQcm94eSwgcHJveHlSZWZzLCBtYXJrUmF3LCBFZmZlY3RTY29wZSwgY29tcHV0ZWQgYXMgY29tcHV0ZWQkMSwgaXNSZWFkb25seSB9IGZyb20gJ0B2dWUvcmVhY3Rpdml0eSc7XG5leHBvcnQgeyBFZmZlY3RTY29wZSwgUmVhY3RpdmVFZmZlY3QsIFRyYWNrT3BUeXBlcywgVHJpZ2dlck9wVHlwZXMsIGN1c3RvbVJlZiwgZWZmZWN0LCBlZmZlY3RTY29wZSwgZ2V0Q3VycmVudFNjb3BlLCBnZXRDdXJyZW50V2F0Y2hlciwgaXNQcm94eSwgaXNSZWFjdGl2ZSwgaXNSZWFkb25seSwgaXNSZWYsIGlzU2hhbGxvdywgbWFya1Jhdywgb25TY29wZURpc3Bvc2UsIG9uV2F0Y2hlckNsZWFudXAsIHByb3h5UmVmcywgcmVhY3RpdmUsIHJlYWRvbmx5LCByZWYsIHNoYWxsb3dSZWFjdGl2ZSwgc2hhbGxvd1JlYWRvbmx5LCBzaGFsbG93UmVmLCBzdG9wLCB0b1JhdywgdG9SZWYsIHRvUmVmcywgdG9WYWx1ZSwgdHJpZ2dlclJlZiwgdW5yZWYgfSBmcm9tICdAdnVlL3JlYWN0aXZpdHknO1xuaW1wb3J0IHsgaXNTdHJpbmcsIGlzRnVuY3Rpb24sIGlzUHJvbWlzZSwgaXNBcnJheSwgRU1QVFlfT0JKLCBOT09QLCBnZXRHbG9iYWxUaGlzLCBleHRlbmQsIGlzQnVpbHRJbkRpcmVjdGl2ZSwgaGFzT3duLCByZW1vdmUsIGRlZiwgaXNPbiwgaXNSZXNlcnZlZFByb3AsIG5vcm1hbGl6ZUNsYXNzLCBzdHJpbmdpZnlTdHlsZSwgbm9ybWFsaXplU3R5bGUsIGlzS25vd25TdmdBdHRyLCBpc0Jvb2xlYW5BdHRyLCBpc0tub3duSHRtbEF0dHIsIGluY2x1ZGVCb29sZWFuQXR0ciwgaXNSZW5kZXJhYmxlQXR0clZhbHVlLCBnZXRFc2NhcGVkQ3NzVmFyTmFtZSwgaXNPYmplY3QsIGlzUmVnRXhwLCBpbnZva2VBcnJheUZucywgdG9IYW5kbGVyS2V5LCBjYXBpdGFsaXplLCBjYW1lbGl6ZSwgaXNTeW1ib2wsIGlzR2xvYmFsbHlBbGxvd2VkLCBOTywgaHlwaGVuYXRlLCBFTVBUWV9BUlIsIHRvUmF3VHlwZSwgbWFrZU1hcCwgaGFzQ2hhbmdlZCwgbG9vc2VUb051bWJlciwgaXNNb2RlbExpc3RlbmVyLCB0b051bWJlciB9IGZyb20gJ0B2dWUvc2hhcmVkJztcbmV4cG9ydCB7IGNhbWVsaXplLCBjYXBpdGFsaXplLCBub3JtYWxpemVDbGFzcywgbm9ybWFsaXplUHJvcHMsIG5vcm1hbGl6ZVN0eWxlLCB0b0Rpc3BsYXlTdHJpbmcsIHRvSGFuZGxlcktleSB9IGZyb20gJ0B2dWUvc2hhcmVkJztcblxuY29uc3Qgc3RhY2sgPSBbXTtcbmZ1bmN0aW9uIHB1c2hXYXJuaW5nQ29udGV4dCh2bm9kZSkge1xuICBzdGFjay5wdXNoKHZub2RlKTtcbn1cbmZ1bmN0aW9uIHBvcFdhcm5pbmdDb250ZXh0KCkge1xuICBzdGFjay5wb3AoKTtcbn1cbmxldCBpc1dhcm5pbmcgPSBmYWxzZTtcbmZ1bmN0aW9uIHdhcm4kMShtc2csIC4uLmFyZ3MpIHtcbiAgaWYgKGlzV2FybmluZykgcmV0dXJuO1xuICBpc1dhcm5pbmcgPSB0cnVlO1xuICBwYXVzZVRyYWNraW5nKCk7XG4gIGNvbnN0IGluc3RhbmNlID0gc3RhY2subGVuZ3RoID8gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0uY29tcG9uZW50IDogbnVsbDtcbiAgY29uc3QgYXBwV2FybkhhbmRsZXIgPSBpbnN0YW5jZSAmJiBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy53YXJuSGFuZGxlcjtcbiAgY29uc3QgdHJhY2UgPSBnZXRDb21wb25lbnRUcmFjZSgpO1xuICBpZiAoYXBwV2FybkhhbmRsZXIpIHtcbiAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcoXG4gICAgICBhcHBXYXJuSGFuZGxlcixcbiAgICAgIGluc3RhbmNlLFxuICAgICAgMTEsXG4gICAgICBbXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgICAgICBtc2cgKyBhcmdzLm1hcCgoYSkgPT4ge1xuICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgcmV0dXJuIChfYiA9IChfYSA9IGEudG9TdHJpbmcpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKGEpKSAhPSBudWxsID8gX2IgOiBKU09OLnN0cmluZ2lmeShhKTtcbiAgICAgICAgfSkuam9pbihcIlwiKSxcbiAgICAgICAgaW5zdGFuY2UgJiYgaW5zdGFuY2UucHJveHksXG4gICAgICAgIHRyYWNlLm1hcChcbiAgICAgICAgICAoeyB2bm9kZSB9KSA9PiBgYXQgPCR7Zm9ybWF0Q29tcG9uZW50TmFtZShpbnN0YW5jZSwgdm5vZGUudHlwZSl9PmBcbiAgICAgICAgKS5qb2luKFwiXFxuXCIpLFxuICAgICAgICB0cmFjZVxuICAgICAgXVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3Qgd2FybkFyZ3MgPSBbYFtWdWUgd2Fybl06ICR7bXNnfWAsIC4uLmFyZ3NdO1xuICAgIGlmICh0cmFjZS5sZW5ndGggJiYgLy8gYXZvaWQgc3BhbW1pbmcgY29uc29sZSBkdXJpbmcgdGVzdHNcbiAgICB0cnVlKSB7XG4gICAgICB3YXJuQXJncy5wdXNoKGBcbmAsIC4uLmZvcm1hdFRyYWNlKHRyYWNlKSk7XG4gICAgfVxuICAgIGNvbnNvbGUud2FybiguLi53YXJuQXJncyk7XG4gIH1cbiAgcmVzZXRUcmFja2luZygpO1xuICBpc1dhcm5pbmcgPSBmYWxzZTtcbn1cbmZ1bmN0aW9uIGdldENvbXBvbmVudFRyYWNlKCkge1xuICBsZXQgY3VycmVudFZOb2RlID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG4gIGlmICghY3VycmVudFZOb2RlKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGNvbnN0IG5vcm1hbGl6ZWRTdGFjayA9IFtdO1xuICB3aGlsZSAoY3VycmVudFZOb2RlKSB7XG4gICAgY29uc3QgbGFzdCA9IG5vcm1hbGl6ZWRTdGFja1swXTtcbiAgICBpZiAobGFzdCAmJiBsYXN0LnZub2RlID09PSBjdXJyZW50Vk5vZGUpIHtcbiAgICAgIGxhc3QucmVjdXJzZUNvdW50Kys7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vcm1hbGl6ZWRTdGFjay5wdXNoKHtcbiAgICAgICAgdm5vZGU6IGN1cnJlbnRWTm9kZSxcbiAgICAgICAgcmVjdXJzZUNvdW50OiAwXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgcGFyZW50SW5zdGFuY2UgPSBjdXJyZW50Vk5vZGUuY29tcG9uZW50ICYmIGN1cnJlbnRWTm9kZS5jb21wb25lbnQucGFyZW50O1xuICAgIGN1cnJlbnRWTm9kZSA9IHBhcmVudEluc3RhbmNlICYmIHBhcmVudEluc3RhbmNlLnZub2RlO1xuICB9XG4gIHJldHVybiBub3JtYWxpemVkU3RhY2s7XG59XG5mdW5jdGlvbiBmb3JtYXRUcmFjZSh0cmFjZSkge1xuICBjb25zdCBsb2dzID0gW107XG4gIHRyYWNlLmZvckVhY2goKGVudHJ5LCBpKSA9PiB7XG4gICAgbG9ncy5wdXNoKC4uLmkgPT09IDAgPyBbXSA6IFtgXG5gXSwgLi4uZm9ybWF0VHJhY2VFbnRyeShlbnRyeSkpO1xuICB9KTtcbiAgcmV0dXJuIGxvZ3M7XG59XG5mdW5jdGlvbiBmb3JtYXRUcmFjZUVudHJ5KHsgdm5vZGUsIHJlY3Vyc2VDb3VudCB9KSB7XG4gIGNvbnN0IHBvc3RmaXggPSByZWN1cnNlQ291bnQgPiAwID8gYC4uLiAoJHtyZWN1cnNlQ291bnR9IHJlY3Vyc2l2ZSBjYWxscylgIDogYGA7XG4gIGNvbnN0IGlzUm9vdCA9IHZub2RlLmNvbXBvbmVudCA/IHZub2RlLmNvbXBvbmVudC5wYXJlbnQgPT0gbnVsbCA6IGZhbHNlO1xuICBjb25zdCBvcGVuID0gYCBhdCA8JHtmb3JtYXRDb21wb25lbnROYW1lKFxuICAgIHZub2RlLmNvbXBvbmVudCxcbiAgICB2bm9kZS50eXBlLFxuICAgIGlzUm9vdFxuICApfWA7XG4gIGNvbnN0IGNsb3NlID0gYD5gICsgcG9zdGZpeDtcbiAgcmV0dXJuIHZub2RlLnByb3BzID8gW29wZW4sIC4uLmZvcm1hdFByb3BzKHZub2RlLnByb3BzKSwgY2xvc2VdIDogW29wZW4gKyBjbG9zZV07XG59XG5mdW5jdGlvbiBmb3JtYXRQcm9wcyhwcm9wcykge1xuICBjb25zdCByZXMgPSBbXTtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHByb3BzKTtcbiAga2V5cy5zbGljZSgwLCAzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICByZXMucHVzaCguLi5mb3JtYXRQcm9wKGtleSwgcHJvcHNba2V5XSkpO1xuICB9KTtcbiAgaWYgKGtleXMubGVuZ3RoID4gMykge1xuICAgIHJlcy5wdXNoKGAgLi4uYCk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIGZvcm1hdFByb3Aoa2V5LCB2YWx1ZSwgcmF3KSB7XG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICB2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT0ke3ZhbHVlfWBdO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgdmFsdWUgPT09IFwiYm9vbGVhblwiIHx8IHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT0ke3ZhbHVlfWBdO1xuICB9IGVsc2UgaWYgKGlzUmVmKHZhbHVlKSkge1xuICAgIHZhbHVlID0gZm9ybWF0UHJvcChrZXksIHRvUmF3KHZhbHVlLnZhbHVlKSwgdHJ1ZSk7XG4gICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09UmVmPGAsIHZhbHVlLCBgPmBdO1xuICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgcmV0dXJuIFtgJHtrZXl9PWZuJHt2YWx1ZS5uYW1lID8gYDwke3ZhbHVlLm5hbWV9PmAgOiBgYH1gXTtcbiAgfSBlbHNlIHtcbiAgICB2YWx1ZSA9IHRvUmF3KHZhbHVlKTtcbiAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT1gLCB2YWx1ZV07XG4gIH1cbn1cbmZ1bmN0aW9uIGFzc2VydE51bWJlcih2YWwsIHR5cGUpIHtcbiAgaWYgKCEhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSByZXR1cm47XG4gIGlmICh2YWwgPT09IHZvaWQgMCkge1xuICAgIHJldHVybjtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsICE9PSBcIm51bWJlclwiKSB7XG4gICAgd2FybiQxKGAke3R5cGV9IGlzIG5vdCBhIHZhbGlkIG51bWJlciAtIGdvdCAke0pTT04uc3RyaW5naWZ5KHZhbCl9LmApO1xuICB9IGVsc2UgaWYgKGlzTmFOKHZhbCkpIHtcbiAgICB3YXJuJDEoYCR7dHlwZX0gaXMgTmFOIC0gdGhlIGR1cmF0aW9uIGV4cHJlc3Npb24gbWlnaHQgYmUgaW5jb3JyZWN0LmApO1xuICB9XG59XG5cbmNvbnN0IEVycm9yQ29kZXMgPSB7XG4gIFwiU0VUVVBfRlVOQ1RJT05cIjogMCxcbiAgXCIwXCI6IFwiU0VUVVBfRlVOQ1RJT05cIixcbiAgXCJSRU5ERVJfRlVOQ1RJT05cIjogMSxcbiAgXCIxXCI6IFwiUkVOREVSX0ZVTkNUSU9OXCIsXG4gIFwiTkFUSVZFX0VWRU5UX0hBTkRMRVJcIjogNSxcbiAgXCI1XCI6IFwiTkFUSVZFX0VWRU5UX0hBTkRMRVJcIixcbiAgXCJDT01QT05FTlRfRVZFTlRfSEFORExFUlwiOiA2LFxuICBcIjZcIjogXCJDT01QT05FTlRfRVZFTlRfSEFORExFUlwiLFxuICBcIlZOT0RFX0hPT0tcIjogNyxcbiAgXCI3XCI6IFwiVk5PREVfSE9PS1wiLFxuICBcIkRJUkVDVElWRV9IT09LXCI6IDgsXG4gIFwiOFwiOiBcIkRJUkVDVElWRV9IT09LXCIsXG4gIFwiVFJBTlNJVElPTl9IT09LXCI6IDksXG4gIFwiOVwiOiBcIlRSQU5TSVRJT05fSE9PS1wiLFxuICBcIkFQUF9FUlJPUl9IQU5ETEVSXCI6IDEwLFxuICBcIjEwXCI6IFwiQVBQX0VSUk9SX0hBTkRMRVJcIixcbiAgXCJBUFBfV0FSTl9IQU5ETEVSXCI6IDExLFxuICBcIjExXCI6IFwiQVBQX1dBUk5fSEFORExFUlwiLFxuICBcIkZVTkNUSU9OX1JFRlwiOiAxMixcbiAgXCIxMlwiOiBcIkZVTkNUSU9OX1JFRlwiLFxuICBcIkFTWU5DX0NPTVBPTkVOVF9MT0FERVJcIjogMTMsXG4gIFwiMTNcIjogXCJBU1lOQ19DT01QT05FTlRfTE9BREVSXCIsXG4gIFwiU0NIRURVTEVSXCI6IDE0LFxuICBcIjE0XCI6IFwiU0NIRURVTEVSXCIsXG4gIFwiQ09NUE9ORU5UX1VQREFURVwiOiAxNSxcbiAgXCIxNVwiOiBcIkNPTVBPTkVOVF9VUERBVEVcIixcbiAgXCJBUFBfVU5NT1VOVF9DTEVBTlVQXCI6IDE2LFxuICBcIjE2XCI6IFwiQVBQX1VOTU9VTlRfQ0xFQU5VUFwiXG59O1xuY29uc3QgRXJyb3JUeXBlU3RyaW5ncyQxID0ge1xuICBbXCJzcFwiXTogXCJzZXJ2ZXJQcmVmZXRjaCBob29rXCIsXG4gIFtcImJjXCJdOiBcImJlZm9yZUNyZWF0ZSBob29rXCIsXG4gIFtcImNcIl06IFwiY3JlYXRlZCBob29rXCIsXG4gIFtcImJtXCJdOiBcImJlZm9yZU1vdW50IGhvb2tcIixcbiAgW1wibVwiXTogXCJtb3VudGVkIGhvb2tcIixcbiAgW1wiYnVcIl06IFwiYmVmb3JlVXBkYXRlIGhvb2tcIixcbiAgW1widVwiXTogXCJ1cGRhdGVkXCIsXG4gIFtcImJ1bVwiXTogXCJiZWZvcmVVbm1vdW50IGhvb2tcIixcbiAgW1widW1cIl06IFwidW5tb3VudGVkIGhvb2tcIixcbiAgW1wiYVwiXTogXCJhY3RpdmF0ZWQgaG9va1wiLFxuICBbXCJkYVwiXTogXCJkZWFjdGl2YXRlZCBob29rXCIsXG4gIFtcImVjXCJdOiBcImVycm9yQ2FwdHVyZWQgaG9va1wiLFxuICBbXCJydGNcIl06IFwicmVuZGVyVHJhY2tlZCBob29rXCIsXG4gIFtcInJ0Z1wiXTogXCJyZW5kZXJUcmlnZ2VyZWQgaG9va1wiLFxuICBbMF06IFwic2V0dXAgZnVuY3Rpb25cIixcbiAgWzFdOiBcInJlbmRlciBmdW5jdGlvblwiLFxuICBbMl06IFwid2F0Y2hlciBnZXR0ZXJcIixcbiAgWzNdOiBcIndhdGNoZXIgY2FsbGJhY2tcIixcbiAgWzRdOiBcIndhdGNoZXIgY2xlYW51cCBmdW5jdGlvblwiLFxuICBbNV06IFwibmF0aXZlIGV2ZW50IGhhbmRsZXJcIixcbiAgWzZdOiBcImNvbXBvbmVudCBldmVudCBoYW5kbGVyXCIsXG4gIFs3XTogXCJ2bm9kZSBob29rXCIsXG4gIFs4XTogXCJkaXJlY3RpdmUgaG9va1wiLFxuICBbOV06IFwidHJhbnNpdGlvbiBob29rXCIsXG4gIFsxMF06IFwiYXBwIGVycm9ySGFuZGxlclwiLFxuICBbMTFdOiBcImFwcCB3YXJuSGFuZGxlclwiLFxuICBbMTJdOiBcInJlZiBmdW5jdGlvblwiLFxuICBbMTNdOiBcImFzeW5jIGNvbXBvbmVudCBsb2FkZXJcIixcbiAgWzE0XTogXCJzY2hlZHVsZXIgZmx1c2hcIixcbiAgWzE1XTogXCJjb21wb25lbnQgdXBkYXRlXCIsXG4gIFsxNl06IFwiYXBwIHVubW91bnQgY2xlYW51cCBmdW5jdGlvblwiXG59O1xuZnVuY3Rpb24gY2FsbFdpdGhFcnJvckhhbmRsaW5nKGZuLCBpbnN0YW5jZSwgdHlwZSwgYXJncykge1xuICB0cnkge1xuICAgIHJldHVybiBhcmdzID8gZm4oLi4uYXJncykgOiBmbigpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCB0eXBlKTtcbiAgfVxufVxuZnVuY3Rpb24gY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoZm4sIGluc3RhbmNlLCB0eXBlLCBhcmdzKSB7XG4gIGlmIChpc0Z1bmN0aW9uKGZuKSkge1xuICAgIGNvbnN0IHJlcyA9IGNhbGxXaXRoRXJyb3JIYW5kbGluZyhmbiwgaW5zdGFuY2UsIHR5cGUsIGFyZ3MpO1xuICAgIGlmIChyZXMgJiYgaXNQcm9taXNlKHJlcykpIHtcbiAgICAgIHJlcy5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIHR5cGUpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH1cbiAgaWYgKGlzQXJyYXkoZm4pKSB7XG4gICAgY29uc3QgdmFsdWVzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmbi5sZW5ndGg7IGkrKykge1xuICAgICAgdmFsdWVzLnB1c2goY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoZm5baV0sIGluc3RhbmNlLCB0eXBlLCBhcmdzKSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZXM7XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm4kMShcbiAgICAgIGBJbnZhbGlkIHZhbHVlIHR5cGUgcGFzc2VkIHRvIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKCk6ICR7dHlwZW9mIGZufWBcbiAgICApO1xuICB9XG59XG5mdW5jdGlvbiBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCB0eXBlLCB0aHJvd0luRGV2ID0gdHJ1ZSkge1xuICBjb25zdCBjb250ZXh0Vk5vZGUgPSBpbnN0YW5jZSA/IGluc3RhbmNlLnZub2RlIDogbnVsbDtcbiAgY29uc3QgeyBlcnJvckhhbmRsZXIsIHRocm93VW5oYW5kbGVkRXJyb3JJblByb2R1Y3Rpb24gfSA9IGluc3RhbmNlICYmIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnIHx8IEVNUFRZX09CSjtcbiAgaWYgKGluc3RhbmNlKSB7XG4gICAgbGV0IGN1ciA9IGluc3RhbmNlLnBhcmVudDtcbiAgICBjb25zdCBleHBvc2VkSW5zdGFuY2UgPSBpbnN0YW5jZS5wcm94eTtcbiAgICBjb25zdCBlcnJvckluZm8gPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gRXJyb3JUeXBlU3RyaW5ncyQxW3R5cGVdIDogYGh0dHBzOi8vdnVlanMub3JnL2Vycm9yLXJlZmVyZW5jZS8jcnVudGltZS0ke3R5cGV9YDtcbiAgICB3aGlsZSAoY3VyKSB7XG4gICAgICBjb25zdCBlcnJvckNhcHR1cmVkSG9va3MgPSBjdXIuZWM7XG4gICAgICBpZiAoZXJyb3JDYXB0dXJlZEhvb2tzKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXJyb3JDYXB0dXJlZEhvb2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGVycm9yQ2FwdHVyZWRIb29rc1tpXShlcnIsIGV4cG9zZWRJbnN0YW5jZSwgZXJyb3JJbmZvKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGN1ciA9IGN1ci5wYXJlbnQ7XG4gICAgfVxuICAgIGlmIChlcnJvckhhbmRsZXIpIHtcbiAgICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICAgIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhlcnJvckhhbmRsZXIsIG51bGwsIDEwLCBbXG4gICAgICAgIGVycixcbiAgICAgICAgZXhwb3NlZEluc3RhbmNlLFxuICAgICAgICBlcnJvckluZm9cbiAgICAgIF0pO1xuICAgICAgcmVzZXRUcmFja2luZygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICBsb2dFcnJvcihlcnIsIHR5cGUsIGNvbnRleHRWTm9kZSwgdGhyb3dJbkRldiwgdGhyb3dVbmhhbmRsZWRFcnJvckluUHJvZHVjdGlvbik7XG59XG5mdW5jdGlvbiBsb2dFcnJvcihlcnIsIHR5cGUsIGNvbnRleHRWTm9kZSwgdGhyb3dJbkRldiA9IHRydWUsIHRocm93SW5Qcm9kID0gZmFsc2UpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBjb25zdCBpbmZvID0gRXJyb3JUeXBlU3RyaW5ncyQxW3R5cGVdO1xuICAgIGlmIChjb250ZXh0Vk5vZGUpIHtcbiAgICAgIHB1c2hXYXJuaW5nQ29udGV4dChjb250ZXh0Vk5vZGUpO1xuICAgIH1cbiAgICB3YXJuJDEoYFVuaGFuZGxlZCBlcnJvciR7aW5mbyA/IGAgZHVyaW5nIGV4ZWN1dGlvbiBvZiAke2luZm99YCA6IGBgfWApO1xuICAgIGlmIChjb250ZXh0Vk5vZGUpIHtcbiAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XG4gICAgfVxuICAgIGlmICh0aHJvd0luRGV2KSB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodGhyb3dJblByb2QpIHtcbiAgICB0aHJvdyBlcnI7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICB9XG59XG5cbmNvbnN0IHF1ZXVlID0gW107XG5sZXQgZmx1c2hJbmRleCA9IC0xO1xuY29uc3QgcGVuZGluZ1Bvc3RGbHVzaENicyA9IFtdO1xubGV0IGFjdGl2ZVBvc3RGbHVzaENicyA9IG51bGw7XG5sZXQgcG9zdEZsdXNoSW5kZXggPSAwO1xuY29uc3QgcmVzb2x2ZWRQcm9taXNlID0gLyogQF9fUFVSRV9fICovIFByb21pc2UucmVzb2x2ZSgpO1xubGV0IGN1cnJlbnRGbHVzaFByb21pc2UgPSBudWxsO1xuY29uc3QgUkVDVVJTSU9OX0xJTUlUID0gMTAwO1xuZnVuY3Rpb24gbmV4dFRpY2soZm4pIHtcbiAgY29uc3QgcCA9IGN1cnJlbnRGbHVzaFByb21pc2UgfHwgcmVzb2x2ZWRQcm9taXNlO1xuICByZXR1cm4gZm4gPyBwLnRoZW4odGhpcyA/IGZuLmJpbmQodGhpcykgOiBmbikgOiBwO1xufVxuZnVuY3Rpb24gZmluZEluc2VydGlvbkluZGV4KGlkKSB7XG4gIGxldCBzdGFydCA9IGZsdXNoSW5kZXggKyAxO1xuICBsZXQgZW5kID0gcXVldWUubGVuZ3RoO1xuICB3aGlsZSAoc3RhcnQgPCBlbmQpIHtcbiAgICBjb25zdCBtaWRkbGUgPSBzdGFydCArIGVuZCA+Pj4gMTtcbiAgICBjb25zdCBtaWRkbGVKb2IgPSBxdWV1ZVttaWRkbGVdO1xuICAgIGNvbnN0IG1pZGRsZUpvYklkID0gZ2V0SWQobWlkZGxlSm9iKTtcbiAgICBpZiAobWlkZGxlSm9iSWQgPCBpZCB8fCBtaWRkbGVKb2JJZCA9PT0gaWQgJiYgbWlkZGxlSm9iLmZsYWdzICYgMikge1xuICAgICAgc3RhcnQgPSBtaWRkbGUgKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbmQgPSBtaWRkbGU7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdGFydDtcbn1cbmZ1bmN0aW9uIHF1ZXVlSm9iKGpvYikge1xuICBpZiAoIShqb2IuZmxhZ3MgJiAxKSkge1xuICAgIGNvbnN0IGpvYklkID0gZ2V0SWQoam9iKTtcbiAgICBjb25zdCBsYXN0Sm9iID0gcXVldWVbcXVldWUubGVuZ3RoIC0gMV07XG4gICAgaWYgKCFsYXN0Sm9iIHx8IC8vIGZhc3QgcGF0aCB3aGVuIHRoZSBqb2IgaWQgaXMgbGFyZ2VyIHRoYW4gdGhlIHRhaWxcbiAgICAhKGpvYi5mbGFncyAmIDIpICYmIGpvYklkID49IGdldElkKGxhc3RKb2IpKSB7XG4gICAgICBxdWV1ZS5wdXNoKGpvYik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHF1ZXVlLnNwbGljZShmaW5kSW5zZXJ0aW9uSW5kZXgoam9iSWQpLCAwLCBqb2IpO1xuICAgIH1cbiAgICBqb2IuZmxhZ3MgfD0gMTtcbiAgICBxdWV1ZUZsdXNoKCk7XG4gIH1cbn1cbmZ1bmN0aW9uIHF1ZXVlRmx1c2goKSB7XG4gIGlmICghY3VycmVudEZsdXNoUHJvbWlzZSkge1xuICAgIGN1cnJlbnRGbHVzaFByb21pc2UgPSByZXNvbHZlZFByb21pc2UudGhlbihmbHVzaEpvYnMpO1xuICB9XG59XG5mdW5jdGlvbiBxdWV1ZVBvc3RGbHVzaENiKGNiKSB7XG4gIGlmICghaXNBcnJheShjYikpIHtcbiAgICBpZiAoYWN0aXZlUG9zdEZsdXNoQ2JzICYmIGNiLmlkID09PSAtMSkge1xuICAgICAgYWN0aXZlUG9zdEZsdXNoQ2JzLnNwbGljZShwb3N0Rmx1c2hJbmRleCArIDEsIDAsIGNiKTtcbiAgICB9IGVsc2UgaWYgKCEoY2IuZmxhZ3MgJiAxKSkge1xuICAgICAgcGVuZGluZ1Bvc3RGbHVzaENicy5wdXNoKGNiKTtcbiAgICAgIGNiLmZsYWdzIHw9IDE7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHBlbmRpbmdQb3N0Rmx1c2hDYnMucHVzaCguLi5jYik7XG4gIH1cbiAgcXVldWVGbHVzaCgpO1xufVxuZnVuY3Rpb24gZmx1c2hQcmVGbHVzaENicyhpbnN0YW5jZSwgc2VlbiwgaSA9IGZsdXNoSW5kZXggKyAxKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgc2VlbiA9IHNlZW4gfHwgLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgfVxuICBmb3IgKDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY2IgPSBxdWV1ZVtpXTtcbiAgICBpZiAoY2IgJiYgY2IuZmxhZ3MgJiAyKSB7XG4gICAgICBpZiAoaW5zdGFuY2UgJiYgY2IuaWQgIT09IGluc3RhbmNlLnVpZCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGNoZWNrUmVjdXJzaXZlVXBkYXRlcyhzZWVuLCBjYikpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBxdWV1ZS5zcGxpY2UoaSwgMSk7XG4gICAgICBpLS07XG4gICAgICBpZiAoY2IuZmxhZ3MgJiA0KSB7XG4gICAgICAgIGNiLmZsYWdzICY9IH4xO1xuICAgICAgfVxuICAgICAgY2IoKTtcbiAgICAgIGlmICghKGNiLmZsYWdzICYgNCkpIHtcbiAgICAgICAgY2IuZmxhZ3MgJj0gfjE7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBmbHVzaFBvc3RGbHVzaENicyhzZWVuKSB7XG4gIGlmIChwZW5kaW5nUG9zdEZsdXNoQ2JzLmxlbmd0aCkge1xuICAgIGNvbnN0IGRlZHVwZWQgPSBbLi4ubmV3IFNldChwZW5kaW5nUG9zdEZsdXNoQ2JzKV0uc29ydChcbiAgICAgIChhLCBiKSA9PiBnZXRJZChhKSAtIGdldElkKGIpXG4gICAgKTtcbiAgICBwZW5kaW5nUG9zdEZsdXNoQ2JzLmxlbmd0aCA9IDA7XG4gICAgaWYgKGFjdGl2ZVBvc3RGbHVzaENicykge1xuICAgICAgYWN0aXZlUG9zdEZsdXNoQ2JzLnB1c2goLi4uZGVkdXBlZCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGFjdGl2ZVBvc3RGbHVzaENicyA9IGRlZHVwZWQ7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHNlZW4gPSBzZWVuIHx8IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgfVxuICAgIGZvciAocG9zdEZsdXNoSW5kZXggPSAwOyBwb3N0Rmx1c2hJbmRleCA8IGFjdGl2ZVBvc3RGbHVzaENicy5sZW5ndGg7IHBvc3RGbHVzaEluZGV4KyspIHtcbiAgICAgIGNvbnN0IGNiID0gYWN0aXZlUG9zdEZsdXNoQ2JzW3Bvc3RGbHVzaEluZGV4XTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGNoZWNrUmVjdXJzaXZlVXBkYXRlcyhzZWVuLCBjYikpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoY2IuZmxhZ3MgJiA0KSB7XG4gICAgICAgIGNiLmZsYWdzICY9IH4xO1xuICAgICAgfVxuICAgICAgaWYgKCEoY2IuZmxhZ3MgJiA4KSkgY2IoKTtcbiAgICAgIGNiLmZsYWdzICY9IH4xO1xuICAgIH1cbiAgICBhY3RpdmVQb3N0Rmx1c2hDYnMgPSBudWxsO1xuICAgIHBvc3RGbHVzaEluZGV4ID0gMDtcbiAgfVxufVxuY29uc3QgZ2V0SWQgPSAoam9iKSA9PiBqb2IuaWQgPT0gbnVsbCA/IGpvYi5mbGFncyAmIDIgPyAtMSA6IEluZmluaXR5IDogam9iLmlkO1xuZnVuY3Rpb24gZmx1c2hKb2JzKHNlZW4pIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBzZWVuID0gc2VlbiB8fCAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICB9XG4gIGNvbnN0IGNoZWNrID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IChqb2IpID0+IGNoZWNrUmVjdXJzaXZlVXBkYXRlcyhzZWVuLCBqb2IpIDogTk9PUDtcbiAgdHJ5IHtcbiAgICBmb3IgKGZsdXNoSW5kZXggPSAwOyBmbHVzaEluZGV4IDwgcXVldWUubGVuZ3RoOyBmbHVzaEluZGV4KyspIHtcbiAgICAgIGNvbnN0IGpvYiA9IHF1ZXVlW2ZsdXNoSW5kZXhdO1xuICAgICAgaWYgKGpvYiAmJiAhKGpvYi5mbGFncyAmIDgpKSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGNoZWNrKGpvYikpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoam9iLmZsYWdzICYgNCkge1xuICAgICAgICAgIGpvYi5mbGFncyAmPSB+MTtcbiAgICAgICAgfVxuICAgICAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcoXG4gICAgICAgICAgam9iLFxuICAgICAgICAgIGpvYi5pLFxuICAgICAgICAgIGpvYi5pID8gMTUgOiAxNFxuICAgICAgICApO1xuICAgICAgICBpZiAoIShqb2IuZmxhZ3MgJiA0KSkge1xuICAgICAgICAgIGpvYi5mbGFncyAmPSB+MTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBmaW5hbGx5IHtcbiAgICBmb3IgKDsgZmx1c2hJbmRleCA8IHF1ZXVlLmxlbmd0aDsgZmx1c2hJbmRleCsrKSB7XG4gICAgICBjb25zdCBqb2IgPSBxdWV1ZVtmbHVzaEluZGV4XTtcbiAgICAgIGlmIChqb2IpIHtcbiAgICAgICAgam9iLmZsYWdzICY9IH4xO1xuICAgICAgfVxuICAgIH1cbiAgICBmbHVzaEluZGV4ID0gLTE7XG4gICAgcXVldWUubGVuZ3RoID0gMDtcbiAgICBmbHVzaFBvc3RGbHVzaENicyhzZWVuKTtcbiAgICBjdXJyZW50Rmx1c2hQcm9taXNlID0gbnVsbDtcbiAgICBpZiAocXVldWUubGVuZ3RoIHx8IHBlbmRpbmdQb3N0Rmx1c2hDYnMubGVuZ3RoKSB7XG4gICAgICBmbHVzaEpvYnMoc2Vlbik7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBjaGVja1JlY3Vyc2l2ZVVwZGF0ZXMoc2VlbiwgZm4pIHtcbiAgY29uc3QgY291bnQgPSBzZWVuLmdldChmbikgfHwgMDtcbiAgaWYgKGNvdW50ID4gUkVDVVJTSU9OX0xJTUlUKSB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBmbi5pO1xuICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBpbnN0YW5jZSAmJiBnZXRDb21wb25lbnROYW1lKGluc3RhbmNlLnR5cGUpO1xuICAgIGhhbmRsZUVycm9yKFxuICAgICAgYE1heGltdW0gcmVjdXJzaXZlIHVwZGF0ZXMgZXhjZWVkZWQke2NvbXBvbmVudE5hbWUgPyBgIGluIGNvbXBvbmVudCA8JHtjb21wb25lbnROYW1lfT5gIDogYGB9LiBUaGlzIG1lYW5zIHlvdSBoYXZlIGEgcmVhY3RpdmUgZWZmZWN0IHRoYXQgaXMgbXV0YXRpbmcgaXRzIG93biBkZXBlbmRlbmNpZXMgYW5kIHRodXMgcmVjdXJzaXZlbHkgdHJpZ2dlcmluZyBpdHNlbGYuIFBvc3NpYmxlIHNvdXJjZXMgaW5jbHVkZSBjb21wb25lbnQgdGVtcGxhdGUsIHJlbmRlciBmdW5jdGlvbiwgdXBkYXRlZCBob29rIG9yIHdhdGNoZXIgc291cmNlIGZ1bmN0aW9uLmAsXG4gICAgICBudWxsLFxuICAgICAgMTBcbiAgICApO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHNlZW4uc2V0KGZuLCBjb3VudCArIDEpO1xuICByZXR1cm4gZmFsc2U7XG59XG5cbmxldCBpc0htclVwZGF0aW5nID0gZmFsc2U7XG5jb25zdCBobXJEaXJ0eUNvbXBvbmVudHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgZ2V0R2xvYmFsVGhpcygpLl9fVlVFX0hNUl9SVU5USU1FX18gPSB7XG4gICAgY3JlYXRlUmVjb3JkOiB0cnlXcmFwKGNyZWF0ZVJlY29yZCksXG4gICAgcmVyZW5kZXI6IHRyeVdyYXAocmVyZW5kZXIpLFxuICAgIHJlbG9hZDogdHJ5V3JhcChyZWxvYWQpXG4gIH07XG59XG5jb25zdCBtYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuZnVuY3Rpb24gcmVnaXN0ZXJITVIoaW5zdGFuY2UpIHtcbiAgY29uc3QgaWQgPSBpbnN0YW5jZS50eXBlLl9faG1ySWQ7XG4gIGxldCByZWNvcmQgPSBtYXAuZ2V0KGlkKTtcbiAgaWYgKCFyZWNvcmQpIHtcbiAgICBjcmVhdGVSZWNvcmQoaWQsIGluc3RhbmNlLnR5cGUpO1xuICAgIHJlY29yZCA9IG1hcC5nZXQoaWQpO1xuICB9XG4gIHJlY29yZC5pbnN0YW5jZXMuYWRkKGluc3RhbmNlKTtcbn1cbmZ1bmN0aW9uIHVucmVnaXN0ZXJITVIoaW5zdGFuY2UpIHtcbiAgbWFwLmdldChpbnN0YW5jZS50eXBlLl9faG1ySWQpLmluc3RhbmNlcy5kZWxldGUoaW5zdGFuY2UpO1xufVxuZnVuY3Rpb24gY3JlYXRlUmVjb3JkKGlkLCBpbml0aWFsRGVmKSB7XG4gIGlmIChtYXAuaGFzKGlkKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBtYXAuc2V0KGlkLCB7XG4gICAgaW5pdGlhbERlZjogbm9ybWFsaXplQ2xhc3NDb21wb25lbnQoaW5pdGlhbERlZiksXG4gICAgaW5zdGFuY2VzOiAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpXG4gIH0pO1xuICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUNsYXNzQ29tcG9uZW50KGNvbXBvbmVudCkge1xuICByZXR1cm4gaXNDbGFzc0NvbXBvbmVudChjb21wb25lbnQpID8gY29tcG9uZW50Ll9fdmNjT3B0cyA6IGNvbXBvbmVudDtcbn1cbmZ1bmN0aW9uIHJlcmVuZGVyKGlkLCBuZXdSZW5kZXIpIHtcbiAgY29uc3QgcmVjb3JkID0gbWFwLmdldChpZCk7XG4gIGlmICghcmVjb3JkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHJlY29yZC5pbml0aWFsRGVmLnJlbmRlciA9IG5ld1JlbmRlcjtcbiAgWy4uLnJlY29yZC5pbnN0YW5jZXNdLmZvckVhY2goKGluc3RhbmNlKSA9PiB7XG4gICAgaWYgKG5ld1JlbmRlcikge1xuICAgICAgaW5zdGFuY2UucmVuZGVyID0gbmV3UmVuZGVyO1xuICAgICAgbm9ybWFsaXplQ2xhc3NDb21wb25lbnQoaW5zdGFuY2UudHlwZSkucmVuZGVyID0gbmV3UmVuZGVyO1xuICAgIH1cbiAgICBpbnN0YW5jZS5yZW5kZXJDYWNoZSA9IFtdO1xuICAgIGlzSG1yVXBkYXRpbmcgPSB0cnVlO1xuICAgIGluc3RhbmNlLnVwZGF0ZSgpO1xuICAgIGlzSG1yVXBkYXRpbmcgPSBmYWxzZTtcbiAgfSk7XG59XG5mdW5jdGlvbiByZWxvYWQoaWQsIG5ld0NvbXApIHtcbiAgY29uc3QgcmVjb3JkID0gbWFwLmdldChpZCk7XG4gIGlmICghcmVjb3JkKSByZXR1cm47XG4gIG5ld0NvbXAgPSBub3JtYWxpemVDbGFzc0NvbXBvbmVudChuZXdDb21wKTtcbiAgdXBkYXRlQ29tcG9uZW50RGVmKHJlY29yZC5pbml0aWFsRGVmLCBuZXdDb21wKTtcbiAgY29uc3QgaW5zdGFuY2VzID0gWy4uLnJlY29yZC5pbnN0YW5jZXNdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGluc3RhbmNlcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzW2ldO1xuICAgIGNvbnN0IG9sZENvbXAgPSBub3JtYWxpemVDbGFzc0NvbXBvbmVudChpbnN0YW5jZS50eXBlKTtcbiAgICBsZXQgZGlydHlJbnN0YW5jZXMgPSBobXJEaXJ0eUNvbXBvbmVudHMuZ2V0KG9sZENvbXApO1xuICAgIGlmICghZGlydHlJbnN0YW5jZXMpIHtcbiAgICAgIGlmIChvbGRDb21wICE9PSByZWNvcmQuaW5pdGlhbERlZikge1xuICAgICAgICB1cGRhdGVDb21wb25lbnREZWYob2xkQ29tcCwgbmV3Q29tcCk7XG4gICAgICB9XG4gICAgICBobXJEaXJ0eUNvbXBvbmVudHMuc2V0KG9sZENvbXAsIGRpcnR5SW5zdGFuY2VzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSk7XG4gICAgfVxuICAgIGRpcnR5SW5zdGFuY2VzLmFkZChpbnN0YW5jZSk7XG4gICAgaW5zdGFuY2UuYXBwQ29udGV4dC5wcm9wc0NhY2hlLmRlbGV0ZShpbnN0YW5jZS50eXBlKTtcbiAgICBpbnN0YW5jZS5hcHBDb250ZXh0LmVtaXRzQ2FjaGUuZGVsZXRlKGluc3RhbmNlLnR5cGUpO1xuICAgIGluc3RhbmNlLmFwcENvbnRleHQub3B0aW9uc0NhY2hlLmRlbGV0ZShpbnN0YW5jZS50eXBlKTtcbiAgICBpZiAoaW5zdGFuY2UuY2VSZWxvYWQpIHtcbiAgICAgIGRpcnR5SW5zdGFuY2VzLmFkZChpbnN0YW5jZSk7XG4gICAgICBpbnN0YW5jZS5jZVJlbG9hZChuZXdDb21wLnN0eWxlcyk7XG4gICAgICBkaXJ0eUluc3RhbmNlcy5kZWxldGUoaW5zdGFuY2UpO1xuICAgIH0gZWxzZSBpZiAoaW5zdGFuY2UucGFyZW50KSB7XG4gICAgICBxdWV1ZUpvYigoKSA9PiB7XG4gICAgICAgIGlzSG1yVXBkYXRpbmcgPSB0cnVlO1xuICAgICAgICBpbnN0YW5jZS5wYXJlbnQudXBkYXRlKCk7XG4gICAgICAgIGlzSG1yVXBkYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgZGlydHlJbnN0YW5jZXMuZGVsZXRlKGluc3RhbmNlKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoaW5zdGFuY2UuYXBwQ29udGV4dC5yZWxvYWQpIHtcbiAgICAgIGluc3RhbmNlLmFwcENvbnRleHQucmVsb2FkKCk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgXCJbSE1SXSBSb290IG9yIG1hbnVhbGx5IG1vdW50ZWQgaW5zdGFuY2UgbW9kaWZpZWQuIEZ1bGwgcmVsb2FkIHJlcXVpcmVkLlwiXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoaW5zdGFuY2Uucm9vdC5jZSAmJiBpbnN0YW5jZSAhPT0gaW5zdGFuY2Uucm9vdCkge1xuICAgICAgaW5zdGFuY2Uucm9vdC5jZS5fcmVtb3ZlQ2hpbGRTdHlsZShvbGRDb21wKTtcbiAgICB9XG4gIH1cbiAgcXVldWVQb3N0Rmx1c2hDYigoKSA9PiB7XG4gICAgaG1yRGlydHlDb21wb25lbnRzLmNsZWFyKCk7XG4gIH0pO1xufVxuZnVuY3Rpb24gdXBkYXRlQ29tcG9uZW50RGVmKG9sZENvbXAsIG5ld0NvbXApIHtcbiAgZXh0ZW5kKG9sZENvbXAsIG5ld0NvbXApO1xuICBmb3IgKGNvbnN0IGtleSBpbiBvbGRDb21wKSB7XG4gICAgaWYgKGtleSAhPT0gXCJfX2ZpbGVcIiAmJiAhKGtleSBpbiBuZXdDb21wKSkge1xuICAgICAgZGVsZXRlIG9sZENvbXBba2V5XTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHRyeVdyYXAoZm4pIHtcbiAgcmV0dXJuIChpZCwgYXJnKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmbihpZCwgYXJnKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBgW0hNUl0gU29tZXRoaW5nIHdlbnQgd3JvbmcgZHVyaW5nIFZ1ZSBjb21wb25lbnQgaG90LXJlbG9hZC4gRnVsbCByZWxvYWQgcmVxdWlyZWQuYFxuICAgICAgKTtcbiAgICB9XG4gIH07XG59XG5cbmxldCBkZXZ0b29scyQxO1xubGV0IGJ1ZmZlciA9IFtdO1xubGV0IGRldnRvb2xzTm90SW5zdGFsbGVkID0gZmFsc2U7XG5mdW5jdGlvbiBlbWl0JDEoZXZlbnQsIC4uLmFyZ3MpIHtcbiAgaWYgKGRldnRvb2xzJDEpIHtcbiAgICBkZXZ0b29scyQxLmVtaXQoZXZlbnQsIC4uLmFyZ3MpO1xuICB9IGVsc2UgaWYgKCFkZXZ0b29sc05vdEluc3RhbGxlZCkge1xuICAgIGJ1ZmZlci5wdXNoKHsgZXZlbnQsIGFyZ3MgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHNldERldnRvb2xzSG9vayQxKGhvb2ssIHRhcmdldCkge1xuICB2YXIgX2EsIF9iO1xuICBkZXZ0b29scyQxID0gaG9vaztcbiAgaWYgKGRldnRvb2xzJDEpIHtcbiAgICBkZXZ0b29scyQxLmVuYWJsZWQgPSB0cnVlO1xuICAgIGJ1ZmZlci5mb3JFYWNoKCh7IGV2ZW50LCBhcmdzIH0pID0+IGRldnRvb2xzJDEuZW1pdChldmVudCwgLi4uYXJncykpO1xuICAgIGJ1ZmZlciA9IFtdO1xuICB9IGVsc2UgaWYgKFxuICAgIC8vIGhhbmRsZSBsYXRlIGRldnRvb2xzIGluamVjdGlvbiAtIG9ubHkgZG8gdGhpcyBpZiB3ZSBhcmUgaW4gYW4gYWN0dWFsXG4gICAgLy8gYnJvd3NlciBlbnZpcm9ubWVudCB0byBhdm9pZCB0aGUgdGltZXIgaGFuZGxlIHN0YWxsaW5nIHRlc3QgcnVubmVyIGV4aXRcbiAgICAvLyAoIzQ4MTUpXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiAvLyBzb21lIGVudnMgbW9jayB3aW5kb3cgYnV0IG5vdCBmdWxseVxuICAgIHdpbmRvdy5IVE1MRWxlbWVudCAmJiAvLyBhbHNvIGV4Y2x1ZGUganNkb21cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXhcbiAgICAhKChfYiA9IChfYSA9IHdpbmRvdy5uYXZpZ2F0b3IpID09IG51bGwgPyB2b2lkIDAgOiBfYS51c2VyQWdlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYi5pbmNsdWRlcyhcImpzZG9tXCIpKVxuICApIHtcbiAgICBjb25zdCByZXBsYXkgPSB0YXJnZXQuX19WVUVfREVWVE9PTFNfSE9PS19SRVBMQVlfXyA9IHRhcmdldC5fX1ZVRV9ERVZUT09MU19IT09LX1JFUExBWV9fIHx8IFtdO1xuICAgIHJlcGxheS5wdXNoKChuZXdIb29rKSA9PiB7XG4gICAgICBzZXREZXZ0b29sc0hvb2skMShuZXdIb29rLCB0YXJnZXQpO1xuICAgIH0pO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKCFkZXZ0b29scyQxKSB7XG4gICAgICAgIHRhcmdldC5fX1ZVRV9ERVZUT09MU19IT09LX1JFUExBWV9fID0gbnVsbDtcbiAgICAgICAgZGV2dG9vbHNOb3RJbnN0YWxsZWQgPSB0cnVlO1xuICAgICAgICBidWZmZXIgPSBbXTtcbiAgICAgIH1cbiAgICB9LCAzZTMpO1xuICB9IGVsc2Uge1xuICAgIGRldnRvb2xzTm90SW5zdGFsbGVkID0gdHJ1ZTtcbiAgICBidWZmZXIgPSBbXTtcbiAgfVxufVxuZnVuY3Rpb24gZGV2dG9vbHNJbml0QXBwKGFwcCwgdmVyc2lvbikge1xuICBlbWl0JDEoXCJhcHA6aW5pdFwiIC8qIEFQUF9JTklUICovLCBhcHAsIHZlcnNpb24sIHtcbiAgICBGcmFnbWVudCxcbiAgICBUZXh0LFxuICAgIENvbW1lbnQsXG4gICAgU3RhdGljXG4gIH0pO1xufVxuZnVuY3Rpb24gZGV2dG9vbHNVbm1vdW50QXBwKGFwcCkge1xuICBlbWl0JDEoXCJhcHA6dW5tb3VudFwiIC8qIEFQUF9VTk1PVU5UICovLCBhcHApO1xufVxuY29uc3QgZGV2dG9vbHNDb21wb25lbnRBZGRlZCA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soXCJjb21wb25lbnQ6YWRkZWRcIiAvKiBDT01QT05FTlRfQURERUQgKi8pO1xuY29uc3QgZGV2dG9vbHNDb21wb25lbnRVcGRhdGVkID0gLyogQF9fUFVSRV9fICovIGNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayhcImNvbXBvbmVudDp1cGRhdGVkXCIgLyogQ09NUE9ORU5UX1VQREFURUQgKi8pO1xuY29uc3QgX2RldnRvb2xzQ29tcG9uZW50UmVtb3ZlZCA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soXG4gIFwiY29tcG9uZW50OnJlbW92ZWRcIiAvKiBDT01QT05FTlRfUkVNT1ZFRCAqL1xuKTtcbmNvbnN0IGRldnRvb2xzQ29tcG9uZW50UmVtb3ZlZCA9IChjb21wb25lbnQpID0+IHtcbiAgaWYgKGRldnRvb2xzJDEgJiYgdHlwZW9mIGRldnRvb2xzJDEuY2xlYW51cEJ1ZmZlciA9PT0gXCJmdW5jdGlvblwiICYmIC8vIHJlbW92ZSB0aGUgY29tcG9uZW50IGlmIGl0IHdhc24ndCBidWZmZXJlZFxuICAhZGV2dG9vbHMkMS5jbGVhbnVwQnVmZmVyKGNvbXBvbmVudCkpIHtcbiAgICBfZGV2dG9vbHNDb21wb25lbnRSZW1vdmVkKGNvbXBvbmVudCk7XG4gIH1cbn07XG4vKiEgI19fTk9fU0lERV9FRkZFQ1RTX18gKi9cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soaG9vaykge1xuICByZXR1cm4gKGNvbXBvbmVudCkgPT4ge1xuICAgIGVtaXQkMShcbiAgICAgIGhvb2ssXG4gICAgICBjb21wb25lbnQuYXBwQ29udGV4dC5hcHAsXG4gICAgICBjb21wb25lbnQudWlkLFxuICAgICAgY29tcG9uZW50LnBhcmVudCA/IGNvbXBvbmVudC5wYXJlbnQudWlkIDogdm9pZCAwLFxuICAgICAgY29tcG9uZW50XG4gICAgKTtcbiAgfTtcbn1cbmNvbnN0IGRldnRvb2xzUGVyZlN0YXJ0ID0gLyogQF9fUFVSRV9fICovIGNyZWF0ZURldnRvb2xzUGVyZm9ybWFuY2VIb29rKFwicGVyZjpzdGFydFwiIC8qIFBFUkZPUk1BTkNFX1NUQVJUICovKTtcbmNvbnN0IGRldnRvb2xzUGVyZkVuZCA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVEZXZ0b29sc1BlcmZvcm1hbmNlSG9vayhcInBlcmY6ZW5kXCIgLyogUEVSRk9STUFOQ0VfRU5EICovKTtcbmZ1bmN0aW9uIGNyZWF0ZURldnRvb2xzUGVyZm9ybWFuY2VIb29rKGhvb2spIHtcbiAgcmV0dXJuIChjb21wb25lbnQsIHR5cGUsIHRpbWUpID0+IHtcbiAgICBlbWl0JDEoaG9vaywgY29tcG9uZW50LmFwcENvbnRleHQuYXBwLCBjb21wb25lbnQudWlkLCBjb21wb25lbnQsIHR5cGUsIHRpbWUpO1xuICB9O1xufVxuZnVuY3Rpb24gZGV2dG9vbHNDb21wb25lbnRFbWl0KGNvbXBvbmVudCwgZXZlbnQsIHBhcmFtcykge1xuICBlbWl0JDEoXG4gICAgXCJjb21wb25lbnQ6ZW1pdFwiIC8qIENPTVBPTkVOVF9FTUlUICovLFxuICAgIGNvbXBvbmVudC5hcHBDb250ZXh0LmFwcCxcbiAgICBjb21wb25lbnQsXG4gICAgZXZlbnQsXG4gICAgcGFyYW1zXG4gICk7XG59XG5cbmxldCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgPSBudWxsO1xubGV0IGN1cnJlbnRTY29wZUlkID0gbnVsbDtcbmZ1bmN0aW9uIHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShpbnN0YW5jZSkge1xuICBjb25zdCBwcmV2ID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xuICBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgY3VycmVudFNjb3BlSWQgPSBpbnN0YW5jZSAmJiBpbnN0YW5jZS50eXBlLl9fc2NvcGVJZCB8fCBudWxsO1xuICByZXR1cm4gcHJldjtcbn1cbmZ1bmN0aW9uIHB1c2hTY29wZUlkKGlkKSB7XG4gIGN1cnJlbnRTY29wZUlkID0gaWQ7XG59XG5mdW5jdGlvbiBwb3BTY29wZUlkKCkge1xuICBjdXJyZW50U2NvcGVJZCA9IG51bGw7XG59XG5jb25zdCB3aXRoU2NvcGVJZCA9IChfaWQpID0+IHdpdGhDdHg7XG5mdW5jdGlvbiB3aXRoQ3R4KGZuLCBjdHggPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UsIGlzTm9uU2NvcGVkU2xvdCkge1xuICBpZiAoIWN0eCkgcmV0dXJuIGZuO1xuICBpZiAoZm4uX24pIHtcbiAgICByZXR1cm4gZm47XG4gIH1cbiAgY29uc3QgcmVuZGVyRm5XaXRoQ29udGV4dCA9ICguLi5hcmdzKSA9PiB7XG4gICAgaWYgKHJlbmRlckZuV2l0aENvbnRleHQuX2QpIHtcbiAgICAgIHNldEJsb2NrVHJhY2tpbmcoLTEpO1xuICAgIH1cbiAgICBjb25zdCBwcmV2SW5zdGFuY2UgPSBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UoY3R4KTtcbiAgICBsZXQgcmVzO1xuICAgIHRyeSB7XG4gICAgICByZXMgPSBmbiguLi5hcmdzKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKHByZXZJbnN0YW5jZSk7XG4gICAgICBpZiAocmVuZGVyRm5XaXRoQ29udGV4dC5fZCkge1xuICAgICAgICBzZXRCbG9ja1RyYWNraW5nKDEpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgIGRldnRvb2xzQ29tcG9uZW50VXBkYXRlZChjdHgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9O1xuICByZW5kZXJGbldpdGhDb250ZXh0Ll9uID0gdHJ1ZTtcbiAgcmVuZGVyRm5XaXRoQ29udGV4dC5fYyA9IHRydWU7XG4gIHJlbmRlckZuV2l0aENvbnRleHQuX2QgPSB0cnVlO1xuICByZXR1cm4gcmVuZGVyRm5XaXRoQ29udGV4dDtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVEaXJlY3RpdmVOYW1lKG5hbWUpIHtcbiAgaWYgKGlzQnVpbHRJbkRpcmVjdGl2ZShuYW1lKSkge1xuICAgIHdhcm4kMShcIkRvIG5vdCB1c2UgYnVpbHQtaW4gZGlyZWN0aXZlIGlkcyBhcyBjdXN0b20gZGlyZWN0aXZlIGlkOiBcIiArIG5hbWUpO1xuICB9XG59XG5mdW5jdGlvbiB3aXRoRGlyZWN0aXZlcyh2bm9kZSwgZGlyZWN0aXZlcykge1xuICBpZiAoY3VycmVudFJlbmRlcmluZ0luc3RhbmNlID09PSBudWxsKSB7XG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuJDEoYHdpdGhEaXJlY3RpdmVzIGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIHJlbmRlciBmdW5jdGlvbnMuYCk7XG4gICAgcmV0dXJuIHZub2RlO1xuICB9XG4gIGNvbnN0IGluc3RhbmNlID0gZ2V0Q29tcG9uZW50UHVibGljSW5zdGFuY2UoY3VycmVudFJlbmRlcmluZ0luc3RhbmNlKTtcbiAgY29uc3QgYmluZGluZ3MgPSB2bm9kZS5kaXJzIHx8ICh2bm9kZS5kaXJzID0gW10pO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGRpcmVjdGl2ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgW2RpciwgdmFsdWUsIGFyZywgbW9kaWZpZXJzID0gRU1QVFlfT0JKXSA9IGRpcmVjdGl2ZXNbaV07XG4gICAgaWYgKGRpcikge1xuICAgICAgaWYgKGlzRnVuY3Rpb24oZGlyKSkge1xuICAgICAgICBkaXIgPSB7XG4gICAgICAgICAgbW91bnRlZDogZGlyLFxuICAgICAgICAgIHVwZGF0ZWQ6IGRpclxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgaWYgKGRpci5kZWVwKSB7XG4gICAgICAgIHRyYXZlcnNlKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGJpbmRpbmdzLnB1c2goe1xuICAgICAgICBkaXIsXG4gICAgICAgIGluc3RhbmNlLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgb2xkVmFsdWU6IHZvaWQgMCxcbiAgICAgICAgYXJnLFxuICAgICAgICBtb2RpZmllcnNcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdm5vZGU7XG59XG5mdW5jdGlvbiBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBwcmV2Vk5vZGUsIGluc3RhbmNlLCBuYW1lKSB7XG4gIGNvbnN0IGJpbmRpbmdzID0gdm5vZGUuZGlycztcbiAgY29uc3Qgb2xkQmluZGluZ3MgPSBwcmV2Vk5vZGUgJiYgcHJldlZOb2RlLmRpcnM7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYmluZGluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBiaW5kaW5nID0gYmluZGluZ3NbaV07XG4gICAgaWYgKG9sZEJpbmRpbmdzKSB7XG4gICAgICBiaW5kaW5nLm9sZFZhbHVlID0gb2xkQmluZGluZ3NbaV0udmFsdWU7XG4gICAgfVxuICAgIGxldCBob29rID0gYmluZGluZy5kaXJbbmFtZV07XG4gICAgaWYgKGhvb2spIHtcbiAgICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGhvb2ssIGluc3RhbmNlLCA4LCBbXG4gICAgICAgIHZub2RlLmVsLFxuICAgICAgICBiaW5kaW5nLFxuICAgICAgICB2bm9kZSxcbiAgICAgICAgcHJldlZOb2RlXG4gICAgICBdKTtcbiAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgVGVsZXBvcnRFbmRLZXkgPSBTeW1ib2woXCJfdnRlXCIpO1xuY29uc3QgaXNUZWxlcG9ydCA9ICh0eXBlKSA9PiB0eXBlLl9faXNUZWxlcG9ydDtcbmNvbnN0IGlzVGVsZXBvcnREaXNhYmxlZCA9IChwcm9wcykgPT4gcHJvcHMgJiYgKHByb3BzLmRpc2FibGVkIHx8IHByb3BzLmRpc2FibGVkID09PSBcIlwiKTtcbmNvbnN0IGlzVGVsZXBvcnREZWZlcnJlZCA9IChwcm9wcykgPT4gcHJvcHMgJiYgKHByb3BzLmRlZmVyIHx8IHByb3BzLmRlZmVyID09PSBcIlwiKTtcbmNvbnN0IGlzVGFyZ2V0U1ZHID0gKHRhcmdldCkgPT4gdHlwZW9mIFNWR0VsZW1lbnQgIT09IFwidW5kZWZpbmVkXCIgJiYgdGFyZ2V0IGluc3RhbmNlb2YgU1ZHRWxlbWVudDtcbmNvbnN0IGlzVGFyZ2V0TWF0aE1MID0gKHRhcmdldCkgPT4gdHlwZW9mIE1hdGhNTEVsZW1lbnQgPT09IFwiZnVuY3Rpb25cIiAmJiB0YXJnZXQgaW5zdGFuY2VvZiBNYXRoTUxFbGVtZW50O1xuY29uc3QgcmVzb2x2ZVRhcmdldCA9IChwcm9wcywgc2VsZWN0KSA9PiB7XG4gIGNvbnN0IHRhcmdldFNlbGVjdG9yID0gcHJvcHMgJiYgcHJvcHMudG87XG4gIGlmIChpc1N0cmluZyh0YXJnZXRTZWxlY3RvcikpIHtcbiAgICBpZiAoIXNlbGVjdCkge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuJDEoXG4gICAgICAgIGBDdXJyZW50IHJlbmRlcmVyIGRvZXMgbm90IHN1cHBvcnQgc3RyaW5nIHRhcmdldCBmb3IgVGVsZXBvcnRzLiAobWlzc2luZyBxdWVyeVNlbGVjdG9yIHJlbmRlcmVyIG9wdGlvbilgXG4gICAgICApO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHNlbGVjdCh0YXJnZXRTZWxlY3Rvcik7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhdGFyZ2V0ICYmICFpc1RlbGVwb3J0RGlzYWJsZWQocHJvcHMpKSB7XG4gICAgICAgIHdhcm4kMShcbiAgICAgICAgICBgRmFpbGVkIHRvIGxvY2F0ZSBUZWxlcG9ydCB0YXJnZXQgd2l0aCBzZWxlY3RvciBcIiR7dGFyZ2V0U2VsZWN0b3J9XCIuIE5vdGUgdGhlIHRhcmdldCBlbGVtZW50IG11c3QgZXhpc3QgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgbW91bnRlZCAtIGkuZS4gdGhlIHRhcmdldCBjYW5ub3QgYmUgcmVuZGVyZWQgYnkgdGhlIGNvbXBvbmVudCBpdHNlbGYsIGFuZCBpZGVhbGx5IHNob3VsZCBiZSBvdXRzaWRlIG9mIHRoZSBlbnRpcmUgVnVlIGNvbXBvbmVudCB0cmVlLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICF0YXJnZXRTZWxlY3RvciAmJiAhaXNUZWxlcG9ydERpc2FibGVkKHByb3BzKSkge1xuICAgICAgd2FybiQxKGBJbnZhbGlkIFRlbGVwb3J0IHRhcmdldDogJHt0YXJnZXRTZWxlY3Rvcn1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldFNlbGVjdG9yO1xuICB9XG59O1xuY29uc3QgVGVsZXBvcnRJbXBsID0ge1xuICBuYW1lOiBcIlRlbGVwb3J0XCIsXG4gIF9faXNUZWxlcG9ydDogdHJ1ZSxcbiAgcHJvY2VzcyhuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCBpbnRlcm5hbHMpIHtcbiAgICBjb25zdCB7XG4gICAgICBtYzogbW91bnRDaGlsZHJlbixcbiAgICAgIHBjOiBwYXRjaENoaWxkcmVuLFxuICAgICAgcGJjOiBwYXRjaEJsb2NrQ2hpbGRyZW4sXG4gICAgICBvOiB7IGluc2VydCwgcXVlcnlTZWxlY3RvciwgY3JlYXRlVGV4dCwgY3JlYXRlQ29tbWVudCB9XG4gICAgfSA9IGludGVybmFscztcbiAgICBjb25zdCBkaXNhYmxlZCA9IGlzVGVsZXBvcnREaXNhYmxlZChuMi5wcm9wcyk7XG4gICAgbGV0IHsgc2hhcGVGbGFnLCBjaGlsZHJlbiwgZHluYW1pY0NoaWxkcmVuIH0gPSBuMjtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpc0htclVwZGF0aW5nKSB7XG4gICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcbiAgICAgIGR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XG4gICAgfVxuICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICBjb25zdCBwbGFjZWhvbGRlciA9IG4yLmVsID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IGNyZWF0ZUNvbW1lbnQoXCJ0ZWxlcG9ydCBzdGFydFwiKSA6IGNyZWF0ZVRleHQoXCJcIik7XG4gICAgICBjb25zdCBtYWluQW5jaG9yID0gbjIuYW5jaG9yID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IGNyZWF0ZUNvbW1lbnQoXCJ0ZWxlcG9ydCBlbmRcIikgOiBjcmVhdGVUZXh0KFwiXCIpO1xuICAgICAgaW5zZXJ0KHBsYWNlaG9sZGVyLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICBpbnNlcnQobWFpbkFuY2hvciwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgY29uc3QgbW91bnQgPSAoY29udGFpbmVyMiwgYW5jaG9yMikgPT4ge1xuICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgICAgICBpZiAocGFyZW50Q29tcG9uZW50ICYmIHBhcmVudENvbXBvbmVudC5pc0NFKSB7XG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQuY2UuX3RlbGVwb3J0VGFyZ2V0ID0gY29udGFpbmVyMjtcbiAgICAgICAgICB9XG4gICAgICAgICAgbW91bnRDaGlsZHJlbihcbiAgICAgICAgICAgIGNoaWxkcmVuLFxuICAgICAgICAgICAgY29udGFpbmVyMixcbiAgICAgICAgICAgIGFuY2hvcjIsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBjb25zdCBtb3VudFRvVGFyZ2V0ID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBuMi50YXJnZXQgPSByZXNvbHZlVGFyZ2V0KG4yLnByb3BzLCBxdWVyeVNlbGVjdG9yKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0QW5jaG9yID0gcHJlcGFyZUFuY2hvcih0YXJnZXQsIG4yLCBjcmVhdGVUZXh0LCBpbnNlcnQpO1xuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgaWYgKG5hbWVzcGFjZSAhPT0gXCJzdmdcIiAmJiBpc1RhcmdldFNWRyh0YXJnZXQpKSB7XG4gICAgICAgICAgICBuYW1lc3BhY2UgPSBcInN2Z1wiO1xuICAgICAgICAgIH0gZWxzZSBpZiAobmFtZXNwYWNlICE9PSBcIm1hdGhtbFwiICYmIGlzVGFyZ2V0TWF0aE1MKHRhcmdldCkpIHtcbiAgICAgICAgICAgIG5hbWVzcGFjZSA9IFwibWF0aG1sXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIG1vdW50KHRhcmdldCwgdGFyZ2V0QW5jaG9yKTtcbiAgICAgICAgICAgIHVwZGF0ZUNzc1ZhcnMobjIsIGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhZGlzYWJsZWQpIHtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBcIkludmFsaWQgVGVsZXBvcnQgdGFyZ2V0IG9uIG1vdW50OlwiLFxuICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAgYCgke3R5cGVvZiB0YXJnZXR9KWBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICAgIG1vdW50KGNvbnRhaW5lciwgbWFpbkFuY2hvcik7XG4gICAgICAgIHVwZGF0ZUNzc1ZhcnMobjIsIHRydWUpO1xuICAgICAgfVxuICAgICAgaWYgKGlzVGVsZXBvcnREZWZlcnJlZChuMi5wcm9wcykpIHtcbiAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICBtb3VudFRvVGFyZ2V0KCk7XG4gICAgICAgICAgbjIuZWwuX19pc01vdW50ZWQgPSB0cnVlO1xuICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtb3VudFRvVGFyZ2V0KCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpc1RlbGVwb3J0RGVmZXJyZWQobjIucHJvcHMpICYmICFuMS5lbC5fX2lzTW91bnRlZCkge1xuICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgIFRlbGVwb3J0SW1wbC5wcm9jZXNzKFxuICAgICAgICAgICAgbjEsXG4gICAgICAgICAgICBuMixcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkLFxuICAgICAgICAgICAgaW50ZXJuYWxzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBkZWxldGUgbjEuZWwuX19pc01vdW50ZWQ7XG4gICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbjIuZWwgPSBuMS5lbDtcbiAgICAgIG4yLnRhcmdldFN0YXJ0ID0gbjEudGFyZ2V0U3RhcnQ7XG4gICAgICBjb25zdCBtYWluQW5jaG9yID0gbjIuYW5jaG9yID0gbjEuYW5jaG9yO1xuICAgICAgY29uc3QgdGFyZ2V0ID0gbjIudGFyZ2V0ID0gbjEudGFyZ2V0O1xuICAgICAgY29uc3QgdGFyZ2V0QW5jaG9yID0gbjIudGFyZ2V0QW5jaG9yID0gbjEudGFyZ2V0QW5jaG9yO1xuICAgICAgY29uc3Qgd2FzRGlzYWJsZWQgPSBpc1RlbGVwb3J0RGlzYWJsZWQobjEucHJvcHMpO1xuICAgICAgY29uc3QgY3VycmVudENvbnRhaW5lciA9IHdhc0Rpc2FibGVkID8gY29udGFpbmVyIDogdGFyZ2V0O1xuICAgICAgY29uc3QgY3VycmVudEFuY2hvciA9IHdhc0Rpc2FibGVkID8gbWFpbkFuY2hvciA6IHRhcmdldEFuY2hvcjtcbiAgICAgIGlmIChuYW1lc3BhY2UgPT09IFwic3ZnXCIgfHwgaXNUYXJnZXRTVkcodGFyZ2V0KSkge1xuICAgICAgICBuYW1lc3BhY2UgPSBcInN2Z1wiO1xuICAgICAgfSBlbHNlIGlmIChuYW1lc3BhY2UgPT09IFwibWF0aG1sXCIgfHwgaXNUYXJnZXRNYXRoTUwodGFyZ2V0KSkge1xuICAgICAgICBuYW1lc3BhY2UgPSBcIm1hdGhtbFwiO1xuICAgICAgfVxuICAgICAgaWYgKGR5bmFtaWNDaGlsZHJlbikge1xuICAgICAgICBwYXRjaEJsb2NrQ2hpbGRyZW4oXG4gICAgICAgICAgbjEuZHluYW1pY0NoaWxkcmVuLFxuICAgICAgICAgIGR5bmFtaWNDaGlsZHJlbixcbiAgICAgICAgICBjdXJyZW50Q29udGFpbmVyLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzXG4gICAgICAgICk7XG4gICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yLCB0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAoIW9wdGltaXplZCkge1xuICAgICAgICBwYXRjaENoaWxkcmVuKFxuICAgICAgICAgIG4xLFxuICAgICAgICAgIG4yLFxuICAgICAgICAgIGN1cnJlbnRDb250YWluZXIsXG4gICAgICAgICAgY3VycmVudEFuY2hvcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBmYWxzZVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICAgIGlmICghd2FzRGlzYWJsZWQpIHtcbiAgICAgICAgICBtb3ZlVGVsZXBvcnQoXG4gICAgICAgICAgICBuMixcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIG1haW5BbmNob3IsXG4gICAgICAgICAgICBpbnRlcm5hbHMsXG4gICAgICAgICAgICAxXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAobjIucHJvcHMgJiYgbjEucHJvcHMgJiYgbjIucHJvcHMudG8gIT09IG4xLnByb3BzLnRvKSB7XG4gICAgICAgICAgICBuMi5wcm9wcy50byA9IG4xLnByb3BzLnRvO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKChuMi5wcm9wcyAmJiBuMi5wcm9wcy50bykgIT09IChuMS5wcm9wcyAmJiBuMS5wcm9wcy50bykpIHtcbiAgICAgICAgICBjb25zdCBuZXh0VGFyZ2V0ID0gbjIudGFyZ2V0ID0gcmVzb2x2ZVRhcmdldChcbiAgICAgICAgICAgIG4yLnByb3BzLFxuICAgICAgICAgICAgcXVlcnlTZWxlY3RvclxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKG5leHRUYXJnZXQpIHtcbiAgICAgICAgICAgIG1vdmVUZWxlcG9ydChcbiAgICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICAgIG5leHRUYXJnZXQsXG4gICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgIGludGVybmFscyxcbiAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgICAgXCJJbnZhbGlkIFRlbGVwb3J0IHRhcmdldCBvbiB1cGRhdGU6XCIsXG4gICAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgICAgYCgke3R5cGVvZiB0YXJnZXR9KWBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHdhc0Rpc2FibGVkKSB7XG4gICAgICAgICAgbW92ZVRlbGVwb3J0KFxuICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgICB0YXJnZXRBbmNob3IsXG4gICAgICAgICAgICBpbnRlcm5hbHMsXG4gICAgICAgICAgICAxXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdXBkYXRlQ3NzVmFycyhuMiwgZGlzYWJsZWQpO1xuICAgIH1cbiAgfSxcbiAgcmVtb3ZlKHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB7IHVtOiB1bm1vdW50LCBvOiB7IHJlbW92ZTogaG9zdFJlbW92ZSB9IH0sIGRvUmVtb3ZlKSB7XG4gICAgY29uc3Qge1xuICAgICAgc2hhcGVGbGFnLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBhbmNob3IsXG4gICAgICB0YXJnZXRTdGFydCxcbiAgICAgIHRhcmdldEFuY2hvcixcbiAgICAgIHRhcmdldCxcbiAgICAgIHByb3BzXG4gICAgfSA9IHZub2RlO1xuICAgIGlmICh0YXJnZXQpIHtcbiAgICAgIGhvc3RSZW1vdmUodGFyZ2V0U3RhcnQpO1xuICAgICAgaG9zdFJlbW92ZSh0YXJnZXRBbmNob3IpO1xuICAgIH1cbiAgICBkb1JlbW92ZSAmJiBob3N0UmVtb3ZlKGFuY2hvcik7XG4gICAgaWYgKHNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICBjb25zdCBzaG91bGRSZW1vdmUgPSBkb1JlbW92ZSB8fCAhaXNUZWxlcG9ydERpc2FibGVkKHByb3BzKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgdW5tb3VudChcbiAgICAgICAgICBjaGlsZCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgc2hvdWxkUmVtb3ZlLFxuICAgICAgICAgICEhY2hpbGQuZHluYW1pY0NoaWxkcmVuXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBtb3ZlOiBtb3ZlVGVsZXBvcnQsXG4gIGh5ZHJhdGU6IGh5ZHJhdGVUZWxlcG9ydFxufTtcbmZ1bmN0aW9uIG1vdmVUZWxlcG9ydCh2bm9kZSwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IsIHsgbzogeyBpbnNlcnQgfSwgbTogbW92ZSB9LCBtb3ZlVHlwZSA9IDIpIHtcbiAgaWYgKG1vdmVUeXBlID09PSAwKSB7XG4gICAgaW5zZXJ0KHZub2RlLnRhcmdldEFuY2hvciwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IpO1xuICB9XG4gIGNvbnN0IHsgZWwsIGFuY2hvciwgc2hhcGVGbGFnLCBjaGlsZHJlbiwgcHJvcHMgfSA9IHZub2RlO1xuICBjb25zdCBpc1Jlb3JkZXIgPSBtb3ZlVHlwZSA9PT0gMjtcbiAgaWYgKGlzUmVvcmRlcikge1xuICAgIGluc2VydChlbCwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IpO1xuICB9XG4gIGlmICghaXNSZW9yZGVyIHx8IGlzVGVsZXBvcnREaXNhYmxlZChwcm9wcykpIHtcbiAgICBpZiAoc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbW92ZShcbiAgICAgICAgICBjaGlsZHJlbltpXSxcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgcGFyZW50QW5jaG9yLFxuICAgICAgICAgIDJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGlzUmVvcmRlcikge1xuICAgIGluc2VydChhbmNob3IsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yKTtcbiAgfVxufVxuZnVuY3Rpb24gaHlkcmF0ZVRlbGVwb3J0KG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwge1xuICBvOiB7IG5leHRTaWJsaW5nLCBwYXJlbnROb2RlLCBxdWVyeVNlbGVjdG9yLCBpbnNlcnQsIGNyZWF0ZVRleHQgfVxufSwgaHlkcmF0ZUNoaWxkcmVuKSB7XG4gIGNvbnN0IHRhcmdldCA9IHZub2RlLnRhcmdldCA9IHJlc29sdmVUYXJnZXQoXG4gICAgdm5vZGUucHJvcHMsXG4gICAgcXVlcnlTZWxlY3RvclxuICApO1xuICBpZiAodGFyZ2V0KSB7XG4gICAgY29uc3QgZGlzYWJsZWQgPSBpc1RlbGVwb3J0RGlzYWJsZWQodm5vZGUucHJvcHMpO1xuICAgIGNvbnN0IHRhcmdldE5vZGUgPSB0YXJnZXQuX2xwYSB8fCB0YXJnZXQuZmlyc3RDaGlsZDtcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICB2bm9kZS5hbmNob3IgPSBoeWRyYXRlQ2hpbGRyZW4oXG4gICAgICAgICAgbmV4dFNpYmxpbmcobm9kZSksXG4gICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgcGFyZW50Tm9kZShub2RlKSxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICB2bm9kZS50YXJnZXRTdGFydCA9IHRhcmdldE5vZGU7XG4gICAgICAgIHZub2RlLnRhcmdldEFuY2hvciA9IHRhcmdldE5vZGUgJiYgbmV4dFNpYmxpbmcodGFyZ2V0Tm9kZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2bm9kZS5hbmNob3IgPSBuZXh0U2libGluZyhub2RlKTtcbiAgICAgICAgbGV0IHRhcmdldEFuY2hvciA9IHRhcmdldE5vZGU7XG4gICAgICAgIHdoaWxlICh0YXJnZXRBbmNob3IpIHtcbiAgICAgICAgICBpZiAodGFyZ2V0QW5jaG9yICYmIHRhcmdldEFuY2hvci5ub2RlVHlwZSA9PT0gOCkge1xuICAgICAgICAgICAgaWYgKHRhcmdldEFuY2hvci5kYXRhID09PSBcInRlbGVwb3J0IHN0YXJ0IGFuY2hvclwiKSB7XG4gICAgICAgICAgICAgIHZub2RlLnRhcmdldFN0YXJ0ID0gdGFyZ2V0QW5jaG9yO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0YXJnZXRBbmNob3IuZGF0YSA9PT0gXCJ0ZWxlcG9ydCBhbmNob3JcIikge1xuICAgICAgICAgICAgICB2bm9kZS50YXJnZXRBbmNob3IgPSB0YXJnZXRBbmNob3I7XG4gICAgICAgICAgICAgIHRhcmdldC5fbHBhID0gdm5vZGUudGFyZ2V0QW5jaG9yICYmIG5leHRTaWJsaW5nKHZub2RlLnRhcmdldEFuY2hvcik7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB0YXJnZXRBbmNob3IgPSBuZXh0U2libGluZyh0YXJnZXRBbmNob3IpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdm5vZGUudGFyZ2V0QW5jaG9yKSB7XG4gICAgICAgICAgcHJlcGFyZUFuY2hvcih0YXJnZXQsIHZub2RlLCBjcmVhdGVUZXh0LCBpbnNlcnQpO1xuICAgICAgICB9XG4gICAgICAgIGh5ZHJhdGVDaGlsZHJlbihcbiAgICAgICAgICB0YXJnZXROb2RlICYmIG5leHRTaWJsaW5nKHRhcmdldE5vZGUpLFxuICAgICAgICAgIHZub2RlLFxuICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVDc3NWYXJzKHZub2RlLCBkaXNhYmxlZCk7XG4gIH1cbiAgcmV0dXJuIHZub2RlLmFuY2hvciAmJiBuZXh0U2libGluZyh2bm9kZS5hbmNob3IpO1xufVxuY29uc3QgVGVsZXBvcnQgPSBUZWxlcG9ydEltcGw7XG5mdW5jdGlvbiB1cGRhdGVDc3NWYXJzKHZub2RlLCBpc0Rpc2FibGVkKSB7XG4gIGNvbnN0IGN0eCA9IHZub2RlLmN0eDtcbiAgaWYgKGN0eCAmJiBjdHgudXQpIHtcbiAgICBsZXQgbm9kZSwgYW5jaG9yO1xuICAgIGlmIChpc0Rpc2FibGVkKSB7XG4gICAgICBub2RlID0gdm5vZGUuZWw7XG4gICAgICBhbmNob3IgPSB2bm9kZS5hbmNob3I7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vZGUgPSB2bm9kZS50YXJnZXRTdGFydDtcbiAgICAgIGFuY2hvciA9IHZub2RlLnRhcmdldEFuY2hvcjtcbiAgICB9XG4gICAgd2hpbGUgKG5vZGUgJiYgbm9kZSAhPT0gYW5jaG9yKSB7XG4gICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMSkgbm9kZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXYtb3duZXJcIiwgY3R4LnVpZCk7XG4gICAgICBub2RlID0gbm9kZS5uZXh0U2libGluZztcbiAgICB9XG4gICAgY3R4LnV0KCk7XG4gIH1cbn1cbmZ1bmN0aW9uIHByZXBhcmVBbmNob3IodGFyZ2V0LCB2bm9kZSwgY3JlYXRlVGV4dCwgaW5zZXJ0KSB7XG4gIGNvbnN0IHRhcmdldFN0YXJ0ID0gdm5vZGUudGFyZ2V0U3RhcnQgPSBjcmVhdGVUZXh0KFwiXCIpO1xuICBjb25zdCB0YXJnZXRBbmNob3IgPSB2bm9kZS50YXJnZXRBbmNob3IgPSBjcmVhdGVUZXh0KFwiXCIpO1xuICB0YXJnZXRTdGFydFtUZWxlcG9ydEVuZEtleV0gPSB0YXJnZXRBbmNob3I7XG4gIGlmICh0YXJnZXQpIHtcbiAgICBpbnNlcnQodGFyZ2V0U3RhcnQsIHRhcmdldCk7XG4gICAgaW5zZXJ0KHRhcmdldEFuY2hvciwgdGFyZ2V0KTtcbiAgfVxuICByZXR1cm4gdGFyZ2V0QW5jaG9yO1xufVxuXG5jb25zdCBsZWF2ZUNiS2V5ID0gU3ltYm9sKFwiX2xlYXZlQ2JcIik7XG5jb25zdCBlbnRlckNiS2V5ID0gU3ltYm9sKFwiX2VudGVyQ2JcIik7XG5mdW5jdGlvbiB1c2VUcmFuc2l0aW9uU3RhdGUoKSB7XG4gIGNvbnN0IHN0YXRlID0ge1xuICAgIGlzTW91bnRlZDogZmFsc2UsXG4gICAgaXNMZWF2aW5nOiBmYWxzZSxcbiAgICBpc1VubW91bnRpbmc6IGZhbHNlLFxuICAgIGxlYXZpbmdWTm9kZXM6IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKClcbiAgfTtcbiAgb25Nb3VudGVkKCgpID0+IHtcbiAgICBzdGF0ZS5pc01vdW50ZWQgPSB0cnVlO1xuICB9KTtcbiAgb25CZWZvcmVVbm1vdW50KCgpID0+IHtcbiAgICBzdGF0ZS5pc1VubW91bnRpbmcgPSB0cnVlO1xuICB9KTtcbiAgcmV0dXJuIHN0YXRlO1xufVxuY29uc3QgVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IgPSBbRnVuY3Rpb24sIEFycmF5XTtcbmNvbnN0IEJhc2VUcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzID0ge1xuICBtb2RlOiBTdHJpbmcsXG4gIGFwcGVhcjogQm9vbGVhbixcbiAgcGVyc2lzdGVkOiBCb29sZWFuLFxuICAvLyBlbnRlclxuICBvbkJlZm9yZUVudGVyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgb25FbnRlcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uQWZ0ZXJFbnRlcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uRW50ZXJDYW5jZWxsZWQ6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICAvLyBsZWF2ZVxuICBvbkJlZm9yZUxlYXZlOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgb25MZWF2ZTogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uQWZ0ZXJMZWF2ZTogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uTGVhdmVDYW5jZWxsZWQ6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICAvLyBhcHBlYXJcbiAgb25CZWZvcmVBcHBlYXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICBvbkFwcGVhcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uQWZ0ZXJBcHBlYXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICBvbkFwcGVhckNhbmNlbGxlZDogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3Jcbn07XG5jb25zdCByZWN1cnNpdmVHZXRTdWJ0cmVlID0gKGluc3RhbmNlKSA9PiB7XG4gIGNvbnN0IHN1YlRyZWUgPSBpbnN0YW5jZS5zdWJUcmVlO1xuICByZXR1cm4gc3ViVHJlZS5jb21wb25lbnQgPyByZWN1cnNpdmVHZXRTdWJ0cmVlKHN1YlRyZWUuY29tcG9uZW50KSA6IHN1YlRyZWU7XG59O1xuY29uc3QgQmFzZVRyYW5zaXRpb25JbXBsID0ge1xuICBuYW1lOiBgQmFzZVRyYW5zaXRpb25gLFxuICBwcm9wczogQmFzZVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMsXG4gIHNldHVwKHByb3BzLCB7IHNsb3RzIH0pIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgIGNvbnN0IHN0YXRlID0gdXNlVHJhbnNpdGlvblN0YXRlKCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gc2xvdHMuZGVmYXVsdCAmJiBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4oc2xvdHMuZGVmYXVsdCgpLCB0cnVlKTtcbiAgICAgIGlmICghY2hpbGRyZW4gfHwgIWNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjaGlsZCA9IGZpbmROb25Db21tZW50Q2hpbGQoY2hpbGRyZW4pO1xuICAgICAgY29uc3QgcmF3UHJvcHMgPSB0b1Jhdyhwcm9wcyk7XG4gICAgICBjb25zdCB7IG1vZGUgfSA9IHJhd1Byb3BzO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgbW9kZSAmJiBtb2RlICE9PSBcImluLW91dFwiICYmIG1vZGUgIT09IFwib3V0LWluXCIgJiYgbW9kZSAhPT0gXCJkZWZhdWx0XCIpIHtcbiAgICAgICAgd2FybiQxKGBpbnZhbGlkIDx0cmFuc2l0aW9uPiBtb2RlOiAke21vZGV9YCk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhdGUuaXNMZWF2aW5nKSB7XG4gICAgICAgIHJldHVybiBlbXB0eVBsYWNlaG9sZGVyKGNoaWxkKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGlubmVyQ2hpbGQgPSBnZXRJbm5lckNoaWxkJDEoY2hpbGQpO1xuICAgICAgaWYgKCFpbm5lckNoaWxkKSB7XG4gICAgICAgIHJldHVybiBlbXB0eVBsYWNlaG9sZGVyKGNoaWxkKTtcbiAgICAgIH1cbiAgICAgIGxldCBlbnRlckhvb2tzID0gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhcbiAgICAgICAgaW5uZXJDaGlsZCxcbiAgICAgICAgcmF3UHJvcHMsXG4gICAgICAgIHN0YXRlLFxuICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgLy8gIzExMDYxLCBlbnN1cmUgZW50ZXJIb29rcyBpcyBmcmVzaCBhZnRlciBjbG9uZVxuICAgICAgICAoaG9va3MpID0+IGVudGVySG9va3MgPSBob29rc1xuICAgICAgKTtcbiAgICAgIGlmIChpbm5lckNoaWxkLnR5cGUgIT09IENvbW1lbnQpIHtcbiAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKGlubmVyQ2hpbGQsIGVudGVySG9va3MpO1xuICAgICAgfVxuICAgICAgbGV0IG9sZElubmVyQ2hpbGQgPSBpbnN0YW5jZS5zdWJUcmVlICYmIGdldElubmVyQ2hpbGQkMShpbnN0YW5jZS5zdWJUcmVlKTtcbiAgICAgIGlmIChvbGRJbm5lckNoaWxkICYmIG9sZElubmVyQ2hpbGQudHlwZSAhPT0gQ29tbWVudCAmJiAhaXNTYW1lVk5vZGVUeXBlKGlubmVyQ2hpbGQsIG9sZElubmVyQ2hpbGQpICYmIHJlY3Vyc2l2ZUdldFN1YnRyZWUoaW5zdGFuY2UpLnR5cGUgIT09IENvbW1lbnQpIHtcbiAgICAgICAgbGV0IGxlYXZpbmdIb29rcyA9IHJlc29sdmVUcmFuc2l0aW9uSG9va3MoXG4gICAgICAgICAgb2xkSW5uZXJDaGlsZCxcbiAgICAgICAgICByYXdQcm9wcyxcbiAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICBpbnN0YW5jZVxuICAgICAgICApO1xuICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3Mob2xkSW5uZXJDaGlsZCwgbGVhdmluZ0hvb2tzKTtcbiAgICAgICAgaWYgKG1vZGUgPT09IFwib3V0LWluXCIgJiYgaW5uZXJDaGlsZC50eXBlICE9PSBDb21tZW50KSB7XG4gICAgICAgICAgc3RhdGUuaXNMZWF2aW5nID0gdHJ1ZTtcbiAgICAgICAgICBsZWF2aW5nSG9va3MuYWZ0ZXJMZWF2ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHN0YXRlLmlzTGVhdmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKCEoaW5zdGFuY2Uuam9iLmZsYWdzICYgOCkpIHtcbiAgICAgICAgICAgICAgaW5zdGFuY2UudXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWxldGUgbGVhdmluZ0hvb2tzLmFmdGVyTGVhdmU7XG4gICAgICAgICAgICBvbGRJbm5lckNoaWxkID0gdm9pZCAwO1xuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIGVtcHR5UGxhY2Vob2xkZXIoY2hpbGQpO1xuICAgICAgICB9IGVsc2UgaWYgKG1vZGUgPT09IFwiaW4tb3V0XCIgJiYgaW5uZXJDaGlsZC50eXBlICE9PSBDb21tZW50KSB7XG4gICAgICAgICAgbGVhdmluZ0hvb2tzLmRlbGF5TGVhdmUgPSAoZWwsIGVhcmx5UmVtb3ZlLCBkZWxheWVkTGVhdmUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdWTm9kZXNDYWNoZSA9IGdldExlYXZpbmdOb2Rlc0ZvclR5cGUoXG4gICAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgICBvbGRJbm5lckNoaWxkXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbGVhdmluZ1ZOb2Rlc0NhY2hlW1N0cmluZyhvbGRJbm5lckNoaWxkLmtleSldID0gb2xkSW5uZXJDaGlsZDtcbiAgICAgICAgICAgIGVsW2xlYXZlQ2JLZXldID0gKCkgPT4ge1xuICAgICAgICAgICAgICBlYXJseVJlbW92ZSgpO1xuICAgICAgICAgICAgICBlbFtsZWF2ZUNiS2V5XSA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgZGVsZXRlIGVudGVySG9va3MuZGVsYXllZExlYXZlO1xuICAgICAgICAgICAgICBvbGRJbm5lckNoaWxkID0gdm9pZCAwO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGVudGVySG9va3MuZGVsYXllZExlYXZlID0gKCkgPT4ge1xuICAgICAgICAgICAgICBkZWxheWVkTGVhdmUoKTtcbiAgICAgICAgICAgICAgZGVsZXRlIGVudGVySG9va3MuZGVsYXllZExlYXZlO1xuICAgICAgICAgICAgICBvbGRJbm5lckNoaWxkID0gdm9pZCAwO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9sZElubmVyQ2hpbGQgPSB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAob2xkSW5uZXJDaGlsZCkge1xuICAgICAgICBvbGRJbm5lckNoaWxkID0gdm9pZCAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH07XG4gIH1cbn07XG5mdW5jdGlvbiBmaW5kTm9uQ29tbWVudENoaWxkKGNoaWxkcmVuKSB7XG4gIGxldCBjaGlsZCA9IGNoaWxkcmVuWzBdO1xuICBpZiAoY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgIGxldCBoYXNGb3VuZCA9IGZhbHNlO1xuICAgIGZvciAoY29uc3QgYyBvZiBjaGlsZHJlbikge1xuICAgICAgaWYgKGMudHlwZSAhPT0gQ29tbWVudCkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBoYXNGb3VuZCkge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIFwiPHRyYW5zaXRpb24+IGNhbiBvbmx5IGJlIHVzZWQgb24gYSBzaW5nbGUgZWxlbWVudCBvciBjb21wb25lbnQuIFVzZSA8dHJhbnNpdGlvbi1ncm91cD4gZm9yIGxpc3RzLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjaGlsZCA9IGM7XG4gICAgICAgIGhhc0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgaWYgKCEhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNoaWxkO1xufVxuY29uc3QgQmFzZVRyYW5zaXRpb24gPSBCYXNlVHJhbnNpdGlvbkltcGw7XG5mdW5jdGlvbiBnZXRMZWF2aW5nTm9kZXNGb3JUeXBlKHN0YXRlLCB2bm9kZSkge1xuICBjb25zdCB7IGxlYXZpbmdWTm9kZXMgfSA9IHN0YXRlO1xuICBsZXQgbGVhdmluZ1ZOb2Rlc0NhY2hlID0gbGVhdmluZ1ZOb2Rlcy5nZXQodm5vZGUudHlwZSk7XG4gIGlmICghbGVhdmluZ1ZOb2Rlc0NhY2hlKSB7XG4gICAgbGVhdmluZ1ZOb2Rlc0NhY2hlID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgbGVhdmluZ1ZOb2Rlcy5zZXQodm5vZGUudHlwZSwgbGVhdmluZ1ZOb2Rlc0NhY2hlKTtcbiAgfVxuICByZXR1cm4gbGVhdmluZ1ZOb2Rlc0NhY2hlO1xufVxuZnVuY3Rpb24gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyh2bm9kZSwgcHJvcHMsIHN0YXRlLCBpbnN0YW5jZSwgcG9zdENsb25lKSB7XG4gIGNvbnN0IHtcbiAgICBhcHBlYXIsXG4gICAgbW9kZSxcbiAgICBwZXJzaXN0ZWQgPSBmYWxzZSxcbiAgICBvbkJlZm9yZUVudGVyLFxuICAgIG9uRW50ZXIsXG4gICAgb25BZnRlckVudGVyLFxuICAgIG9uRW50ZXJDYW5jZWxsZWQsXG4gICAgb25CZWZvcmVMZWF2ZSxcbiAgICBvbkxlYXZlLFxuICAgIG9uQWZ0ZXJMZWF2ZSxcbiAgICBvbkxlYXZlQ2FuY2VsbGVkLFxuICAgIG9uQmVmb3JlQXBwZWFyLFxuICAgIG9uQXBwZWFyLFxuICAgIG9uQWZ0ZXJBcHBlYXIsXG4gICAgb25BcHBlYXJDYW5jZWxsZWRcbiAgfSA9IHByb3BzO1xuICBjb25zdCBrZXkgPSBTdHJpbmcodm5vZGUua2V5KTtcbiAgY29uc3QgbGVhdmluZ1ZOb2Rlc0NhY2hlID0gZ2V0TGVhdmluZ05vZGVzRm9yVHlwZShzdGF0ZSwgdm5vZGUpO1xuICBjb25zdCBjYWxsSG9vayA9IChob29rLCBhcmdzKSA9PiB7XG4gICAgaG9vayAmJiBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhcbiAgICAgIGhvb2ssXG4gICAgICBpbnN0YW5jZSxcbiAgICAgIDksXG4gICAgICBhcmdzXG4gICAgKTtcbiAgfTtcbiAgY29uc3QgY2FsbEFzeW5jSG9vayA9IChob29rLCBhcmdzKSA9PiB7XG4gICAgY29uc3QgZG9uZSA9IGFyZ3NbMV07XG4gICAgY2FsbEhvb2soaG9vaywgYXJncyk7XG4gICAgaWYgKGlzQXJyYXkoaG9vaykpIHtcbiAgICAgIGlmIChob29rLmV2ZXJ5KChob29rMikgPT4gaG9vazIubGVuZ3RoIDw9IDEpKSBkb25lKCk7XG4gICAgfSBlbHNlIGlmIChob29rLmxlbmd0aCA8PSAxKSB7XG4gICAgICBkb25lKCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBob29rcyA9IHtcbiAgICBtb2RlLFxuICAgIHBlcnNpc3RlZCxcbiAgICBiZWZvcmVFbnRlcihlbCkge1xuICAgICAgbGV0IGhvb2sgPSBvbkJlZm9yZUVudGVyO1xuICAgICAgaWYgKCFzdGF0ZS5pc01vdW50ZWQpIHtcbiAgICAgICAgaWYgKGFwcGVhcikge1xuICAgICAgICAgIGhvb2sgPSBvbkJlZm9yZUFwcGVhciB8fCBvbkJlZm9yZUVudGVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGVsW2xlYXZlQ2JLZXldKSB7XG4gICAgICAgIGVsW2xlYXZlQ2JLZXldKFxuICAgICAgICAgIHRydWVcbiAgICAgICAgICAvKiBjYW5jZWxsZWQgKi9cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGxlYXZpbmdWTm9kZSA9IGxlYXZpbmdWTm9kZXNDYWNoZVtrZXldO1xuICAgICAgaWYgKGxlYXZpbmdWTm9kZSAmJiBpc1NhbWVWTm9kZVR5cGUodm5vZGUsIGxlYXZpbmdWTm9kZSkgJiYgbGVhdmluZ1ZOb2RlLmVsW2xlYXZlQ2JLZXldKSB7XG4gICAgICAgIGxlYXZpbmdWTm9kZS5lbFtsZWF2ZUNiS2V5XSgpO1xuICAgICAgfVxuICAgICAgY2FsbEhvb2soaG9vaywgW2VsXSk7XG4gICAgfSxcbiAgICBlbnRlcihlbCkge1xuICAgICAgbGV0IGhvb2sgPSBvbkVudGVyO1xuICAgICAgbGV0IGFmdGVySG9vayA9IG9uQWZ0ZXJFbnRlcjtcbiAgICAgIGxldCBjYW5jZWxIb29rID0gb25FbnRlckNhbmNlbGxlZDtcbiAgICAgIGlmICghc3RhdGUuaXNNb3VudGVkKSB7XG4gICAgICAgIGlmIChhcHBlYXIpIHtcbiAgICAgICAgICBob29rID0gb25BcHBlYXIgfHwgb25FbnRlcjtcbiAgICAgICAgICBhZnRlckhvb2sgPSBvbkFmdGVyQXBwZWFyIHx8IG9uQWZ0ZXJFbnRlcjtcbiAgICAgICAgICBjYW5jZWxIb29rID0gb25BcHBlYXJDYW5jZWxsZWQgfHwgb25FbnRlckNhbmNlbGxlZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcbiAgICAgIGNvbnN0IGRvbmUgPSBlbFtlbnRlckNiS2V5XSA9IChjYW5jZWxsZWQpID0+IHtcbiAgICAgICAgaWYgKGNhbGxlZCkgcmV0dXJuO1xuICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICBpZiAoY2FuY2VsbGVkKSB7XG4gICAgICAgICAgY2FsbEhvb2soY2FuY2VsSG9vaywgW2VsXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FsbEhvb2soYWZ0ZXJIb29rLCBbZWxdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaG9va3MuZGVsYXllZExlYXZlKSB7XG4gICAgICAgICAgaG9va3MuZGVsYXllZExlYXZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxbZW50ZXJDYktleV0gPSB2b2lkIDA7XG4gICAgICB9O1xuICAgICAgaWYgKGhvb2spIHtcbiAgICAgICAgY2FsbEFzeW5jSG9vayhob29rLCBbZWwsIGRvbmVdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGxlYXZlKGVsLCByZW1vdmUpIHtcbiAgICAgIGNvbnN0IGtleTIgPSBTdHJpbmcodm5vZGUua2V5KTtcbiAgICAgIGlmIChlbFtlbnRlckNiS2V5XSkge1xuICAgICAgICBlbFtlbnRlckNiS2V5XShcbiAgICAgICAgICB0cnVlXG4gICAgICAgICAgLyogY2FuY2VsbGVkICovXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhdGUuaXNVbm1vdW50aW5nKSB7XG4gICAgICAgIHJldHVybiByZW1vdmUoKTtcbiAgICAgIH1cbiAgICAgIGNhbGxIb29rKG9uQmVmb3JlTGVhdmUsIFtlbF0pO1xuICAgICAgbGV0IGNhbGxlZCA9IGZhbHNlO1xuICAgICAgY29uc3QgZG9uZSA9IGVsW2xlYXZlQ2JLZXldID0gKGNhbmNlbGxlZCkgPT4ge1xuICAgICAgICBpZiAoY2FsbGVkKSByZXR1cm47XG4gICAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICAgIHJlbW92ZSgpO1xuICAgICAgICBpZiAoY2FuY2VsbGVkKSB7XG4gICAgICAgICAgY2FsbEhvb2sob25MZWF2ZUNhbmNlbGxlZCwgW2VsXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FsbEhvb2sob25BZnRlckxlYXZlLCBbZWxdKTtcbiAgICAgICAgfVxuICAgICAgICBlbFtsZWF2ZUNiS2V5XSA9IHZvaWQgMDtcbiAgICAgICAgaWYgKGxlYXZpbmdWTm9kZXNDYWNoZVtrZXkyXSA9PT0gdm5vZGUpIHtcbiAgICAgICAgICBkZWxldGUgbGVhdmluZ1ZOb2Rlc0NhY2hlW2tleTJdO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbGVhdmluZ1ZOb2Rlc0NhY2hlW2tleTJdID0gdm5vZGU7XG4gICAgICBpZiAob25MZWF2ZSkge1xuICAgICAgICBjYWxsQXN5bmNIb29rKG9uTGVhdmUsIFtlbCwgZG9uZV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgY2xvbmUodm5vZGUyKSB7XG4gICAgICBjb25zdCBob29rczIgPSByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKFxuICAgICAgICB2bm9kZTIsXG4gICAgICAgIHByb3BzLFxuICAgICAgICBzdGF0ZSxcbiAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgIHBvc3RDbG9uZVxuICAgICAgKTtcbiAgICAgIGlmIChwb3N0Q2xvbmUpIHBvc3RDbG9uZShob29rczIpO1xuICAgICAgcmV0dXJuIGhvb2tzMjtcbiAgICB9XG4gIH07XG4gIHJldHVybiBob29rcztcbn1cbmZ1bmN0aW9uIGVtcHR5UGxhY2Vob2xkZXIodm5vZGUpIHtcbiAgaWYgKGlzS2VlcEFsaXZlKHZub2RlKSkge1xuICAgIHZub2RlID0gY2xvbmVWTm9kZSh2bm9kZSk7XG4gICAgdm5vZGUuY2hpbGRyZW4gPSBudWxsO1xuICAgIHJldHVybiB2bm9kZTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0SW5uZXJDaGlsZCQxKHZub2RlKSB7XG4gIGlmICghaXNLZWVwQWxpdmUodm5vZGUpKSB7XG4gICAgaWYgKGlzVGVsZXBvcnQodm5vZGUudHlwZSkgJiYgdm5vZGUuY2hpbGRyZW4pIHtcbiAgICAgIHJldHVybiBmaW5kTm9uQ29tbWVudENoaWxkKHZub2RlLmNoaWxkcmVuKTtcbiAgICB9XG4gICAgcmV0dXJuIHZub2RlO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHZub2RlLmNvbXBvbmVudCkge1xuICAgIHJldHVybiB2bm9kZS5jb21wb25lbnQuc3ViVHJlZTtcbiAgfVxuICBjb25zdCB7IHNoYXBlRmxhZywgY2hpbGRyZW4gfSA9IHZub2RlO1xuICBpZiAoY2hpbGRyZW4pIHtcbiAgICBpZiAoc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgIHJldHVybiBjaGlsZHJlblswXTtcbiAgICB9XG4gICAgaWYgKHNoYXBlRmxhZyAmIDMyICYmIGlzRnVuY3Rpb24oY2hpbGRyZW4uZGVmYXVsdCkpIHtcbiAgICAgIHJldHVybiBjaGlsZHJlbi5kZWZhdWx0KCk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBzZXRUcmFuc2l0aW9uSG9va3Modm5vZGUsIGhvb2tzKSB7XG4gIGlmICh2bm9kZS5zaGFwZUZsYWcgJiA2ICYmIHZub2RlLmNvbXBvbmVudCkge1xuICAgIHZub2RlLnRyYW5zaXRpb24gPSBob29rcztcbiAgICBzZXRUcmFuc2l0aW9uSG9va3Modm5vZGUuY29tcG9uZW50LnN1YlRyZWUsIGhvb2tzKTtcbiAgfSBlbHNlIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxMjgpIHtcbiAgICB2bm9kZS5zc0NvbnRlbnQudHJhbnNpdGlvbiA9IGhvb2tzLmNsb25lKHZub2RlLnNzQ29udGVudCk7XG4gICAgdm5vZGUuc3NGYWxsYmFjay50cmFuc2l0aW9uID0gaG9va3MuY2xvbmUodm5vZGUuc3NGYWxsYmFjayk7XG4gIH0gZWxzZSB7XG4gICAgdm5vZGUudHJhbnNpdGlvbiA9IGhvb2tzO1xuICB9XG59XG5mdW5jdGlvbiBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4oY2hpbGRyZW4sIGtlZXBDb21tZW50ID0gZmFsc2UsIHBhcmVudEtleSkge1xuICBsZXQgcmV0ID0gW107XG4gIGxldCBrZXllZEZyYWdtZW50Q291bnQgPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgY29uc3Qga2V5ID0gcGFyZW50S2V5ID09IG51bGwgPyBjaGlsZC5rZXkgOiBTdHJpbmcocGFyZW50S2V5KSArIFN0cmluZyhjaGlsZC5rZXkgIT0gbnVsbCA/IGNoaWxkLmtleSA6IGkpO1xuICAgIGlmIChjaGlsZC50eXBlID09PSBGcmFnbWVudCkge1xuICAgICAgaWYgKGNoaWxkLnBhdGNoRmxhZyAmIDEyOCkga2V5ZWRGcmFnbWVudENvdW50Kys7XG4gICAgICByZXQgPSByZXQuY29uY2F0KFxuICAgICAgICBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4oY2hpbGQuY2hpbGRyZW4sIGtlZXBDb21tZW50LCBrZXkpXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoa2VlcENvbW1lbnQgfHwgY2hpbGQudHlwZSAhPT0gQ29tbWVudCkge1xuICAgICAgcmV0LnB1c2goa2V5ICE9IG51bGwgPyBjbG9uZVZOb2RlKGNoaWxkLCB7IGtleSB9KSA6IGNoaWxkKTtcbiAgICB9XG4gIH1cbiAgaWYgKGtleWVkRnJhZ21lbnRDb3VudCA+IDEpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJldC5sZW5ndGg7IGkrKykge1xuICAgICAgcmV0W2ldLnBhdGNoRmxhZyA9IC0yO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG4vKiEgI19fTk9fU0lERV9FRkZFQ1RTX18gKi9cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBkZWZpbmVDb21wb25lbnQob3B0aW9ucywgZXh0cmFPcHRpb25zKSB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKG9wdGlvbnMpID8gKFxuICAgIC8vICM4MjM2OiBleHRlbmQgY2FsbCBhbmQgb3B0aW9ucy5uYW1lIGFjY2VzcyBhcmUgY29uc2lkZXJlZCBzaWRlLWVmZmVjdHNcbiAgICAvLyBieSBSb2xsdXAsIHNvIHdlIGhhdmUgdG8gd3JhcCBpdCBpbiBhIHB1cmUtYW5ub3RhdGVkIElJRkUuXG4gICAgLyogQF9fUFVSRV9fICovICgoKSA9PiBleHRlbmQoeyBuYW1lOiBvcHRpb25zLm5hbWUgfSwgZXh0cmFPcHRpb25zLCB7IHNldHVwOiBvcHRpb25zIH0pKSgpXG4gICkgOiBvcHRpb25zO1xufVxuXG5mdW5jdGlvbiB1c2VJZCgpIHtcbiAgY29uc3QgaSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICBpZiAoaSkge1xuICAgIHJldHVybiAoaS5hcHBDb250ZXh0LmNvbmZpZy5pZFByZWZpeCB8fCBcInZcIikgKyBcIi1cIiArIGkuaWRzWzBdICsgaS5pZHNbMV0rKztcbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FybiQxKFxuICAgICAgYHVzZUlkKCkgaXMgY2FsbGVkIHdoZW4gdGhlcmUgaXMgbm8gYWN0aXZlIGNvbXBvbmVudCBpbnN0YW5jZSB0byBiZSBhc3NvY2lhdGVkIHdpdGguYFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIFwiXCI7XG59XG5mdW5jdGlvbiBtYXJrQXN5bmNCb3VuZGFyeShpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5pZHMgPSBbaW5zdGFuY2UuaWRzWzBdICsgaW5zdGFuY2UuaWRzWzJdKysgKyBcIi1cIiwgMCwgMF07XG59XG5cbmNvbnN0IGtub3duVGVtcGxhdGVSZWZzID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrU2V0KCk7XG5mdW5jdGlvbiB1c2VUZW1wbGF0ZVJlZihrZXkpIHtcbiAgY29uc3QgaSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICBjb25zdCByID0gc2hhbGxvd1JlZihudWxsKTtcbiAgaWYgKGkpIHtcbiAgICBjb25zdCByZWZzID0gaS5yZWZzID09PSBFTVBUWV9PQkogPyBpLnJlZnMgPSB7fSA6IGkucmVmcztcbiAgICBsZXQgZGVzYztcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAoZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocmVmcywga2V5KSkgJiYgIWRlc2MuY29uZmlndXJhYmxlKSB7XG4gICAgICB3YXJuJDEoYHVzZVRlbXBsYXRlUmVmKCcke2tleX0nKSBhbHJlYWR5IGV4aXN0cy5gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlZnMsIGtleSwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6ICgpID0+IHIudmFsdWUsXG4gICAgICAgIHNldDogKHZhbCkgPT4gci52YWx1ZSA9IHZhbFxuICAgICAgfSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuJDEoXG4gICAgICBgdXNlVGVtcGxhdGVSZWYoKSBpcyBjYWxsZWQgd2hlbiB0aGVyZSBpcyBubyBhY3RpdmUgY29tcG9uZW50IGluc3RhbmNlIHRvIGJlIGFzc29jaWF0ZWQgd2l0aC5gXG4gICAgKTtcbiAgfVxuICBjb25zdCByZXQgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gcmVhZG9ubHkocikgOiByO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGtub3duVGVtcGxhdGVSZWZzLmFkZChyZXQpO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIHNldFJlZihyYXdSZWYsIG9sZFJhd1JlZiwgcGFyZW50U3VzcGVuc2UsIHZub2RlLCBpc1VubW91bnQgPSBmYWxzZSkge1xuICBpZiAoaXNBcnJheShyYXdSZWYpKSB7XG4gICAgcmF3UmVmLmZvckVhY2goXG4gICAgICAociwgaSkgPT4gc2V0UmVmKFxuICAgICAgICByLFxuICAgICAgICBvbGRSYXdSZWYgJiYgKGlzQXJyYXkob2xkUmF3UmVmKSA/IG9sZFJhd1JlZltpXSA6IG9sZFJhd1JlZiksXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICB2bm9kZSxcbiAgICAgICAgaXNVbm1vdW50XG4gICAgICApXG4gICAgKTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGlzQXN5bmNXcmFwcGVyKHZub2RlKSAmJiAhaXNVbm1vdW50KSB7XG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDUxMiAmJiB2bm9kZS50eXBlLl9fYXN5bmNSZXNvbHZlZCAmJiB2bm9kZS5jb21wb25lbnQuc3ViVHJlZS5jb21wb25lbnQpIHtcbiAgICAgIHNldFJlZihyYXdSZWYsIG9sZFJhd1JlZiwgcGFyZW50U3VzcGVuc2UsIHZub2RlLmNvbXBvbmVudC5zdWJUcmVlKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHJlZlZhbHVlID0gdm5vZGUuc2hhcGVGbGFnICYgNCA/IGdldENvbXBvbmVudFB1YmxpY0luc3RhbmNlKHZub2RlLmNvbXBvbmVudCkgOiB2bm9kZS5lbDtcbiAgY29uc3QgdmFsdWUgPSBpc1VubW91bnQgPyBudWxsIDogcmVmVmFsdWU7XG4gIGNvbnN0IHsgaTogb3duZXIsIHI6IHJlZiB9ID0gcmF3UmVmO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhb3duZXIpIHtcbiAgICB3YXJuJDEoXG4gICAgICBgTWlzc2luZyByZWYgb3duZXIgY29udGV4dC4gcmVmIGNhbm5vdCBiZSB1c2VkIG9uIGhvaXN0ZWQgdm5vZGVzLiBBIHZub2RlIHdpdGggcmVmIG11c3QgYmUgY3JlYXRlZCBpbnNpZGUgdGhlIHJlbmRlciBmdW5jdGlvbi5gXG4gICAgKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qgb2xkUmVmID0gb2xkUmF3UmVmICYmIG9sZFJhd1JlZi5yO1xuICBjb25zdCByZWZzID0gb3duZXIucmVmcyA9PT0gRU1QVFlfT0JKID8gb3duZXIucmVmcyA9IHt9IDogb3duZXIucmVmcztcbiAgY29uc3Qgc2V0dXBTdGF0ZSA9IG93bmVyLnNldHVwU3RhdGU7XG4gIGNvbnN0IHJhd1NldHVwU3RhdGUgPSB0b1JhdyhzZXR1cFN0YXRlKTtcbiAgY29uc3QgY2FuU2V0U2V0dXBSZWYgPSBzZXR1cFN0YXRlID09PSBFTVBUWV9PQkogPyAoKSA9PiBmYWxzZSA6IChrZXkpID0+IHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgaWYgKGhhc093bihyYXdTZXR1cFN0YXRlLCBrZXkpICYmICFpc1JlZihyYXdTZXR1cFN0YXRlW2tleV0pKSB7XG4gICAgICAgIHdhcm4kMShcbiAgICAgICAgICBgVGVtcGxhdGUgcmVmIFwiJHtrZXl9XCIgdXNlZCBvbiBhIG5vbi1yZWYgdmFsdWUuIEl0IHdpbGwgbm90IHdvcmsgaW4gdGhlIHByb2R1Y3Rpb24gYnVpbGQuYFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKGtub3duVGVtcGxhdGVSZWZzLmhhcyhyYXdTZXR1cFN0YXRlW2tleV0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGhhc093bihyYXdTZXR1cFN0YXRlLCBrZXkpO1xuICB9O1xuICBpZiAob2xkUmVmICE9IG51bGwgJiYgb2xkUmVmICE9PSByZWYpIHtcbiAgICBpZiAoaXNTdHJpbmcob2xkUmVmKSkge1xuICAgICAgcmVmc1tvbGRSZWZdID0gbnVsbDtcbiAgICAgIGlmIChjYW5TZXRTZXR1cFJlZihvbGRSZWYpKSB7XG4gICAgICAgIHNldHVwU3RhdGVbb2xkUmVmXSA9IG51bGw7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc1JlZihvbGRSZWYpKSB7XG4gICAgICBvbGRSZWYudmFsdWUgPSBudWxsO1xuICAgIH1cbiAgfVxuICBpZiAoaXNGdW5jdGlvbihyZWYpKSB7XG4gICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKHJlZiwgb3duZXIsIDEyLCBbdmFsdWUsIHJlZnNdKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBfaXNTdHJpbmcgPSBpc1N0cmluZyhyZWYpO1xuICAgIGNvbnN0IF9pc1JlZiA9IGlzUmVmKHJlZik7XG4gICAgaWYgKF9pc1N0cmluZyB8fCBfaXNSZWYpIHtcbiAgICAgIGNvbnN0IGRvU2V0ID0gKCkgPT4ge1xuICAgICAgICBpZiAocmF3UmVmLmYpIHtcbiAgICAgICAgICBjb25zdCBleGlzdGluZyA9IF9pc1N0cmluZyA/IGNhblNldFNldHVwUmVmKHJlZikgPyBzZXR1cFN0YXRlW3JlZl0gOiByZWZzW3JlZl0gOiByZWYudmFsdWU7XG4gICAgICAgICAgaWYgKGlzVW5tb3VudCkge1xuICAgICAgICAgICAgaXNBcnJheShleGlzdGluZykgJiYgcmVtb3ZlKGV4aXN0aW5nLCByZWZWYWx1ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaXNBcnJheShleGlzdGluZykpIHtcbiAgICAgICAgICAgICAgaWYgKF9pc1N0cmluZykge1xuICAgICAgICAgICAgICAgIHJlZnNbcmVmXSA9IFtyZWZWYWx1ZV07XG4gICAgICAgICAgICAgICAgaWYgKGNhblNldFNldHVwUmVmKHJlZikpIHtcbiAgICAgICAgICAgICAgICAgIHNldHVwU3RhdGVbcmVmXSA9IHJlZnNbcmVmXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVmLnZhbHVlID0gW3JlZlZhbHVlXTtcbiAgICAgICAgICAgICAgICBpZiAocmF3UmVmLmspIHJlZnNbcmF3UmVmLmtdID0gcmVmLnZhbHVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFleGlzdGluZy5pbmNsdWRlcyhyZWZWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgZXhpc3RpbmcucHVzaChyZWZWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKF9pc1N0cmluZykge1xuICAgICAgICAgIHJlZnNbcmVmXSA9IHZhbHVlO1xuICAgICAgICAgIGlmIChjYW5TZXRTZXR1cFJlZihyZWYpKSB7XG4gICAgICAgICAgICBzZXR1cFN0YXRlW3JlZl0gPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoX2lzUmVmKSB7XG4gICAgICAgICAgcmVmLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgaWYgKHJhd1JlZi5rKSByZWZzW3Jhd1JlZi5rXSA9IHZhbHVlO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB3YXJuJDEoXCJJbnZhbGlkIHRlbXBsYXRlIHJlZiB0eXBlOlwiLCByZWYsIGAoJHt0eXBlb2YgcmVmfSlgKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBkb1NldC5pZCA9IC0xO1xuICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoZG9TZXQsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvU2V0KCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuJDEoXCJJbnZhbGlkIHRlbXBsYXRlIHJlZiB0eXBlOlwiLCByZWYsIGAoJHt0eXBlb2YgcmVmfSlgKTtcbiAgICB9XG4gIH1cbn1cblxubGV0IGhhc0xvZ2dlZE1pc21hdGNoRXJyb3IgPSBmYWxzZTtcbmNvbnN0IGxvZ01pc21hdGNoRXJyb3IgPSAoKSA9PiB7XG4gIGlmIChoYXNMb2dnZWRNaXNtYXRjaEVycm9yKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnNvbGUuZXJyb3IoXCJIeWRyYXRpb24gY29tcGxldGVkIGJ1dCBjb250YWlucyBtaXNtYXRjaGVzLlwiKTtcbiAgaGFzTG9nZ2VkTWlzbWF0Y2hFcnJvciA9IHRydWU7XG59O1xuY29uc3QgaXNTVkdDb250YWluZXIgPSAoY29udGFpbmVyKSA9PiBjb250YWluZXIubmFtZXNwYWNlVVJJLmluY2x1ZGVzKFwic3ZnXCIpICYmIGNvbnRhaW5lci50YWdOYW1lICE9PSBcImZvcmVpZ25PYmplY3RcIjtcbmNvbnN0IGlzTWF0aE1MQ29udGFpbmVyID0gKGNvbnRhaW5lcikgPT4gY29udGFpbmVyLm5hbWVzcGFjZVVSSS5pbmNsdWRlcyhcIk1hdGhNTFwiKTtcbmNvbnN0IGdldENvbnRhaW5lclR5cGUgPSAoY29udGFpbmVyKSA9PiB7XG4gIGlmIChjb250YWluZXIubm9kZVR5cGUgIT09IDEpIHJldHVybiB2b2lkIDA7XG4gIGlmIChpc1NWR0NvbnRhaW5lcihjb250YWluZXIpKSByZXR1cm4gXCJzdmdcIjtcbiAgaWYgKGlzTWF0aE1MQ29udGFpbmVyKGNvbnRhaW5lcikpIHJldHVybiBcIm1hdGhtbFwiO1xuICByZXR1cm4gdm9pZCAwO1xufTtcbmNvbnN0IGlzQ29tbWVudCA9IChub2RlKSA9PiBub2RlLm5vZGVUeXBlID09PSA4O1xuZnVuY3Rpb24gY3JlYXRlSHlkcmF0aW9uRnVuY3Rpb25zKHJlbmRlcmVySW50ZXJuYWxzKSB7XG4gIGNvbnN0IHtcbiAgICBtdDogbW91bnRDb21wb25lbnQsXG4gICAgcDogcGF0Y2gsXG4gICAgbzoge1xuICAgICAgcGF0Y2hQcm9wLFxuICAgICAgY3JlYXRlVGV4dCxcbiAgICAgIG5leHRTaWJsaW5nLFxuICAgICAgcGFyZW50Tm9kZSxcbiAgICAgIHJlbW92ZSxcbiAgICAgIGluc2VydCxcbiAgICAgIGNyZWF0ZUNvbW1lbnRcbiAgICB9XG4gIH0gPSByZW5kZXJlckludGVybmFscztcbiAgY29uc3QgaHlkcmF0ZSA9ICh2bm9kZSwgY29udGFpbmVyKSA9PiB7XG4gICAgaWYgKCFjb250YWluZXIuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18pICYmIHdhcm4kMShcbiAgICAgICAgYEF0dGVtcHRpbmcgdG8gaHlkcmF0ZSBleGlzdGluZyBtYXJrdXAgYnV0IGNvbnRhaW5lciBpcyBlbXB0eS4gUGVyZm9ybWluZyBmdWxsIG1vdW50IGluc3RlYWQuYFxuICAgICAgKTtcbiAgICAgIHBhdGNoKG51bGwsIHZub2RlLCBjb250YWluZXIpO1xuICAgICAgZmx1c2hQb3N0Rmx1c2hDYnMoKTtcbiAgICAgIGNvbnRhaW5lci5fdm5vZGUgPSB2bm9kZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaHlkcmF0ZU5vZGUoY29udGFpbmVyLmZpcnN0Q2hpbGQsIHZub2RlLCBudWxsLCBudWxsLCBudWxsKTtcbiAgICBmbHVzaFBvc3RGbHVzaENicygpO1xuICAgIGNvbnRhaW5lci5fdm5vZGUgPSB2bm9kZTtcbiAgfTtcbiAgY29uc3QgaHlkcmF0ZU5vZGUgPSAobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkID0gZmFsc2UpID0+IHtcbiAgICBvcHRpbWl6ZWQgPSBvcHRpbWl6ZWQgfHwgISF2bm9kZS5keW5hbWljQ2hpbGRyZW47XG4gICAgY29uc3QgaXNGcmFnbWVudFN0YXJ0ID0gaXNDb21tZW50KG5vZGUpICYmIG5vZGUuZGF0YSA9PT0gXCJbXCI7XG4gICAgY29uc3Qgb25NaXNtYXRjaCA9ICgpID0+IGhhbmRsZU1pc21hdGNoKFxuICAgICAgbm9kZSxcbiAgICAgIHZub2RlLFxuICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICBzbG90U2NvcGVJZHMsXG4gICAgICBpc0ZyYWdtZW50U3RhcnRcbiAgICApO1xuICAgIGNvbnN0IHsgdHlwZSwgcmVmLCBzaGFwZUZsYWcsIHBhdGNoRmxhZyB9ID0gdm5vZGU7XG4gICAgbGV0IGRvbVR5cGUgPSBub2RlLm5vZGVUeXBlO1xuICAgIHZub2RlLmVsID0gbm9kZTtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgIGRlZihub2RlLCBcIl9fdm5vZGVcIiwgdm5vZGUsIHRydWUpO1xuICAgICAgZGVmKG5vZGUsIFwiX192dWVQYXJlbnRDb21wb25lbnRcIiwgcGFyZW50Q29tcG9uZW50LCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKHBhdGNoRmxhZyA9PT0gLTIpIHtcbiAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xuICAgICAgdm5vZGUuZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcbiAgICB9XG4gICAgbGV0IG5leHROb2RlID0gbnVsbDtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgVGV4dDpcbiAgICAgICAgaWYgKGRvbVR5cGUgIT09IDMpIHtcbiAgICAgICAgICBpZiAodm5vZGUuY2hpbGRyZW4gPT09IFwiXCIpIHtcbiAgICAgICAgICAgIGluc2VydCh2bm9kZS5lbCA9IGNyZWF0ZVRleHQoXCJcIiksIHBhcmVudE5vZGUobm9kZSksIG5vZGUpO1xuICAgICAgICAgICAgbmV4dE5vZGUgPSBub2RlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKG5vZGUuZGF0YSAhPT0gdm5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXykgJiYgd2FybiQxKFxuICAgICAgICAgICAgICBgSHlkcmF0aW9uIHRleHQgbWlzbWF0Y2ggaW5gLFxuICAgICAgICAgICAgICBub2RlLnBhcmVudE5vZGUsXG4gICAgICAgICAgICAgIGBcbiAgLSByZW5kZXJlZCBvbiBzZXJ2ZXI6ICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICAgICAgbm9kZS5kYXRhXG4gICAgICAgICAgICAgICl9XG4gIC0gZXhwZWN0ZWQgb24gY2xpZW50OiAke0pTT04uc3RyaW5naWZ5KHZub2RlLmNoaWxkcmVuKX1gXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbG9nTWlzbWF0Y2hFcnJvcigpO1xuICAgICAgICAgICAgbm9kZS5kYXRhID0gdm5vZGUuY2hpbGRyZW47XG4gICAgICAgICAgfVxuICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENvbW1lbnQ6XG4gICAgICAgIGlmIChpc1RlbXBsYXRlTm9kZShub2RlKSkge1xuICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgICAgcmVwbGFjZU5vZGUoXG4gICAgICAgICAgICB2bm9kZS5lbCA9IG5vZGUuY29udGVudC5maXJzdENoaWxkLFxuICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoZG9tVHlwZSAhPT0gOCB8fCBpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTdGF0aWM6XG4gICAgICAgIGlmIChpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICBub2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgICAgZG9tVHlwZSA9IG5vZGUubm9kZVR5cGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRvbVR5cGUgPT09IDEgfHwgZG9tVHlwZSA9PT0gMykge1xuICAgICAgICAgIG5leHROb2RlID0gbm9kZTtcbiAgICAgICAgICBjb25zdCBuZWVkVG9BZG9wdENvbnRlbnQgPSAhdm5vZGUuY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdm5vZGUuc3RhdGljQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgaWYgKG5lZWRUb0Fkb3B0Q29udGVudClcbiAgICAgICAgICAgICAgdm5vZGUuY2hpbGRyZW4gKz0gbmV4dE5vZGUubm9kZVR5cGUgPT09IDEgPyBuZXh0Tm9kZS5vdXRlckhUTUwgOiBuZXh0Tm9kZS5kYXRhO1xuICAgICAgICAgICAgaWYgKGkgPT09IHZub2RlLnN0YXRpY0NvdW50IC0gMSkge1xuICAgICAgICAgICAgICB2bm9kZS5hbmNob3IgPSBuZXh0Tm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobmV4dE5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gaXNGcmFnbWVudFN0YXJ0ID8gbmV4dFNpYmxpbmcobmV4dE5vZGUpIDogbmV4dE5vZGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25NaXNtYXRjaCgpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBGcmFnbWVudDpcbiAgICAgICAgaWYgKCFpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IGh5ZHJhdGVGcmFnbWVudChcbiAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAxKSB7XG4gICAgICAgICAgaWYgKChkb21UeXBlICE9PSAxIHx8IHZub2RlLnR5cGUudG9Mb3dlckNhc2UoKSAhPT0gbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpICYmICFpc1RlbXBsYXRlTm9kZShub2RlKSkge1xuICAgICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5leHROb2RlID0gaHlkcmF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICAgIHZub2RlLFxuICAgICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc2hhcGVGbGFnICYgNikge1xuICAgICAgICAgIHZub2RlLnNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkcztcbiAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBwYXJlbnROb2RlKG5vZGUpO1xuICAgICAgICAgIGlmIChpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICAgIG5leHROb2RlID0gbG9jYXRlQ2xvc2luZ0FuY2hvcihub2RlKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzQ29tbWVudChub2RlKSAmJiBub2RlLmRhdGEgPT09IFwidGVsZXBvcnQgc3RhcnRcIikge1xuICAgICAgICAgICAgbmV4dE5vZGUgPSBsb2NhdGVDbG9zaW5nQW5jaG9yKG5vZGUsIG5vZGUuZGF0YSwgXCJ0ZWxlcG9ydCBlbmRcIik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1vdW50Q29tcG9uZW50KFxuICAgICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBnZXRDb250YWluZXJUeXBlKGNvbnRhaW5lciksXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChpc0FzeW5jV3JhcHBlcih2bm9kZSkgJiYgIXZub2RlLnR5cGUuX19hc3luY1Jlc29sdmVkKSB7XG4gICAgICAgICAgICBsZXQgc3ViVHJlZTtcbiAgICAgICAgICAgIGlmIChpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICAgICAgc3ViVHJlZSA9IGNyZWF0ZVZOb2RlKEZyYWdtZW50KTtcbiAgICAgICAgICAgICAgc3ViVHJlZS5hbmNob3IgPSBuZXh0Tm9kZSA/IG5leHROb2RlLnByZXZpb3VzU2libGluZyA6IGNvbnRhaW5lci5sYXN0Q2hpbGQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzdWJUcmVlID0gbm9kZS5ub2RlVHlwZSA9PT0gMyA/IGNyZWF0ZVRleHRWTm9kZShcIlwiKSA6IGNyZWF0ZVZOb2RlKFwiZGl2XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3ViVHJlZS5lbCA9IG5vZGU7XG4gICAgICAgICAgICB2bm9kZS5jb21wb25lbnQuc3ViVHJlZSA9IHN1YlRyZWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDY0KSB7XG4gICAgICAgICAgaWYgKGRvbVR5cGUgIT09IDgpIHtcbiAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IHZub2RlLnR5cGUuaHlkcmF0ZShcbiAgICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgICAgb3B0aW1pemVkLFxuICAgICAgICAgICAgICByZW5kZXJlckludGVybmFscyxcbiAgICAgICAgICAgICAgaHlkcmF0ZUNoaWxkcmVuXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzaGFwZUZsYWcgJiAxMjgpIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IHZub2RlLnR5cGUuaHlkcmF0ZShcbiAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgZ2V0Q29udGFpbmVyVHlwZShwYXJlbnROb2RlKG5vZGUpKSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZCxcbiAgICAgICAgICAgIHJlbmRlcmVySW50ZXJuYWxzLFxuICAgICAgICAgICAgaHlkcmF0ZU5vZGVcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fKSB7XG4gICAgICAgICAgd2FybiQxKFwiSW52YWxpZCBIb3N0Vk5vZGUgdHlwZTpcIiwgdHlwZSwgYCgke3R5cGVvZiB0eXBlfSlgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocmVmICE9IG51bGwpIHtcbiAgICAgIHNldFJlZihyZWYsIG51bGwsIHBhcmVudFN1c3BlbnNlLCB2bm9kZSk7XG4gICAgfVxuICAgIHJldHVybiBuZXh0Tm9kZTtcbiAgfTtcbiAgY29uc3QgaHlkcmF0ZUVsZW1lbnQgPSAoZWwsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIG9wdGltaXplZCA9IG9wdGltaXplZCB8fCAhIXZub2RlLmR5bmFtaWNDaGlsZHJlbjtcbiAgICBjb25zdCB7IHR5cGUsIHByb3BzLCBwYXRjaEZsYWcsIHNoYXBlRmxhZywgZGlycywgdHJhbnNpdGlvbiB9ID0gdm5vZGU7XG4gICAgY29uc3QgZm9yY2VQYXRjaCA9IHR5cGUgPT09IFwiaW5wdXRcIiB8fCB0eXBlID09PSBcIm9wdGlvblwiO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IGZvcmNlUGF0Y2ggfHwgcGF0Y2hGbGFnICE9PSAtMSkge1xuICAgICAgaWYgKGRpcnMpIHtcbiAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBcImNyZWF0ZWRcIik7XG4gICAgICB9XG4gICAgICBsZXQgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MgPSBmYWxzZTtcbiAgICAgIGlmIChpc1RlbXBsYXRlTm9kZShlbCkpIHtcbiAgICAgICAgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MgPSBuZWVkVHJhbnNpdGlvbihcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIC8vIG5vIG5lZWQgY2hlY2sgcGFyZW50U3VzcGVuc2UgaW4gaHlkcmF0aW9uXG4gICAgICAgICAgdHJhbnNpdGlvblxuICAgICAgICApICYmIHBhcmVudENvbXBvbmVudCAmJiBwYXJlbnRDb21wb25lbnQudm5vZGUucHJvcHMgJiYgcGFyZW50Q29tcG9uZW50LnZub2RlLnByb3BzLmFwcGVhcjtcbiAgICAgICAgY29uc3QgY29udGVudCA9IGVsLmNvbnRlbnQuZmlyc3RDaGlsZDtcbiAgICAgICAgaWYgKG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzKSB7XG4gICAgICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihjb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXBsYWNlTm9kZShjb250ZW50LCBlbCwgcGFyZW50Q29tcG9uZW50KTtcbiAgICAgICAgdm5vZGUuZWwgPSBlbCA9IGNvbnRlbnQ7XG4gICAgICB9XG4gICAgICBpZiAoc2hhcGVGbGFnICYgMTYgJiYgLy8gc2tpcCBpZiBlbGVtZW50IGhhcyBpbm5lckhUTUwgLyB0ZXh0Q29udGVudFxuICAgICAgIShwcm9wcyAmJiAocHJvcHMuaW5uZXJIVE1MIHx8IHByb3BzLnRleHRDb250ZW50KSkpIHtcbiAgICAgICAgbGV0IG5leHQgPSBoeWRyYXRlQ2hpbGRyZW4oXG4gICAgICAgICAgZWwuZmlyc3RDaGlsZCxcbiAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICBlbCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICBsZXQgaGFzV2FybmVkID0gZmFsc2U7XG4gICAgICAgIHdoaWxlIChuZXh0KSB7XG4gICAgICAgICAgaWYgKCFpc01pc21hdGNoQWxsb3dlZChlbCwgMSAvKiBDSElMRFJFTiAqLykpIHtcbiAgICAgICAgICAgIGlmICgoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18pICYmICFoYXNXYXJuZWQpIHtcbiAgICAgICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgICAgIGBIeWRyYXRpb24gY2hpbGRyZW4gbWlzbWF0Y2ggb25gLFxuICAgICAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgICAgIGBcblNlcnZlciByZW5kZXJlZCBlbGVtZW50IGNvbnRhaW5zIG1vcmUgY2hpbGQgbm9kZXMgdGhhbiBjbGllbnQgdmRvbS5gXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGhhc1dhcm5lZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2dNaXNtYXRjaEVycm9yKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGN1ciA9IG5leHQ7XG4gICAgICAgICAgbmV4dCA9IG5leHQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgcmVtb3ZlKGN1cik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc2hhcGVGbGFnICYgOCkge1xuICAgICAgICBsZXQgY2xpZW50VGV4dCA9IHZub2RlLmNoaWxkcmVuO1xuICAgICAgICBpZiAoY2xpZW50VGV4dFswXSA9PT0gXCJcXG5cIiAmJiAoZWwudGFnTmFtZSA9PT0gXCJQUkVcIiB8fCBlbC50YWdOYW1lID09PSBcIlRFWFRBUkVBXCIpKSB7XG4gICAgICAgICAgY2xpZW50VGV4dCA9IGNsaWVudFRleHQuc2xpY2UoMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVsLnRleHRDb250ZW50ICE9PSBjbGllbnRUZXh0KSB7XG4gICAgICAgICAgaWYgKCFpc01pc21hdGNoQWxsb3dlZChlbCwgMCAvKiBURVhUICovKSkge1xuICAgICAgICAgICAgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fKSAmJiB3YXJuJDEoXG4gICAgICAgICAgICAgIGBIeWRyYXRpb24gdGV4dCBjb250ZW50IG1pc21hdGNoIG9uYCxcbiAgICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICAgIGBcbiAgLSByZW5kZXJlZCBvbiBzZXJ2ZXI6ICR7ZWwudGV4dENvbnRlbnR9XG4gIC0gZXhwZWN0ZWQgb24gY2xpZW50OiAke3Zub2RlLmNoaWxkcmVufWBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBsb2dNaXNtYXRjaEVycm9yKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsLnRleHRDb250ZW50ID0gdm5vZGUuY2hpbGRyZW47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwcm9wcykge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18gfHwgZm9yY2VQYXRjaCB8fCAhb3B0aW1pemVkIHx8IHBhdGNoRmxhZyAmICgxNiB8IDMyKSkge1xuICAgICAgICAgIGNvbnN0IGlzQ3VzdG9tRWxlbWVudCA9IGVsLnRhZ05hbWUuaW5jbHVkZXMoXCItXCIpO1xuICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BzKSB7XG4gICAgICAgICAgICBpZiAoKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fKSAmJiAvLyAjMTExODkgc2tpcCBpZiB0aGlzIG5vZGUgaGFzIGRpcmVjdGl2ZXMgdGhhdCBoYXZlIGNyZWF0ZWQgaG9va3NcbiAgICAgICAgICAgIC8vIGFzIGl0IGNvdWxkIGhhdmUgbXV0YXRlZCB0aGUgRE9NIGluIGFueSBwb3NzaWJsZSB3YXlcbiAgICAgICAgICAgICEoZGlycyAmJiBkaXJzLnNvbWUoKGQpID0+IGQuZGlyLmNyZWF0ZWQpKSAmJiBwcm9wSGFzTWlzbWF0Y2goZWwsIGtleSwgcHJvcHNba2V5XSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCkpIHtcbiAgICAgICAgICAgICAgbG9nTWlzbWF0Y2hFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZvcmNlUGF0Y2ggJiYgKGtleS5lbmRzV2l0aChcInZhbHVlXCIpIHx8IGtleSA9PT0gXCJpbmRldGVybWluYXRlXCIpIHx8IGlzT24oa2V5KSAmJiAhaXNSZXNlcnZlZFByb3Aoa2V5KSB8fCAvLyBmb3JjZSBoeWRyYXRlIHYtYmluZCB3aXRoIC5wcm9wIG1vZGlmaWVyc1xuICAgICAgICAgICAga2V5WzBdID09PSBcIi5cIiB8fCBpc0N1c3RvbUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgcGF0Y2hQcm9wKGVsLCBrZXksIG51bGwsIHByb3BzW2tleV0sIHZvaWQgMCwgcGFyZW50Q29tcG9uZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocHJvcHMub25DbGljaykge1xuICAgICAgICAgIHBhdGNoUHJvcChcbiAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgXCJvbkNsaWNrXCIsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgcHJvcHMub25DbGljayxcbiAgICAgICAgICAgIHZvaWQgMCxcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAocGF0Y2hGbGFnICYgNCAmJiBpc1JlYWN0aXZlKHByb3BzLnN0eWxlKSkge1xuICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BzLnN0eWxlKSBwcm9wcy5zdHlsZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsZXQgdm5vZGVIb29rcztcbiAgICAgIGlmICh2bm9kZUhvb2tzID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZUJlZm9yZU1vdW50KSB7XG4gICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2tzLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcbiAgICAgIH1cbiAgICAgIGlmIChkaXJzKSB7XG4gICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgXCJiZWZvcmVNb3VudFwiKTtcbiAgICAgIH1cbiAgICAgIGlmICgodm5vZGVIb29rcyA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVNb3VudGVkKSB8fCBkaXJzIHx8IG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzKSB7XG4gICAgICAgIHF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlKCgpID0+IHtcbiAgICAgICAgICB2bm9kZUhvb2tzICYmIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2tzLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcbiAgICAgICAgICBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyAmJiB0cmFuc2l0aW9uLmVudGVyKGVsKTtcbiAgICAgICAgICBkaXJzICYmIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgXCJtb3VudGVkXCIpO1xuICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlbC5uZXh0U2libGluZztcbiAgfTtcbiAgY29uc3QgaHlkcmF0ZUNoaWxkcmVuID0gKG5vZGUsIHBhcmVudFZOb2RlLCBjb250YWluZXIsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgb3B0aW1pemVkID0gb3B0aW1pemVkIHx8ICEhcGFyZW50Vk5vZGUuZHluYW1pY0NoaWxkcmVuO1xuICAgIGNvbnN0IGNoaWxkcmVuID0gcGFyZW50Vk5vZGUuY2hpbGRyZW47XG4gICAgY29uc3QgbCA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICBsZXQgaGFzV2FybmVkID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgIGNvbnN0IHZub2RlID0gb3B0aW1pemVkID8gY2hpbGRyZW5baV0gOiBjaGlsZHJlbltpXSA9IG5vcm1hbGl6ZVZOb2RlKGNoaWxkcmVuW2ldKTtcbiAgICAgIGNvbnN0IGlzVGV4dCA9IHZub2RlLnR5cGUgPT09IFRleHQ7XG4gICAgICBpZiAobm9kZSkge1xuICAgICAgICBpZiAoaXNUZXh0ICYmICFvcHRpbWl6ZWQpIHtcbiAgICAgICAgICBpZiAoaSArIDEgPCBsICYmIG5vcm1hbGl6ZVZOb2RlKGNoaWxkcmVuW2kgKyAxXSkudHlwZSA9PT0gVGV4dCkge1xuICAgICAgICAgICAgaW5zZXJ0KFxuICAgICAgICAgICAgICBjcmVhdGVUZXh0KFxuICAgICAgICAgICAgICAgIG5vZGUuZGF0YS5zbGljZSh2bm9kZS5jaGlsZHJlbi5sZW5ndGgpXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgICAgbmV4dFNpYmxpbmcobm9kZSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBub2RlLmRhdGEgPSB2bm9kZS5jaGlsZHJlbjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IGh5ZHJhdGVOb2RlKFxuICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNUZXh0ICYmICF2bm9kZS5jaGlsZHJlbikge1xuICAgICAgICBpbnNlcnQodm5vZGUuZWwgPSBjcmVhdGVUZXh0KFwiXCIpLCBjb250YWluZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFpc01pc21hdGNoQWxsb3dlZChjb250YWluZXIsIDEgLyogQ0hJTERSRU4gKi8pKSB7XG4gICAgICAgICAgaWYgKCghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXykgJiYgIWhhc1dhcm5lZCkge1xuICAgICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgICBgSHlkcmF0aW9uIGNoaWxkcmVuIG1pc21hdGNoIG9uYCxcbiAgICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgICBgXG5TZXJ2ZXIgcmVuZGVyZWQgZWxlbWVudCBjb250YWlucyBmZXdlciBjaGlsZCBub2RlcyB0aGFuIGNsaWVudCB2ZG9tLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBoYXNXYXJuZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsb2dNaXNtYXRjaEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgcGF0Y2goXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgZ2V0Q29udGFpbmVyVHlwZShjb250YWluZXIpLFxuICAgICAgICAgIHNsb3RTY29wZUlkc1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbiAgfTtcbiAgY29uc3QgaHlkcmF0ZUZyYWdtZW50ID0gKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIGNvbnN0IHsgc2xvdFNjb3BlSWRzOiBmcmFnbWVudFNsb3RTY29wZUlkcyB9ID0gdm5vZGU7XG4gICAgaWYgKGZyYWdtZW50U2xvdFNjb3BlSWRzKSB7XG4gICAgICBzbG90U2NvcGVJZHMgPSBzbG90U2NvcGVJZHMgPyBzbG90U2NvcGVJZHMuY29uY2F0KGZyYWdtZW50U2xvdFNjb3BlSWRzKSA6IGZyYWdtZW50U2xvdFNjb3BlSWRzO1xuICAgIH1cbiAgICBjb25zdCBjb250YWluZXIgPSBwYXJlbnROb2RlKG5vZGUpO1xuICAgIGNvbnN0IG5leHQgPSBoeWRyYXRlQ2hpbGRyZW4oXG4gICAgICBuZXh0U2libGluZyhub2RlKSxcbiAgICAgIHZub2RlLFxuICAgICAgY29udGFpbmVyLFxuICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICBzbG90U2NvcGVJZHMsXG4gICAgICBvcHRpbWl6ZWRcbiAgICApO1xuICAgIGlmIChuZXh0ICYmIGlzQ29tbWVudChuZXh0KSAmJiBuZXh0LmRhdGEgPT09IFwiXVwiKSB7XG4gICAgICByZXR1cm4gbmV4dFNpYmxpbmcodm5vZGUuYW5jaG9yID0gbmV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvZ01pc21hdGNoRXJyb3IoKTtcbiAgICAgIGluc2VydCh2bm9kZS5hbmNob3IgPSBjcmVhdGVDb21tZW50KGBdYCksIGNvbnRhaW5lciwgbmV4dCk7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGhhbmRsZU1pc21hdGNoID0gKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIGlzRnJhZ21lbnQpID0+IHtcbiAgICBpZiAoIWlzTWlzbWF0Y2hBbGxvd2VkKG5vZGUucGFyZW50RWxlbWVudCwgMSAvKiBDSElMRFJFTiAqLykpIHtcbiAgICAgICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXykgJiYgd2FybiQxKFxuICAgICAgICBgSHlkcmF0aW9uIG5vZGUgbWlzbWF0Y2g6XG4tIHJlbmRlcmVkIG9uIHNlcnZlcjpgLFxuICAgICAgICBub2RlLFxuICAgICAgICBub2RlLm5vZGVUeXBlID09PSAzID8gYCh0ZXh0KWAgOiBpc0NvbW1lbnQobm9kZSkgJiYgbm9kZS5kYXRhID09PSBcIltcIiA/IGAoc3RhcnQgb2YgZnJhZ21lbnQpYCA6IGBgLFxuICAgICAgICBgXG4tIGV4cGVjdGVkIG9uIGNsaWVudDpgLFxuICAgICAgICB2bm9kZS50eXBlXG4gICAgICApO1xuICAgICAgbG9nTWlzbWF0Y2hFcnJvcigpO1xuICAgIH1cbiAgICB2bm9kZS5lbCA9IG51bGw7XG4gICAgaWYgKGlzRnJhZ21lbnQpIHtcbiAgICAgIGNvbnN0IGVuZCA9IGxvY2F0ZUNsb3NpbmdBbmNob3Iobm9kZSk7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBjb25zdCBuZXh0MiA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICBpZiAobmV4dDIgJiYgbmV4dDIgIT09IGVuZCkge1xuICAgICAgICAgIHJlbW92ZShuZXh0Mik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbmV4dCA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IHBhcmVudE5vZGUobm9kZSk7XG4gICAgcmVtb3ZlKG5vZGUpO1xuICAgIHBhdGNoKFxuICAgICAgbnVsbCxcbiAgICAgIHZub2RlLFxuICAgICAgY29udGFpbmVyLFxuICAgICAgbmV4dCxcbiAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgZ2V0Q29udGFpbmVyVHlwZShjb250YWluZXIpLFxuICAgICAgc2xvdFNjb3BlSWRzXG4gICAgKTtcbiAgICBpZiAocGFyZW50Q29tcG9uZW50KSB7XG4gICAgICBwYXJlbnRDb21wb25lbnQudm5vZGUuZWwgPSB2bm9kZS5lbDtcbiAgICAgIHVwZGF0ZUhPQ0hvc3RFbChwYXJlbnRDb21wb25lbnQsIHZub2RlLmVsKTtcbiAgICB9XG4gICAgcmV0dXJuIG5leHQ7XG4gIH07XG4gIGNvbnN0IGxvY2F0ZUNsb3NpbmdBbmNob3IgPSAobm9kZSwgb3BlbiA9IFwiW1wiLCBjbG9zZSA9IFwiXVwiKSA9PiB7XG4gICAgbGV0IG1hdGNoID0gMDtcbiAgICB3aGlsZSAobm9kZSkge1xuICAgICAgbm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgaWYgKG5vZGUgJiYgaXNDb21tZW50KG5vZGUpKSB7XG4gICAgICAgIGlmIChub2RlLmRhdGEgPT09IG9wZW4pIG1hdGNoKys7XG4gICAgICAgIGlmIChub2RlLmRhdGEgPT09IGNsb3NlKSB7XG4gICAgICAgICAgaWYgKG1hdGNoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1hdGNoLS07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xuICB9O1xuICBjb25zdCByZXBsYWNlTm9kZSA9IChuZXdOb2RlLCBvbGROb2RlLCBwYXJlbnRDb21wb25lbnQpID0+IHtcbiAgICBjb25zdCBwYXJlbnROb2RlMiA9IG9sZE5vZGUucGFyZW50Tm9kZTtcbiAgICBpZiAocGFyZW50Tm9kZTIpIHtcbiAgICAgIHBhcmVudE5vZGUyLnJlcGxhY2VDaGlsZChuZXdOb2RlLCBvbGROb2RlKTtcbiAgICB9XG4gICAgbGV0IHBhcmVudCA9IHBhcmVudENvbXBvbmVudDtcbiAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICBpZiAocGFyZW50LnZub2RlLmVsID09PSBvbGROb2RlKSB7XG4gICAgICAgIHBhcmVudC52bm9kZS5lbCA9IHBhcmVudC5zdWJUcmVlLmVsID0gbmV3Tm9kZTtcbiAgICAgIH1cbiAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgfVxuICB9O1xuICBjb25zdCBpc1RlbXBsYXRlTm9kZSA9IChub2RlKSA9PiB7XG4gICAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT09IDEgJiYgbm9kZS50YWdOYW1lID09PSBcIlRFTVBMQVRFXCI7XG4gIH07XG4gIHJldHVybiBbaHlkcmF0ZSwgaHlkcmF0ZU5vZGVdO1xufVxuZnVuY3Rpb24gcHJvcEhhc01pc21hdGNoKGVsLCBrZXksIGNsaWVudFZhbHVlLCB2bm9kZSwgaW5zdGFuY2UpIHtcbiAgbGV0IG1pc21hdGNoVHlwZTtcbiAgbGV0IG1pc21hdGNoS2V5O1xuICBsZXQgYWN0dWFsO1xuICBsZXQgZXhwZWN0ZWQ7XG4gIGlmIChrZXkgPT09IFwiY2xhc3NcIikge1xuICAgIGFjdHVhbCA9IGVsLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpO1xuICAgIGV4cGVjdGVkID0gbm9ybWFsaXplQ2xhc3MoY2xpZW50VmFsdWUpO1xuICAgIGlmICghaXNTZXRFcXVhbCh0b0NsYXNzU2V0KGFjdHVhbCB8fCBcIlwiKSwgdG9DbGFzc1NldChleHBlY3RlZCkpKSB7XG4gICAgICBtaXNtYXRjaFR5cGUgPSAyIC8qIENMQVNTICovO1xuICAgICAgbWlzbWF0Y2hLZXkgPSBgY2xhc3NgO1xuICAgIH1cbiAgfSBlbHNlIGlmIChrZXkgPT09IFwic3R5bGVcIikge1xuICAgIGFjdHVhbCA9IGVsLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpIHx8IFwiXCI7XG4gICAgZXhwZWN0ZWQgPSBpc1N0cmluZyhjbGllbnRWYWx1ZSkgPyBjbGllbnRWYWx1ZSA6IHN0cmluZ2lmeVN0eWxlKG5vcm1hbGl6ZVN0eWxlKGNsaWVudFZhbHVlKSk7XG4gICAgY29uc3QgYWN0dWFsTWFwID0gdG9TdHlsZU1hcChhY3R1YWwpO1xuICAgIGNvbnN0IGV4cGVjdGVkTWFwID0gdG9TdHlsZU1hcChleHBlY3RlZCk7XG4gICAgaWYgKHZub2RlLmRpcnMpIHtcbiAgICAgIGZvciAoY29uc3QgeyBkaXIsIHZhbHVlIH0gb2Ygdm5vZGUuZGlycykge1xuICAgICAgICBpZiAoZGlyLm5hbWUgPT09IFwic2hvd1wiICYmICF2YWx1ZSkge1xuICAgICAgICAgIGV4cGVjdGVkTWFwLnNldChcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpbnN0YW5jZSkge1xuICAgICAgcmVzb2x2ZUNzc1ZhcnMoaW5zdGFuY2UsIHZub2RlLCBleHBlY3RlZE1hcCk7XG4gICAgfVxuICAgIGlmICghaXNNYXBFcXVhbChhY3R1YWxNYXAsIGV4cGVjdGVkTWFwKSkge1xuICAgICAgbWlzbWF0Y2hUeXBlID0gMyAvKiBTVFlMRSAqLztcbiAgICAgIG1pc21hdGNoS2V5ID0gXCJzdHlsZVwiO1xuICAgIH1cbiAgfSBlbHNlIGlmIChlbCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQgJiYgaXNLbm93blN2Z0F0dHIoa2V5KSB8fCBlbCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIChpc0Jvb2xlYW5BdHRyKGtleSkgfHwgaXNLbm93bkh0bWxBdHRyKGtleSkpKSB7XG4gICAgaWYgKGlzQm9vbGVhbkF0dHIoa2V5KSkge1xuICAgICAgYWN0dWFsID0gZWwuaGFzQXR0cmlidXRlKGtleSk7XG4gICAgICBleHBlY3RlZCA9IGluY2x1ZGVCb29sZWFuQXR0cihjbGllbnRWYWx1ZSk7XG4gICAgfSBlbHNlIGlmIChjbGllbnRWYWx1ZSA9PSBudWxsKSB7XG4gICAgICBhY3R1YWwgPSBlbC5oYXNBdHRyaWJ1dGUoa2V5KTtcbiAgICAgIGV4cGVjdGVkID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChlbC5oYXNBdHRyaWJ1dGUoa2V5KSkge1xuICAgICAgICBhY3R1YWwgPSBlbC5nZXRBdHRyaWJ1dGUoa2V5KTtcbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSBcInZhbHVlXCIgJiYgZWwudGFnTmFtZSA9PT0gXCJURVhUQVJFQVwiKSB7XG4gICAgICAgIGFjdHVhbCA9IGVsLnZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWN0dWFsID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBleHBlY3RlZCA9IGlzUmVuZGVyYWJsZUF0dHJWYWx1ZShjbGllbnRWYWx1ZSkgPyBTdHJpbmcoY2xpZW50VmFsdWUpIDogZmFsc2U7XG4gICAgfVxuICAgIGlmIChhY3R1YWwgIT09IGV4cGVjdGVkKSB7XG4gICAgICBtaXNtYXRjaFR5cGUgPSA0IC8qIEFUVFJJQlVURSAqLztcbiAgICAgIG1pc21hdGNoS2V5ID0ga2V5O1xuICAgIH1cbiAgfVxuICBpZiAobWlzbWF0Y2hUeXBlICE9IG51bGwgJiYgIWlzTWlzbWF0Y2hBbGxvd2VkKGVsLCBtaXNtYXRjaFR5cGUpKSB7XG4gICAgY29uc3QgZm9ybWF0ID0gKHYpID0+IHYgPT09IGZhbHNlID8gYChub3QgcmVuZGVyZWQpYCA6IGAke21pc21hdGNoS2V5fT1cIiR7dn1cImA7XG4gICAgY29uc3QgcHJlU2VnbWVudCA9IGBIeWRyYXRpb24gJHtNaXNtYXRjaFR5cGVTdHJpbmdbbWlzbWF0Y2hUeXBlXX0gbWlzbWF0Y2ggb25gO1xuICAgIGNvbnN0IHBvc3RTZWdtZW50ID0gYFxuICAtIHJlbmRlcmVkIG9uIHNlcnZlcjogJHtmb3JtYXQoYWN0dWFsKX1cbiAgLSBleHBlY3RlZCBvbiBjbGllbnQ6ICR7Zm9ybWF0KGV4cGVjdGVkKX1cbiAgTm90ZTogdGhpcyBtaXNtYXRjaCBpcyBjaGVjay1vbmx5LiBUaGUgRE9NIHdpbGwgbm90IGJlIHJlY3RpZmllZCBpbiBwcm9kdWN0aW9uIGR1ZSB0byBwZXJmb3JtYW5jZSBvdmVyaGVhZC5cbiAgWW91IHNob3VsZCBmaXggdGhlIHNvdXJjZSBvZiB0aGUgbWlzbWF0Y2guYDtcbiAgICB7XG4gICAgICB3YXJuJDEocHJlU2VnbWVudCwgZWwsIHBvc3RTZWdtZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gdG9DbGFzc1NldChzdHIpIHtcbiAgcmV0dXJuIG5ldyBTZXQoc3RyLnRyaW0oKS5zcGxpdCgvXFxzKy8pKTtcbn1cbmZ1bmN0aW9uIGlzU2V0RXF1YWwoYSwgYikge1xuICBpZiAoYS5zaXplICE9PSBiLnNpemUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChjb25zdCBzIG9mIGEpIHtcbiAgICBpZiAoIWIuaGFzKHMpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gdG9TdHlsZU1hcChzdHIpIHtcbiAgY29uc3Qgc3R5bGVNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBmb3IgKGNvbnN0IGl0ZW0gb2Ygc3RyLnNwbGl0KFwiO1wiKSkge1xuICAgIGxldCBba2V5LCB2YWx1ZV0gPSBpdGVtLnNwbGl0KFwiOlwiKTtcbiAgICBrZXkgPSBrZXkudHJpbSgpO1xuICAgIHZhbHVlID0gdmFsdWUgJiYgdmFsdWUudHJpbSgpO1xuICAgIGlmIChrZXkgJiYgdmFsdWUpIHtcbiAgICAgIHN0eWxlTWFwLnNldChrZXksIHZhbHVlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0eWxlTWFwO1xufVxuZnVuY3Rpb24gaXNNYXBFcXVhbChhLCBiKSB7XG4gIGlmIChhLnNpemUgIT09IGIuc2l6ZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBhKSB7XG4gICAgaWYgKHZhbHVlICE9PSBiLmdldChrZXkpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gcmVzb2x2ZUNzc1ZhcnMoaW5zdGFuY2UsIHZub2RlLCBleHBlY3RlZE1hcCkge1xuICBjb25zdCByb290ID0gaW5zdGFuY2Uuc3ViVHJlZTtcbiAgaWYgKGluc3RhbmNlLmdldENzc1ZhcnMgJiYgKHZub2RlID09PSByb290IHx8IHJvb3QgJiYgcm9vdC50eXBlID09PSBGcmFnbWVudCAmJiByb290LmNoaWxkcmVuLmluY2x1ZGVzKHZub2RlKSkpIHtcbiAgICBjb25zdCBjc3NWYXJzID0gaW5zdGFuY2UuZ2V0Q3NzVmFycygpO1xuICAgIGZvciAoY29uc3Qga2V5IGluIGNzc1ZhcnMpIHtcbiAgICAgIGV4cGVjdGVkTWFwLnNldChcbiAgICAgICAgYC0tJHtnZXRFc2NhcGVkQ3NzVmFyTmFtZShrZXksIGZhbHNlKX1gLFxuICAgICAgICBTdHJpbmcoY3NzVmFyc1trZXldKVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgaWYgKHZub2RlID09PSByb290ICYmIGluc3RhbmNlLnBhcmVudCkge1xuICAgIHJlc29sdmVDc3NWYXJzKGluc3RhbmNlLnBhcmVudCwgaW5zdGFuY2Uudm5vZGUsIGV4cGVjdGVkTWFwKTtcbiAgfVxufVxuY29uc3QgYWxsb3dNaXNtYXRjaEF0dHIgPSBcImRhdGEtYWxsb3ctbWlzbWF0Y2hcIjtcbmNvbnN0IE1pc21hdGNoVHlwZVN0cmluZyA9IHtcbiAgWzAgLyogVEVYVCAqL106IFwidGV4dFwiLFxuICBbMSAvKiBDSElMRFJFTiAqL106IFwiY2hpbGRyZW5cIixcbiAgWzIgLyogQ0xBU1MgKi9dOiBcImNsYXNzXCIsXG4gIFszIC8qIFNUWUxFICovXTogXCJzdHlsZVwiLFxuICBbNCAvKiBBVFRSSUJVVEUgKi9dOiBcImF0dHJpYnV0ZVwiXG59O1xuZnVuY3Rpb24gaXNNaXNtYXRjaEFsbG93ZWQoZWwsIGFsbG93ZWRUeXBlKSB7XG4gIGlmIChhbGxvd2VkVHlwZSA9PT0gMCAvKiBURVhUICovIHx8IGFsbG93ZWRUeXBlID09PSAxIC8qIENISUxEUkVOICovKSB7XG4gICAgd2hpbGUgKGVsICYmICFlbC5oYXNBdHRyaWJ1dGUoYWxsb3dNaXNtYXRjaEF0dHIpKSB7XG4gICAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQ7XG4gICAgfVxuICB9XG4gIGNvbnN0IGFsbG93ZWRBdHRyID0gZWwgJiYgZWwuZ2V0QXR0cmlidXRlKGFsbG93TWlzbWF0Y2hBdHRyKTtcbiAgaWYgKGFsbG93ZWRBdHRyID09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSBpZiAoYWxsb3dlZEF0dHIgPT09IFwiXCIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBsaXN0ID0gYWxsb3dlZEF0dHIuc3BsaXQoXCIsXCIpO1xuICAgIGlmIChhbGxvd2VkVHlwZSA9PT0gMCAvKiBURVhUICovICYmIGxpc3QuaW5jbHVkZXMoXCJjaGlsZHJlblwiKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBhbGxvd2VkQXR0ci5zcGxpdChcIixcIikuaW5jbHVkZXMoTWlzbWF0Y2hUeXBlU3RyaW5nW2FsbG93ZWRUeXBlXSk7XG4gIH1cbn1cblxuY29uc3QgcmVxdWVzdElkbGVDYWxsYmFjayA9IGdldEdsb2JhbFRoaXMoKS5yZXF1ZXN0SWRsZUNhbGxiYWNrIHx8ICgoY2IpID0+IHNldFRpbWVvdXQoY2IsIDEpKTtcbmNvbnN0IGNhbmNlbElkbGVDYWxsYmFjayA9IGdldEdsb2JhbFRoaXMoKS5jYW5jZWxJZGxlQ2FsbGJhY2sgfHwgKChpZCkgPT4gY2xlYXJUaW1lb3V0KGlkKSk7XG5jb25zdCBoeWRyYXRlT25JZGxlID0gKHRpbWVvdXQgPSAxZTQpID0+IChoeWRyYXRlKSA9PiB7XG4gIGNvbnN0IGlkID0gcmVxdWVzdElkbGVDYWxsYmFjayhoeWRyYXRlLCB7IHRpbWVvdXQgfSk7XG4gIHJldHVybiAoKSA9PiBjYW5jZWxJZGxlQ2FsbGJhY2soaWQpO1xufTtcbmZ1bmN0aW9uIGVsZW1lbnRJc1Zpc2libGVJblZpZXdwb3J0KGVsKSB7XG4gIGNvbnN0IHsgdG9wLCBsZWZ0LCBib3R0b20sIHJpZ2h0IH0gPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgY29uc3QgeyBpbm5lckhlaWdodCwgaW5uZXJXaWR0aCB9ID0gd2luZG93O1xuICByZXR1cm4gKHRvcCA+IDAgJiYgdG9wIDwgaW5uZXJIZWlnaHQgfHwgYm90dG9tID4gMCAmJiBib3R0b20gPCBpbm5lckhlaWdodCkgJiYgKGxlZnQgPiAwICYmIGxlZnQgPCBpbm5lcldpZHRoIHx8IHJpZ2h0ID4gMCAmJiByaWdodCA8IGlubmVyV2lkdGgpO1xufVxuY29uc3QgaHlkcmF0ZU9uVmlzaWJsZSA9IChvcHRzKSA9PiAoaHlkcmF0ZSwgZm9yRWFjaCkgPT4ge1xuICBjb25zdCBvYiA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcigoZW50cmllcykgPT4ge1xuICAgIGZvciAoY29uc3QgZSBvZiBlbnRyaWVzKSB7XG4gICAgICBpZiAoIWUuaXNJbnRlcnNlY3RpbmcpIGNvbnRpbnVlO1xuICAgICAgb2IuZGlzY29ubmVjdCgpO1xuICAgICAgaHlkcmF0ZSgpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9LCBvcHRzKTtcbiAgZm9yRWFjaCgoZWwpID0+IHtcbiAgICBpZiAoIShlbCBpbnN0YW5jZW9mIEVsZW1lbnQpKSByZXR1cm47XG4gICAgaWYgKGVsZW1lbnRJc1Zpc2libGVJblZpZXdwb3J0KGVsKSkge1xuICAgICAgaHlkcmF0ZSgpO1xuICAgICAgb2IuZGlzY29ubmVjdCgpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBvYi5vYnNlcnZlKGVsKTtcbiAgfSk7XG4gIHJldHVybiAoKSA9PiBvYi5kaXNjb25uZWN0KCk7XG59O1xuY29uc3QgaHlkcmF0ZU9uTWVkaWFRdWVyeSA9IChxdWVyeSkgPT4gKGh5ZHJhdGUpID0+IHtcbiAgaWYgKHF1ZXJ5KSB7XG4gICAgY29uc3QgbXFsID0gbWF0Y2hNZWRpYShxdWVyeSk7XG4gICAgaWYgKG1xbC5tYXRjaGVzKSB7XG4gICAgICBoeWRyYXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1xbC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGh5ZHJhdGUsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICAgIHJldHVybiAoKSA9PiBtcWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBoeWRyYXRlKTtcbiAgICB9XG4gIH1cbn07XG5jb25zdCBoeWRyYXRlT25JbnRlcmFjdGlvbiA9IChpbnRlcmFjdGlvbnMgPSBbXSkgPT4gKGh5ZHJhdGUsIGZvckVhY2gpID0+IHtcbiAgaWYgKGlzU3RyaW5nKGludGVyYWN0aW9ucykpIGludGVyYWN0aW9ucyA9IFtpbnRlcmFjdGlvbnNdO1xuICBsZXQgaGFzSHlkcmF0ZWQgPSBmYWxzZTtcbiAgY29uc3QgZG9IeWRyYXRlID0gKGUpID0+IHtcbiAgICBpZiAoIWhhc0h5ZHJhdGVkKSB7XG4gICAgICBoYXNIeWRyYXRlZCA9IHRydWU7XG4gICAgICB0ZWFyZG93bigpO1xuICAgICAgaHlkcmF0ZSgpO1xuICAgICAgZS50YXJnZXQuZGlzcGF0Y2hFdmVudChuZXcgZS5jb25zdHJ1Y3RvcihlLnR5cGUsIGUpKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHRlYXJkb3duID0gKCkgPT4ge1xuICAgIGZvckVhY2goKGVsKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IGkgb2YgaW50ZXJhY3Rpb25zKSB7XG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoaSwgZG9IeWRyYXRlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgZm9yRWFjaCgoZWwpID0+IHtcbiAgICBmb3IgKGNvbnN0IGkgb2YgaW50ZXJhY3Rpb25zKSB7XG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKGksIGRvSHlkcmF0ZSwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiB0ZWFyZG93bjtcbn07XG5mdW5jdGlvbiBmb3JFYWNoRWxlbWVudChub2RlLCBjYikge1xuICBpZiAoaXNDb21tZW50KG5vZGUpICYmIG5vZGUuZGF0YSA9PT0gXCJbXCIpIHtcbiAgICBsZXQgZGVwdGggPSAxO1xuICAgIGxldCBuZXh0ID0gbm9kZS5uZXh0U2libGluZztcbiAgICB3aGlsZSAobmV4dCkge1xuICAgICAgaWYgKG5leHQubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY2IobmV4dCk7XG4gICAgICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNDb21tZW50KG5leHQpKSB7XG4gICAgICAgIGlmIChuZXh0LmRhdGEgPT09IFwiXVwiKSB7XG4gICAgICAgICAgaWYgKC0tZGVwdGggPT09IDApIGJyZWFrO1xuICAgICAgICB9IGVsc2UgaWYgKG5leHQuZGF0YSA9PT0gXCJbXCIpIHtcbiAgICAgICAgICBkZXB0aCsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBuZXh0ID0gbmV4dC5uZXh0U2libGluZztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY2Iobm9kZSk7XG4gIH1cbn1cblxuY29uc3QgaXNBc3luY1dyYXBwZXIgPSAoaSkgPT4gISFpLnR5cGUuX19hc3luY0xvYWRlcjtcbi8qISAjX19OT19TSURFX0VGRkVDVFNfXyAqL1xuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIGRlZmluZUFzeW5jQ29tcG9uZW50KHNvdXJjZSkge1xuICBpZiAoaXNGdW5jdGlvbihzb3VyY2UpKSB7XG4gICAgc291cmNlID0geyBsb2FkZXI6IHNvdXJjZSB9O1xuICB9XG4gIGNvbnN0IHtcbiAgICBsb2FkZXIsXG4gICAgbG9hZGluZ0NvbXBvbmVudCxcbiAgICBlcnJvckNvbXBvbmVudCxcbiAgICBkZWxheSA9IDIwMCxcbiAgICBoeWRyYXRlOiBoeWRyYXRlU3RyYXRlZ3ksXG4gICAgdGltZW91dCxcbiAgICAvLyB1bmRlZmluZWQgPSBuZXZlciB0aW1lcyBvdXRcbiAgICBzdXNwZW5zaWJsZSA9IHRydWUsXG4gICAgb25FcnJvcjogdXNlck9uRXJyb3JcbiAgfSA9IHNvdXJjZTtcbiAgbGV0IHBlbmRpbmdSZXF1ZXN0ID0gbnVsbDtcbiAgbGV0IHJlc29sdmVkQ29tcDtcbiAgbGV0IHJldHJpZXMgPSAwO1xuICBjb25zdCByZXRyeSA9ICgpID0+IHtcbiAgICByZXRyaWVzKys7XG4gICAgcGVuZGluZ1JlcXVlc3QgPSBudWxsO1xuICAgIHJldHVybiBsb2FkKCk7XG4gIH07XG4gIGNvbnN0IGxvYWQgPSAoKSA9PiB7XG4gICAgbGV0IHRoaXNSZXF1ZXN0O1xuICAgIHJldHVybiBwZW5kaW5nUmVxdWVzdCB8fCAodGhpc1JlcXVlc3QgPSBwZW5kaW5nUmVxdWVzdCA9IGxvYWRlcigpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGVyciA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyIDogbmV3IEVycm9yKFN0cmluZyhlcnIpKTtcbiAgICAgIGlmICh1c2VyT25FcnJvcikge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHVzZXJSZXRyeSA9ICgpID0+IHJlc29sdmUocmV0cnkoKSk7XG4gICAgICAgICAgY29uc3QgdXNlckZhaWwgPSAoKSA9PiByZWplY3QoZXJyKTtcbiAgICAgICAgICB1c2VyT25FcnJvcihlcnIsIHVzZXJSZXRyeSwgdXNlckZhaWwsIHJldHJpZXMgKyAxKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfSkudGhlbigoY29tcCkgPT4ge1xuICAgICAgaWYgKHRoaXNSZXF1ZXN0ICE9PSBwZW5kaW5nUmVxdWVzdCAmJiBwZW5kaW5nUmVxdWVzdCkge1xuICAgICAgICByZXR1cm4gcGVuZGluZ1JlcXVlc3Q7XG4gICAgICB9XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhY29tcCkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYEFzeW5jIGNvbXBvbmVudCBsb2FkZXIgcmVzb2x2ZWQgdG8gdW5kZWZpbmVkLiBJZiB5b3UgYXJlIHVzaW5nIHJldHJ5KCksIG1ha2Ugc3VyZSB0byByZXR1cm4gaXRzIHJldHVybiB2YWx1ZS5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoY29tcCAmJiAoY29tcC5fX2VzTW9kdWxlIHx8IGNvbXBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9PT0gXCJNb2R1bGVcIikpIHtcbiAgICAgICAgY29tcCA9IGNvbXAuZGVmYXVsdDtcbiAgICAgIH1cbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGNvbXAgJiYgIWlzT2JqZWN0KGNvbXApICYmICFpc0Z1bmN0aW9uKGNvbXApKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBhc3luYyBjb21wb25lbnQgbG9hZCByZXN1bHQ6ICR7Y29tcH1gKTtcbiAgICAgIH1cbiAgICAgIHJlc29sdmVkQ29tcCA9IGNvbXA7XG4gICAgICByZXR1cm4gY29tcDtcbiAgICB9KSk7XG4gIH07XG4gIHJldHVybiBkZWZpbmVDb21wb25lbnQoe1xuICAgIG5hbWU6IFwiQXN5bmNDb21wb25lbnRXcmFwcGVyXCIsXG4gICAgX19hc3luY0xvYWRlcjogbG9hZCxcbiAgICBfX2FzeW5jSHlkcmF0ZShlbCwgaW5zdGFuY2UsIGh5ZHJhdGUpIHtcbiAgICAgIGNvbnN0IGRvSHlkcmF0ZSA9IGh5ZHJhdGVTdHJhdGVneSA/ICgpID0+IHtcbiAgICAgICAgY29uc3QgdGVhcmRvd24gPSBoeWRyYXRlU3RyYXRlZ3koXG4gICAgICAgICAgaHlkcmF0ZSxcbiAgICAgICAgICAoY2IpID0+IGZvckVhY2hFbGVtZW50KGVsLCBjYilcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHRlYXJkb3duKSB7XG4gICAgICAgICAgKGluc3RhbmNlLmJ1bSB8fCAoaW5zdGFuY2UuYnVtID0gW10pKS5wdXNoKHRlYXJkb3duKTtcbiAgICAgICAgfVxuICAgICAgfSA6IGh5ZHJhdGU7XG4gICAgICBpZiAocmVzb2x2ZWRDb21wKSB7XG4gICAgICAgIGRvSHlkcmF0ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9hZCgpLnRoZW4oKCkgPT4gIWluc3RhbmNlLmlzVW5tb3VudGVkICYmIGRvSHlkcmF0ZSgpKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdldCBfX2FzeW5jUmVzb2x2ZWQoKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZWRDb21wO1xuICAgIH0sXG4gICAgc2V0dXAoKSB7XG4gICAgICBjb25zdCBpbnN0YW5jZSA9IGN1cnJlbnRJbnN0YW5jZTtcbiAgICAgIG1hcmtBc3luY0JvdW5kYXJ5KGluc3RhbmNlKTtcbiAgICAgIGlmIChyZXNvbHZlZENvbXApIHtcbiAgICAgICAgcmV0dXJuICgpID0+IGNyZWF0ZUlubmVyQ29tcChyZXNvbHZlZENvbXAsIGluc3RhbmNlKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG9uRXJyb3IgPSAoZXJyKSA9PiB7XG4gICAgICAgIHBlbmRpbmdSZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgaGFuZGxlRXJyb3IoXG4gICAgICAgICAgZXJyLFxuICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgIDEzLFxuICAgICAgICAgICFlcnJvckNvbXBvbmVudFxuICAgICAgICApO1xuICAgICAgfTtcbiAgICAgIGlmIChzdXNwZW5zaWJsZSAmJiBpbnN0YW5jZS5zdXNwZW5zZSB8fCBpc0luU1NSQ29tcG9uZW50U2V0dXApIHtcbiAgICAgICAgcmV0dXJuIGxvYWQoKS50aGVuKChjb21wKSA9PiB7XG4gICAgICAgICAgcmV0dXJuICgpID0+IGNyZWF0ZUlubmVyQ29tcChjb21wLCBpbnN0YW5jZSk7XG4gICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICBvbkVycm9yKGVycik7XG4gICAgICAgICAgcmV0dXJuICgpID0+IGVycm9yQ29tcG9uZW50ID8gY3JlYXRlVk5vZGUoZXJyb3JDb21wb25lbnQsIHtcbiAgICAgICAgICAgIGVycm9yOiBlcnJcbiAgICAgICAgICB9KSA6IG51bGw7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY29uc3QgbG9hZGVkID0gcmVmKGZhbHNlKTtcbiAgICAgIGNvbnN0IGVycm9yID0gcmVmKCk7XG4gICAgICBjb25zdCBkZWxheWVkID0gcmVmKCEhZGVsYXkpO1xuICAgICAgaWYgKGRlbGF5KSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGRlbGF5ZWQudmFsdWUgPSBmYWxzZTtcbiAgICAgICAgfSwgZGVsYXkpO1xuICAgICAgfVxuICAgICAgaWYgKHRpbWVvdXQgIT0gbnVsbCkge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBpZiAoIWxvYWRlZC52YWx1ZSAmJiAhZXJyb3IudmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgYEFzeW5jIGNvbXBvbmVudCB0aW1lZCBvdXQgYWZ0ZXIgJHt0aW1lb3V0fW1zLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBvbkVycm9yKGVycik7XG4gICAgICAgICAgICBlcnJvci52YWx1ZSA9IGVycjtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHRpbWVvdXQpO1xuICAgICAgfVxuICAgICAgbG9hZCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBsb2FkZWQudmFsdWUgPSB0cnVlO1xuICAgICAgICBpZiAoaW5zdGFuY2UucGFyZW50ICYmIGlzS2VlcEFsaXZlKGluc3RhbmNlLnBhcmVudC52bm9kZSkpIHtcbiAgICAgICAgICBpbnN0YW5jZS5wYXJlbnQudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgb25FcnJvcihlcnIpO1xuICAgICAgICBlcnJvci52YWx1ZSA9IGVycjtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaWYgKGxvYWRlZC52YWx1ZSAmJiByZXNvbHZlZENvbXApIHtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlSW5uZXJDb21wKHJlc29sdmVkQ29tcCwgaW5zdGFuY2UpO1xuICAgICAgICB9IGVsc2UgaWYgKGVycm9yLnZhbHVlICYmIGVycm9yQ29tcG9uZW50KSB7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKGVycm9yQ29tcG9uZW50LCB7XG4gICAgICAgICAgICBlcnJvcjogZXJyb3IudmFsdWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChsb2FkaW5nQ29tcG9uZW50ICYmICFkZWxheWVkLnZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKGxvYWRpbmdDb21wb25lbnQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBjcmVhdGVJbm5lckNvbXAoY29tcCwgcGFyZW50KSB7XG4gIGNvbnN0IHsgcmVmOiByZWYyLCBwcm9wcywgY2hpbGRyZW4sIGNlIH0gPSBwYXJlbnQudm5vZGU7XG4gIGNvbnN0IHZub2RlID0gY3JlYXRlVk5vZGUoY29tcCwgcHJvcHMsIGNoaWxkcmVuKTtcbiAgdm5vZGUucmVmID0gcmVmMjtcbiAgdm5vZGUuY2UgPSBjZTtcbiAgZGVsZXRlIHBhcmVudC52bm9kZS5jZTtcbiAgcmV0dXJuIHZub2RlO1xufVxuXG5jb25zdCBpc0tlZXBBbGl2ZSA9ICh2bm9kZSkgPT4gdm5vZGUudHlwZS5fX2lzS2VlcEFsaXZlO1xuY29uc3QgS2VlcEFsaXZlSW1wbCA9IHtcbiAgbmFtZTogYEtlZXBBbGl2ZWAsXG4gIC8vIE1hcmtlciBmb3Igc3BlY2lhbCBoYW5kbGluZyBpbnNpZGUgdGhlIHJlbmRlcmVyLiBXZSBhcmUgbm90IHVzaW5nIGEgPT09XG4gIC8vIGNoZWNrIGRpcmVjdGx5IG9uIEtlZXBBbGl2ZSBpbiB0aGUgcmVuZGVyZXIsIGJlY2F1c2UgaW1wb3J0aW5nIGl0IGRpcmVjdGx5XG4gIC8vIHdvdWxkIHByZXZlbnQgaXQgZnJvbSBiZWluZyB0cmVlLXNoYWtlbi5cbiAgX19pc0tlZXBBbGl2ZTogdHJ1ZSxcbiAgcHJvcHM6IHtcbiAgICBpbmNsdWRlOiBbU3RyaW5nLCBSZWdFeHAsIEFycmF5XSxcbiAgICBleGNsdWRlOiBbU3RyaW5nLCBSZWdFeHAsIEFycmF5XSxcbiAgICBtYXg6IFtTdHJpbmcsIE51bWJlcl1cbiAgfSxcbiAgc2V0dXAocHJvcHMsIHsgc2xvdHMgfSkge1xuICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgY29uc3Qgc2hhcmVkQ29udGV4dCA9IGluc3RhbmNlLmN0eDtcbiAgICBpZiAoIXNoYXJlZENvbnRleHQucmVuZGVyZXIpIHtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gc2xvdHMuZGVmYXVsdCAmJiBzbG90cy5kZWZhdWx0KCk7XG4gICAgICAgIHJldHVybiBjaGlsZHJlbiAmJiBjaGlsZHJlbi5sZW5ndGggPT09IDEgPyBjaGlsZHJlblswXSA6IGNoaWxkcmVuO1xuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgY2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIGNvbnN0IGtleXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIGxldCBjdXJyZW50ID0gbnVsbDtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgIGluc3RhbmNlLl9fdl9jYWNoZSA9IGNhY2hlO1xuICAgIH1cbiAgICBjb25zdCBwYXJlbnRTdXNwZW5zZSA9IGluc3RhbmNlLnN1c3BlbnNlO1xuICAgIGNvbnN0IHtcbiAgICAgIHJlbmRlcmVyOiB7XG4gICAgICAgIHA6IHBhdGNoLFxuICAgICAgICBtOiBtb3ZlLFxuICAgICAgICB1bTogX3VubW91bnQsXG4gICAgICAgIG86IHsgY3JlYXRlRWxlbWVudCB9XG4gICAgICB9XG4gICAgfSA9IHNoYXJlZENvbnRleHQ7XG4gICAgY29uc3Qgc3RvcmFnZUNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgc2hhcmVkQ29udGV4dC5hY3RpdmF0ZSA9ICh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIG5hbWVzcGFjZSwgb3B0aW1pemVkKSA9PiB7XG4gICAgICBjb25zdCBpbnN0YW5jZTIgPSB2bm9kZS5jb21wb25lbnQ7XG4gICAgICBtb3ZlKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgMCwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgcGF0Y2goXG4gICAgICAgIGluc3RhbmNlMi52bm9kZSxcbiAgICAgICAgdm5vZGUsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBpbnN0YW5jZTIsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHZub2RlLnNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaW5zdGFuY2UyLmlzRGVhY3RpdmF0ZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKGluc3RhbmNlMi5hKSB7XG4gICAgICAgICAgaW52b2tlQXJyYXlGbnMoaW5zdGFuY2UyLmEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZub2RlSG9vayA9IHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLm9uVm5vZGVNb3VudGVkO1xuICAgICAgICBpZiAodm5vZGVIb29rKSB7XG4gICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgaW5zdGFuY2UyLnBhcmVudCwgdm5vZGUpO1xuICAgICAgICB9XG4gICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgZGV2dG9vbHNDb21wb25lbnRBZGRlZChpbnN0YW5jZTIpO1xuICAgICAgfVxuICAgIH07XG4gICAgc2hhcmVkQ29udGV4dC5kZWFjdGl2YXRlID0gKHZub2RlKSA9PiB7XG4gICAgICBjb25zdCBpbnN0YW5jZTIgPSB2bm9kZS5jb21wb25lbnQ7XG4gICAgICBpbnZhbGlkYXRlTW91bnQoaW5zdGFuY2UyLm0pO1xuICAgICAgaW52YWxpZGF0ZU1vdW50KGluc3RhbmNlMi5hKTtcbiAgICAgIG1vdmUodm5vZGUsIHN0b3JhZ2VDb250YWluZXIsIG51bGwsIDEsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZTIuZGEpIHtcbiAgICAgICAgICBpbnZva2VBcnJheUZucyhpbnN0YW5jZTIuZGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZub2RlSG9vayA9IHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLm9uVm5vZGVVbm1vdW50ZWQ7XG4gICAgICAgIGlmICh2bm9kZUhvb2spIHtcbiAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBpbnN0YW5jZTIucGFyZW50LCB2bm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaW5zdGFuY2UyLmlzRGVhY3RpdmF0ZWQgPSB0cnVlO1xuICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgIGRldnRvb2xzQ29tcG9uZW50QWRkZWQoaW5zdGFuY2UyKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGZ1bmN0aW9uIHVubW91bnQodm5vZGUpIHtcbiAgICAgIHJlc2V0U2hhcGVGbGFnKHZub2RlKTtcbiAgICAgIF91bm1vdW50KHZub2RlLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcnVuZUNhY2hlKGZpbHRlcikge1xuICAgICAgY2FjaGUuZm9yRWFjaCgodm5vZGUsIGtleSkgPT4ge1xuICAgICAgICBjb25zdCBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZSh2bm9kZS50eXBlKTtcbiAgICAgICAgaWYgKG5hbWUgJiYgIWZpbHRlcihuYW1lKSkge1xuICAgICAgICAgIHBydW5lQ2FjaGVFbnRyeShrZXkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJ1bmVDYWNoZUVudHJ5KGtleSkge1xuICAgICAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KGtleSk7XG4gICAgICBpZiAoY2FjaGVkICYmICghY3VycmVudCB8fCAhaXNTYW1lVk5vZGVUeXBlKGNhY2hlZCwgY3VycmVudCkpKSB7XG4gICAgICAgIHVubW91bnQoY2FjaGVkKTtcbiAgICAgIH0gZWxzZSBpZiAoY3VycmVudCkge1xuICAgICAgICByZXNldFNoYXBlRmxhZyhjdXJyZW50KTtcbiAgICAgIH1cbiAgICAgIGNhY2hlLmRlbGV0ZShrZXkpO1xuICAgICAga2V5cy5kZWxldGUoa2V5KTtcbiAgICB9XG4gICAgd2F0Y2goXG4gICAgICAoKSA9PiBbcHJvcHMuaW5jbHVkZSwgcHJvcHMuZXhjbHVkZV0sXG4gICAgICAoW2luY2x1ZGUsIGV4Y2x1ZGVdKSA9PiB7XG4gICAgICAgIGluY2x1ZGUgJiYgcHJ1bmVDYWNoZSgobmFtZSkgPT4gbWF0Y2hlcyhpbmNsdWRlLCBuYW1lKSk7XG4gICAgICAgIGV4Y2x1ZGUgJiYgcHJ1bmVDYWNoZSgobmFtZSkgPT4gIW1hdGNoZXMoZXhjbHVkZSwgbmFtZSkpO1xuICAgICAgfSxcbiAgICAgIC8vIHBydW5lIHBvc3QtcmVuZGVyIGFmdGVyIGBjdXJyZW50YCBoYXMgYmVlbiB1cGRhdGVkXG4gICAgICB7IGZsdXNoOiBcInBvc3RcIiwgZGVlcDogdHJ1ZSB9XG4gICAgKTtcbiAgICBsZXQgcGVuZGluZ0NhY2hlS2V5ID0gbnVsbDtcbiAgICBjb25zdCBjYWNoZVN1YnRyZWUgPSAoKSA9PiB7XG4gICAgICBpZiAocGVuZGluZ0NhY2hlS2V5ICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGlzU3VzcGVuc2UoaW5zdGFuY2Uuc3ViVHJlZS50eXBlKSkge1xuICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICBjYWNoZS5zZXQocGVuZGluZ0NhY2hlS2V5LCBnZXRJbm5lckNoaWxkKGluc3RhbmNlLnN1YlRyZWUpKTtcbiAgICAgICAgICB9LCBpbnN0YW5jZS5zdWJUcmVlLnN1c3BlbnNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjYWNoZS5zZXQocGVuZGluZ0NhY2hlS2V5LCBnZXRJbm5lckNoaWxkKGluc3RhbmNlLnN1YlRyZWUpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgb25Nb3VudGVkKGNhY2hlU3VidHJlZSk7XG4gICAgb25VcGRhdGVkKGNhY2hlU3VidHJlZSk7XG4gICAgb25CZWZvcmVVbm1vdW50KCgpID0+IHtcbiAgICAgIGNhY2hlLmZvckVhY2goKGNhY2hlZCkgPT4ge1xuICAgICAgICBjb25zdCB7IHN1YlRyZWUsIHN1c3BlbnNlIH0gPSBpbnN0YW5jZTtcbiAgICAgICAgY29uc3Qgdm5vZGUgPSBnZXRJbm5lckNoaWxkKHN1YlRyZWUpO1xuICAgICAgICBpZiAoY2FjaGVkLnR5cGUgPT09IHZub2RlLnR5cGUgJiYgY2FjaGVkLmtleSA9PT0gdm5vZGUua2V5KSB7XG4gICAgICAgICAgcmVzZXRTaGFwZUZsYWcodm5vZGUpO1xuICAgICAgICAgIGNvbnN0IGRhID0gdm5vZGUuY29tcG9uZW50LmRhO1xuICAgICAgICAgIGRhICYmIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChkYSwgc3VzcGVuc2UpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB1bm1vdW50KGNhY2hlZCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgcGVuZGluZ0NhY2hlS2V5ID0gbnVsbDtcbiAgICAgIGlmICghc2xvdHMuZGVmYXVsdCkge1xuICAgICAgICByZXR1cm4gY3VycmVudCA9IG51bGw7XG4gICAgICB9XG4gICAgICBjb25zdCBjaGlsZHJlbiA9IHNsb3RzLmRlZmF1bHQoKTtcbiAgICAgIGNvbnN0IHJhd1ZOb2RlID0gY2hpbGRyZW5bMF07XG4gICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHdhcm4kMShgS2VlcEFsaXZlIHNob3VsZCBjb250YWluIGV4YWN0bHkgb25lIGNvbXBvbmVudCBjaGlsZC5gKTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50ID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgICAgfSBlbHNlIGlmICghaXNWTm9kZShyYXdWTm9kZSkgfHwgIShyYXdWTm9kZS5zaGFwZUZsYWcgJiA0KSAmJiAhKHJhd1ZOb2RlLnNoYXBlRmxhZyAmIDEyOCkpIHtcbiAgICAgICAgY3VycmVudCA9IG51bGw7XG4gICAgICAgIHJldHVybiByYXdWTm9kZTtcbiAgICAgIH1cbiAgICAgIGxldCB2bm9kZSA9IGdldElubmVyQ2hpbGQocmF3Vk5vZGUpO1xuICAgICAgaWYgKHZub2RlLnR5cGUgPT09IENvbW1lbnQpIHtcbiAgICAgICAgY3VycmVudCA9IG51bGw7XG4gICAgICAgIHJldHVybiB2bm9kZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbXAgPSB2bm9kZS50eXBlO1xuICAgICAgY29uc3QgbmFtZSA9IGdldENvbXBvbmVudE5hbWUoXG4gICAgICAgIGlzQXN5bmNXcmFwcGVyKHZub2RlKSA/IHZub2RlLnR5cGUuX19hc3luY1Jlc29sdmVkIHx8IHt9IDogY29tcFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHsgaW5jbHVkZSwgZXhjbHVkZSwgbWF4IH0gPSBwcm9wcztcbiAgICAgIGlmIChpbmNsdWRlICYmICghbmFtZSB8fCAhbWF0Y2hlcyhpbmNsdWRlLCBuYW1lKSkgfHwgZXhjbHVkZSAmJiBuYW1lICYmIG1hdGNoZXMoZXhjbHVkZSwgbmFtZSkpIHtcbiAgICAgICAgdm5vZGUuc2hhcGVGbGFnICY9IH4yNTY7XG4gICAgICAgIGN1cnJlbnQgPSB2bm9kZTtcbiAgICAgICAgcmV0dXJuIHJhd1ZOb2RlO1xuICAgICAgfVxuICAgICAgY29uc3Qga2V5ID0gdm5vZGUua2V5ID09IG51bGwgPyBjb21wIDogdm5vZGUua2V5O1xuICAgICAgY29uc3QgY2FjaGVkVk5vZGUgPSBjYWNoZS5nZXQoa2V5KTtcbiAgICAgIGlmICh2bm9kZS5lbCkge1xuICAgICAgICB2bm9kZSA9IGNsb25lVk5vZGUodm5vZGUpO1xuICAgICAgICBpZiAocmF3Vk5vZGUuc2hhcGVGbGFnICYgMTI4KSB7XG4gICAgICAgICAgcmF3Vk5vZGUuc3NDb250ZW50ID0gdm5vZGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHBlbmRpbmdDYWNoZUtleSA9IGtleTtcbiAgICAgIGlmIChjYWNoZWRWTm9kZSkge1xuICAgICAgICB2bm9kZS5lbCA9IGNhY2hlZFZOb2RlLmVsO1xuICAgICAgICB2bm9kZS5jb21wb25lbnQgPSBjYWNoZWRWTm9kZS5jb21wb25lbnQ7XG4gICAgICAgIGlmICh2bm9kZS50cmFuc2l0aW9uKSB7XG4gICAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKHZub2RlLCB2bm9kZS50cmFuc2l0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB2bm9kZS5zaGFwZUZsYWcgfD0gNTEyO1xuICAgICAgICBrZXlzLmRlbGV0ZShrZXkpO1xuICAgICAgICBrZXlzLmFkZChrZXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAga2V5cy5hZGQoa2V5KTtcbiAgICAgICAgaWYgKG1heCAmJiBrZXlzLnNpemUgPiBwYXJzZUludChtYXgsIDEwKSkge1xuICAgICAgICAgIHBydW5lQ2FjaGVFbnRyeShrZXlzLnZhbHVlcygpLm5leHQoKS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZub2RlLnNoYXBlRmxhZyB8PSAyNTY7XG4gICAgICBjdXJyZW50ID0gdm5vZGU7XG4gICAgICByZXR1cm4gaXNTdXNwZW5zZShyYXdWTm9kZS50eXBlKSA/IHJhd1ZOb2RlIDogdm5vZGU7XG4gICAgfTtcbiAgfVxufTtcbmNvbnN0IEtlZXBBbGl2ZSA9IEtlZXBBbGl2ZUltcGw7XG5mdW5jdGlvbiBtYXRjaGVzKHBhdHRlcm4sIG5hbWUpIHtcbiAgaWYgKGlzQXJyYXkocGF0dGVybikpIHtcbiAgICByZXR1cm4gcGF0dGVybi5zb21lKChwKSA9PiBtYXRjaGVzKHAsIG5hbWUpKTtcbiAgfSBlbHNlIGlmIChpc1N0cmluZyhwYXR0ZXJuKSkge1xuICAgIHJldHVybiBwYXR0ZXJuLnNwbGl0KFwiLFwiKS5pbmNsdWRlcyhuYW1lKTtcbiAgfSBlbHNlIGlmIChpc1JlZ0V4cChwYXR0ZXJuKSkge1xuICAgIHBhdHRlcm4ubGFzdEluZGV4ID0gMDtcbiAgICByZXR1cm4gcGF0dGVybi50ZXN0KG5hbWUpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIG9uQWN0aXZhdGVkKGhvb2ssIHRhcmdldCkge1xuICByZWdpc3RlcktlZXBBbGl2ZUhvb2soaG9vaywgXCJhXCIsIHRhcmdldCk7XG59XG5mdW5jdGlvbiBvbkRlYWN0aXZhdGVkKGhvb2ssIHRhcmdldCkge1xuICByZWdpc3RlcktlZXBBbGl2ZUhvb2soaG9vaywgXCJkYVwiLCB0YXJnZXQpO1xufVxuZnVuY3Rpb24gcmVnaXN0ZXJLZWVwQWxpdmVIb29rKGhvb2ssIHR5cGUsIHRhcmdldCA9IGN1cnJlbnRJbnN0YW5jZSkge1xuICBjb25zdCB3cmFwcGVkSG9vayA9IGhvb2suX193ZGMgfHwgKGhvb2suX193ZGMgPSAoKSA9PiB7XG4gICAgbGV0IGN1cnJlbnQgPSB0YXJnZXQ7XG4gICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgIGlmIChjdXJyZW50LmlzRGVhY3RpdmF0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50O1xuICAgIH1cbiAgICByZXR1cm4gaG9vaygpO1xuICB9KTtcbiAgaW5qZWN0SG9vayh0eXBlLCB3cmFwcGVkSG9vaywgdGFyZ2V0KTtcbiAgaWYgKHRhcmdldCkge1xuICAgIGxldCBjdXJyZW50ID0gdGFyZ2V0LnBhcmVudDtcbiAgICB3aGlsZSAoY3VycmVudCAmJiBjdXJyZW50LnBhcmVudCkge1xuICAgICAgaWYgKGlzS2VlcEFsaXZlKGN1cnJlbnQucGFyZW50LnZub2RlKSkge1xuICAgICAgICBpbmplY3RUb0tlZXBBbGl2ZVJvb3Qod3JhcHBlZEhvb2ssIHR5cGUsIHRhcmdldCwgY3VycmVudCk7XG4gICAgICB9XG4gICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnQ7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBpbmplY3RUb0tlZXBBbGl2ZVJvb3QoaG9vaywgdHlwZSwgdGFyZ2V0LCBrZWVwQWxpdmVSb290KSB7XG4gIGNvbnN0IGluamVjdGVkID0gaW5qZWN0SG9vayhcbiAgICB0eXBlLFxuICAgIGhvb2ssXG4gICAga2VlcEFsaXZlUm9vdCxcbiAgICB0cnVlXG4gICAgLyogcHJlcGVuZCAqL1xuICApO1xuICBvblVubW91bnRlZCgoKSA9PiB7XG4gICAgcmVtb3ZlKGtlZXBBbGl2ZVJvb3RbdHlwZV0sIGluamVjdGVkKTtcbiAgfSwgdGFyZ2V0KTtcbn1cbmZ1bmN0aW9uIHJlc2V0U2hhcGVGbGFnKHZub2RlKSB7XG4gIHZub2RlLnNoYXBlRmxhZyAmPSB+MjU2O1xuICB2bm9kZS5zaGFwZUZsYWcgJj0gfjUxMjtcbn1cbmZ1bmN0aW9uIGdldElubmVyQ2hpbGQodm5vZGUpIHtcbiAgcmV0dXJuIHZub2RlLnNoYXBlRmxhZyAmIDEyOCA/IHZub2RlLnNzQ29udGVudCA6IHZub2RlO1xufVxuXG5mdW5jdGlvbiBpbmplY3RIb29rKHR5cGUsIGhvb2ssIHRhcmdldCA9IGN1cnJlbnRJbnN0YW5jZSwgcHJlcGVuZCA9IGZhbHNlKSB7XG4gIGlmICh0YXJnZXQpIHtcbiAgICBjb25zdCBob29rcyA9IHRhcmdldFt0eXBlXSB8fCAodGFyZ2V0W3R5cGVdID0gW10pO1xuICAgIGNvbnN0IHdyYXBwZWRIb29rID0gaG9vay5fX3dlaCB8fCAoaG9vay5fX3dlaCA9ICguLi5hcmdzKSA9PiB7XG4gICAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgICBjb25zdCByZXNldCA9IHNldEN1cnJlbnRJbnN0YW5jZSh0YXJnZXQpO1xuICAgICAgY29uc3QgcmVzID0gY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaG9vaywgdGFyZ2V0LCB0eXBlLCBhcmdzKTtcbiAgICAgIHJlc2V0KCk7XG4gICAgICByZXNldFRyYWNraW5nKCk7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0pO1xuICAgIGlmIChwcmVwZW5kKSB7XG4gICAgICBob29rcy51bnNoaWZ0KHdyYXBwZWRIb29rKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaG9va3MucHVzaCh3cmFwcGVkSG9vayk7XG4gICAgfVxuICAgIHJldHVybiB3cmFwcGVkSG9vaztcbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgY29uc3QgYXBpTmFtZSA9IHRvSGFuZGxlcktleShFcnJvclR5cGVTdHJpbmdzJDFbdHlwZV0ucmVwbGFjZSgvIGhvb2skLywgXCJcIikpO1xuICAgIHdhcm4kMShcbiAgICAgIGAke2FwaU5hbWV9IGlzIGNhbGxlZCB3aGVuIHRoZXJlIGlzIG5vIGFjdGl2ZSBjb21wb25lbnQgaW5zdGFuY2UgdG8gYmUgYXNzb2NpYXRlZCB3aXRoLiBMaWZlY3ljbGUgaW5qZWN0aW9uIEFQSXMgY2FuIG9ubHkgYmUgdXNlZCBkdXJpbmcgZXhlY3V0aW9uIG9mIHNldHVwKCkuYCArIChgIElmIHlvdSBhcmUgdXNpbmcgYXN5bmMgc2V0dXAoKSwgbWFrZSBzdXJlIHRvIHJlZ2lzdGVyIGxpZmVjeWNsZSBob29rcyBiZWZvcmUgdGhlIGZpcnN0IGF3YWl0IHN0YXRlbWVudC5gIClcbiAgICApO1xuICB9XG59XG5jb25zdCBjcmVhdGVIb29rID0gKGxpZmVjeWNsZSkgPT4gKGhvb2ssIHRhcmdldCA9IGN1cnJlbnRJbnN0YW5jZSkgPT4ge1xuICBpZiAoIWlzSW5TU1JDb21wb25lbnRTZXR1cCB8fCBsaWZlY3ljbGUgPT09IFwic3BcIikge1xuICAgIGluamVjdEhvb2sobGlmZWN5Y2xlLCAoLi4uYXJncykgPT4gaG9vayguLi5hcmdzKSwgdGFyZ2V0KTtcbiAgfVxufTtcbmNvbnN0IG9uQmVmb3JlTW91bnQgPSBjcmVhdGVIb29rKFwiYm1cIik7XG5jb25zdCBvbk1vdW50ZWQgPSBjcmVhdGVIb29rKFwibVwiKTtcbmNvbnN0IG9uQmVmb3JlVXBkYXRlID0gY3JlYXRlSG9vayhcbiAgXCJidVwiXG4pO1xuY29uc3Qgb25VcGRhdGVkID0gY3JlYXRlSG9vayhcInVcIik7XG5jb25zdCBvbkJlZm9yZVVubW91bnQgPSBjcmVhdGVIb29rKFxuICBcImJ1bVwiXG4pO1xuY29uc3Qgb25Vbm1vdW50ZWQgPSBjcmVhdGVIb29rKFwidW1cIik7XG5jb25zdCBvblNlcnZlclByZWZldGNoID0gY3JlYXRlSG9vayhcbiAgXCJzcFwiXG4pO1xuY29uc3Qgb25SZW5kZXJUcmlnZ2VyZWQgPSBjcmVhdGVIb29rKFwicnRnXCIpO1xuY29uc3Qgb25SZW5kZXJUcmFja2VkID0gY3JlYXRlSG9vayhcInJ0Y1wiKTtcbmZ1bmN0aW9uIG9uRXJyb3JDYXB0dXJlZChob29rLCB0YXJnZXQgPSBjdXJyZW50SW5zdGFuY2UpIHtcbiAgaW5qZWN0SG9vayhcImVjXCIsIGhvb2ssIHRhcmdldCk7XG59XG5cbmNvbnN0IENPTVBPTkVOVFMgPSBcImNvbXBvbmVudHNcIjtcbmNvbnN0IERJUkVDVElWRVMgPSBcImRpcmVjdGl2ZXNcIjtcbmZ1bmN0aW9uIHJlc29sdmVDb21wb25lbnQobmFtZSwgbWF5YmVTZWxmUmVmZXJlbmNlKSB7XG4gIHJldHVybiByZXNvbHZlQXNzZXQoQ09NUE9ORU5UUywgbmFtZSwgdHJ1ZSwgbWF5YmVTZWxmUmVmZXJlbmNlKSB8fCBuYW1lO1xufVxuY29uc3QgTlVMTF9EWU5BTUlDX0NPTVBPTkVOVCA9IFN5bWJvbC5mb3IoXCJ2LW5kY1wiKTtcbmZ1bmN0aW9uIHJlc29sdmVEeW5hbWljQ29tcG9uZW50KGNvbXBvbmVudCkge1xuICBpZiAoaXNTdHJpbmcoY29tcG9uZW50KSkge1xuICAgIHJldHVybiByZXNvbHZlQXNzZXQoQ09NUE9ORU5UUywgY29tcG9uZW50LCBmYWxzZSkgfHwgY29tcG9uZW50O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjb21wb25lbnQgfHwgTlVMTF9EWU5BTUlDX0NPTVBPTkVOVDtcbiAgfVxufVxuZnVuY3Rpb24gcmVzb2x2ZURpcmVjdGl2ZShuYW1lKSB7XG4gIHJldHVybiByZXNvbHZlQXNzZXQoRElSRUNUSVZFUywgbmFtZSk7XG59XG5mdW5jdGlvbiByZXNvbHZlQXNzZXQodHlwZSwgbmFtZSwgd2Fybk1pc3NpbmcgPSB0cnVlLCBtYXliZVNlbGZSZWZlcmVuY2UgPSBmYWxzZSkge1xuICBjb25zdCBpbnN0YW5jZSA9IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSB8fCBjdXJyZW50SW5zdGFuY2U7XG4gIGlmIChpbnN0YW5jZSkge1xuICAgIGNvbnN0IENvbXBvbmVudCA9IGluc3RhbmNlLnR5cGU7XG4gICAgaWYgKHR5cGUgPT09IENPTVBPTkVOVFMpIHtcbiAgICAgIGNvbnN0IHNlbGZOYW1lID0gZ2V0Q29tcG9uZW50TmFtZShcbiAgICAgICAgQ29tcG9uZW50LFxuICAgICAgICBmYWxzZVxuICAgICAgKTtcbiAgICAgIGlmIChzZWxmTmFtZSAmJiAoc2VsZk5hbWUgPT09IG5hbWUgfHwgc2VsZk5hbWUgPT09IGNhbWVsaXplKG5hbWUpIHx8IHNlbGZOYW1lID09PSBjYXBpdGFsaXplKGNhbWVsaXplKG5hbWUpKSkpIHtcbiAgICAgICAgcmV0dXJuIENvbXBvbmVudDtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmVzID0gKFxuICAgICAgLy8gbG9jYWwgcmVnaXN0cmF0aW9uXG4gICAgICAvLyBjaGVjayBpbnN0YW5jZVt0eXBlXSBmaXJzdCB3aGljaCBpcyByZXNvbHZlZCBmb3Igb3B0aW9ucyBBUElcbiAgICAgIHJlc29sdmUoaW5zdGFuY2VbdHlwZV0gfHwgQ29tcG9uZW50W3R5cGVdLCBuYW1lKSB8fCAvLyBnbG9iYWwgcmVnaXN0cmF0aW9uXG4gICAgICByZXNvbHZlKGluc3RhbmNlLmFwcENvbnRleHRbdHlwZV0sIG5hbWUpXG4gICAgKTtcbiAgICBpZiAoIXJlcyAmJiBtYXliZVNlbGZSZWZlcmVuY2UpIHtcbiAgICAgIHJldHVybiBDb21wb25lbnQ7XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm5NaXNzaW5nICYmICFyZXMpIHtcbiAgICAgIGNvbnN0IGV4dHJhID0gdHlwZSA9PT0gQ09NUE9ORU5UUyA/IGBcbklmIHRoaXMgaXMgYSBuYXRpdmUgY3VzdG9tIGVsZW1lbnQsIG1ha2Ugc3VyZSB0byBleGNsdWRlIGl0IGZyb20gY29tcG9uZW50IHJlc29sdXRpb24gdmlhIGNvbXBpbGVyT3B0aW9ucy5pc0N1c3RvbUVsZW1lbnQuYCA6IGBgO1xuICAgICAgd2FybiQxKGBGYWlsZWQgdG8gcmVzb2x2ZSAke3R5cGUuc2xpY2UoMCwgLTEpfTogJHtuYW1lfSR7ZXh0cmF9YCk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm4kMShcbiAgICAgIGByZXNvbHZlJHtjYXBpdGFsaXplKHR5cGUuc2xpY2UoMCwgLTEpKX0gY2FuIG9ubHkgYmUgdXNlZCBpbiByZW5kZXIoKSBvciBzZXR1cCgpLmBcbiAgICApO1xuICB9XG59XG5mdW5jdGlvbiByZXNvbHZlKHJlZ2lzdHJ5LCBuYW1lKSB7XG4gIHJldHVybiByZWdpc3RyeSAmJiAocmVnaXN0cnlbbmFtZV0gfHwgcmVnaXN0cnlbY2FtZWxpemUobmFtZSldIHx8IHJlZ2lzdHJ5W2NhcGl0YWxpemUoY2FtZWxpemUobmFtZSkpXSk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlckxpc3Qoc291cmNlLCByZW5kZXJJdGVtLCBjYWNoZSwgaW5kZXgpIHtcbiAgbGV0IHJldDtcbiAgY29uc3QgY2FjaGVkID0gY2FjaGUgJiYgY2FjaGVbaW5kZXhdO1xuICBjb25zdCBzb3VyY2VJc0FycmF5ID0gaXNBcnJheShzb3VyY2UpO1xuICBpZiAoc291cmNlSXNBcnJheSB8fCBpc1N0cmluZyhzb3VyY2UpKSB7XG4gICAgY29uc3Qgc291cmNlSXNSZWFjdGl2ZUFycmF5ID0gc291cmNlSXNBcnJheSAmJiBpc1JlYWN0aXZlKHNvdXJjZSk7XG4gICAgbGV0IG5lZWRzV3JhcCA9IGZhbHNlO1xuICAgIGlmIChzb3VyY2VJc1JlYWN0aXZlQXJyYXkpIHtcbiAgICAgIG5lZWRzV3JhcCA9ICFpc1NoYWxsb3coc291cmNlKTtcbiAgICAgIHNvdXJjZSA9IHNoYWxsb3dSZWFkQXJyYXkoc291cmNlKTtcbiAgICB9XG4gICAgcmV0ID0gbmV3IEFycmF5KHNvdXJjZS5sZW5ndGgpO1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gc291cmNlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgcmV0W2ldID0gcmVuZGVySXRlbShcbiAgICAgICAgbmVlZHNXcmFwID8gdG9SZWFjdGl2ZShzb3VyY2VbaV0pIDogc291cmNlW2ldLFxuICAgICAgICBpLFxuICAgICAgICB2b2lkIDAsXG4gICAgICAgIGNhY2hlZCAmJiBjYWNoZWRbaV1cbiAgICAgICk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiBzb3VyY2UgPT09IFwibnVtYmVyXCIpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhTnVtYmVyLmlzSW50ZWdlcihzb3VyY2UpKSB7XG4gICAgICB3YXJuJDEoYFRoZSB2LWZvciByYW5nZSBleHBlY3QgYW4gaW50ZWdlciB2YWx1ZSBidXQgZ290ICR7c291cmNlfS5gKTtcbiAgICB9XG4gICAgcmV0ID0gbmV3IEFycmF5KHNvdXJjZSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2U7IGkrKykge1xuICAgICAgcmV0W2ldID0gcmVuZGVySXRlbShpICsgMSwgaSwgdm9pZCAwLCBjYWNoZWQgJiYgY2FjaGVkW2ldKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3Qoc291cmNlKSkge1xuICAgIGlmIChzb3VyY2VbU3ltYm9sLml0ZXJhdG9yXSkge1xuICAgICAgcmV0ID0gQXJyYXkuZnJvbShcbiAgICAgICAgc291cmNlLFxuICAgICAgICAoaXRlbSwgaSkgPT4gcmVuZGVySXRlbShpdGVtLCBpLCB2b2lkIDAsIGNhY2hlZCAmJiBjYWNoZWRbaV0pXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgICAgIHJldCA9IG5ldyBBcnJheShrZXlzLmxlbmd0aCk7XG4gICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgICAgIHJldFtpXSA9IHJlbmRlckl0ZW0oc291cmNlW2tleV0sIGtleSwgaSwgY2FjaGVkICYmIGNhY2hlZFtpXSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldCA9IFtdO1xuICB9XG4gIGlmIChjYWNoZSkge1xuICAgIGNhY2hlW2luZGV4XSA9IHJldDtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVTbG90cyhzbG90cywgZHluYW1pY1Nsb3RzKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZHluYW1pY1Nsb3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgc2xvdCA9IGR5bmFtaWNTbG90c1tpXTtcbiAgICBpZiAoaXNBcnJheShzbG90KSkge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzbG90Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHNsb3RzW3Nsb3Rbal0ubmFtZV0gPSBzbG90W2pdLmZuO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc2xvdCkge1xuICAgICAgc2xvdHNbc2xvdC5uYW1lXSA9IHNsb3Qua2V5ID8gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgY29uc3QgcmVzID0gc2xvdC5mbiguLi5hcmdzKTtcbiAgICAgICAgaWYgKHJlcykgcmVzLmtleSA9IHNsb3Qua2V5O1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfSA6IHNsb3QuZm47XG4gICAgfVxuICB9XG4gIHJldHVybiBzbG90cztcbn1cblxuZnVuY3Rpb24gcmVuZGVyU2xvdChzbG90cywgbmFtZSwgcHJvcHMgPSB7fSwgZmFsbGJhY2ssIG5vU2xvdHRlZCkge1xuICBpZiAoY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLmNlIHx8IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZS5wYXJlbnQgJiYgaXNBc3luY1dyYXBwZXIoY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLnBhcmVudCkgJiYgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLnBhcmVudC5jZSkge1xuICAgIGlmIChuYW1lICE9PSBcImRlZmF1bHRcIikgcHJvcHMubmFtZSA9IG5hbWU7XG4gICAgcmV0dXJuIG9wZW5CbG9jaygpLCBjcmVhdGVCbG9jayhcbiAgICAgIEZyYWdtZW50LFxuICAgICAgbnVsbCxcbiAgICAgIFtjcmVhdGVWTm9kZShcInNsb3RcIiwgcHJvcHMsIGZhbGxiYWNrICYmIGZhbGxiYWNrKCkpXSxcbiAgICAgIDY0XG4gICAgKTtcbiAgfVxuICBsZXQgc2xvdCA9IHNsb3RzW25hbWVdO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBzbG90ICYmIHNsb3QubGVuZ3RoID4gMSkge1xuICAgIHdhcm4kMShcbiAgICAgIGBTU1Itb3B0aW1pemVkIHNsb3QgZnVuY3Rpb24gZGV0ZWN0ZWQgaW4gYSBub24tU1NSLW9wdGltaXplZCByZW5kZXIgZnVuY3Rpb24uIFlvdSBuZWVkIHRvIG1hcmsgdGhpcyBjb21wb25lbnQgd2l0aCAkZHluYW1pYy1zbG90cyBpbiB0aGUgcGFyZW50IHRlbXBsYXRlLmBcbiAgICApO1xuICAgIHNsb3QgPSAoKSA9PiBbXTtcbiAgfVxuICBpZiAoc2xvdCAmJiBzbG90Ll9jKSB7XG4gICAgc2xvdC5fZCA9IGZhbHNlO1xuICB9XG4gIG9wZW5CbG9jaygpO1xuICBjb25zdCB2YWxpZFNsb3RDb250ZW50ID0gc2xvdCAmJiBlbnN1cmVWYWxpZFZOb2RlKHNsb3QocHJvcHMpKTtcbiAgY29uc3Qgc2xvdEtleSA9IHByb3BzLmtleSB8fCAvLyBzbG90IGNvbnRlbnQgYXJyYXkgb2YgYSBkeW5hbWljIGNvbmRpdGlvbmFsIHNsb3QgbWF5IGhhdmUgYSBicmFuY2hcbiAgLy8ga2V5IGF0dGFjaGVkIGluIHRoZSBgY3JlYXRlU2xvdHNgIGhlbHBlciwgcmVzcGVjdCB0aGF0XG4gIHZhbGlkU2xvdENvbnRlbnQgJiYgdmFsaWRTbG90Q29udGVudC5rZXk7XG4gIGNvbnN0IHJlbmRlcmVkID0gY3JlYXRlQmxvY2soXG4gICAgRnJhZ21lbnQsXG4gICAge1xuICAgICAga2V5OiAoc2xvdEtleSAmJiAhaXNTeW1ib2woc2xvdEtleSkgPyBzbG90S2V5IDogYF8ke25hbWV9YCkgKyAvLyAjNzI1NiBmb3JjZSBkaWZmZXJlbnRpYXRlIGZhbGxiYWNrIGNvbnRlbnQgZnJvbSBhY3R1YWwgY29udGVudFxuICAgICAgKCF2YWxpZFNsb3RDb250ZW50ICYmIGZhbGxiYWNrID8gXCJfZmJcIiA6IFwiXCIpXG4gICAgfSxcbiAgICB2YWxpZFNsb3RDb250ZW50IHx8IChmYWxsYmFjayA/IGZhbGxiYWNrKCkgOiBbXSksXG4gICAgdmFsaWRTbG90Q29udGVudCAmJiBzbG90cy5fID09PSAxID8gNjQgOiAtMlxuICApO1xuICBpZiAoIW5vU2xvdHRlZCAmJiByZW5kZXJlZC5zY29wZUlkKSB7XG4gICAgcmVuZGVyZWQuc2xvdFNjb3BlSWRzID0gW3JlbmRlcmVkLnNjb3BlSWQgKyBcIi1zXCJdO1xuICB9XG4gIGlmIChzbG90ICYmIHNsb3QuX2MpIHtcbiAgICBzbG90Ll9kID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4gcmVuZGVyZWQ7XG59XG5mdW5jdGlvbiBlbnN1cmVWYWxpZFZOb2RlKHZub2Rlcykge1xuICByZXR1cm4gdm5vZGVzLnNvbWUoKGNoaWxkKSA9PiB7XG4gICAgaWYgKCFpc1ZOb2RlKGNoaWxkKSkgcmV0dXJuIHRydWU7XG4gICAgaWYgKGNoaWxkLnR5cGUgPT09IENvbW1lbnQpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoY2hpbGQudHlwZSA9PT0gRnJhZ21lbnQgJiYgIWVuc3VyZVZhbGlkVk5vZGUoY2hpbGQuY2hpbGRyZW4pKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9KSA/IHZub2RlcyA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIHRvSGFuZGxlcnMob2JqLCBwcmVzZXJ2ZUNhc2VJZk5lY2Vzc2FyeSkge1xuICBjb25zdCByZXQgPSB7fTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWlzT2JqZWN0KG9iaikpIHtcbiAgICB3YXJuJDEoYHYtb24gd2l0aCBubyBhcmd1bWVudCBleHBlY3RzIGFuIG9iamVjdCB2YWx1ZS5gKTtcbiAgICByZXR1cm4gcmV0O1xuICB9XG4gIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgIHJldFtwcmVzZXJ2ZUNhc2VJZk5lY2Vzc2FyeSAmJiAvW0EtWl0vLnRlc3Qoa2V5KSA/IGBvbjoke2tleX1gIDogdG9IYW5kbGVyS2V5KGtleSldID0gb2JqW2tleV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuY29uc3QgZ2V0UHVibGljSW5zdGFuY2UgPSAoaSkgPT4ge1xuICBpZiAoIWkpIHJldHVybiBudWxsO1xuICBpZiAoaXNTdGF0ZWZ1bENvbXBvbmVudChpKSkgcmV0dXJuIGdldENvbXBvbmVudFB1YmxpY0luc3RhbmNlKGkpO1xuICByZXR1cm4gZ2V0UHVibGljSW5zdGFuY2UoaS5wYXJlbnQpO1xufTtcbmNvbnN0IHB1YmxpY1Byb3BlcnRpZXNNYXAgPSAoXG4gIC8vIE1vdmUgUFVSRSBtYXJrZXIgdG8gbmV3IGxpbmUgdG8gd29ya2Fyb3VuZCBjb21waWxlciBkaXNjYXJkaW5nIGl0XG4gIC8vIGR1ZSB0byB0eXBlIGFubm90YXRpb25cbiAgLyogQF9fUFVSRV9fICovIGV4dGVuZCgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSwge1xuICAgICQ6IChpKSA9PiBpLFxuICAgICRlbDogKGkpID0+IGkudm5vZGUuZWwsXG4gICAgJGRhdGE6IChpKSA9PiBpLmRhdGEsXG4gICAgJHByb3BzOiAoaSkgPT4gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShpLnByb3BzKSA6IGkucHJvcHMsXG4gICAgJGF0dHJzOiAoaSkgPT4gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShpLmF0dHJzKSA6IGkuYXR0cnMsXG4gICAgJHNsb3RzOiAoaSkgPT4gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShpLnNsb3RzKSA6IGkuc2xvdHMsXG4gICAgJHJlZnM6IChpKSA9PiAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gc2hhbGxvd1JlYWRvbmx5KGkucmVmcykgOiBpLnJlZnMsXG4gICAgJHBhcmVudDogKGkpID0+IGdldFB1YmxpY0luc3RhbmNlKGkucGFyZW50KSxcbiAgICAkcm9vdDogKGkpID0+IGdldFB1YmxpY0luc3RhbmNlKGkucm9vdCksXG4gICAgJGhvc3Q6IChpKSA9PiBpLmNlLFxuICAgICRlbWl0OiAoaSkgPT4gaS5lbWl0LFxuICAgICRvcHRpb25zOiAoaSkgPT4gX19WVUVfT1BUSU9OU19BUElfXyA/IHJlc29sdmVNZXJnZWRPcHRpb25zKGkpIDogaS50eXBlLFxuICAgICRmb3JjZVVwZGF0ZTogKGkpID0+IGkuZiB8fCAoaS5mID0gKCkgPT4ge1xuICAgICAgcXVldWVKb2IoaS51cGRhdGUpO1xuICAgIH0pLFxuICAgICRuZXh0VGljazogKGkpID0+IGkubiB8fCAoaS5uID0gbmV4dFRpY2suYmluZChpLnByb3h5KSksXG4gICAgJHdhdGNoOiAoaSkgPT4gX19WVUVfT1BUSU9OU19BUElfXyA/IGluc3RhbmNlV2F0Y2guYmluZChpKSA6IE5PT1BcbiAgfSlcbik7XG5jb25zdCBpc1Jlc2VydmVkUHJlZml4ID0gKGtleSkgPT4ga2V5ID09PSBcIl9cIiB8fCBrZXkgPT09IFwiJFwiO1xuY29uc3QgaGFzU2V0dXBCaW5kaW5nID0gKHN0YXRlLCBrZXkpID0+IHN0YXRlICE9PSBFTVBUWV9PQkogJiYgIXN0YXRlLl9faXNTY3JpcHRTZXR1cCAmJiBoYXNPd24oc3RhdGUsIGtleSk7XG5jb25zdCBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMgPSB7XG4gIGdldCh7IF86IGluc3RhbmNlIH0sIGtleSkge1xuICAgIGlmIChrZXkgPT09IFwiX192X3NraXBcIikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNvbnN0IHsgY3R4LCBzZXR1cFN0YXRlLCBkYXRhLCBwcm9wcywgYWNjZXNzQ2FjaGUsIHR5cGUsIGFwcENvbnRleHQgfSA9IGluc3RhbmNlO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGtleSA9PT0gXCJfX2lzVnVlXCIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBsZXQgbm9ybWFsaXplZFByb3BzO1xuICAgIGlmIChrZXlbMF0gIT09IFwiJFwiKSB7XG4gICAgICBjb25zdCBuID0gYWNjZXNzQ2FjaGVba2V5XTtcbiAgICAgIGlmIChuICE9PSB2b2lkIDApIHtcbiAgICAgICAgc3dpdGNoIChuKSB7XG4gICAgICAgICAgY2FzZSAxIC8qIFNFVFVQICovOlxuICAgICAgICAgICAgcmV0dXJuIHNldHVwU3RhdGVba2V5XTtcbiAgICAgICAgICBjYXNlIDIgLyogREFUQSAqLzpcbiAgICAgICAgICAgIHJldHVybiBkYXRhW2tleV07XG4gICAgICAgICAgY2FzZSA0IC8qIENPTlRFWFQgKi86XG4gICAgICAgICAgICByZXR1cm4gY3R4W2tleV07XG4gICAgICAgICAgY2FzZSAzIC8qIFBST1BTICovOlxuICAgICAgICAgICAgcmV0dXJuIHByb3BzW2tleV07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaGFzU2V0dXBCaW5kaW5nKHNldHVwU3RhdGUsIGtleSkpIHtcbiAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDEgLyogU0VUVVAgKi87XG4gICAgICAgIHJldHVybiBzZXR1cFN0YXRlW2tleV07XG4gICAgICB9IGVsc2UgaWYgKGRhdGEgIT09IEVNUFRZX09CSiAmJiBoYXNPd24oZGF0YSwga2V5KSkge1xuICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gMiAvKiBEQVRBICovO1xuICAgICAgICByZXR1cm4gZGF0YVtrZXldO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgLy8gb25seSBjYWNoZSBvdGhlciBwcm9wZXJ0aWVzIHdoZW4gaW5zdGFuY2UgaGFzIGRlY2xhcmVkICh0aHVzIHN0YWJsZSlcbiAgICAgICAgLy8gcHJvcHNcbiAgICAgICAgKG5vcm1hbGl6ZWRQcm9wcyA9IGluc3RhbmNlLnByb3BzT3B0aW9uc1swXSkgJiYgaGFzT3duKG5vcm1hbGl6ZWRQcm9wcywga2V5KVxuICAgICAgKSB7XG4gICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSAzIC8qIFBST1BTICovO1xuICAgICAgICByZXR1cm4gcHJvcHNba2V5XTtcbiAgICAgIH0gZWxzZSBpZiAoY3R4ICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKGN0eCwga2V5KSkge1xuICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gNCAvKiBDT05URVhUICovO1xuICAgICAgICByZXR1cm4gY3R4W2tleV07XG4gICAgICB9IGVsc2UgaWYgKCFfX1ZVRV9PUFRJT05TX0FQSV9fIHx8IHNob3VsZENhY2hlQWNjZXNzKSB7XG4gICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSAwIC8qIE9USEVSICovO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBwdWJsaWNHZXR0ZXIgPSBwdWJsaWNQcm9wZXJ0aWVzTWFwW2tleV07XG4gICAgbGV0IGNzc01vZHVsZSwgZ2xvYmFsUHJvcGVydGllcztcbiAgICBpZiAocHVibGljR2V0dGVyKSB7XG4gICAgICBpZiAoa2V5ID09PSBcIiRhdHRyc1wiKSB7XG4gICAgICAgIHRyYWNrKGluc3RhbmNlLmF0dHJzLCBcImdldFwiLCBcIlwiKTtcbiAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBtYXJrQXR0cnNBY2Nlc3NlZCgpO1xuICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGtleSA9PT0gXCIkc2xvdHNcIikge1xuICAgICAgICB0cmFjayhpbnN0YW5jZSwgXCJnZXRcIiwga2V5KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwdWJsaWNHZXR0ZXIoaW5zdGFuY2UpO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICAvLyBjc3MgbW9kdWxlIChpbmplY3RlZCBieSB2dWUtbG9hZGVyKVxuICAgICAgKGNzc01vZHVsZSA9IHR5cGUuX19jc3NNb2R1bGVzKSAmJiAoY3NzTW9kdWxlID0gY3NzTW9kdWxlW2tleV0pXG4gICAgKSB7XG4gICAgICByZXR1cm4gY3NzTW9kdWxlO1xuICAgIH0gZWxzZSBpZiAoY3R4ICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKGN0eCwga2V5KSkge1xuICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDQgLyogQ09OVEVYVCAqLztcbiAgICAgIHJldHVybiBjdHhba2V5XTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgLy8gZ2xvYmFsIHByb3BlcnRpZXNcbiAgICAgIGdsb2JhbFByb3BlcnRpZXMgPSBhcHBDb250ZXh0LmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLCBoYXNPd24oZ2xvYmFsUHJvcGVydGllcywga2V5KVxuICAgICkge1xuICAgICAge1xuICAgICAgICByZXR1cm4gZ2xvYmFsUHJvcGVydGllc1trZXldO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgJiYgKCFpc1N0cmluZyhrZXkpIHx8IC8vICMxMDkxIGF2b2lkIGludGVybmFsIGlzUmVmL2lzVk5vZGUgY2hlY2tzIG9uIGNvbXBvbmVudCBpbnN0YW5jZSBsZWFkaW5nXG4gICAgLy8gdG8gaW5maW5pdGUgd2FybmluZyBsb29wXG4gICAga2V5LmluZGV4T2YoXCJfX3ZcIikgIT09IDApKSB7XG4gICAgICBpZiAoZGF0YSAhPT0gRU1QVFlfT0JKICYmIGlzUmVzZXJ2ZWRQcmVmaXgoa2V5WzBdKSAmJiBoYXNPd24oZGF0YSwga2V5KSkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYFByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICBrZXlcbiAgICAgICAgICApfSBtdXN0IGJlIGFjY2Vzc2VkIHZpYSAkZGF0YSBiZWNhdXNlIGl0IHN0YXJ0cyB3aXRoIGEgcmVzZXJ2ZWQgY2hhcmFjdGVyIChcIiRcIiBvciBcIl9cIikgYW5kIGlzIG5vdCBwcm94aWVkIG9uIHRoZSByZW5kZXIgY29udGV4dC5gXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKGluc3RhbmNlID09PSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UpIHtcbiAgICAgICAgd2FybiQxKFxuICAgICAgICAgIGBQcm9wZXJ0eSAke0pTT04uc3RyaW5naWZ5KGtleSl9IHdhcyBhY2Nlc3NlZCBkdXJpbmcgcmVuZGVyIGJ1dCBpcyBub3QgZGVmaW5lZCBvbiBpbnN0YW5jZS5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBzZXQoeyBfOiBpbnN0YW5jZSB9LCBrZXksIHZhbHVlKSB7XG4gICAgY29uc3QgeyBkYXRhLCBzZXR1cFN0YXRlLCBjdHggfSA9IGluc3RhbmNlO1xuICAgIGlmIChoYXNTZXR1cEJpbmRpbmcoc2V0dXBTdGF0ZSwga2V5KSkge1xuICAgICAgc2V0dXBTdGF0ZVtrZXldID0gdmFsdWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgc2V0dXBTdGF0ZS5fX2lzU2NyaXB0U2V0dXAgJiYgaGFzT3duKHNldHVwU3RhdGUsIGtleSkpIHtcbiAgICAgIHdhcm4kMShgQ2Fubm90IG11dGF0ZSA8c2NyaXB0IHNldHVwPiBiaW5kaW5nIFwiJHtrZXl9XCIgZnJvbSBPcHRpb25zIEFQSS5gKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKGRhdGEgIT09IEVNUFRZX09CSiAmJiBoYXNPd24oZGF0YSwga2V5KSkge1xuICAgICAgZGF0YVtrZXldID0gdmFsdWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKGhhc093bihpbnN0YW5jZS5wcm9wcywga2V5KSkge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuJDEoYEF0dGVtcHRpbmcgdG8gbXV0YXRlIHByb3AgXCIke2tleX1cIi4gUHJvcHMgYXJlIHJlYWRvbmx5LmApO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoa2V5WzBdID09PSBcIiRcIiAmJiBrZXkuc2xpY2UoMSkgaW4gaW5zdGFuY2UpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybiQxKFxuICAgICAgICBgQXR0ZW1wdGluZyB0byBtdXRhdGUgcHVibGljIHByb3BlcnR5IFwiJHtrZXl9XCIuIFByb3BlcnRpZXMgc3RhcnRpbmcgd2l0aCAkIGFyZSByZXNlcnZlZCBhbmQgcmVhZG9ubHkuYFxuICAgICAgKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYga2V5IGluIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgdmFsdWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdHhba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcbiAgaGFzKHtcbiAgICBfOiB7IGRhdGEsIHNldHVwU3RhdGUsIGFjY2Vzc0NhY2hlLCBjdHgsIGFwcENvbnRleHQsIHByb3BzT3B0aW9ucyB9XG4gIH0sIGtleSkge1xuICAgIGxldCBub3JtYWxpemVkUHJvcHM7XG4gICAgcmV0dXJuICEhYWNjZXNzQ2FjaGVba2V5XSB8fCBkYXRhICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKGRhdGEsIGtleSkgfHwgaGFzU2V0dXBCaW5kaW5nKHNldHVwU3RhdGUsIGtleSkgfHwgKG5vcm1hbGl6ZWRQcm9wcyA9IHByb3BzT3B0aW9uc1swXSkgJiYgaGFzT3duKG5vcm1hbGl6ZWRQcm9wcywga2V5KSB8fCBoYXNPd24oY3R4LCBrZXkpIHx8IGhhc093bihwdWJsaWNQcm9wZXJ0aWVzTWFwLCBrZXkpIHx8IGhhc093bihhcHBDb250ZXh0LmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLCBrZXkpO1xuICB9LFxuICBkZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgZGVzY3JpcHRvcikge1xuICAgIGlmIChkZXNjcmlwdG9yLmdldCAhPSBudWxsKSB7XG4gICAgICB0YXJnZXQuXy5hY2Nlc3NDYWNoZVtrZXldID0gMDtcbiAgICB9IGVsc2UgaWYgKGhhc093bihkZXNjcmlwdG9yLCBcInZhbHVlXCIpKSB7XG4gICAgICB0aGlzLnNldCh0YXJnZXQsIGtleSwgZGVzY3JpcHRvci52YWx1ZSwgbnVsbCk7XG4gICAgfVxuICAgIHJldHVybiBSZWZsZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBkZXNjcmlwdG9yKTtcbiAgfVxufTtcbmlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHRydWUpIHtcbiAgUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzLm93bktleXMgPSAodGFyZ2V0KSA9PiB7XG4gICAgd2FybiQxKFxuICAgICAgYEF2b2lkIGFwcCBsb2dpYyB0aGF0IHJlbGllcyBvbiBlbnVtZXJhdGluZyBrZXlzIG9uIGEgY29tcG9uZW50IGluc3RhbmNlLiBUaGUga2V5cyB3aWxsIGJlIGVtcHR5IGluIHByb2R1Y3Rpb24gbW9kZSB0byBhdm9pZCBwZXJmb3JtYW5jZSBvdmVyaGVhZC5gXG4gICAgKTtcbiAgICByZXR1cm4gUmVmbGVjdC5vd25LZXlzKHRhcmdldCk7XG4gIH07XG59XG5jb25zdCBSdW50aW1lQ29tcGlsZWRQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMgPSAvKiBAX19QVVJFX18gKi8gZXh0ZW5kKHt9LCBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMsIHtcbiAgZ2V0KHRhcmdldCwga2V5KSB7XG4gICAgaWYgKGtleSA9PT0gU3ltYm9sLnVuc2NvcGFibGVzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMuZ2V0KHRhcmdldCwga2V5LCB0YXJnZXQpO1xuICB9LFxuICBoYXMoXywga2V5KSB7XG4gICAgY29uc3QgaGFzID0ga2V5WzBdICE9PSBcIl9cIiAmJiAhaXNHbG9iYWxseUFsbG93ZWQoa2V5KTtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaGFzICYmIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycy5oYXMoXywga2V5KSkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgUHJvcGVydHkgJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICBrZXlcbiAgICAgICAgKX0gc2hvdWxkIG5vdCBzdGFydCB3aXRoIF8gd2hpY2ggaXMgYSByZXNlcnZlZCBwcmVmaXggZm9yIFZ1ZSBpbnRlcm5hbHMuYFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGhhcztcbiAgfVxufSk7XG5mdW5jdGlvbiBjcmVhdGVEZXZSZW5kZXJDb250ZXh0KGluc3RhbmNlKSB7XG4gIGNvbnN0IHRhcmdldCA9IHt9O1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBgX2AsIHtcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgZ2V0OiAoKSA9PiBpbnN0YW5jZVxuICB9KTtcbiAgT2JqZWN0LmtleXMocHVibGljUHJvcGVydGllc01hcCkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCB7XG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIGdldDogKCkgPT4gcHVibGljUHJvcGVydGllc01hcFtrZXldKGluc3RhbmNlKSxcbiAgICAgIC8vIGludGVyY2VwdGVkIGJ5IHRoZSBwcm94eSBzbyBubyBuZWVkIGZvciBpbXBsZW1lbnRhdGlvbixcbiAgICAgIC8vIGJ1dCBuZWVkZWQgdG8gcHJldmVudCBzZXQgZXJyb3JzXG4gICAgICBzZXQ6IE5PT1BcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiB0YXJnZXQ7XG59XG5mdW5jdGlvbiBleHBvc2VQcm9wc09uUmVuZGVyQ29udGV4dChpbnN0YW5jZSkge1xuICBjb25zdCB7XG4gICAgY3R4LFxuICAgIHByb3BzT3B0aW9uczogW3Byb3BzT3B0aW9uc11cbiAgfSA9IGluc3RhbmNlO1xuICBpZiAocHJvcHNPcHRpb25zKSB7XG4gICAgT2JqZWN0LmtleXMocHJvcHNPcHRpb25zKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGdldDogKCkgPT4gaW5zdGFuY2UucHJvcHNba2V5XSxcbiAgICAgICAgc2V0OiBOT09QXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuZnVuY3Rpb24gZXhwb3NlU2V0dXBTdGF0ZU9uUmVuZGVyQ29udGV4dChpbnN0YW5jZSkge1xuICBjb25zdCB7IGN0eCwgc2V0dXBTdGF0ZSB9ID0gaW5zdGFuY2U7XG4gIE9iamVjdC5rZXlzKHRvUmF3KHNldHVwU3RhdGUpKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBpZiAoIXNldHVwU3RhdGUuX19pc1NjcmlwdFNldHVwKSB7XG4gICAgICBpZiAoaXNSZXNlcnZlZFByZWZpeChrZXlbMF0pKSB7XG4gICAgICAgIHdhcm4kMShcbiAgICAgICAgICBgc2V0dXAoKSByZXR1cm4gcHJvcGVydHkgJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgIGtleVxuICAgICAgICAgICl9IHNob3VsZCBub3Qgc3RhcnQgd2l0aCBcIiRcIiBvciBcIl9cIiB3aGljaCBhcmUgcmVzZXJ2ZWQgcHJlZml4ZXMgZm9yIFZ1ZSBpbnRlcm5hbHMuYFxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6ICgpID0+IHNldHVwU3RhdGVba2V5XSxcbiAgICAgICAgc2V0OiBOT09QXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG5jb25zdCB3YXJuUnVudGltZVVzYWdlID0gKG1ldGhvZCkgPT4gd2FybiQxKFxuICBgJHttZXRob2R9KCkgaXMgYSBjb21waWxlci1oaW50IGhlbHBlciB0aGF0IGlzIG9ubHkgdXNhYmxlIGluc2lkZSA8c2NyaXB0IHNldHVwPiBvZiBhIHNpbmdsZSBmaWxlIGNvbXBvbmVudC4gSXRzIGFyZ3VtZW50cyBzaG91bGQgYmUgY29tcGlsZWQgYXdheSBhbmQgcGFzc2luZyBpdCBhdCBydW50aW1lIGhhcyBubyBlZmZlY3QuYFxuKTtcbmZ1bmN0aW9uIGRlZmluZVByb3BzKCkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm5SdW50aW1lVXNhZ2UoYGRlZmluZVByb3BzYCk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBkZWZpbmVFbWl0cygpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuUnVudGltZVVzYWdlKGBkZWZpbmVFbWl0c2ApO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gZGVmaW5lRXhwb3NlKGV4cG9zZWQpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuUnVudGltZVVzYWdlKGBkZWZpbmVFeHBvc2VgKTtcbiAgfVxufVxuZnVuY3Rpb24gZGVmaW5lT3B0aW9ucyhvcHRpb25zKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FyblJ1bnRpbWVVc2FnZShgZGVmaW5lT3B0aW9uc2ApO1xuICB9XG59XG5mdW5jdGlvbiBkZWZpbmVTbG90cygpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuUnVudGltZVVzYWdlKGBkZWZpbmVTbG90c2ApO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gZGVmaW5lTW9kZWwoKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FyblJ1bnRpbWVVc2FnZShcImRlZmluZU1vZGVsXCIpO1xuICB9XG59XG5mdW5jdGlvbiB3aXRoRGVmYXVsdHMocHJvcHMsIGRlZmF1bHRzKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FyblJ1bnRpbWVVc2FnZShgd2l0aERlZmF1bHRzYCk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiB1c2VTbG90cygpIHtcbiAgcmV0dXJuIGdldENvbnRleHQoKS5zbG90cztcbn1cbmZ1bmN0aW9uIHVzZUF0dHJzKCkge1xuICByZXR1cm4gZ2V0Q29udGV4dCgpLmF0dHJzO1xufVxuZnVuY3Rpb24gZ2V0Q29udGV4dCgpIHtcbiAgY29uc3QgaSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaSkge1xuICAgIHdhcm4kMShgdXNlQ29udGV4dCgpIGNhbGxlZCB3aXRob3V0IGFjdGl2ZSBpbnN0YW5jZS5gKTtcbiAgfVxuICByZXR1cm4gaS5zZXR1cENvbnRleHQgfHwgKGkuc2V0dXBDb250ZXh0ID0gY3JlYXRlU2V0dXBDb250ZXh0KGkpKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVByb3BzT3JFbWl0cyhwcm9wcykge1xuICByZXR1cm4gaXNBcnJheShwcm9wcykgPyBwcm9wcy5yZWR1Y2UoXG4gICAgKG5vcm1hbGl6ZWQsIHApID0+IChub3JtYWxpemVkW3BdID0gbnVsbCwgbm9ybWFsaXplZCksXG4gICAge31cbiAgKSA6IHByb3BzO1xufVxuZnVuY3Rpb24gbWVyZ2VEZWZhdWx0cyhyYXcsIGRlZmF1bHRzKSB7XG4gIGNvbnN0IHByb3BzID0gbm9ybWFsaXplUHJvcHNPckVtaXRzKHJhdyk7XG4gIGZvciAoY29uc3Qga2V5IGluIGRlZmF1bHRzKSB7XG4gICAgaWYgKGtleS5zdGFydHNXaXRoKFwiX19za2lwXCIpKSBjb250aW51ZTtcbiAgICBsZXQgb3B0ID0gcHJvcHNba2V5XTtcbiAgICBpZiAob3B0KSB7XG4gICAgICBpZiAoaXNBcnJheShvcHQpIHx8IGlzRnVuY3Rpb24ob3B0KSkge1xuICAgICAgICBvcHQgPSBwcm9wc1trZXldID0geyB0eXBlOiBvcHQsIGRlZmF1bHQ6IGRlZmF1bHRzW2tleV0gfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdC5kZWZhdWx0ID0gZGVmYXVsdHNba2V5XTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9wdCA9PT0gbnVsbCkge1xuICAgICAgb3B0ID0gcHJvcHNba2V5XSA9IHsgZGVmYXVsdDogZGVmYXVsdHNba2V5XSB9O1xuICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybiQxKGBwcm9wcyBkZWZhdWx0IGtleSBcIiR7a2V5fVwiIGhhcyBubyBjb3JyZXNwb25kaW5nIGRlY2xhcmF0aW9uLmApO1xuICAgIH1cbiAgICBpZiAob3B0ICYmIGRlZmF1bHRzW2BfX3NraXBfJHtrZXl9YF0pIHtcbiAgICAgIG9wdC5za2lwRmFjdG9yeSA9IHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBwcm9wcztcbn1cbmZ1bmN0aW9uIG1lcmdlTW9kZWxzKGEsIGIpIHtcbiAgaWYgKCFhIHx8ICFiKSByZXR1cm4gYSB8fCBiO1xuICBpZiAoaXNBcnJheShhKSAmJiBpc0FycmF5KGIpKSByZXR1cm4gYS5jb25jYXQoYik7XG4gIHJldHVybiBleHRlbmQoe30sIG5vcm1hbGl6ZVByb3BzT3JFbWl0cyhhKSwgbm9ybWFsaXplUHJvcHNPckVtaXRzKGIpKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVByb3BzUmVzdFByb3h5KHByb3BzLCBleGNsdWRlZEtleXMpIHtcbiAgY29uc3QgcmV0ID0ge307XG4gIGZvciAoY29uc3Qga2V5IGluIHByb3BzKSB7XG4gICAgaWYgKCFleGNsdWRlZEtleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJldCwga2V5LCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogKCkgPT4gcHJvcHNba2V5XVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXQ7XG59XG5mdW5jdGlvbiB3aXRoQXN5bmNDb250ZXh0KGdldEF3YWl0YWJsZSkge1xuICBjb25zdCBjdHggPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWN0eCkge1xuICAgIHdhcm4kMShcbiAgICAgIGB3aXRoQXN5bmNDb250ZXh0IGNhbGxlZCB3aXRob3V0IGFjdGl2ZSBjdXJyZW50IGluc3RhbmNlLiBUaGlzIGlzIGxpa2VseSBhIGJ1Zy5gXG4gICAgKTtcbiAgfVxuICBsZXQgYXdhaXRhYmxlID0gZ2V0QXdhaXRhYmxlKCk7XG4gIHVuc2V0Q3VycmVudEluc3RhbmNlKCk7XG4gIGlmIChpc1Byb21pc2UoYXdhaXRhYmxlKSkge1xuICAgIGF3YWl0YWJsZSA9IGF3YWl0YWJsZS5jYXRjaCgoZSkgPT4ge1xuICAgICAgc2V0Q3VycmVudEluc3RhbmNlKGN0eCk7XG4gICAgICB0aHJvdyBlO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBbYXdhaXRhYmxlLCAoKSA9PiBzZXRDdXJyZW50SW5zdGFuY2UoY3R4KV07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUR1cGxpY2F0ZUNoZWNrZXIoKSB7XG4gIGNvbnN0IGNhY2hlID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHJldHVybiAodHlwZSwga2V5KSA9PiB7XG4gICAgaWYgKGNhY2hlW2tleV0pIHtcbiAgICAgIHdhcm4kMShgJHt0eXBlfSBwcm9wZXJ0eSBcIiR7a2V5fVwiIGlzIGFscmVhZHkgZGVmaW5lZCBpbiAke2NhY2hlW2tleV19LmApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWNoZVtrZXldID0gdHlwZTtcbiAgICB9XG4gIH07XG59XG5sZXQgc2hvdWxkQ2FjaGVBY2Nlc3MgPSB0cnVlO1xuZnVuY3Rpb24gYXBwbHlPcHRpb25zKGluc3RhbmNlKSB7XG4gIGNvbnN0IG9wdGlvbnMgPSByZXNvbHZlTWVyZ2VkT3B0aW9ucyhpbnN0YW5jZSk7XG4gIGNvbnN0IHB1YmxpY1RoaXMgPSBpbnN0YW5jZS5wcm94eTtcbiAgY29uc3QgY3R4ID0gaW5zdGFuY2UuY3R4O1xuICBzaG91bGRDYWNoZUFjY2VzcyA9IGZhbHNlO1xuICBpZiAob3B0aW9ucy5iZWZvcmVDcmVhdGUpIHtcbiAgICBjYWxsSG9vayhvcHRpb25zLmJlZm9yZUNyZWF0ZSwgaW5zdGFuY2UsIFwiYmNcIik7XG4gIH1cbiAgY29uc3Qge1xuICAgIC8vIHN0YXRlXG4gICAgZGF0YTogZGF0YU9wdGlvbnMsXG4gICAgY29tcHV0ZWQ6IGNvbXB1dGVkT3B0aW9ucyxcbiAgICBtZXRob2RzLFxuICAgIHdhdGNoOiB3YXRjaE9wdGlvbnMsXG4gICAgcHJvdmlkZTogcHJvdmlkZU9wdGlvbnMsXG4gICAgaW5qZWN0OiBpbmplY3RPcHRpb25zLFxuICAgIC8vIGxpZmVjeWNsZVxuICAgIGNyZWF0ZWQsXG4gICAgYmVmb3JlTW91bnQsXG4gICAgbW91bnRlZCxcbiAgICBiZWZvcmVVcGRhdGUsXG4gICAgdXBkYXRlZCxcbiAgICBhY3RpdmF0ZWQsXG4gICAgZGVhY3RpdmF0ZWQsXG4gICAgYmVmb3JlRGVzdHJveSxcbiAgICBiZWZvcmVVbm1vdW50LFxuICAgIGRlc3Ryb3llZCxcbiAgICB1bm1vdW50ZWQsXG4gICAgcmVuZGVyLFxuICAgIHJlbmRlclRyYWNrZWQsXG4gICAgcmVuZGVyVHJpZ2dlcmVkLFxuICAgIGVycm9yQ2FwdHVyZWQsXG4gICAgc2VydmVyUHJlZmV0Y2gsXG4gICAgLy8gcHVibGljIEFQSVxuICAgIGV4cG9zZSxcbiAgICBpbmhlcml0QXR0cnMsXG4gICAgLy8gYXNzZXRzXG4gICAgY29tcG9uZW50cyxcbiAgICBkaXJlY3RpdmVzLFxuICAgIGZpbHRlcnNcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBjcmVhdGVEdXBsaWNhdGVDaGVja2VyKCkgOiBudWxsO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGNvbnN0IFtwcm9wc09wdGlvbnNdID0gaW5zdGFuY2UucHJvcHNPcHRpb25zO1xuICAgIGlmIChwcm9wc09wdGlvbnMpIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BzT3B0aW9ucykge1xuICAgICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJQcm9wc1wiIC8qIFBST1BTICovLCBrZXkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoaW5qZWN0T3B0aW9ucykge1xuICAgIHJlc29sdmVJbmplY3Rpb25zKGluamVjdE9wdGlvbnMsIGN0eCwgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKTtcbiAgfVxuICBpZiAobWV0aG9kcykge1xuICAgIGZvciAoY29uc3Qga2V5IGluIG1ldGhvZHMpIHtcbiAgICAgIGNvbnN0IG1ldGhvZEhhbmRsZXIgPSBtZXRob2RzW2tleV07XG4gICAgICBpZiAoaXNGdW5jdGlvbihtZXRob2RIYW5kbGVyKSkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xuICAgICAgICAgICAgdmFsdWU6IG1ldGhvZEhhbmRsZXIuYmluZChwdWJsaWNUaGlzKSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGN0eFtrZXldID0gbWV0aG9kSGFuZGxlci5iaW5kKHB1YmxpY1RoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiTWV0aG9kc1wiIC8qIE1FVEhPRFMgKi8sIGtleSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYE1ldGhvZCBcIiR7a2V5fVwiIGhhcyB0eXBlIFwiJHt0eXBlb2YgbWV0aG9kSGFuZGxlcn1cIiBpbiB0aGUgY29tcG9uZW50IGRlZmluaXRpb24uIERpZCB5b3UgcmVmZXJlbmNlIHRoZSBmdW5jdGlvbiBjb3JyZWN0bHk/YFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoZGF0YU9wdGlvbnMpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaXNGdW5jdGlvbihkYXRhT3B0aW9ucykpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYFRoZSBkYXRhIG9wdGlvbiBtdXN0IGJlIGEgZnVuY3Rpb24uIFBsYWluIG9iamVjdCB1c2FnZSBpcyBubyBsb25nZXIgc3VwcG9ydGVkLmBcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBkYXRhT3B0aW9ucy5jYWxsKHB1YmxpY1RoaXMsIHB1YmxpY1RoaXMpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGlzUHJvbWlzZShkYXRhKSkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgZGF0YSgpIHJldHVybmVkIGEgUHJvbWlzZSAtIG5vdGUgZGF0YSgpIGNhbm5vdCBiZSBhc3luYzsgSWYgeW91IGludGVuZCB0byBwZXJmb3JtIGRhdGEgZmV0Y2hpbmcgYmVmb3JlIGNvbXBvbmVudCByZW5kZXJzLCB1c2UgYXN5bmMgc2V0dXAoKSArIDxTdXNwZW5zZT4uYFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKCFpc09iamVjdChkYXRhKSkge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuJDEoYGRhdGEoKSBzaG91bGQgcmV0dXJuIGFuIG9iamVjdC5gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5zdGFuY2UuZGF0YSA9IHJlYWN0aXZlKGRhdGEpO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YSkge1xuICAgICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIkRhdGFcIiAvKiBEQVRBICovLCBrZXkpO1xuICAgICAgICAgIGlmICghaXNSZXNlcnZlZFByZWZpeChrZXlbMF0pKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICBnZXQ6ICgpID0+IGRhdGFba2V5XSxcbiAgICAgICAgICAgICAgc2V0OiBOT09QXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgc2hvdWxkQ2FjaGVBY2Nlc3MgPSB0cnVlO1xuICBpZiAoY29tcHV0ZWRPcHRpb25zKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gY29tcHV0ZWRPcHRpb25zKSB7XG4gICAgICBjb25zdCBvcHQgPSBjb21wdXRlZE9wdGlvbnNba2V5XTtcbiAgICAgIGNvbnN0IGdldCA9IGlzRnVuY3Rpb24ob3B0KSA/IG9wdC5iaW5kKHB1YmxpY1RoaXMsIHB1YmxpY1RoaXMpIDogaXNGdW5jdGlvbihvcHQuZ2V0KSA/IG9wdC5nZXQuYmluZChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKSA6IE5PT1A7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBnZXQgPT09IE5PT1ApIHtcbiAgICAgICAgd2FybiQxKGBDb21wdXRlZCBwcm9wZXJ0eSBcIiR7a2V5fVwiIGhhcyBubyBnZXR0ZXIuYCk7XG4gICAgICB9XG4gICAgICBjb25zdCBzZXQgPSAhaXNGdW5jdGlvbihvcHQpICYmIGlzRnVuY3Rpb24ob3B0LnNldCkgPyBvcHQuc2V0LmJpbmQocHVibGljVGhpcykgOiAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gKCkgPT4ge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYFdyaXRlIG9wZXJhdGlvbiBmYWlsZWQ6IGNvbXB1dGVkIHByb3BlcnR5IFwiJHtrZXl9XCIgaXMgcmVhZG9ubHkuYFxuICAgICAgICApO1xuICAgICAgfSA6IE5PT1A7XG4gICAgICBjb25zdCBjID0gY29tcHV0ZWQoe1xuICAgICAgICBnZXQsXG4gICAgICAgIHNldFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6ICgpID0+IGMudmFsdWUsXG4gICAgICAgIHNldDogKHYpID0+IGMudmFsdWUgPSB2XG4gICAgICB9KTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIkNvbXB1dGVkXCIgLyogQ09NUFVURUQgKi8sIGtleSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmICh3YXRjaE9wdGlvbnMpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB3YXRjaE9wdGlvbnMpIHtcbiAgICAgIGNyZWF0ZVdhdGNoZXIod2F0Y2hPcHRpb25zW2tleV0sIGN0eCwgcHVibGljVGhpcywga2V5KTtcbiAgICB9XG4gIH1cbiAgaWYgKHByb3ZpZGVPcHRpb25zKSB7XG4gICAgY29uc3QgcHJvdmlkZXMgPSBpc0Z1bmN0aW9uKHByb3ZpZGVPcHRpb25zKSA/IHByb3ZpZGVPcHRpb25zLmNhbGwocHVibGljVGhpcykgOiBwcm92aWRlT3B0aW9ucztcbiAgICBSZWZsZWN0Lm93bktleXMocHJvdmlkZXMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgcHJvdmlkZShrZXksIHByb3ZpZGVzW2tleV0pO1xuICAgIH0pO1xuICB9XG4gIGlmIChjcmVhdGVkKSB7XG4gICAgY2FsbEhvb2soY3JlYXRlZCwgaW5zdGFuY2UsIFwiY1wiKTtcbiAgfVxuICBmdW5jdGlvbiByZWdpc3RlckxpZmVjeWNsZUhvb2socmVnaXN0ZXIsIGhvb2spIHtcbiAgICBpZiAoaXNBcnJheShob29rKSkge1xuICAgICAgaG9vay5mb3JFYWNoKChfaG9vaykgPT4gcmVnaXN0ZXIoX2hvb2suYmluZChwdWJsaWNUaGlzKSkpO1xuICAgIH0gZWxzZSBpZiAoaG9vaykge1xuICAgICAgcmVnaXN0ZXIoaG9vay5iaW5kKHB1YmxpY1RoaXMpKTtcbiAgICB9XG4gIH1cbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uQmVmb3JlTW91bnQsIGJlZm9yZU1vdW50KTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uTW91bnRlZCwgbW91bnRlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkJlZm9yZVVwZGF0ZSwgYmVmb3JlVXBkYXRlKTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uVXBkYXRlZCwgdXBkYXRlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkFjdGl2YXRlZCwgYWN0aXZhdGVkKTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uRGVhY3RpdmF0ZWQsIGRlYWN0aXZhdGVkKTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uRXJyb3JDYXB0dXJlZCwgZXJyb3JDYXB0dXJlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvblJlbmRlclRyYWNrZWQsIHJlbmRlclRyYWNrZWQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25SZW5kZXJUcmlnZ2VyZWQsIHJlbmRlclRyaWdnZXJlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkJlZm9yZVVubW91bnQsIGJlZm9yZVVubW91bnQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25Vbm1vdW50ZWQsIHVubW91bnRlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvblNlcnZlclByZWZldGNoLCBzZXJ2ZXJQcmVmZXRjaCk7XG4gIGlmIChpc0FycmF5KGV4cG9zZSkpIHtcbiAgICBpZiAoZXhwb3NlLmxlbmd0aCkge1xuICAgICAgY29uc3QgZXhwb3NlZCA9IGluc3RhbmNlLmV4cG9zZWQgfHwgKGluc3RhbmNlLmV4cG9zZWQgPSB7fSk7XG4gICAgICBleHBvc2UuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvc2VkLCBrZXksIHtcbiAgICAgICAgICBnZXQ6ICgpID0+IHB1YmxpY1RoaXNba2V5XSxcbiAgICAgICAgICBzZXQ6ICh2YWwpID0+IHB1YmxpY1RoaXNba2V5XSA9IHZhbFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoIWluc3RhbmNlLmV4cG9zZWQpIHtcbiAgICAgIGluc3RhbmNlLmV4cG9zZWQgPSB7fTtcbiAgICB9XG4gIH1cbiAgaWYgKHJlbmRlciAmJiBpbnN0YW5jZS5yZW5kZXIgPT09IE5PT1ApIHtcbiAgICBpbnN0YW5jZS5yZW5kZXIgPSByZW5kZXI7XG4gIH1cbiAgaWYgKGluaGVyaXRBdHRycyAhPSBudWxsKSB7XG4gICAgaW5zdGFuY2UuaW5oZXJpdEF0dHJzID0gaW5oZXJpdEF0dHJzO1xuICB9XG4gIGlmIChjb21wb25lbnRzKSBpbnN0YW5jZS5jb21wb25lbnRzID0gY29tcG9uZW50cztcbiAgaWYgKGRpcmVjdGl2ZXMpIGluc3RhbmNlLmRpcmVjdGl2ZXMgPSBkaXJlY3RpdmVzO1xuICBpZiAoc2VydmVyUHJlZmV0Y2gpIHtcbiAgICBtYXJrQXN5bmNCb3VuZGFyeShpbnN0YW5jZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlc29sdmVJbmplY3Rpb25zKGluamVjdE9wdGlvbnMsIGN0eCwgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzID0gTk9PUCkge1xuICBpZiAoaXNBcnJheShpbmplY3RPcHRpb25zKSkge1xuICAgIGluamVjdE9wdGlvbnMgPSBub3JtYWxpemVJbmplY3QoaW5qZWN0T3B0aW9ucyk7XG4gIH1cbiAgZm9yIChjb25zdCBrZXkgaW4gaW5qZWN0T3B0aW9ucykge1xuICAgIGNvbnN0IG9wdCA9IGluamVjdE9wdGlvbnNba2V5XTtcbiAgICBsZXQgaW5qZWN0ZWQ7XG4gICAgaWYgKGlzT2JqZWN0KG9wdCkpIHtcbiAgICAgIGlmIChcImRlZmF1bHRcIiBpbiBvcHQpIHtcbiAgICAgICAgaW5qZWN0ZWQgPSBpbmplY3QoXG4gICAgICAgICAgb3B0LmZyb20gfHwga2V5LFxuICAgICAgICAgIG9wdC5kZWZhdWx0LFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluamVjdGVkID0gaW5qZWN0KG9wdC5mcm9tIHx8IGtleSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGluamVjdGVkID0gaW5qZWN0KG9wdCk7XG4gICAgfVxuICAgIGlmIChpc1JlZihpbmplY3RlZCkpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGdldDogKCkgPT4gaW5qZWN0ZWQudmFsdWUsXG4gICAgICAgIHNldDogKHYpID0+IGluamVjdGVkLnZhbHVlID0gdlxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN0eFtrZXldID0gaW5qZWN0ZWQ7XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJJbmplY3RcIiAvKiBJTkpFQ1QgKi8sIGtleSk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBjYWxsSG9vayhob29rLCBpbnN0YW5jZSwgdHlwZSkge1xuICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhcbiAgICBpc0FycmF5KGhvb2spID8gaG9vay5tYXAoKGgpID0+IGguYmluZChpbnN0YW5jZS5wcm94eSkpIDogaG9vay5iaW5kKGluc3RhbmNlLnByb3h5KSxcbiAgICBpbnN0YW5jZSxcbiAgICB0eXBlXG4gICk7XG59XG5mdW5jdGlvbiBjcmVhdGVXYXRjaGVyKHJhdywgY3R4LCBwdWJsaWNUaGlzLCBrZXkpIHtcbiAgbGV0IGdldHRlciA9IGtleS5pbmNsdWRlcyhcIi5cIikgPyBjcmVhdGVQYXRoR2V0dGVyKHB1YmxpY1RoaXMsIGtleSkgOiAoKSA9PiBwdWJsaWNUaGlzW2tleV07XG4gIGlmIChpc1N0cmluZyhyYXcpKSB7XG4gICAgY29uc3QgaGFuZGxlciA9IGN0eFtyYXddO1xuICAgIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgICB7XG4gICAgICAgIHdhdGNoKGdldHRlciwgaGFuZGxlcik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuJDEoYEludmFsaWQgd2F0Y2ggaGFuZGxlciBzcGVjaWZpZWQgYnkga2V5IFwiJHtyYXd9XCJgLCBoYW5kbGVyKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihyYXcpKSB7XG4gICAge1xuICAgICAgd2F0Y2goZ2V0dGVyLCByYXcuYmluZChwdWJsaWNUaGlzKSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KHJhdykpIHtcbiAgICBpZiAoaXNBcnJheShyYXcpKSB7XG4gICAgICByYXcuZm9yRWFjaCgocikgPT4gY3JlYXRlV2F0Y2hlcihyLCBjdHgsIHB1YmxpY1RoaXMsIGtleSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBoYW5kbGVyID0gaXNGdW5jdGlvbihyYXcuaGFuZGxlcikgPyByYXcuaGFuZGxlci5iaW5kKHB1YmxpY1RoaXMpIDogY3R4W3Jhdy5oYW5kbGVyXTtcbiAgICAgIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgICAgIHdhdGNoKGdldHRlciwgaGFuZGxlciwgcmF3KTtcbiAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICB3YXJuJDEoYEludmFsaWQgd2F0Y2ggaGFuZGxlciBzcGVjaWZpZWQgYnkga2V5IFwiJHtyYXcuaGFuZGxlcn1cImAsIGhhbmRsZXIpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FybiQxKGBJbnZhbGlkIHdhdGNoIG9wdGlvbjogXCIke2tleX1cImAsIHJhdyk7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlc29sdmVNZXJnZWRPcHRpb25zKGluc3RhbmNlKSB7XG4gIGNvbnN0IGJhc2UgPSBpbnN0YW5jZS50eXBlO1xuICBjb25zdCB7IG1peGlucywgZXh0ZW5kczogZXh0ZW5kc09wdGlvbnMgfSA9IGJhc2U7XG4gIGNvbnN0IHtcbiAgICBtaXhpbnM6IGdsb2JhbE1peGlucyxcbiAgICBvcHRpb25zQ2FjaGU6IGNhY2hlLFxuICAgIGNvbmZpZzogeyBvcHRpb25NZXJnZVN0cmF0ZWdpZXMgfVxuICB9ID0gaW5zdGFuY2UuYXBwQ29udGV4dDtcbiAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KGJhc2UpO1xuICBsZXQgcmVzb2x2ZWQ7XG4gIGlmIChjYWNoZWQpIHtcbiAgICByZXNvbHZlZCA9IGNhY2hlZDtcbiAgfSBlbHNlIGlmICghZ2xvYmFsTWl4aW5zLmxlbmd0aCAmJiAhbWl4aW5zICYmICFleHRlbmRzT3B0aW9ucykge1xuICAgIHtcbiAgICAgIHJlc29sdmVkID0gYmFzZTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmVzb2x2ZWQgPSB7fTtcbiAgICBpZiAoZ2xvYmFsTWl4aW5zLmxlbmd0aCkge1xuICAgICAgZ2xvYmFsTWl4aW5zLmZvckVhY2goXG4gICAgICAgIChtKSA9PiBtZXJnZU9wdGlvbnMocmVzb2x2ZWQsIG0sIG9wdGlvbk1lcmdlU3RyYXRlZ2llcywgdHJ1ZSlcbiAgICAgICk7XG4gICAgfVxuICAgIG1lcmdlT3B0aW9ucyhyZXNvbHZlZCwgYmFzZSwgb3B0aW9uTWVyZ2VTdHJhdGVnaWVzKTtcbiAgfVxuICBpZiAoaXNPYmplY3QoYmFzZSkpIHtcbiAgICBjYWNoZS5zZXQoYmFzZSwgcmVzb2x2ZWQpO1xuICB9XG4gIHJldHVybiByZXNvbHZlZDtcbn1cbmZ1bmN0aW9uIG1lcmdlT3B0aW9ucyh0bywgZnJvbSwgc3RyYXRzLCBhc01peGluID0gZmFsc2UpIHtcbiAgY29uc3QgeyBtaXhpbnMsIGV4dGVuZHM6IGV4dGVuZHNPcHRpb25zIH0gPSBmcm9tO1xuICBpZiAoZXh0ZW5kc09wdGlvbnMpIHtcbiAgICBtZXJnZU9wdGlvbnModG8sIGV4dGVuZHNPcHRpb25zLCBzdHJhdHMsIHRydWUpO1xuICB9XG4gIGlmIChtaXhpbnMpIHtcbiAgICBtaXhpbnMuZm9yRWFjaChcbiAgICAgIChtKSA9PiBtZXJnZU9wdGlvbnModG8sIG0sIHN0cmF0cywgdHJ1ZSlcbiAgICApO1xuICB9XG4gIGZvciAoY29uc3Qga2V5IGluIGZyb20pIHtcbiAgICBpZiAoYXNNaXhpbiAmJiBrZXkgPT09IFwiZXhwb3NlXCIpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybiQxKFxuICAgICAgICBgXCJleHBvc2VcIiBvcHRpb24gaXMgaWdub3JlZCB3aGVuIGRlY2xhcmVkIGluIG1peGlucyBvciBleHRlbmRzLiBJdCBzaG91bGQgb25seSBiZSBkZWNsYXJlZCBpbiB0aGUgYmFzZSBjb21wb25lbnQgaXRzZWxmLmBcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHN0cmF0ID0gaW50ZXJuYWxPcHRpb25NZXJnZVN0cmF0c1trZXldIHx8IHN0cmF0cyAmJiBzdHJhdHNba2V5XTtcbiAgICAgIHRvW2tleV0gPSBzdHJhdCA/IHN0cmF0KHRvW2tleV0sIGZyb21ba2V5XSkgOiBmcm9tW2tleV07XG4gICAgfVxuICB9XG4gIHJldHVybiB0bztcbn1cbmNvbnN0IGludGVybmFsT3B0aW9uTWVyZ2VTdHJhdHMgPSB7XG4gIGRhdGE6IG1lcmdlRGF0YUZuLFxuICBwcm9wczogbWVyZ2VFbWl0c09yUHJvcHNPcHRpb25zLFxuICBlbWl0czogbWVyZ2VFbWl0c09yUHJvcHNPcHRpb25zLFxuICAvLyBvYmplY3RzXG4gIG1ldGhvZHM6IG1lcmdlT2JqZWN0T3B0aW9ucyxcbiAgY29tcHV0ZWQ6IG1lcmdlT2JqZWN0T3B0aW9ucyxcbiAgLy8gbGlmZWN5Y2xlXG4gIGJlZm9yZUNyZWF0ZTogbWVyZ2VBc0FycmF5LFxuICBjcmVhdGVkOiBtZXJnZUFzQXJyYXksXG4gIGJlZm9yZU1vdW50OiBtZXJnZUFzQXJyYXksXG4gIG1vdW50ZWQ6IG1lcmdlQXNBcnJheSxcbiAgYmVmb3JlVXBkYXRlOiBtZXJnZUFzQXJyYXksXG4gIHVwZGF0ZWQ6IG1lcmdlQXNBcnJheSxcbiAgYmVmb3JlRGVzdHJveTogbWVyZ2VBc0FycmF5LFxuICBiZWZvcmVVbm1vdW50OiBtZXJnZUFzQXJyYXksXG4gIGRlc3Ryb3llZDogbWVyZ2VBc0FycmF5LFxuICB1bm1vdW50ZWQ6IG1lcmdlQXNBcnJheSxcbiAgYWN0aXZhdGVkOiBtZXJnZUFzQXJyYXksXG4gIGRlYWN0aXZhdGVkOiBtZXJnZUFzQXJyYXksXG4gIGVycm9yQ2FwdHVyZWQ6IG1lcmdlQXNBcnJheSxcbiAgc2VydmVyUHJlZmV0Y2g6IG1lcmdlQXNBcnJheSxcbiAgLy8gYXNzZXRzXG4gIGNvbXBvbmVudHM6IG1lcmdlT2JqZWN0T3B0aW9ucyxcbiAgZGlyZWN0aXZlczogbWVyZ2VPYmplY3RPcHRpb25zLFxuICAvLyB3YXRjaFxuICB3YXRjaDogbWVyZ2VXYXRjaE9wdGlvbnMsXG4gIC8vIHByb3ZpZGUgLyBpbmplY3RcbiAgcHJvdmlkZTogbWVyZ2VEYXRhRm4sXG4gIGluamVjdDogbWVyZ2VJbmplY3Rcbn07XG5mdW5jdGlvbiBtZXJnZURhdGFGbih0bywgZnJvbSkge1xuICBpZiAoIWZyb20pIHtcbiAgICByZXR1cm4gdG87XG4gIH1cbiAgaWYgKCF0bykge1xuICAgIHJldHVybiBmcm9tO1xuICB9XG4gIHJldHVybiBmdW5jdGlvbiBtZXJnZWREYXRhRm4oKSB7XG4gICAgcmV0dXJuIChleHRlbmQpKFxuICAgICAgaXNGdW5jdGlvbih0bykgPyB0by5jYWxsKHRoaXMsIHRoaXMpIDogdG8sXG4gICAgICBpc0Z1bmN0aW9uKGZyb20pID8gZnJvbS5jYWxsKHRoaXMsIHRoaXMpIDogZnJvbVxuICAgICk7XG4gIH07XG59XG5mdW5jdGlvbiBtZXJnZUluamVjdCh0bywgZnJvbSkge1xuICByZXR1cm4gbWVyZ2VPYmplY3RPcHRpb25zKG5vcm1hbGl6ZUluamVjdCh0byksIG5vcm1hbGl6ZUluamVjdChmcm9tKSk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVJbmplY3QocmF3KSB7XG4gIGlmIChpc0FycmF5KHJhdykpIHtcbiAgICBjb25zdCByZXMgPSB7fTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhdy5sZW5ndGg7IGkrKykge1xuICAgICAgcmVzW3Jhd1tpXV0gPSByYXdbaV07XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH1cbiAgcmV0dXJuIHJhdztcbn1cbmZ1bmN0aW9uIG1lcmdlQXNBcnJheSh0bywgZnJvbSkge1xuICByZXR1cm4gdG8gPyBbLi4ubmV3IFNldChbXS5jb25jYXQodG8sIGZyb20pKV0gOiBmcm9tO1xufVxuZnVuY3Rpb24gbWVyZ2VPYmplY3RPcHRpb25zKHRvLCBmcm9tKSB7XG4gIHJldHVybiB0byA/IGV4dGVuZCgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSwgdG8sIGZyb20pIDogZnJvbTtcbn1cbmZ1bmN0aW9uIG1lcmdlRW1pdHNPclByb3BzT3B0aW9ucyh0bywgZnJvbSkge1xuICBpZiAodG8pIHtcbiAgICBpZiAoaXNBcnJheSh0bykgJiYgaXNBcnJheShmcm9tKSkge1xuICAgICAgcmV0dXJuIFsuLi4vKiBAX19QVVJFX18gKi8gbmV3IFNldChbLi4udG8sIC4uLmZyb21dKV07XG4gICAgfVxuICAgIHJldHVybiBleHRlbmQoXG4gICAgICAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSxcbiAgICAgIG5vcm1hbGl6ZVByb3BzT3JFbWl0cyh0byksXG4gICAgICBub3JtYWxpemVQcm9wc09yRW1pdHMoZnJvbSAhPSBudWxsID8gZnJvbSA6IHt9KVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZyb207XG4gIH1cbn1cbmZ1bmN0aW9uIG1lcmdlV2F0Y2hPcHRpb25zKHRvLCBmcm9tKSB7XG4gIGlmICghdG8pIHJldHVybiBmcm9tO1xuICBpZiAoIWZyb20pIHJldHVybiB0bztcbiAgY29uc3QgbWVyZ2VkID0gZXh0ZW5kKC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpLCB0byk7XG4gIGZvciAoY29uc3Qga2V5IGluIGZyb20pIHtcbiAgICBtZXJnZWRba2V5XSA9IG1lcmdlQXNBcnJheSh0b1trZXldLCBmcm9tW2tleV0pO1xuICB9XG4gIHJldHVybiBtZXJnZWQ7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUFwcENvbnRleHQoKSB7XG4gIHJldHVybiB7XG4gICAgYXBwOiBudWxsLFxuICAgIGNvbmZpZzoge1xuICAgICAgaXNOYXRpdmVUYWc6IE5PLFxuICAgICAgcGVyZm9ybWFuY2U6IGZhbHNlLFxuICAgICAgZ2xvYmFsUHJvcGVydGllczoge30sXG4gICAgICBvcHRpb25NZXJnZVN0cmF0ZWdpZXM6IHt9LFxuICAgICAgZXJyb3JIYW5kbGVyOiB2b2lkIDAsXG4gICAgICB3YXJuSGFuZGxlcjogdm9pZCAwLFxuICAgICAgY29tcGlsZXJPcHRpb25zOiB7fVxuICAgIH0sXG4gICAgbWl4aW5zOiBbXSxcbiAgICBjb21wb25lbnRzOiB7fSxcbiAgICBkaXJlY3RpdmVzOiB7fSxcbiAgICBwcm92aWRlczogLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCksXG4gICAgb3B0aW9uc0NhY2hlOiAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKSxcbiAgICBwcm9wc0NhY2hlOiAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKSxcbiAgICBlbWl0c0NhY2hlOiAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKVxuICB9O1xufVxubGV0IHVpZCQxID0gMDtcbmZ1bmN0aW9uIGNyZWF0ZUFwcEFQSShyZW5kZXIsIGh5ZHJhdGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZUFwcChyb290Q29tcG9uZW50LCByb290UHJvcHMgPSBudWxsKSB7XG4gICAgaWYgKCFpc0Z1bmN0aW9uKHJvb3RDb21wb25lbnQpKSB7XG4gICAgICByb290Q29tcG9uZW50ID0gZXh0ZW5kKHt9LCByb290Q29tcG9uZW50KTtcbiAgICB9XG4gICAgaWYgKHJvb3RQcm9wcyAhPSBudWxsICYmICFpc09iamVjdChyb290UHJvcHMpKSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShgcm9vdCBwcm9wcyBwYXNzZWQgdG8gYXBwLm1vdW50KCkgbXVzdCBiZSBhbiBvYmplY3QuYCk7XG4gICAgICByb290UHJvcHMgPSBudWxsO1xuICAgIH1cbiAgICBjb25zdCBjb250ZXh0ID0gY3JlYXRlQXBwQ29udGV4dCgpO1xuICAgIGNvbnN0IGluc3RhbGxlZFBsdWdpbnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtTZXQoKTtcbiAgICBjb25zdCBwbHVnaW5DbGVhbnVwRm5zID0gW107XG4gICAgbGV0IGlzTW91bnRlZCA9IGZhbHNlO1xuICAgIGNvbnN0IGFwcCA9IGNvbnRleHQuYXBwID0ge1xuICAgICAgX3VpZDogdWlkJDErKyxcbiAgICAgIF9jb21wb25lbnQ6IHJvb3RDb21wb25lbnQsXG4gICAgICBfcHJvcHM6IHJvb3RQcm9wcyxcbiAgICAgIF9jb250YWluZXI6IG51bGwsXG4gICAgICBfY29udGV4dDogY29udGV4dCxcbiAgICAgIF9pbnN0YW5jZTogbnVsbCxcbiAgICAgIHZlcnNpb24sXG4gICAgICBnZXQgY29uZmlnKCkge1xuICAgICAgICByZXR1cm4gY29udGV4dC5jb25maWc7XG4gICAgICB9LFxuICAgICAgc2V0IGNvbmZpZyh2KSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYGFwcC5jb25maWcgY2Fubm90IGJlIHJlcGxhY2VkLiBNb2RpZnkgaW5kaXZpZHVhbCBvcHRpb25zIGluc3RlYWQuYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2UocGx1Z2luLCAuLi5vcHRpb25zKSB7XG4gICAgICAgIGlmIChpbnN0YWxsZWRQbHVnaW5zLmhhcyhwbHVnaW4pKSB7XG4gICAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuJDEoYFBsdWdpbiBoYXMgYWxyZWFkeSBiZWVuIGFwcGxpZWQgdG8gdGFyZ2V0IGFwcC5gKTtcbiAgICAgICAgfSBlbHNlIGlmIChwbHVnaW4gJiYgaXNGdW5jdGlvbihwbHVnaW4uaW5zdGFsbCkpIHtcbiAgICAgICAgICBpbnN0YWxsZWRQbHVnaW5zLmFkZChwbHVnaW4pO1xuICAgICAgICAgIHBsdWdpbi5pbnN0YWxsKGFwcCwgLi4ub3B0aW9ucyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihwbHVnaW4pKSB7XG4gICAgICAgICAgaW5zdGFsbGVkUGx1Z2lucy5hZGQocGx1Z2luKTtcbiAgICAgICAgICBwbHVnaW4oYXBwLCAuLi5vcHRpb25zKTtcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYEEgcGx1Z2luIG11c3QgZWl0aGVyIGJlIGEgZnVuY3Rpb24gb3IgYW4gb2JqZWN0IHdpdGggYW4gXCJpbnN0YWxsXCIgZnVuY3Rpb24uYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFwcDtcbiAgICAgIH0sXG4gICAgICBtaXhpbihtaXhpbikge1xuICAgICAgICBpZiAoX19WVUVfT1BUSU9OU19BUElfXykge1xuICAgICAgICAgIGlmICghY29udGV4dC5taXhpbnMuaW5jbHVkZXMobWl4aW4pKSB7XG4gICAgICAgICAgICBjb250ZXh0Lm1peGlucy5wdXNoKG1peGluKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgICAgXCJNaXhpbiBoYXMgYWxyZWFkeSBiZWVuIGFwcGxpZWQgdG8gdGFyZ2V0IGFwcFwiICsgKG1peGluLm5hbWUgPyBgOiAke21peGluLm5hbWV9YCA6IFwiXCIpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKFwiTWl4aW5zIGFyZSBvbmx5IGF2YWlsYWJsZSBpbiBidWlsZHMgc3VwcG9ydGluZyBPcHRpb25zIEFQSVwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwO1xuICAgICAgfSxcbiAgICAgIGNvbXBvbmVudChuYW1lLCBjb21wb25lbnQpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB2YWxpZGF0ZUNvbXBvbmVudE5hbWUobmFtZSwgY29udGV4dC5jb25maWcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY29tcG9uZW50KSB7XG4gICAgICAgICAgcmV0dXJuIGNvbnRleHQuY29tcG9uZW50c1tuYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjb250ZXh0LmNvbXBvbmVudHNbbmFtZV0pIHtcbiAgICAgICAgICB3YXJuJDEoYENvbXBvbmVudCBcIiR7bmFtZX1cIiBoYXMgYWxyZWFkeSBiZWVuIHJlZ2lzdGVyZWQgaW4gdGFyZ2V0IGFwcC5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LmNvbXBvbmVudHNbbmFtZV0gPSBjb21wb25lbnQ7XG4gICAgICAgIHJldHVybiBhcHA7XG4gICAgICB9LFxuICAgICAgZGlyZWN0aXZlKG5hbWUsIGRpcmVjdGl2ZSkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHZhbGlkYXRlRGlyZWN0aXZlTmFtZShuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRpcmVjdGl2ZSkge1xuICAgICAgICAgIHJldHVybiBjb250ZXh0LmRpcmVjdGl2ZXNbbmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgY29udGV4dC5kaXJlY3RpdmVzW25hbWVdKSB7XG4gICAgICAgICAgd2FybiQxKGBEaXJlY3RpdmUgXCIke25hbWV9XCIgaGFzIGFscmVhZHkgYmVlbiByZWdpc3RlcmVkIGluIHRhcmdldCBhcHAuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5kaXJlY3RpdmVzW25hbWVdID0gZGlyZWN0aXZlO1xuICAgICAgICByZXR1cm4gYXBwO1xuICAgICAgfSxcbiAgICAgIG1vdW50KHJvb3RDb250YWluZXIsIGlzSHlkcmF0ZSwgbmFtZXNwYWNlKSB7XG4gICAgICAgIGlmICghaXNNb3VudGVkKSB7XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgcm9vdENvbnRhaW5lci5fX3Z1ZV9hcHBfXykge1xuICAgICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgICBgVGhlcmUgaXMgYWxyZWFkeSBhbiBhcHAgaW5zdGFuY2UgbW91bnRlZCBvbiB0aGUgaG9zdCBjb250YWluZXIuXG4gSWYgeW91IHdhbnQgdG8gbW91bnQgYW5vdGhlciBhcHAgb24gdGhlIHNhbWUgaG9zdCBjb250YWluZXIsIHlvdSBuZWVkIHRvIHVubW91bnQgdGhlIHByZXZpb3VzIGFwcCBieSBjYWxsaW5nIFxcYGFwcC51bm1vdW50KClcXGAgZmlyc3QuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3Qgdm5vZGUgPSBhcHAuX2NlVk5vZGUgfHwgY3JlYXRlVk5vZGUocm9vdENvbXBvbmVudCwgcm9vdFByb3BzKTtcbiAgICAgICAgICB2bm9kZS5hcHBDb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgICBpZiAobmFtZXNwYWNlID09PSB0cnVlKSB7XG4gICAgICAgICAgICBuYW1lc3BhY2UgPSBcInN2Z1wiO1xuICAgICAgICAgIH0gZWxzZSBpZiAobmFtZXNwYWNlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgbmFtZXNwYWNlID0gdm9pZCAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgY29udGV4dC5yZWxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgIHJlbmRlcihcbiAgICAgICAgICAgICAgICBjbG9uZVZOb2RlKHZub2RlKSxcbiAgICAgICAgICAgICAgICByb290Q29udGFpbmVyLFxuICAgICAgICAgICAgICAgIG5hbWVzcGFjZVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzSHlkcmF0ZSAmJiBoeWRyYXRlKSB7XG4gICAgICAgICAgICBoeWRyYXRlKHZub2RlLCByb290Q29udGFpbmVyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVuZGVyKHZub2RlLCByb290Q29udGFpbmVyLCBuYW1lc3BhY2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpc01vdW50ZWQgPSB0cnVlO1xuICAgICAgICAgIGFwcC5fY29udGFpbmVyID0gcm9vdENvbnRhaW5lcjtcbiAgICAgICAgICByb290Q29udGFpbmVyLl9fdnVlX2FwcF9fID0gYXBwO1xuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgICAgYXBwLl9pbnN0YW5jZSA9IHZub2RlLmNvbXBvbmVudDtcbiAgICAgICAgICAgIGRldnRvb2xzSW5pdEFwcChhcHAsIHZlcnNpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZ2V0Q29tcG9uZW50UHVibGljSW5zdGFuY2Uodm5vZGUuY29tcG9uZW50KTtcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYEFwcCBoYXMgYWxyZWFkeSBiZWVuIG1vdW50ZWQuXG5JZiB5b3Ugd2FudCB0byByZW1vdW50IHRoZSBzYW1lIGFwcCwgbW92ZSB5b3VyIGFwcCBjcmVhdGlvbiBsb2dpYyBpbnRvIGEgZmFjdG9yeSBmdW5jdGlvbiBhbmQgY3JlYXRlIGZyZXNoIGFwcCBpbnN0YW5jZXMgZm9yIGVhY2ggbW91bnQgLSBlLmcuIFxcYGNvbnN0IGNyZWF0ZU15QXBwID0gKCkgPT4gY3JlYXRlQXBwKEFwcClcXGBgXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uVW5tb3VudChjbGVhbnVwRm4pIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdHlwZW9mIGNsZWFudXBGbiAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYEV4cGVjdGVkIGZ1bmN0aW9uIGFzIGZpcnN0IGFyZ3VtZW50IHRvIGFwcC5vblVubW91bnQoKSwgYnV0IGdvdCAke3R5cGVvZiBjbGVhbnVwRm59YFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcGx1Z2luQ2xlYW51cEZucy5wdXNoKGNsZWFudXBGbik7XG4gICAgICB9LFxuICAgICAgdW5tb3VudCgpIHtcbiAgICAgICAgaWYgKGlzTW91bnRlZCkge1xuICAgICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKFxuICAgICAgICAgICAgcGx1Z2luQ2xlYW51cEZucyxcbiAgICAgICAgICAgIGFwcC5faW5zdGFuY2UsXG4gICAgICAgICAgICAxNlxuICAgICAgICAgICk7XG4gICAgICAgICAgcmVuZGVyKG51bGwsIGFwcC5fY29udGFpbmVyKTtcbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICAgIGFwcC5faW5zdGFuY2UgPSBudWxsO1xuICAgICAgICAgICAgZGV2dG9vbHNVbm1vdW50QXBwKGFwcCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlbGV0ZSBhcHAuX2NvbnRhaW5lci5fX3Z1ZV9hcHBfXztcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKGBDYW5ub3QgdW5tb3VudCBhbiBhcHAgdGhhdCBpcyBub3QgbW91bnRlZC5gKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHByb3ZpZGUoa2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBrZXkgaW4gY29udGV4dC5wcm92aWRlcykge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBBcHAgYWxyZWFkeSBwcm92aWRlcyBwcm9wZXJ0eSB3aXRoIGtleSBcIiR7U3RyaW5nKGtleSl9XCIuIEl0IHdpbGwgYmUgb3ZlcndyaXR0ZW4gd2l0aCB0aGUgbmV3IHZhbHVlLmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQucHJvdmlkZXNba2V5XSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gYXBwO1xuICAgICAgfSxcbiAgICAgIHJ1bldpdGhDb250ZXh0KGZuKSB7XG4gICAgICAgIGNvbnN0IGxhc3RBcHAgPSBjdXJyZW50QXBwO1xuICAgICAgICBjdXJyZW50QXBwID0gYXBwO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBmbigpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGN1cnJlbnRBcHAgPSBsYXN0QXBwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gYXBwO1xuICB9O1xufVxubGV0IGN1cnJlbnRBcHAgPSBudWxsO1xuXG5mdW5jdGlvbiBwcm92aWRlKGtleSwgdmFsdWUpIHtcbiAgaWYgKCFjdXJyZW50SW5zdGFuY2UpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybiQxKGBwcm92aWRlKCkgY2FuIG9ubHkgYmUgdXNlZCBpbnNpZGUgc2V0dXAoKS5gKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbGV0IHByb3ZpZGVzID0gY3VycmVudEluc3RhbmNlLnByb3ZpZGVzO1xuICAgIGNvbnN0IHBhcmVudFByb3ZpZGVzID0gY3VycmVudEluc3RhbmNlLnBhcmVudCAmJiBjdXJyZW50SW5zdGFuY2UucGFyZW50LnByb3ZpZGVzO1xuICAgIGlmIChwYXJlbnRQcm92aWRlcyA9PT0gcHJvdmlkZXMpIHtcbiAgICAgIHByb3ZpZGVzID0gY3VycmVudEluc3RhbmNlLnByb3ZpZGVzID0gT2JqZWN0LmNyZWF0ZShwYXJlbnRQcm92aWRlcyk7XG4gICAgfVxuICAgIHByb3ZpZGVzW2tleV0gPSB2YWx1ZTtcbiAgfVxufVxuZnVuY3Rpb24gaW5qZWN0KGtleSwgZGVmYXVsdFZhbHVlLCB0cmVhdERlZmF1bHRBc0ZhY3RvcnkgPSBmYWxzZSkge1xuICBjb25zdCBpbnN0YW5jZSA9IGN1cnJlbnRJbnN0YW5jZSB8fCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XG4gIGlmIChpbnN0YW5jZSB8fCBjdXJyZW50QXBwKSB7XG4gICAgY29uc3QgcHJvdmlkZXMgPSBjdXJyZW50QXBwID8gY3VycmVudEFwcC5fY29udGV4dC5wcm92aWRlcyA6IGluc3RhbmNlID8gaW5zdGFuY2UucGFyZW50ID09IG51bGwgPyBpbnN0YW5jZS52bm9kZS5hcHBDb250ZXh0ICYmIGluc3RhbmNlLnZub2RlLmFwcENvbnRleHQucHJvdmlkZXMgOiBpbnN0YW5jZS5wYXJlbnQucHJvdmlkZXMgOiB2b2lkIDA7XG4gICAgaWYgKHByb3ZpZGVzICYmIGtleSBpbiBwcm92aWRlcykge1xuICAgICAgcmV0dXJuIHByb3ZpZGVzW2tleV07XG4gICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgcmV0dXJuIHRyZWF0RGVmYXVsdEFzRmFjdG9yeSAmJiBpc0Z1bmN0aW9uKGRlZmF1bHRWYWx1ZSkgPyBkZWZhdWx0VmFsdWUuY2FsbChpbnN0YW5jZSAmJiBpbnN0YW5jZS5wcm94eSkgOiBkZWZhdWx0VmFsdWU7XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuJDEoYGluamVjdGlvbiBcIiR7U3RyaW5nKGtleSl9XCIgbm90IGZvdW5kLmApO1xuICAgIH1cbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FybiQxKGBpbmplY3QoKSBjYW4gb25seSBiZSB1c2VkIGluc2lkZSBzZXR1cCgpIG9yIGZ1bmN0aW9uYWwgY29tcG9uZW50cy5gKTtcbiAgfVxufVxuZnVuY3Rpb24gaGFzSW5qZWN0aW9uQ29udGV4dCgpIHtcbiAgcmV0dXJuICEhKGN1cnJlbnRJbnN0YW5jZSB8fCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgfHwgY3VycmVudEFwcCk7XG59XG5cbmNvbnN0IGludGVybmFsT2JqZWN0UHJvdG8gPSB7fTtcbmNvbnN0IGNyZWF0ZUludGVybmFsT2JqZWN0ID0gKCkgPT4gT2JqZWN0LmNyZWF0ZShpbnRlcm5hbE9iamVjdFByb3RvKTtcbmNvbnN0IGlzSW50ZXJuYWxPYmplY3QgPSAob2JqKSA9PiBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKSA9PT0gaW50ZXJuYWxPYmplY3RQcm90bztcblxuZnVuY3Rpb24gaW5pdFByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgaXNTdGF0ZWZ1bCwgaXNTU1IgPSBmYWxzZSkge1xuICBjb25zdCBwcm9wcyA9IHt9O1xuICBjb25zdCBhdHRycyA9IGNyZWF0ZUludGVybmFsT2JqZWN0KCk7XG4gIGluc3RhbmNlLnByb3BzRGVmYXVsdHMgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgc2V0RnVsbFByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcHJvcHMsIGF0dHJzKTtcbiAgZm9yIChjb25zdCBrZXkgaW4gaW5zdGFuY2UucHJvcHNPcHRpb25zWzBdKSB7XG4gICAgaWYgKCEoa2V5IGluIHByb3BzKSkge1xuICAgICAgcHJvcHNba2V5XSA9IHZvaWQgMDtcbiAgICB9XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB2YWxpZGF0ZVByb3BzKHJhd1Byb3BzIHx8IHt9LCBwcm9wcywgaW5zdGFuY2UpO1xuICB9XG4gIGlmIChpc1N0YXRlZnVsKSB7XG4gICAgaW5zdGFuY2UucHJvcHMgPSBpc1NTUiA/IHByb3BzIDogc2hhbGxvd1JlYWN0aXZlKHByb3BzKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoIWluc3RhbmNlLnR5cGUucHJvcHMpIHtcbiAgICAgIGluc3RhbmNlLnByb3BzID0gYXR0cnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc3RhbmNlLnByb3BzID0gcHJvcHM7XG4gICAgfVxuICB9XG4gIGluc3RhbmNlLmF0dHJzID0gYXR0cnM7XG59XG5mdW5jdGlvbiBpc0luSG1yQ29udGV4dChpbnN0YW5jZSkge1xuICB3aGlsZSAoaW5zdGFuY2UpIHtcbiAgICBpZiAoaW5zdGFuY2UudHlwZS5fX2htcklkKSByZXR1cm4gdHJ1ZTtcbiAgICBpbnN0YW5jZSA9IGluc3RhbmNlLnBhcmVudDtcbiAgfVxufVxuZnVuY3Rpb24gdXBkYXRlUHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCByYXdQcmV2UHJvcHMsIG9wdGltaXplZCkge1xuICBjb25zdCB7XG4gICAgcHJvcHMsXG4gICAgYXR0cnMsXG4gICAgdm5vZGU6IHsgcGF0Y2hGbGFnIH1cbiAgfSA9IGluc3RhbmNlO1xuICBjb25zdCByYXdDdXJyZW50UHJvcHMgPSB0b1Jhdyhwcm9wcyk7XG4gIGNvbnN0IFtvcHRpb25zXSA9IGluc3RhbmNlLnByb3BzT3B0aW9ucztcbiAgbGV0IGhhc0F0dHJzQ2hhbmdlZCA9IGZhbHNlO1xuICBpZiAoXG4gICAgLy8gYWx3YXlzIGZvcmNlIGZ1bGwgZGlmZiBpbiBkZXZcbiAgICAvLyAtICMxOTQyIGlmIGhtciBpcyBlbmFibGVkIHdpdGggc2ZjIGNvbXBvbmVudFxuICAgIC8vIC0gdml0ZSM4NzIgbm9uLXNmYyBjb21wb25lbnQgdXNlZCBieSBzZmMgY29tcG9uZW50XG4gICAgISghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGlzSW5IbXJDb250ZXh0KGluc3RhbmNlKSkgJiYgKG9wdGltaXplZCB8fCBwYXRjaEZsYWcgPiAwKSAmJiAhKHBhdGNoRmxhZyAmIDE2KVxuICApIHtcbiAgICBpZiAocGF0Y2hGbGFnICYgOCkge1xuICAgICAgY29uc3QgcHJvcHNUb1VwZGF0ZSA9IGluc3RhbmNlLnZub2RlLmR5bmFtaWNQcm9wcztcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcHNUb1VwZGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQga2V5ID0gcHJvcHNUb1VwZGF0ZVtpXTtcbiAgICAgICAgaWYgKGlzRW1pdExpc3RlbmVyKGluc3RhbmNlLmVtaXRzT3B0aW9ucywga2V5KSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcmF3UHJvcHNba2V5XTtcbiAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICBpZiAoaGFzT3duKGF0dHJzLCBrZXkpKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IGF0dHJzW2tleV0pIHtcbiAgICAgICAgICAgICAgYXR0cnNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICBoYXNBdHRyc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBjYW1lbGl6ZWRLZXkgPSBjYW1lbGl6ZShrZXkpO1xuICAgICAgICAgICAgcHJvcHNbY2FtZWxpemVkS2V5XSA9IHJlc29sdmVQcm9wVmFsdWUoXG4gICAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICAgIHJhd0N1cnJlbnRQcm9wcyxcbiAgICAgICAgICAgICAgY2FtZWxpemVkS2V5LFxuICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodmFsdWUgIT09IGF0dHJzW2tleV0pIHtcbiAgICAgICAgICAgIGF0dHJzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChzZXRGdWxsUHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCBwcm9wcywgYXR0cnMpKSB7XG4gICAgICBoYXNBdHRyc0NoYW5nZWQgPSB0cnVlO1xuICAgIH1cbiAgICBsZXQga2ViYWJLZXk7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gcmF3Q3VycmVudFByb3BzKSB7XG4gICAgICBpZiAoIXJhd1Byb3BzIHx8IC8vIGZvciBjYW1lbENhc2VcbiAgICAgICFoYXNPd24ocmF3UHJvcHMsIGtleSkgJiYgLy8gaXQncyBwb3NzaWJsZSB0aGUgb3JpZ2luYWwgcHJvcHMgd2FzIHBhc3NlZCBpbiBhcyBrZWJhYi1jYXNlXG4gICAgICAvLyBhbmQgY29udmVydGVkIHRvIGNhbWVsQ2FzZSAoIzk1NSlcbiAgICAgICgoa2ViYWJLZXkgPSBoeXBoZW5hdGUoa2V5KSkgPT09IGtleSB8fCAhaGFzT3duKHJhd1Byb3BzLCBrZWJhYktleSkpKSB7XG4gICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgaWYgKHJhd1ByZXZQcm9wcyAmJiAvLyBmb3IgY2FtZWxDYXNlXG4gICAgICAgICAgKHJhd1ByZXZQcm9wc1trZXldICE9PSB2b2lkIDAgfHwgLy8gZm9yIGtlYmFiLWNhc2VcbiAgICAgICAgICByYXdQcmV2UHJvcHNba2ViYWJLZXldICE9PSB2b2lkIDApKSB7XG4gICAgICAgICAgICBwcm9wc1trZXldID0gcmVzb2x2ZVByb3BWYWx1ZShcbiAgICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgICAgcmF3Q3VycmVudFByb3BzLFxuICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgIHZvaWQgMCxcbiAgICAgICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSBwcm9wc1trZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChhdHRycyAhPT0gcmF3Q3VycmVudFByb3BzKSB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBhdHRycykge1xuICAgICAgICBpZiAoIXJhd1Byb3BzIHx8ICFoYXNPd24ocmF3UHJvcHMsIGtleSkgJiYgdHJ1ZSkge1xuICAgICAgICAgIGRlbGV0ZSBhdHRyc1trZXldO1xuICAgICAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGhhc0F0dHJzQ2hhbmdlZCkge1xuICAgIHRyaWdnZXIoaW5zdGFuY2UuYXR0cnMsIFwic2V0XCIsIFwiXCIpO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgdmFsaWRhdGVQcm9wcyhyYXdQcm9wcyB8fCB7fSwgcHJvcHMsIGluc3RhbmNlKTtcbiAgfVxufVxuZnVuY3Rpb24gc2V0RnVsbFByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcHJvcHMsIGF0dHJzKSB7XG4gIGNvbnN0IFtvcHRpb25zLCBuZWVkQ2FzdEtleXNdID0gaW5zdGFuY2UucHJvcHNPcHRpb25zO1xuICBsZXQgaGFzQXR0cnNDaGFuZ2VkID0gZmFsc2U7XG4gIGxldCByYXdDYXN0VmFsdWVzO1xuICBpZiAocmF3UHJvcHMpIHtcbiAgICBmb3IgKGxldCBrZXkgaW4gcmF3UHJvcHMpIHtcbiAgICAgIGlmIChpc1Jlc2VydmVkUHJvcChrZXkpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWUgPSByYXdQcm9wc1trZXldO1xuICAgICAgbGV0IGNhbWVsS2V5O1xuICAgICAgaWYgKG9wdGlvbnMgJiYgaGFzT3duKG9wdGlvbnMsIGNhbWVsS2V5ID0gY2FtZWxpemUoa2V5KSkpIHtcbiAgICAgICAgaWYgKCFuZWVkQ2FzdEtleXMgfHwgIW5lZWRDYXN0S2V5cy5pbmNsdWRlcyhjYW1lbEtleSkpIHtcbiAgICAgICAgICBwcm9wc1tjYW1lbEtleV0gPSB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAocmF3Q2FzdFZhbHVlcyB8fCAocmF3Q2FzdFZhbHVlcyA9IHt9KSlbY2FtZWxLZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIWlzRW1pdExpc3RlbmVyKGluc3RhbmNlLmVtaXRzT3B0aW9ucywga2V5KSkge1xuICAgICAgICBpZiAoIShrZXkgaW4gYXR0cnMpIHx8IHZhbHVlICE9PSBhdHRyc1trZXldKSB7XG4gICAgICAgICAgYXR0cnNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKG5lZWRDYXN0S2V5cykge1xuICAgIGNvbnN0IHJhd0N1cnJlbnRQcm9wcyA9IHRvUmF3KHByb3BzKTtcbiAgICBjb25zdCBjYXN0VmFsdWVzID0gcmF3Q2FzdFZhbHVlcyB8fCBFTVBUWV9PQko7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZWVkQ2FzdEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGtleSA9IG5lZWRDYXN0S2V5c1tpXTtcbiAgICAgIHByb3BzW2tleV0gPSByZXNvbHZlUHJvcFZhbHVlKFxuICAgICAgICBvcHRpb25zLFxuICAgICAgICByYXdDdXJyZW50UHJvcHMsXG4gICAgICAgIGtleSxcbiAgICAgICAgY2FzdFZhbHVlc1trZXldLFxuICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgIWhhc093bihjYXN0VmFsdWVzLCBrZXkpXG4gICAgICApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gaGFzQXR0cnNDaGFuZ2VkO1xufVxuZnVuY3Rpb24gcmVzb2x2ZVByb3BWYWx1ZShvcHRpb25zLCBwcm9wcywga2V5LCB2YWx1ZSwgaW5zdGFuY2UsIGlzQWJzZW50KSB7XG4gIGNvbnN0IG9wdCA9IG9wdGlvbnNba2V5XTtcbiAgaWYgKG9wdCAhPSBudWxsKSB7XG4gICAgY29uc3QgaGFzRGVmYXVsdCA9IGhhc093bihvcHQsIFwiZGVmYXVsdFwiKTtcbiAgICBpZiAoaGFzRGVmYXVsdCAmJiB2YWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSBvcHQuZGVmYXVsdDtcbiAgICAgIGlmIChvcHQudHlwZSAhPT0gRnVuY3Rpb24gJiYgIW9wdC5za2lwRmFjdG9yeSAmJiBpc0Z1bmN0aW9uKGRlZmF1bHRWYWx1ZSkpIHtcbiAgICAgICAgY29uc3QgeyBwcm9wc0RlZmF1bHRzIH0gPSBpbnN0YW5jZTtcbiAgICAgICAgaWYgKGtleSBpbiBwcm9wc0RlZmF1bHRzKSB7XG4gICAgICAgICAgdmFsdWUgPSBwcm9wc0RlZmF1bHRzW2tleV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgcmVzZXQgPSBzZXRDdXJyZW50SW5zdGFuY2UoaW5zdGFuY2UpO1xuICAgICAgICAgIHZhbHVlID0gcHJvcHNEZWZhdWx0c1trZXldID0gZGVmYXVsdFZhbHVlLmNhbGwoXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgcHJvcHNcbiAgICAgICAgICApO1xuICAgICAgICAgIHJlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGluc3RhbmNlLmNlKSB7XG4gICAgICAgIGluc3RhbmNlLmNlLl9zZXRQcm9wKGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAob3B0WzAgLyogc2hvdWxkQ2FzdCAqL10pIHtcbiAgICAgIGlmIChpc0Fic2VudCAmJiAhaGFzRGVmYXVsdCkge1xuICAgICAgICB2YWx1ZSA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChvcHRbMSAvKiBzaG91bGRDYXN0VHJ1ZSAqL10gJiYgKHZhbHVlID09PSBcIlwiIHx8IHZhbHVlID09PSBoeXBoZW5hdGUoa2V5KSkpIHtcbiAgICAgICAgdmFsdWUgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5jb25zdCBtaXhpblByb3BzQ2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIG5vcm1hbGl6ZVByb3BzT3B0aW9ucyhjb21wLCBhcHBDb250ZXh0LCBhc01peGluID0gZmFsc2UpIHtcbiAgY29uc3QgY2FjaGUgPSBfX1ZVRV9PUFRJT05TX0FQSV9fICYmIGFzTWl4aW4gPyBtaXhpblByb3BzQ2FjaGUgOiBhcHBDb250ZXh0LnByb3BzQ2FjaGU7XG4gIGNvbnN0IGNhY2hlZCA9IGNhY2hlLmdldChjb21wKTtcbiAgaWYgKGNhY2hlZCkge1xuICAgIHJldHVybiBjYWNoZWQ7XG4gIH1cbiAgY29uc3QgcmF3ID0gY29tcC5wcm9wcztcbiAgY29uc3Qgbm9ybWFsaXplZCA9IHt9O1xuICBjb25zdCBuZWVkQ2FzdEtleXMgPSBbXTtcbiAgbGV0IGhhc0V4dGVuZHMgPSBmYWxzZTtcbiAgaWYgKF9fVlVFX09QVElPTlNfQVBJX18gJiYgIWlzRnVuY3Rpb24oY29tcCkpIHtcbiAgICBjb25zdCBleHRlbmRQcm9wcyA9IChyYXcyKSA9PiB7XG4gICAgICBoYXNFeHRlbmRzID0gdHJ1ZTtcbiAgICAgIGNvbnN0IFtwcm9wcywga2V5c10gPSBub3JtYWxpemVQcm9wc09wdGlvbnMocmF3MiwgYXBwQ29udGV4dCwgdHJ1ZSk7XG4gICAgICBleHRlbmQobm9ybWFsaXplZCwgcHJvcHMpO1xuICAgICAgaWYgKGtleXMpIG5lZWRDYXN0S2V5cy5wdXNoKC4uLmtleXMpO1xuICAgIH07XG4gICAgaWYgKCFhc01peGluICYmIGFwcENvbnRleHQubWl4aW5zLmxlbmd0aCkge1xuICAgICAgYXBwQ29udGV4dC5taXhpbnMuZm9yRWFjaChleHRlbmRQcm9wcyk7XG4gICAgfVxuICAgIGlmIChjb21wLmV4dGVuZHMpIHtcbiAgICAgIGV4dGVuZFByb3BzKGNvbXAuZXh0ZW5kcyk7XG4gICAgfVxuICAgIGlmIChjb21wLm1peGlucykge1xuICAgICAgY29tcC5taXhpbnMuZm9yRWFjaChleHRlbmRQcm9wcyk7XG4gICAgfVxuICB9XG4gIGlmICghcmF3ICYmICFoYXNFeHRlbmRzKSB7XG4gICAgaWYgKGlzT2JqZWN0KGNvbXApKSB7XG4gICAgICBjYWNoZS5zZXQoY29tcCwgRU1QVFlfQVJSKTtcbiAgICB9XG4gICAgcmV0dXJuIEVNUFRZX0FSUjtcbiAgfVxuICBpZiAoaXNBcnJheShyYXcpKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYXcubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpc1N0cmluZyhyYXdbaV0pKSB7XG4gICAgICAgIHdhcm4kMShgcHJvcHMgbXVzdCBiZSBzdHJpbmdzIHdoZW4gdXNpbmcgYXJyYXkgc3ludGF4LmAsIHJhd1tpXSk7XG4gICAgICB9XG4gICAgICBjb25zdCBub3JtYWxpemVkS2V5ID0gY2FtZWxpemUocmF3W2ldKTtcbiAgICAgIGlmICh2YWxpZGF0ZVByb3BOYW1lKG5vcm1hbGl6ZWRLZXkpKSB7XG4gICAgICAgIG5vcm1hbGl6ZWRbbm9ybWFsaXplZEtleV0gPSBFTVBUWV9PQko7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKHJhdykge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpc09iamVjdChyYXcpKSB7XG4gICAgICB3YXJuJDEoYGludmFsaWQgcHJvcHMgb3B0aW9uc2AsIHJhdyk7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIHJhdykge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZEtleSA9IGNhbWVsaXplKGtleSk7XG4gICAgICBpZiAodmFsaWRhdGVQcm9wTmFtZShub3JtYWxpemVkS2V5KSkge1xuICAgICAgICBjb25zdCBvcHQgPSByYXdba2V5XTtcbiAgICAgICAgY29uc3QgcHJvcCA9IG5vcm1hbGl6ZWRbbm9ybWFsaXplZEtleV0gPSBpc0FycmF5KG9wdCkgfHwgaXNGdW5jdGlvbihvcHQpID8geyB0eXBlOiBvcHQgfSA6IGV4dGVuZCh7fSwgb3B0KTtcbiAgICAgICAgY29uc3QgcHJvcFR5cGUgPSBwcm9wLnR5cGU7XG4gICAgICAgIGxldCBzaG91bGRDYXN0ID0gZmFsc2U7XG4gICAgICAgIGxldCBzaG91bGRDYXN0VHJ1ZSA9IHRydWU7XG4gICAgICAgIGlmIChpc0FycmF5KHByb3BUeXBlKSkge1xuICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBwcm9wVHlwZS5sZW5ndGg7ICsraW5kZXgpIHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBwcm9wVHlwZVtpbmRleF07XG4gICAgICAgICAgICBjb25zdCB0eXBlTmFtZSA9IGlzRnVuY3Rpb24odHlwZSkgJiYgdHlwZS5uYW1lO1xuICAgICAgICAgICAgaWYgKHR5cGVOYW1lID09PSBcIkJvb2xlYW5cIikge1xuICAgICAgICAgICAgICBzaG91bGRDYXN0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVOYW1lID09PSBcIlN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgIHNob3VsZENhc3RUcnVlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNob3VsZENhc3QgPSBpc0Z1bmN0aW9uKHByb3BUeXBlKSAmJiBwcm9wVHlwZS5uYW1lID09PSBcIkJvb2xlYW5cIjtcbiAgICAgICAgfVxuICAgICAgICBwcm9wWzAgLyogc2hvdWxkQ2FzdCAqL10gPSBzaG91bGRDYXN0O1xuICAgICAgICBwcm9wWzEgLyogc2hvdWxkQ2FzdFRydWUgKi9dID0gc2hvdWxkQ2FzdFRydWU7XG4gICAgICAgIGlmIChzaG91bGRDYXN0IHx8IGhhc093bihwcm9wLCBcImRlZmF1bHRcIikpIHtcbiAgICAgICAgICBuZWVkQ2FzdEtleXMucHVzaChub3JtYWxpemVkS2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBjb25zdCByZXMgPSBbbm9ybWFsaXplZCwgbmVlZENhc3RLZXlzXTtcbiAgaWYgKGlzT2JqZWN0KGNvbXApKSB7XG4gICAgY2FjaGUuc2V0KGNvbXAsIHJlcyk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcE5hbWUoa2V5KSB7XG4gIGlmIChrZXlbMF0gIT09IFwiJFwiICYmICFpc1Jlc2VydmVkUHJvcChrZXkpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm4kMShgSW52YWxpZCBwcm9wIG5hbWU6IFwiJHtrZXl9XCIgaXMgYSByZXNlcnZlZCBwcm9wZXJ0eS5gKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBnZXRUeXBlKGN0b3IpIHtcbiAgaWYgKGN0b3IgPT09IG51bGwpIHtcbiAgICByZXR1cm4gXCJudWxsXCI7XG4gIH1cbiAgaWYgKHR5cGVvZiBjdG9yID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gY3Rvci5uYW1lIHx8IFwiXCI7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGN0b3IgPT09IFwib2JqZWN0XCIpIHtcbiAgICBjb25zdCBuYW1lID0gY3Rvci5jb25zdHJ1Y3RvciAmJiBjdG9yLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgcmV0dXJuIG5hbWUgfHwgXCJcIjtcbiAgfVxuICByZXR1cm4gXCJcIjtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcHMocmF3UHJvcHMsIHByb3BzLCBpbnN0YW5jZSkge1xuICBjb25zdCByZXNvbHZlZFZhbHVlcyA9IHRvUmF3KHByb3BzKTtcbiAgY29uc3Qgb3B0aW9ucyA9IGluc3RhbmNlLnByb3BzT3B0aW9uc1swXTtcbiAgY29uc3QgY2FtZWxpemVQcm9wc0tleSA9IE9iamVjdC5rZXlzKHJhd1Byb3BzKS5tYXAoKGtleSkgPT4gY2FtZWxpemUoa2V5KSk7XG4gIGZvciAoY29uc3Qga2V5IGluIG9wdGlvbnMpIHtcbiAgICBsZXQgb3B0ID0gb3B0aW9uc1trZXldO1xuICAgIGlmIChvcHQgPT0gbnVsbCkgY29udGludWU7XG4gICAgdmFsaWRhdGVQcm9wKFxuICAgICAga2V5LFxuICAgICAgcmVzb2x2ZWRWYWx1ZXNba2V5XSxcbiAgICAgIG9wdCxcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBzaGFsbG93UmVhZG9ubHkocmVzb2x2ZWRWYWx1ZXMpIDogcmVzb2x2ZWRWYWx1ZXMsXG4gICAgICAhY2FtZWxpemVQcm9wc0tleS5pbmNsdWRlcyhrZXkpXG4gICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wKG5hbWUsIHZhbHVlLCBwcm9wLCBwcm9wcywgaXNBYnNlbnQpIHtcbiAgY29uc3QgeyB0eXBlLCByZXF1aXJlZCwgdmFsaWRhdG9yLCBza2lwQ2hlY2sgfSA9IHByb3A7XG4gIGlmIChyZXF1aXJlZCAmJiBpc0Fic2VudCkge1xuICAgIHdhcm4kMSgnTWlzc2luZyByZXF1aXJlZCBwcm9wOiBcIicgKyBuYW1lICsgJ1wiJyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICh2YWx1ZSA9PSBudWxsICYmICFyZXF1aXJlZCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAodHlwZSAhPSBudWxsICYmIHR5cGUgIT09IHRydWUgJiYgIXNraXBDaGVjaykge1xuICAgIGxldCBpc1ZhbGlkID0gZmFsc2U7XG4gICAgY29uc3QgdHlwZXMgPSBpc0FycmF5KHR5cGUpID8gdHlwZSA6IFt0eXBlXTtcbiAgICBjb25zdCBleHBlY3RlZFR5cGVzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0eXBlcy5sZW5ndGggJiYgIWlzVmFsaWQ7IGkrKykge1xuICAgICAgY29uc3QgeyB2YWxpZCwgZXhwZWN0ZWRUeXBlIH0gPSBhc3NlcnRUeXBlKHZhbHVlLCB0eXBlc1tpXSk7XG4gICAgICBleHBlY3RlZFR5cGVzLnB1c2goZXhwZWN0ZWRUeXBlIHx8IFwiXCIpO1xuICAgICAgaXNWYWxpZCA9IHZhbGlkO1xuICAgIH1cbiAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgIHdhcm4kMShnZXRJbnZhbGlkVHlwZU1lc3NhZ2UobmFtZSwgdmFsdWUsIGV4cGVjdGVkVHlwZXMpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgaWYgKHZhbGlkYXRvciAmJiAhdmFsaWRhdG9yKHZhbHVlLCBwcm9wcykpIHtcbiAgICB3YXJuJDEoJ0ludmFsaWQgcHJvcDogY3VzdG9tIHZhbGlkYXRvciBjaGVjayBmYWlsZWQgZm9yIHByb3AgXCInICsgbmFtZSArICdcIi4nKTtcbiAgfVxufVxuY29uc3QgaXNTaW1wbGVUeXBlID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoXG4gIFwiU3RyaW5nLE51bWJlcixCb29sZWFuLEZ1bmN0aW9uLFN5bWJvbCxCaWdJbnRcIlxuKTtcbmZ1bmN0aW9uIGFzc2VydFR5cGUodmFsdWUsIHR5cGUpIHtcbiAgbGV0IHZhbGlkO1xuICBjb25zdCBleHBlY3RlZFR5cGUgPSBnZXRUeXBlKHR5cGUpO1xuICBpZiAoZXhwZWN0ZWRUeXBlID09PSBcIm51bGxcIikge1xuICAgIHZhbGlkID0gdmFsdWUgPT09IG51bGw7XG4gIH0gZWxzZSBpZiAoaXNTaW1wbGVUeXBlKGV4cGVjdGVkVHlwZSkpIHtcbiAgICBjb25zdCB0ID0gdHlwZW9mIHZhbHVlO1xuICAgIHZhbGlkID0gdCA9PT0gZXhwZWN0ZWRUeXBlLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKCF2YWxpZCAmJiB0ID09PSBcIm9iamVjdFwiKSB7XG4gICAgICB2YWxpZCA9IHZhbHVlIGluc3RhbmNlb2YgdHlwZTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSBcIk9iamVjdFwiKSB7XG4gICAgdmFsaWQgPSBpc09iamVjdCh2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSBcIkFycmF5XCIpIHtcbiAgICB2YWxpZCA9IGlzQXJyYXkodmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIHZhbGlkID0gdmFsdWUgaW5zdGFuY2VvZiB0eXBlO1xuICB9XG4gIHJldHVybiB7XG4gICAgdmFsaWQsXG4gICAgZXhwZWN0ZWRUeXBlXG4gIH07XG59XG5mdW5jdGlvbiBnZXRJbnZhbGlkVHlwZU1lc3NhZ2UobmFtZSwgdmFsdWUsIGV4cGVjdGVkVHlwZXMpIHtcbiAgaWYgKGV4cGVjdGVkVHlwZXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGBQcm9wIHR5cGUgW10gZm9yIHByb3AgXCIke25hbWV9XCIgd29uJ3QgbWF0Y2ggYW55dGhpbmcuIERpZCB5b3UgbWVhbiB0byB1c2UgdHlwZSBBcnJheSBpbnN0ZWFkP2A7XG4gIH1cbiAgbGV0IG1lc3NhZ2UgPSBgSW52YWxpZCBwcm9wOiB0eXBlIGNoZWNrIGZhaWxlZCBmb3IgcHJvcCBcIiR7bmFtZX1cIi4gRXhwZWN0ZWQgJHtleHBlY3RlZFR5cGVzLm1hcChjYXBpdGFsaXplKS5qb2luKFwiIHwgXCIpfWA7XG4gIGNvbnN0IGV4cGVjdGVkVHlwZSA9IGV4cGVjdGVkVHlwZXNbMF07XG4gIGNvbnN0IHJlY2VpdmVkVHlwZSA9IHRvUmF3VHlwZSh2YWx1ZSk7XG4gIGNvbnN0IGV4cGVjdGVkVmFsdWUgPSBzdHlsZVZhbHVlKHZhbHVlLCBleHBlY3RlZFR5cGUpO1xuICBjb25zdCByZWNlaXZlZFZhbHVlID0gc3R5bGVWYWx1ZSh2YWx1ZSwgcmVjZWl2ZWRUeXBlKTtcbiAgaWYgKGV4cGVjdGVkVHlwZXMubGVuZ3RoID09PSAxICYmIGlzRXhwbGljYWJsZShleHBlY3RlZFR5cGUpICYmICFpc0Jvb2xlYW4oZXhwZWN0ZWRUeXBlLCByZWNlaXZlZFR5cGUpKSB7XG4gICAgbWVzc2FnZSArPSBgIHdpdGggdmFsdWUgJHtleHBlY3RlZFZhbHVlfWA7XG4gIH1cbiAgbWVzc2FnZSArPSBgLCBnb3QgJHtyZWNlaXZlZFR5cGV9IGA7XG4gIGlmIChpc0V4cGxpY2FibGUocmVjZWl2ZWRUeXBlKSkge1xuICAgIG1lc3NhZ2UgKz0gYHdpdGggdmFsdWUgJHtyZWNlaXZlZFZhbHVlfS5gO1xuICB9XG4gIHJldHVybiBtZXNzYWdlO1xufVxuZnVuY3Rpb24gc3R5bGVWYWx1ZSh2YWx1ZSwgdHlwZSkge1xuICBpZiAodHlwZSA9PT0gXCJTdHJpbmdcIikge1xuICAgIHJldHVybiBgXCIke3ZhbHVlfVwiYDtcbiAgfSBlbHNlIGlmICh0eXBlID09PSBcIk51bWJlclwiKSB7XG4gICAgcmV0dXJuIGAke051bWJlcih2YWx1ZSl9YDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYCR7dmFsdWV9YDtcbiAgfVxufVxuZnVuY3Rpb24gaXNFeHBsaWNhYmxlKHR5cGUpIHtcbiAgY29uc3QgZXhwbGljaXRUeXBlcyA9IFtcInN0cmluZ1wiLCBcIm51bWJlclwiLCBcImJvb2xlYW5cIl07XG4gIHJldHVybiBleHBsaWNpdFR5cGVzLnNvbWUoKGVsZW0pID0+IHR5cGUudG9Mb3dlckNhc2UoKSA9PT0gZWxlbSk7XG59XG5mdW5jdGlvbiBpc0Jvb2xlYW4oLi4uYXJncykge1xuICByZXR1cm4gYXJncy5zb21lKChlbGVtKSA9PiBlbGVtLnRvTG93ZXJDYXNlKCkgPT09IFwiYm9vbGVhblwiKTtcbn1cblxuY29uc3QgaXNJbnRlcm5hbEtleSA9IChrZXkpID0+IGtleVswXSA9PT0gXCJfXCIgfHwga2V5ID09PSBcIiRzdGFibGVcIjtcbmNvbnN0IG5vcm1hbGl6ZVNsb3RWYWx1ZSA9ICh2YWx1ZSkgPT4gaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5tYXAobm9ybWFsaXplVk5vZGUpIDogW25vcm1hbGl6ZVZOb2RlKHZhbHVlKV07XG5jb25zdCBub3JtYWxpemVTbG90ID0gKGtleSwgcmF3U2xvdCwgY3R4KSA9PiB7XG4gIGlmIChyYXdTbG90Ll9uKSB7XG4gICAgcmV0dXJuIHJhd1Nsb3Q7XG4gIH1cbiAgY29uc3Qgbm9ybWFsaXplZCA9IHdpdGhDdHgoKC4uLmFyZ3MpID0+IHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjdXJyZW50SW5zdGFuY2UgJiYgKCFjdHggfHwgY3R4LnJvb3QgPT09IGN1cnJlbnRJbnN0YW5jZS5yb290KSkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgU2xvdCBcIiR7a2V5fVwiIGludm9rZWQgb3V0c2lkZSBvZiB0aGUgcmVuZGVyIGZ1bmN0aW9uOiB0aGlzIHdpbGwgbm90IHRyYWNrIGRlcGVuZGVuY2llcyB1c2VkIGluIHRoZSBzbG90LiBJbnZva2UgdGhlIHNsb3QgZnVuY3Rpb24gaW5zaWRlIHRoZSByZW5kZXIgZnVuY3Rpb24gaW5zdGVhZC5gXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbm9ybWFsaXplU2xvdFZhbHVlKHJhd1Nsb3QoLi4uYXJncykpO1xuICB9LCBjdHgpO1xuICBub3JtYWxpemVkLl9jID0gZmFsc2U7XG4gIHJldHVybiBub3JtYWxpemVkO1xufTtcbmNvbnN0IG5vcm1hbGl6ZU9iamVjdFNsb3RzID0gKHJhd1Nsb3RzLCBzbG90cywgaW5zdGFuY2UpID0+IHtcbiAgY29uc3QgY3R4ID0gcmF3U2xvdHMuX2N0eDtcbiAgZm9yIChjb25zdCBrZXkgaW4gcmF3U2xvdHMpIHtcbiAgICBpZiAoaXNJbnRlcm5hbEtleShrZXkpKSBjb250aW51ZTtcbiAgICBjb25zdCB2YWx1ZSA9IHJhd1Nsb3RzW2tleV07XG4gICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICBzbG90c1trZXldID0gbm9ybWFsaXplU2xvdChrZXksIHZhbHVlLCBjdHgpO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdHJ1ZSkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYE5vbi1mdW5jdGlvbiB2YWx1ZSBlbmNvdW50ZXJlZCBmb3Igc2xvdCBcIiR7a2V5fVwiLiBQcmVmZXIgZnVuY3Rpb24gc2xvdHMgZm9yIGJldHRlciBwZXJmb3JtYW5jZS5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplU2xvdFZhbHVlKHZhbHVlKTtcbiAgICAgIHNsb3RzW2tleV0gPSAoKSA9PiBub3JtYWxpemVkO1xuICAgIH1cbiAgfVxufTtcbmNvbnN0IG5vcm1hbGl6ZVZOb2RlU2xvdHMgPSAoaW5zdGFuY2UsIGNoaWxkcmVuKSA9PiB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpc0tlZXBBbGl2ZShpbnN0YW5jZS52bm9kZSkgJiYgdHJ1ZSkge1xuICAgIHdhcm4kMShcbiAgICAgIGBOb24tZnVuY3Rpb24gdmFsdWUgZW5jb3VudGVyZWQgZm9yIGRlZmF1bHQgc2xvdC4gUHJlZmVyIGZ1bmN0aW9uIHNsb3RzIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UuYFxuICAgICk7XG4gIH1cbiAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVNsb3RWYWx1ZShjaGlsZHJlbik7XG4gIGluc3RhbmNlLnNsb3RzLmRlZmF1bHQgPSAoKSA9PiBub3JtYWxpemVkO1xufTtcbmNvbnN0IGFzc2lnblNsb3RzID0gKHNsb3RzLCBjaGlsZHJlbiwgb3B0aW1pemVkKSA9PiB7XG4gIGZvciAoY29uc3Qga2V5IGluIGNoaWxkcmVuKSB7XG4gICAgaWYgKG9wdGltaXplZCB8fCBrZXkgIT09IFwiX1wiKSB7XG4gICAgICBzbG90c1trZXldID0gY2hpbGRyZW5ba2V5XTtcbiAgICB9XG4gIH1cbn07XG5jb25zdCBpbml0U2xvdHMgPSAoaW5zdGFuY2UsIGNoaWxkcmVuLCBvcHRpbWl6ZWQpID0+IHtcbiAgY29uc3Qgc2xvdHMgPSBpbnN0YW5jZS5zbG90cyA9IGNyZWF0ZUludGVybmFsT2JqZWN0KCk7XG4gIGlmIChpbnN0YW5jZS52bm9kZS5zaGFwZUZsYWcgJiAzMikge1xuICAgIGNvbnN0IHR5cGUgPSBjaGlsZHJlbi5fO1xuICAgIGlmICh0eXBlKSB7XG4gICAgICBhc3NpZ25TbG90cyhzbG90cywgY2hpbGRyZW4sIG9wdGltaXplZCk7XG4gICAgICBpZiAob3B0aW1pemVkKSB7XG4gICAgICAgIGRlZihzbG90cywgXCJfXCIsIHR5cGUsIHRydWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBub3JtYWxpemVPYmplY3RTbG90cyhjaGlsZHJlbiwgc2xvdHMpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChjaGlsZHJlbikge1xuICAgIG5vcm1hbGl6ZVZOb2RlU2xvdHMoaW5zdGFuY2UsIGNoaWxkcmVuKTtcbiAgfVxufTtcbmNvbnN0IHVwZGF0ZVNsb3RzID0gKGluc3RhbmNlLCBjaGlsZHJlbiwgb3B0aW1pemVkKSA9PiB7XG4gIGNvbnN0IHsgdm5vZGUsIHNsb3RzIH0gPSBpbnN0YW5jZTtcbiAgbGV0IG5lZWREZWxldGlvbkNoZWNrID0gdHJ1ZTtcbiAgbGV0IGRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCA9IEVNUFRZX09CSjtcbiAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDMyKSB7XG4gICAgY29uc3QgdHlwZSA9IGNoaWxkcmVuLl87XG4gICAgaWYgKHR5cGUpIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGlzSG1yVXBkYXRpbmcpIHtcbiAgICAgICAgYXNzaWduU2xvdHMoc2xvdHMsIGNoaWxkcmVuLCBvcHRpbWl6ZWQpO1xuICAgICAgICB0cmlnZ2VyKGluc3RhbmNlLCBcInNldFwiLCBcIiRzbG90c1wiKTtcbiAgICAgIH0gZWxzZSBpZiAob3B0aW1pemVkICYmIHR5cGUgPT09IDEpIHtcbiAgICAgICAgbmVlZERlbGV0aW9uQ2hlY2sgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFzc2lnblNsb3RzKHNsb3RzLCBjaGlsZHJlbiwgb3B0aW1pemVkKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbmVlZERlbGV0aW9uQ2hlY2sgPSAhY2hpbGRyZW4uJHN0YWJsZTtcbiAgICAgIG5vcm1hbGl6ZU9iamVjdFNsb3RzKGNoaWxkcmVuLCBzbG90cyk7XG4gICAgfVxuICAgIGRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCA9IGNoaWxkcmVuO1xuICB9IGVsc2UgaWYgKGNoaWxkcmVuKSB7XG4gICAgbm9ybWFsaXplVk5vZGVTbG90cyhpbnN0YW5jZSwgY2hpbGRyZW4pO1xuICAgIGRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCA9IHsgZGVmYXVsdDogMSB9O1xuICB9XG4gIGlmIChuZWVkRGVsZXRpb25DaGVjaykge1xuICAgIGZvciAoY29uc3Qga2V5IGluIHNsb3RzKSB7XG4gICAgICBpZiAoIWlzSW50ZXJuYWxLZXkoa2V5KSAmJiBkZWxldGlvbkNvbXBhcmlzb25UYXJnZXRba2V5XSA9PSBudWxsKSB7XG4gICAgICAgIGRlbGV0ZSBzbG90c1trZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxubGV0IHN1cHBvcnRlZDtcbmxldCBwZXJmO1xuZnVuY3Rpb24gc3RhcnRNZWFzdXJlKGluc3RhbmNlLCB0eXBlKSB7XG4gIGlmIChpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5wZXJmb3JtYW5jZSAmJiBpc1N1cHBvcnRlZCgpKSB7XG4gICAgcGVyZi5tYXJrKGB2dWUtJHt0eXBlfS0ke2luc3RhbmNlLnVpZH1gKTtcbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICBkZXZ0b29sc1BlcmZTdGFydChpbnN0YW5jZSwgdHlwZSwgaXNTdXBwb3J0ZWQoKSA/IHBlcmYubm93KCkgOiBEYXRlLm5vdygpKTtcbiAgfVxufVxuZnVuY3Rpb24gZW5kTWVhc3VyZShpbnN0YW5jZSwgdHlwZSkge1xuICBpZiAoaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcucGVyZm9ybWFuY2UgJiYgaXNTdXBwb3J0ZWQoKSkge1xuICAgIGNvbnN0IHN0YXJ0VGFnID0gYHZ1ZS0ke3R5cGV9LSR7aW5zdGFuY2UudWlkfWA7XG4gICAgY29uc3QgZW5kVGFnID0gc3RhcnRUYWcgKyBgOmVuZGA7XG4gICAgcGVyZi5tYXJrKGVuZFRhZyk7XG4gICAgcGVyZi5tZWFzdXJlKFxuICAgICAgYDwke2Zvcm1hdENvbXBvbmVudE5hbWUoaW5zdGFuY2UsIGluc3RhbmNlLnR5cGUpfT4gJHt0eXBlfWAsXG4gICAgICBzdGFydFRhZyxcbiAgICAgIGVuZFRhZ1xuICAgICk7XG4gICAgcGVyZi5jbGVhck1hcmtzKHN0YXJ0VGFnKTtcbiAgICBwZXJmLmNsZWFyTWFya3MoZW5kVGFnKTtcbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICBkZXZ0b29sc1BlcmZFbmQoaW5zdGFuY2UsIHR5cGUsIGlzU3VwcG9ydGVkKCkgPyBwZXJmLm5vdygpIDogRGF0ZS5ub3coKSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzU3VwcG9ydGVkKCkge1xuICBpZiAoc3VwcG9ydGVkICE9PSB2b2lkIDApIHtcbiAgICByZXR1cm4gc3VwcG9ydGVkO1xuICB9XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5wZXJmb3JtYW5jZSkge1xuICAgIHN1cHBvcnRlZCA9IHRydWU7XG4gICAgcGVyZiA9IHdpbmRvdy5wZXJmb3JtYW5jZTtcbiAgfSBlbHNlIHtcbiAgICBzdXBwb3J0ZWQgPSBmYWxzZTtcbiAgfVxuICByZXR1cm4gc3VwcG9ydGVkO1xufVxuXG5mdW5jdGlvbiBpbml0RmVhdHVyZUZsYWdzKCkge1xuICBjb25zdCBuZWVkV2FybiA9IFtdO1xuICBpZiAodHlwZW9mIF9fVlVFX09QVElPTlNfQVBJX18gIT09IFwiYm9vbGVhblwiKSB7XG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBuZWVkV2Fybi5wdXNoKGBfX1ZVRV9PUFRJT05TX0FQSV9fYCk7XG4gICAgZ2V0R2xvYmFsVGhpcygpLl9fVlVFX09QVElPTlNfQVBJX18gPSB0cnVlO1xuICB9XG4gIGlmICh0eXBlb2YgX19WVUVfUFJPRF9ERVZUT09MU19fICE9PSBcImJvb2xlYW5cIikge1xuICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgbmVlZFdhcm4ucHVzaChgX19WVUVfUFJPRF9ERVZUT09MU19fYCk7XG4gICAgZ2V0R2xvYmFsVGhpcygpLl9fVlVFX1BST0RfREVWVE9PTFNfXyA9IGZhbHNlO1xuICB9XG4gIGlmICh0eXBlb2YgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fICE9PSBcImJvb2xlYW5cIikge1xuICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgbmVlZFdhcm4ucHVzaChgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fYCk7XG4gICAgZ2V0R2xvYmFsVGhpcygpLl9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXyA9IGZhbHNlO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIG5lZWRXYXJuLmxlbmd0aCkge1xuICAgIGNvbnN0IG11bHRpID0gbmVlZFdhcm4ubGVuZ3RoID4gMTtcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICBgRmVhdHVyZSBmbGFnJHttdWx0aSA/IGBzYCA6IGBgfSAke25lZWRXYXJuLmpvaW4oXCIsIFwiKX0gJHttdWx0aSA/IGBhcmVgIDogYGlzYH0gbm90IGV4cGxpY2l0bHkgZGVmaW5lZC4gWW91IGFyZSBydW5uaW5nIHRoZSBlc20tYnVuZGxlciBidWlsZCBvZiBWdWUsIHdoaWNoIGV4cGVjdHMgdGhlc2UgY29tcGlsZS10aW1lIGZlYXR1cmUgZmxhZ3MgdG8gYmUgZ2xvYmFsbHkgaW5qZWN0ZWQgdmlhIHRoZSBidW5kbGVyIGNvbmZpZyBpbiBvcmRlciB0byBnZXQgYmV0dGVyIHRyZWUtc2hha2luZyBpbiB0aGUgcHJvZHVjdGlvbiBidW5kbGUuXG5cbkZvciBtb3JlIGRldGFpbHMsIHNlZSBodHRwczovL2xpbmsudnVlanMub3JnL2ZlYXR1cmUtZmxhZ3MuYFxuICAgICk7XG4gIH1cbn1cblxuY29uc3QgcXVldWVQb3N0UmVuZGVyRWZmZWN0ID0gcXVldWVFZmZlY3RXaXRoU3VzcGVuc2UgO1xuZnVuY3Rpb24gY3JlYXRlUmVuZGVyZXIob3B0aW9ucykge1xuICByZXR1cm4gYmFzZUNyZWF0ZVJlbmRlcmVyKG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gY3JlYXRlSHlkcmF0aW9uUmVuZGVyZXIob3B0aW9ucykge1xuICByZXR1cm4gYmFzZUNyZWF0ZVJlbmRlcmVyKG9wdGlvbnMsIGNyZWF0ZUh5ZHJhdGlvbkZ1bmN0aW9ucyk7XG59XG5mdW5jdGlvbiBiYXNlQ3JlYXRlUmVuZGVyZXIob3B0aW9ucywgY3JlYXRlSHlkcmF0aW9uRm5zKSB7XG4gIHtcbiAgICBpbml0RmVhdHVyZUZsYWdzKCk7XG4gIH1cbiAgY29uc3QgdGFyZ2V0ID0gZ2V0R2xvYmFsVGhpcygpO1xuICB0YXJnZXQuX19WVUVfXyA9IHRydWU7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgIHNldERldnRvb2xzSG9vayQxKHRhcmdldC5fX1ZVRV9ERVZUT09MU19HTE9CQUxfSE9PS19fLCB0YXJnZXQpO1xuICB9XG4gIGNvbnN0IHtcbiAgICBpbnNlcnQ6IGhvc3RJbnNlcnQsXG4gICAgcmVtb3ZlOiBob3N0UmVtb3ZlLFxuICAgIHBhdGNoUHJvcDogaG9zdFBhdGNoUHJvcCxcbiAgICBjcmVhdGVFbGVtZW50OiBob3N0Q3JlYXRlRWxlbWVudCxcbiAgICBjcmVhdGVUZXh0OiBob3N0Q3JlYXRlVGV4dCxcbiAgICBjcmVhdGVDb21tZW50OiBob3N0Q3JlYXRlQ29tbWVudCxcbiAgICBzZXRUZXh0OiBob3N0U2V0VGV4dCxcbiAgICBzZXRFbGVtZW50VGV4dDogaG9zdFNldEVsZW1lbnRUZXh0LFxuICAgIHBhcmVudE5vZGU6IGhvc3RQYXJlbnROb2RlLFxuICAgIG5leHRTaWJsaW5nOiBob3N0TmV4dFNpYmxpbmcsXG4gICAgc2V0U2NvcGVJZDogaG9zdFNldFNjb3BlSWQgPSBOT09QLFxuICAgIGluc2VydFN0YXRpY0NvbnRlbnQ6IGhvc3RJbnNlcnRTdGF0aWNDb250ZW50XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBwYXRjaCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yID0gbnVsbCwgcGFyZW50Q29tcG9uZW50ID0gbnVsbCwgcGFyZW50U3VzcGVuc2UgPSBudWxsLCBuYW1lc3BhY2UgPSB2b2lkIDAsIHNsb3RTY29wZUlkcyA9IG51bGwsIG9wdGltaXplZCA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgaXNIbXJVcGRhdGluZyA/IGZhbHNlIDogISFuMi5keW5hbWljQ2hpbGRyZW4pID0+IHtcbiAgICBpZiAobjEgPT09IG4yKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChuMSAmJiAhaXNTYW1lVk5vZGVUeXBlKG4xLCBuMikpIHtcbiAgICAgIGFuY2hvciA9IGdldE5leHRIb3N0Tm9kZShuMSk7XG4gICAgICB1bm1vdW50KG4xLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcbiAgICAgIG4xID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKG4yLnBhdGNoRmxhZyA9PT0gLTIpIHtcbiAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xuICAgICAgbjIuZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgeyB0eXBlLCByZWYsIHNoYXBlRmxhZyB9ID0gbjI7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFRleHQ6XG4gICAgICAgIHByb2Nlc3NUZXh0KG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ29tbWVudDpcbiAgICAgICAgcHJvY2Vzc0NvbW1lbnROb2RlKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU3RhdGljOlxuICAgICAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgICAgIG1vdW50U3RhdGljTm9kZShuMiwgY29udGFpbmVyLCBhbmNob3IsIG5hbWVzcGFjZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHBhdGNoU3RhdGljTm9kZShuMSwgbjIsIGNvbnRhaW5lciwgbmFtZXNwYWNlKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRnJhZ21lbnQ6XG4gICAgICAgIHByb2Nlc3NGcmFnbWVudChcbiAgICAgICAgICBuMSxcbiAgICAgICAgICBuMixcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAxKSB7XG4gICAgICAgICAgcHJvY2Vzc0VsZW1lbnQoXG4gICAgICAgICAgICBuMSxcbiAgICAgICAgICAgIG4yLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDYpIHtcbiAgICAgICAgICBwcm9jZXNzQ29tcG9uZW50KFxuICAgICAgICAgICAgbjEsXG4gICAgICAgICAgICBuMixcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChzaGFwZUZsYWcgJiA2NCkge1xuICAgICAgICAgIHR5cGUucHJvY2VzcyhcbiAgICAgICAgICAgIG4xLFxuICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZCxcbiAgICAgICAgICAgIGludGVybmFsc1xuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoc2hhcGVGbGFnICYgMTI4KSB7XG4gICAgICAgICAgdHlwZS5wcm9jZXNzKFxuICAgICAgICAgICAgbjEsXG4gICAgICAgICAgICBuMixcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkLFxuICAgICAgICAgICAgaW50ZXJuYWxzXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKFwiSW52YWxpZCBWTm9kZSB0eXBlOlwiLCB0eXBlLCBgKCR7dHlwZW9mIHR5cGV9KWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChyZWYgIT0gbnVsbCAmJiBwYXJlbnRDb21wb25lbnQpIHtcbiAgICAgIHNldFJlZihyZWYsIG4xICYmIG4xLnJlZiwgcGFyZW50U3VzcGVuc2UsIG4yIHx8IG4xLCAhbjIpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcHJvY2Vzc1RleHQgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvcikgPT4ge1xuICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICBob3N0SW5zZXJ0KFxuICAgICAgICBuMi5lbCA9IGhvc3RDcmVhdGVUZXh0KG4yLmNoaWxkcmVuKSxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3JcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGVsID0gbjIuZWwgPSBuMS5lbDtcbiAgICAgIGlmIChuMi5jaGlsZHJlbiAhPT0gbjEuY2hpbGRyZW4pIHtcbiAgICAgICAgaG9zdFNldFRleHQoZWwsIG4yLmNoaWxkcmVuKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IHByb2Nlc3NDb21tZW50Tm9kZSA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yKSA9PiB7XG4gICAgaWYgKG4xID09IG51bGwpIHtcbiAgICAgIGhvc3RJbnNlcnQoXG4gICAgICAgIG4yLmVsID0gaG9zdENyZWF0ZUNvbW1lbnQobjIuY2hpbGRyZW4gfHwgXCJcIiksXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBuMi5lbCA9IG4xLmVsO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgbW91bnRTdGF0aWNOb2RlID0gKG4yLCBjb250YWluZXIsIGFuY2hvciwgbmFtZXNwYWNlKSA9PiB7XG4gICAgW24yLmVsLCBuMi5hbmNob3JdID0gaG9zdEluc2VydFN0YXRpY0NvbnRlbnQoXG4gICAgICBuMi5jaGlsZHJlbixcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIGFuY2hvcixcbiAgICAgIG5hbWVzcGFjZSxcbiAgICAgIG4yLmVsLFxuICAgICAgbjIuYW5jaG9yXG4gICAgKTtcbiAgfTtcbiAgY29uc3QgcGF0Y2hTdGF0aWNOb2RlID0gKG4xLCBuMiwgY29udGFpbmVyLCBuYW1lc3BhY2UpID0+IHtcbiAgICBpZiAobjIuY2hpbGRyZW4gIT09IG4xLmNoaWxkcmVuKSB7XG4gICAgICBjb25zdCBhbmNob3IgPSBob3N0TmV4dFNpYmxpbmcobjEuYW5jaG9yKTtcbiAgICAgIHJlbW92ZVN0YXRpY05vZGUobjEpO1xuICAgICAgW24yLmVsLCBuMi5hbmNob3JdID0gaG9zdEluc2VydFN0YXRpY0NvbnRlbnQoXG4gICAgICAgIG4yLmNoaWxkcmVuLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgbmFtZXNwYWNlXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBuMi5lbCA9IG4xLmVsO1xuICAgICAgbjIuYW5jaG9yID0gbjEuYW5jaG9yO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgbW92ZVN0YXRpY05vZGUgPSAoeyBlbCwgYW5jaG9yIH0sIGNvbnRhaW5lciwgbmV4dFNpYmxpbmcpID0+IHtcbiAgICBsZXQgbmV4dDtcbiAgICB3aGlsZSAoZWwgJiYgZWwgIT09IGFuY2hvcikge1xuICAgICAgbmV4dCA9IGhvc3ROZXh0U2libGluZyhlbCk7XG4gICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIG5leHRTaWJsaW5nKTtcbiAgICAgIGVsID0gbmV4dDtcbiAgICB9XG4gICAgaG9zdEluc2VydChhbmNob3IsIGNvbnRhaW5lciwgbmV4dFNpYmxpbmcpO1xuICB9O1xuICBjb25zdCByZW1vdmVTdGF0aWNOb2RlID0gKHsgZWwsIGFuY2hvciB9KSA9PiB7XG4gICAgbGV0IG5leHQ7XG4gICAgd2hpbGUgKGVsICYmIGVsICE9PSBhbmNob3IpIHtcbiAgICAgIG5leHQgPSBob3N0TmV4dFNpYmxpbmcoZWwpO1xuICAgICAgaG9zdFJlbW92ZShlbCk7XG4gICAgICBlbCA9IG5leHQ7XG4gICAgfVxuICAgIGhvc3RSZW1vdmUoYW5jaG9yKTtcbiAgfTtcbiAgY29uc3QgcHJvY2Vzc0VsZW1lbnQgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIGlmIChuMi50eXBlID09PSBcInN2Z1wiKSB7XG4gICAgICBuYW1lc3BhY2UgPSBcInN2Z1wiO1xuICAgIH0gZWxzZSBpZiAobjIudHlwZSA9PT0gXCJtYXRoXCIpIHtcbiAgICAgIG5hbWVzcGFjZSA9IFwibWF0aG1sXCI7XG4gICAgfVxuICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICBtb3VudEVsZW1lbnQoXG4gICAgICAgIG4yLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGF0Y2hFbGVtZW50KFxuICAgICAgICBuMSxcbiAgICAgICAgbjIsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgfVxuICB9O1xuICBjb25zdCBtb3VudEVsZW1lbnQgPSAodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgbGV0IGVsO1xuICAgIGxldCB2bm9kZUhvb2s7XG4gICAgY29uc3QgeyBwcm9wcywgc2hhcGVGbGFnLCB0cmFuc2l0aW9uLCBkaXJzIH0gPSB2bm9kZTtcbiAgICBlbCA9IHZub2RlLmVsID0gaG9zdENyZWF0ZUVsZW1lbnQoXG4gICAgICB2bm9kZS50eXBlLFxuICAgICAgbmFtZXNwYWNlLFxuICAgICAgcHJvcHMgJiYgcHJvcHMuaXMsXG4gICAgICBwcm9wc1xuICAgICk7XG4gICAgaWYgKHNoYXBlRmxhZyAmIDgpIHtcbiAgICAgIGhvc3RTZXRFbGVtZW50VGV4dChlbCwgdm5vZGUuY2hpbGRyZW4pO1xuICAgIH0gZWxzZSBpZiAoc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgIG1vdW50Q2hpbGRyZW4oXG4gICAgICAgIHZub2RlLmNoaWxkcmVuLFxuICAgICAgICBlbCxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgcmVzb2x2ZUNoaWxkcmVuTmFtZXNwYWNlKHZub2RlLCBuYW1lc3BhY2UpLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGRpcnMpIHtcbiAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgXCJjcmVhdGVkXCIpO1xuICAgIH1cbiAgICBzZXRTY29wZUlkKGVsLCB2bm9kZSwgdm5vZGUuc2NvcGVJZCwgc2xvdFNjb3BlSWRzLCBwYXJlbnRDb21wb25lbnQpO1xuICAgIGlmIChwcm9wcykge1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHMpIHtcbiAgICAgICAgaWYgKGtleSAhPT0gXCJ2YWx1ZVwiICYmICFpc1Jlc2VydmVkUHJvcChrZXkpKSB7XG4gICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwga2V5LCBudWxsLCBwcm9wc1trZXldLCBuYW1lc3BhY2UsIHBhcmVudENvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChcInZhbHVlXCIgaW4gcHJvcHMpIHtcbiAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwgXCJ2YWx1ZVwiLCBudWxsLCBwcm9wcy52YWx1ZSwgbmFtZXNwYWNlKTtcbiAgICAgIH1cbiAgICAgIGlmICh2bm9kZUhvb2sgPSBwcm9wcy5vblZub2RlQmVmb3JlTW91bnQpIHtcbiAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgZGVmKGVsLCBcIl9fdm5vZGVcIiwgdm5vZGUsIHRydWUpO1xuICAgICAgZGVmKGVsLCBcIl9fdnVlUGFyZW50Q29tcG9uZW50XCIsIHBhcmVudENvbXBvbmVudCwgdHJ1ZSk7XG4gICAgfVxuICAgIGlmIChkaXJzKSB7XG4gICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIFwiYmVmb3JlTW91bnRcIik7XG4gICAgfVxuICAgIGNvbnN0IG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzID0gbmVlZFRyYW5zaXRpb24ocGFyZW50U3VzcGVuc2UsIHRyYW5zaXRpb24pO1xuICAgIGlmIChuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcykge1xuICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihlbCk7XG4gICAgfVxuICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICBpZiAoKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVNb3VudGVkKSB8fCBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyB8fCBkaXJzKSB7XG4gICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICB2bm9kZUhvb2sgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgICAgIG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzICYmIHRyYW5zaXRpb24uZW50ZXIoZWwpO1xuICAgICAgICBkaXJzICYmIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgXCJtb3VudGVkXCIpO1xuICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgc2V0U2NvcGVJZCA9IChlbCwgdm5vZGUsIHNjb3BlSWQsIHNsb3RTY29wZUlkcywgcGFyZW50Q29tcG9uZW50KSA9PiB7XG4gICAgaWYgKHNjb3BlSWQpIHtcbiAgICAgIGhvc3RTZXRTY29wZUlkKGVsLCBzY29wZUlkKTtcbiAgICB9XG4gICAgaWYgKHNsb3RTY29wZUlkcykge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbG90U2NvcGVJZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaG9zdFNldFNjb3BlSWQoZWwsIHNsb3RTY29wZUlkc1tpXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChwYXJlbnRDb21wb25lbnQpIHtcbiAgICAgIGxldCBzdWJUcmVlID0gcGFyZW50Q29tcG9uZW50LnN1YlRyZWU7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBzdWJUcmVlLnBhdGNoRmxhZyA+IDAgJiYgc3ViVHJlZS5wYXRjaEZsYWcgJiAyMDQ4KSB7XG4gICAgICAgIHN1YlRyZWUgPSBmaWx0ZXJTaW5nbGVSb290KHN1YlRyZWUuY2hpbGRyZW4pIHx8IHN1YlRyZWU7XG4gICAgICB9XG4gICAgICBpZiAodm5vZGUgPT09IHN1YlRyZWUgfHwgaXNTdXNwZW5zZShzdWJUcmVlLnR5cGUpICYmIChzdWJUcmVlLnNzQ29udGVudCA9PT0gdm5vZGUgfHwgc3ViVHJlZS5zc0ZhbGxiYWNrID09PSB2bm9kZSkpIHtcbiAgICAgICAgY29uc3QgcGFyZW50Vk5vZGUgPSBwYXJlbnRDb21wb25lbnQudm5vZGU7XG4gICAgICAgIHNldFNjb3BlSWQoXG4gICAgICAgICAgZWwsXG4gICAgICAgICAgcGFyZW50Vk5vZGUsXG4gICAgICAgICAgcGFyZW50Vk5vZGUuc2NvcGVJZCxcbiAgICAgICAgICBwYXJlbnRWTm9kZS5zbG90U2NvcGVJZHMsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LnBhcmVudFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgbW91bnRDaGlsZHJlbiA9IChjaGlsZHJlbiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHN0YXJ0ID0gMCkgPT4ge1xuICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldID0gb3B0aW1pemVkID8gY2xvbmVJZk1vdW50ZWQoY2hpbGRyZW5baV0pIDogbm9ybWFsaXplVk5vZGUoY2hpbGRyZW5baV0pO1xuICAgICAgcGF0Y2goXG4gICAgICAgIG51bGwsXG4gICAgICAgIGNoaWxkLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHBhdGNoRWxlbWVudCA9IChuMSwgbjIsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBjb25zdCBlbCA9IG4yLmVsID0gbjEuZWw7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICBlbC5fX3Zub2RlID0gbjI7XG4gICAgfVxuICAgIGxldCB7IHBhdGNoRmxhZywgZHluYW1pY0NoaWxkcmVuLCBkaXJzIH0gPSBuMjtcbiAgICBwYXRjaEZsYWcgfD0gbjEucGF0Y2hGbGFnICYgMTY7XG4gICAgY29uc3Qgb2xkUHJvcHMgPSBuMS5wcm9wcyB8fCBFTVBUWV9PQko7XG4gICAgY29uc3QgbmV3UHJvcHMgPSBuMi5wcm9wcyB8fCBFTVBUWV9PQko7XG4gICAgbGV0IHZub2RlSG9vaztcbiAgICBwYXJlbnRDb21wb25lbnQgJiYgdG9nZ2xlUmVjdXJzZShwYXJlbnRDb21wb25lbnQsIGZhbHNlKTtcbiAgICBpZiAodm5vZGVIb29rID0gbmV3UHJvcHMub25Wbm9kZUJlZm9yZVVwZGF0ZSkge1xuICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCBuMiwgbjEpO1xuICAgIH1cbiAgICBpZiAoZGlycykge1xuICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayhuMiwgbjEsIHBhcmVudENvbXBvbmVudCwgXCJiZWZvcmVVcGRhdGVcIik7XG4gICAgfVxuICAgIHBhcmVudENvbXBvbmVudCAmJiB0b2dnbGVSZWN1cnNlKHBhcmVudENvbXBvbmVudCwgdHJ1ZSk7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgaXNIbXJVcGRhdGluZykge1xuICAgICAgcGF0Y2hGbGFnID0gMDtcbiAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xuICAgICAgZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKG9sZFByb3BzLmlubmVySFRNTCAmJiBuZXdQcm9wcy5pbm5lckhUTUwgPT0gbnVsbCB8fCBvbGRQcm9wcy50ZXh0Q29udGVudCAmJiBuZXdQcm9wcy50ZXh0Q29udGVudCA9PSBudWxsKSB7XG4gICAgICBob3N0U2V0RWxlbWVudFRleHQoZWwsIFwiXCIpO1xuICAgIH1cbiAgICBpZiAoZHluYW1pY0NoaWxkcmVuKSB7XG4gICAgICBwYXRjaEJsb2NrQ2hpbGRyZW4oXG4gICAgICAgIG4xLmR5bmFtaWNDaGlsZHJlbixcbiAgICAgICAgZHluYW1pY0NoaWxkcmVuLFxuICAgICAgICBlbCxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgcmVzb2x2ZUNoaWxkcmVuTmFtZXNwYWNlKG4yLCBuYW1lc3BhY2UpLFxuICAgICAgICBzbG90U2NvcGVJZHNcbiAgICAgICk7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKG4xLCBuMik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghb3B0aW1pemVkKSB7XG4gICAgICBwYXRjaENoaWxkcmVuKFxuICAgICAgICBuMSxcbiAgICAgICAgbjIsXG4gICAgICAgIGVsLFxuICAgICAgICBudWxsLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICByZXNvbHZlQ2hpbGRyZW5OYW1lc3BhY2UobjIsIG5hbWVzcGFjZSksXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgZmFsc2VcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChwYXRjaEZsYWcgPiAwKSB7XG4gICAgICBpZiAocGF0Y2hGbGFnICYgMTYpIHtcbiAgICAgICAgcGF0Y2hQcm9wcyhlbCwgb2xkUHJvcHMsIG5ld1Byb3BzLCBwYXJlbnRDb21wb25lbnQsIG5hbWVzcGFjZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocGF0Y2hGbGFnICYgMikge1xuICAgICAgICAgIGlmIChvbGRQcm9wcy5jbGFzcyAhPT0gbmV3UHJvcHMuY2xhc3MpIHtcbiAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsIFwiY2xhc3NcIiwgbnVsbCwgbmV3UHJvcHMuY2xhc3MsIG5hbWVzcGFjZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwYXRjaEZsYWcgJiA0KSB7XG4gICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwgXCJzdHlsZVwiLCBvbGRQcm9wcy5zdHlsZSwgbmV3UHJvcHMuc3R5bGUsIG5hbWVzcGFjZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDgpIHtcbiAgICAgICAgICBjb25zdCBwcm9wc1RvVXBkYXRlID0gbjIuZHluYW1pY1Byb3BzO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcHNUb1VwZGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gcHJvcHNUb1VwZGF0ZVtpXTtcbiAgICAgICAgICAgIGNvbnN0IHByZXYgPSBvbGRQcm9wc1trZXldO1xuICAgICAgICAgICAgY29uc3QgbmV4dCA9IG5ld1Byb3BzW2tleV07XG4gICAgICAgICAgICBpZiAobmV4dCAhPT0gcHJldiB8fCBrZXkgPT09IFwidmFsdWVcIikge1xuICAgICAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBrZXksIHByZXYsIG5leHQsIG5hbWVzcGFjZSwgcGFyZW50Q29tcG9uZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwYXRjaEZsYWcgJiAxKSB7XG4gICAgICAgIGlmIChuMS5jaGlsZHJlbiAhPT0gbjIuY2hpbGRyZW4pIHtcbiAgICAgICAgICBob3N0U2V0RWxlbWVudFRleHQoZWwsIG4yLmNoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIW9wdGltaXplZCAmJiBkeW5hbWljQ2hpbGRyZW4gPT0gbnVsbCkge1xuICAgICAgcGF0Y2hQcm9wcyhlbCwgb2xkUHJvcHMsIG5ld1Byb3BzLCBwYXJlbnRDb21wb25lbnQsIG5hbWVzcGFjZSk7XG4gICAgfVxuICAgIGlmICgodm5vZGVIb29rID0gbmV3UHJvcHMub25Wbm9kZVVwZGF0ZWQpIHx8IGRpcnMpIHtcbiAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHZub2RlSG9vayAmJiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIG4yLCBuMSk7XG4gICAgICAgIGRpcnMgJiYgaW52b2tlRGlyZWN0aXZlSG9vayhuMiwgbjEsIHBhcmVudENvbXBvbmVudCwgXCJ1cGRhdGVkXCIpO1xuICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcGF0Y2hCbG9ja0NoaWxkcmVuID0gKG9sZENoaWxkcmVuLCBuZXdDaGlsZHJlbiwgZmFsbGJhY2tDb250YWluZXIsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdDaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgb2xkVk5vZGUgPSBvbGRDaGlsZHJlbltpXTtcbiAgICAgIGNvbnN0IG5ld1ZOb2RlID0gbmV3Q2hpbGRyZW5baV07XG4gICAgICBjb25zdCBjb250YWluZXIgPSAoXG4gICAgICAgIC8vIG9sZFZOb2RlIG1heSBiZSBhbiBlcnJvcmVkIGFzeW5jIHNldHVwKCkgY29tcG9uZW50IGluc2lkZSBTdXNwZW5zZVxuICAgICAgICAvLyB3aGljaCB3aWxsIG5vdCBoYXZlIGEgbW91bnRlZCBlbGVtZW50XG4gICAgICAgIG9sZFZOb2RlLmVsICYmIC8vIC0gSW4gdGhlIGNhc2Ugb2YgYSBGcmFnbWVudCwgd2UgbmVlZCB0byBwcm92aWRlIHRoZSBhY3R1YWwgcGFyZW50XG4gICAgICAgIC8vIG9mIHRoZSBGcmFnbWVudCBpdHNlbGYgc28gaXQgY2FuIG1vdmUgaXRzIGNoaWxkcmVuLlxuICAgICAgICAob2xkVk5vZGUudHlwZSA9PT0gRnJhZ21lbnQgfHwgLy8gLSBJbiB0aGUgY2FzZSBvZiBkaWZmZXJlbnQgbm9kZXMsIHRoZXJlIGlzIGdvaW5nIHRvIGJlIGEgcmVwbGFjZW1lbnRcbiAgICAgICAgLy8gd2hpY2ggYWxzbyByZXF1aXJlcyB0aGUgY29ycmVjdCBwYXJlbnQgY29udGFpbmVyXG4gICAgICAgICFpc1NhbWVWTm9kZVR5cGUob2xkVk5vZGUsIG5ld1ZOb2RlKSB8fCAvLyAtIEluIHRoZSBjYXNlIG9mIGEgY29tcG9uZW50LCBpdCBjb3VsZCBjb250YWluIGFueXRoaW5nLlxuICAgICAgICBvbGRWTm9kZS5zaGFwZUZsYWcgJiAoNiB8IDY0KSkgPyBob3N0UGFyZW50Tm9kZShvbGRWTm9kZS5lbCkgOiAoXG4gICAgICAgICAgLy8gSW4gb3RoZXIgY2FzZXMsIHRoZSBwYXJlbnQgY29udGFpbmVyIGlzIG5vdCBhY3R1YWxseSB1c2VkIHNvIHdlXG4gICAgICAgICAgLy8ganVzdCBwYXNzIHRoZSBibG9jayBlbGVtZW50IGhlcmUgdG8gYXZvaWQgYSBET00gcGFyZW50Tm9kZSBjYWxsLlxuICAgICAgICAgIGZhbGxiYWNrQ29udGFpbmVyXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICBwYXRjaChcbiAgICAgICAgb2xkVk5vZGUsXG4gICAgICAgIG5ld1ZOb2RlLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICB0cnVlXG4gICAgICApO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcGF0Y2hQcm9wcyA9IChlbCwgb2xkUHJvcHMsIG5ld1Byb3BzLCBwYXJlbnRDb21wb25lbnQsIG5hbWVzcGFjZSkgPT4ge1xuICAgIGlmIChvbGRQcm9wcyAhPT0gbmV3UHJvcHMpIHtcbiAgICAgIGlmIChvbGRQcm9wcyAhPT0gRU1QVFlfT0JKKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9sZFByb3BzKSB7XG4gICAgICAgICAgaWYgKCFpc1Jlc2VydmVkUHJvcChrZXkpICYmICEoa2V5IGluIG5ld1Byb3BzKSkge1xuICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChcbiAgICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgb2xkUHJvcHNba2V5XSxcbiAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgICBwYXJlbnRDb21wb25lbnRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBuZXdQcm9wcykge1xuICAgICAgICBpZiAoaXNSZXNlcnZlZFByb3Aoa2V5KSkgY29udGludWU7XG4gICAgICAgIGNvbnN0IG5leHQgPSBuZXdQcm9wc1trZXldO1xuICAgICAgICBjb25zdCBwcmV2ID0gb2xkUHJvcHNba2V5XTtcbiAgICAgICAgaWYgKG5leHQgIT09IHByZXYgJiYga2V5ICE9PSBcInZhbHVlXCIpIHtcbiAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBrZXksIHByZXYsIG5leHQsIG5hbWVzcGFjZSwgcGFyZW50Q29tcG9uZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKFwidmFsdWVcIiBpbiBuZXdQcm9wcykge1xuICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBcInZhbHVlXCIsIG9sZFByb3BzLnZhbHVlLCBuZXdQcm9wcy52YWx1ZSwgbmFtZXNwYWNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IHByb2Nlc3NGcmFnbWVudCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgY29uc3QgZnJhZ21lbnRTdGFydEFuY2hvciA9IG4yLmVsID0gbjEgPyBuMS5lbCA6IGhvc3RDcmVhdGVUZXh0KFwiXCIpO1xuICAgIGNvbnN0IGZyYWdtZW50RW5kQW5jaG9yID0gbjIuYW5jaG9yID0gbjEgPyBuMS5hbmNob3IgOiBob3N0Q3JlYXRlVGV4dChcIlwiKTtcbiAgICBsZXQgeyBwYXRjaEZsYWcsIGR5bmFtaWNDaGlsZHJlbiwgc2xvdFNjb3BlSWRzOiBmcmFnbWVudFNsb3RTY29wZUlkcyB9ID0gbjI7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgLy8gIzU1MjMgZGV2IHJvb3QgZnJhZ21lbnQgbWF5IGluaGVyaXQgZGlyZWN0aXZlc1xuICAgIChpc0htclVwZGF0aW5nIHx8IHBhdGNoRmxhZyAmIDIwNDgpKSB7XG4gICAgICBwYXRjaEZsYWcgPSAwO1xuICAgICAgb3B0aW1pemVkID0gZmFsc2U7XG4gICAgICBkeW5hbWljQ2hpbGRyZW4gPSBudWxsO1xuICAgIH1cbiAgICBpZiAoZnJhZ21lbnRTbG90U2NvcGVJZHMpIHtcbiAgICAgIHNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkcyA/IHNsb3RTY29wZUlkcy5jb25jYXQoZnJhZ21lbnRTbG90U2NvcGVJZHMpIDogZnJhZ21lbnRTbG90U2NvcGVJZHM7XG4gICAgfVxuICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICBob3N0SW5zZXJ0KGZyYWdtZW50U3RhcnRBbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIGhvc3RJbnNlcnQoZnJhZ21lbnRFbmRBbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIG1vdW50Q2hpbGRyZW4oXG4gICAgICAgIC8vICMxMDAwN1xuICAgICAgICAvLyBzdWNoIGZyYWdtZW50IGxpa2UgYDw+PC8+YCB3aWxsIGJlIGNvbXBpbGVkIGludG9cbiAgICAgICAgLy8gYSBmcmFnbWVudCB3aGljaCBkb2Vzbid0IGhhdmUgYSBjaGlsZHJlbi5cbiAgICAgICAgLy8gSW4gdGhpcyBjYXNlIGZhbGxiYWNrIHRvIGFuIGVtcHR5IGFycmF5XG4gICAgICAgIG4yLmNoaWxkcmVuIHx8IFtdLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGZyYWdtZW50RW5kQW5jaG9yLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocGF0Y2hGbGFnID4gMCAmJiBwYXRjaEZsYWcgJiA2NCAmJiBkeW5hbWljQ2hpbGRyZW4gJiYgLy8gIzI3MTUgdGhlIHByZXZpb3VzIGZyYWdtZW50IGNvdWxkJ3ZlIGJlZW4gYSBCQUlMZWQgb25lIGFzIGEgcmVzdWx0XG4gICAgICAvLyBvZiByZW5kZXJTbG90KCkgd2l0aCBubyB2YWxpZCBjaGlsZHJlblxuICAgICAgbjEuZHluYW1pY0NoaWxkcmVuKSB7XG4gICAgICAgIHBhdGNoQmxvY2tDaGlsZHJlbihcbiAgICAgICAgICBuMS5keW5hbWljQ2hpbGRyZW4sXG4gICAgICAgICAgZHluYW1pY0NoaWxkcmVuLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkc1xuICAgICAgICApO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yKTtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAvLyAjMjA4MCBpZiB0aGUgc3RhYmxlIGZyYWdtZW50IGhhcyBhIGtleSwgaXQncyBhIDx0ZW1wbGF0ZSB2LWZvcj4gdGhhdCBtYXlcbiAgICAgICAgICAvLyAgZ2V0IG1vdmVkIGFyb3VuZC4gTWFrZSBzdXJlIGFsbCByb290IGxldmVsIHZub2RlcyBpbmhlcml0IGVsLlxuICAgICAgICAgIC8vICMyMTM0IG9yIGlmIGl0J3MgYSBjb21wb25lbnQgcm9vdCwgaXQgbWF5IGFsc28gZ2V0IG1vdmVkIGFyb3VuZFxuICAgICAgICAgIC8vIGFzIHRoZSBjb21wb25lbnQgaXMgYmVpbmcgbW92ZWQuXG4gICAgICAgICAgbjIua2V5ICE9IG51bGwgfHwgcGFyZW50Q29tcG9uZW50ICYmIG4yID09PSBwYXJlbnRDb21wb25lbnQuc3ViVHJlZVxuICAgICAgICApIHtcbiAgICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKFxuICAgICAgICAgICAgbjEsXG4gICAgICAgICAgICBuMixcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgIC8qIHNoYWxsb3cgKi9cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXRjaENoaWxkcmVuKFxuICAgICAgICAgIG4xLFxuICAgICAgICAgIG4yLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBmcmFnbWVudEVuZEFuY2hvcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IHByb2Nlc3NDb21wb25lbnQgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIG4yLnNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkcztcbiAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgaWYgKG4yLnNoYXBlRmxhZyAmIDUxMikge1xuICAgICAgICBwYXJlbnRDb21wb25lbnQuY3R4LmFjdGl2YXRlKFxuICAgICAgICAgIG4yLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbW91bnRDb21wb25lbnQoXG4gICAgICAgICAgbjIsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB1cGRhdGVDb21wb25lbnQobjEsIG4yLCBvcHRpbWl6ZWQpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgbW91bnRDb21wb25lbnQgPSAoaW5pdGlhbFZOb2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IChpbml0aWFsVk5vZGUuY29tcG9uZW50ID0gY3JlYXRlQ29tcG9uZW50SW5zdGFuY2UoXG4gICAgICBpbml0aWFsVk5vZGUsXG4gICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICBwYXJlbnRTdXNwZW5zZVxuICAgICkpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGluc3RhbmNlLnR5cGUuX19obXJJZCkge1xuICAgICAgcmVnaXN0ZXJITVIoaW5zdGFuY2UpO1xuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KGluaXRpYWxWTm9kZSk7XG4gICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBtb3VudGApO1xuICAgIH1cbiAgICBpZiAoaXNLZWVwQWxpdmUoaW5pdGlhbFZOb2RlKSkge1xuICAgICAgaW5zdGFuY2UuY3R4LnJlbmRlcmVyID0gaW50ZXJuYWxzO1xuICAgIH1cbiAgICB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBpbml0YCk7XG4gICAgICB9XG4gICAgICBzZXR1cENvbXBvbmVudChpbnN0YW5jZSwgZmFsc2UsIG9wdGltaXplZCk7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgaW5pdGApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaW5zdGFuY2UuYXN5bmNEZXApIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGlzSG1yVXBkYXRpbmcpIGluaXRpYWxWTm9kZS5lbCA9IG51bGw7XG4gICAgICBwYXJlbnRTdXNwZW5zZSAmJiBwYXJlbnRTdXNwZW5zZS5yZWdpc3RlckRlcChpbnN0YW5jZSwgc2V0dXBSZW5kZXJFZmZlY3QsIG9wdGltaXplZCk7XG4gICAgICBpZiAoIWluaXRpYWxWTm9kZS5lbCkge1xuICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9IGluc3RhbmNlLnN1YlRyZWUgPSBjcmVhdGVWTm9kZShDb21tZW50KTtcbiAgICAgICAgcHJvY2Vzc0NvbW1lbnROb2RlKG51bGwsIHBsYWNlaG9sZGVyLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldHVwUmVuZGVyRWZmZWN0KFxuICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgaW5pdGlhbFZOb2RlLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcbiAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBtb3VudGApO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgdXBkYXRlQ29tcG9uZW50ID0gKG4xLCBuMiwgb3B0aW1pemVkKSA9PiB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBuMi5jb21wb25lbnQgPSBuMS5jb21wb25lbnQ7XG4gICAgaWYgKHNob3VsZFVwZGF0ZUNvbXBvbmVudChuMSwgbjIsIG9wdGltaXplZCkpIHtcbiAgICAgIGlmIChpbnN0YW5jZS5hc3luY0RlcCAmJiAhaW5zdGFuY2UuYXN5bmNSZXNvbHZlZCkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dChuMik7XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlQ29tcG9uZW50UHJlUmVuZGVyKGluc3RhbmNlLCBuMiwgb3B0aW1pemVkKTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluc3RhbmNlLm5leHQgPSBuMjtcbiAgICAgICAgaW5zdGFuY2UudXBkYXRlKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG4yLmVsID0gbjEuZWw7XG4gICAgICBpbnN0YW5jZS52bm9kZSA9IG4yO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgc2V0dXBSZW5kZXJFZmZlY3QgPSAoaW5zdGFuY2UsIGluaXRpYWxWTm9kZSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIG9wdGltaXplZCkgPT4ge1xuICAgIGNvbnN0IGNvbXBvbmVudFVwZGF0ZUZuID0gKCkgPT4ge1xuICAgICAgaWYgKCFpbnN0YW5jZS5pc01vdW50ZWQpIHtcbiAgICAgICAgbGV0IHZub2RlSG9vaztcbiAgICAgICAgY29uc3QgeyBlbCwgcHJvcHMgfSA9IGluaXRpYWxWTm9kZTtcbiAgICAgICAgY29uc3QgeyBibSwgbSwgcGFyZW50LCByb290LCB0eXBlIH0gPSBpbnN0YW5jZTtcbiAgICAgICAgY29uc3QgaXNBc3luY1dyYXBwZXJWTm9kZSA9IGlzQXN5bmNXcmFwcGVyKGluaXRpYWxWTm9kZSk7XG4gICAgICAgIHRvZ2dsZVJlY3Vyc2UoaW5zdGFuY2UsIGZhbHNlKTtcbiAgICAgICAgaWYgKGJtKSB7XG4gICAgICAgICAgaW52b2tlQXJyYXlGbnMoYm0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNBc3luY1dyYXBwZXJWTm9kZSAmJiAodm5vZGVIb29rID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZUJlZm9yZU1vdW50KSkge1xuICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudCwgaW5pdGlhbFZOb2RlKTtcbiAgICAgICAgfVxuICAgICAgICB0b2dnbGVSZWN1cnNlKGluc3RhbmNlLCB0cnVlKTtcbiAgICAgICAgaWYgKGVsICYmIGh5ZHJhdGVOb2RlKSB7XG4gICAgICAgICAgY29uc3QgaHlkcmF0ZVN1YlRyZWUgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluc3RhbmNlLnN1YlRyZWUgPSByZW5kZXJDb21wb25lbnRSb290KGluc3RhbmNlKTtcbiAgICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYGh5ZHJhdGVgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGh5ZHJhdGVOb2RlKFxuICAgICAgICAgICAgICBlbCxcbiAgICAgICAgICAgICAgaW5zdGFuY2Uuc3ViVHJlZSxcbiAgICAgICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYGh5ZHJhdGVgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIGlmIChpc0FzeW5jV3JhcHBlclZOb2RlICYmIHR5cGUuX19hc3luY0h5ZHJhdGUpIHtcbiAgICAgICAgICAgIHR5cGUuX19hc3luY0h5ZHJhdGUoXG4gICAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICAgICAgaHlkcmF0ZVN1YlRyZWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGh5ZHJhdGVTdWJUcmVlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChyb290LmNlKSB7XG4gICAgICAgICAgICByb290LmNlLl9pbmplY3RDaGlsZFN0eWxlKHR5cGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHN1YlRyZWUgPSBpbnN0YW5jZS5zdWJUcmVlID0gcmVuZGVyQ29tcG9uZW50Um9vdChpbnN0YW5jZSk7XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYHBhdGNoYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhdGNoKFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHN1YlRyZWUsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHBhdGNoYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGluaXRpYWxWTm9kZS5lbCA9IHN1YlRyZWUuZWw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QobSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNBc3luY1dyYXBwZXJWTm9kZSAmJiAodm5vZGVIb29rID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZU1vdW50ZWQpKSB7XG4gICAgICAgICAgY29uc3Qgc2NvcGVkSW5pdGlhbFZOb2RlID0gaW5pdGlhbFZOb2RlO1xuICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChcbiAgICAgICAgICAgICgpID0+IGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudCwgc2NvcGVkSW5pdGlhbFZOb2RlKSxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5pdGlhbFZOb2RlLnNoYXBlRmxhZyAmIDI1NiB8fCBwYXJlbnQgJiYgaXNBc3luY1dyYXBwZXIocGFyZW50LnZub2RlKSAmJiBwYXJlbnQudm5vZGUuc2hhcGVGbGFnICYgMjU2KSB7XG4gICAgICAgICAgaW5zdGFuY2UuYSAmJiBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoaW5zdGFuY2UuYSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICB9XG4gICAgICAgIGluc3RhbmNlLmlzTW91bnRlZCA9IHRydWU7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgIGRldnRvb2xzQ29tcG9uZW50QWRkZWQoaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGluaXRpYWxWTm9kZSA9IGNvbnRhaW5lciA9IGFuY2hvciA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgeyBuZXh0LCBidSwgdSwgcGFyZW50LCB2bm9kZSB9ID0gaW5zdGFuY2U7XG4gICAgICAgIHtcbiAgICAgICAgICBjb25zdCBub25IeWRyYXRlZEFzeW5jUm9vdCA9IGxvY2F0ZU5vbkh5ZHJhdGVkQXN5bmNSb290KGluc3RhbmNlKTtcbiAgICAgICAgICBpZiAobm9uSHlkcmF0ZWRBc3luY1Jvb3QpIHtcbiAgICAgICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgICAgIG5leHQuZWwgPSB2bm9kZS5lbDtcbiAgICAgICAgICAgICAgdXBkYXRlQ29tcG9uZW50UHJlUmVuZGVyKGluc3RhbmNlLCBuZXh0LCBvcHRpbWl6ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9uSHlkcmF0ZWRBc3luY1Jvb3QuYXN5bmNEZXAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGlmICghaW5zdGFuY2UuaXNVbm1vdW50ZWQpIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRVcGRhdGVGbigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG9yaWdpbk5leHQgPSBuZXh0O1xuICAgICAgICBsZXQgdm5vZGVIb29rO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dChuZXh0IHx8IGluc3RhbmNlLnZub2RlKTtcbiAgICAgICAgfVxuICAgICAgICB0b2dnbGVSZWN1cnNlKGluc3RhbmNlLCBmYWxzZSk7XG4gICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgbmV4dC5lbCA9IHZub2RlLmVsO1xuICAgICAgICAgIHVwZGF0ZUNvbXBvbmVudFByZVJlbmRlcihpbnN0YW5jZSwgbmV4dCwgb3B0aW1pemVkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXh0ID0gdm5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJ1KSB7XG4gICAgICAgICAgaW52b2tlQXJyYXlGbnMoYnUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2bm9kZUhvb2sgPSBuZXh0LnByb3BzICYmIG5leHQucHJvcHMub25Wbm9kZUJlZm9yZVVwZGF0ZSkge1xuICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudCwgbmV4dCwgdm5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHRvZ2dsZVJlY3Vyc2UoaW5zdGFuY2UsIHRydWUpO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5leHRUcmVlID0gcmVuZGVyQ29tcG9uZW50Um9vdChpbnN0YW5jZSk7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByZXZUcmVlID0gaW5zdGFuY2Uuc3ViVHJlZTtcbiAgICAgICAgaW5zdGFuY2Uuc3ViVHJlZSA9IG5leHRUcmVlO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYHBhdGNoYCk7XG4gICAgICAgIH1cbiAgICAgICAgcGF0Y2goXG4gICAgICAgICAgcHJldlRyZWUsXG4gICAgICAgICAgbmV4dFRyZWUsXG4gICAgICAgICAgLy8gcGFyZW50IG1heSBoYXZlIGNoYW5nZWQgaWYgaXQncyBpbiBhIHRlbGVwb3J0XG4gICAgICAgICAgaG9zdFBhcmVudE5vZGUocHJldlRyZWUuZWwpLFxuICAgICAgICAgIC8vIGFuY2hvciBtYXkgaGF2ZSBjaGFuZ2VkIGlmIGl0J3MgaW4gYSBmcmFnbWVudFxuICAgICAgICAgIGdldE5leHRIb3N0Tm9kZShwcmV2VHJlZSksXG4gICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlXG4gICAgICAgICk7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHBhdGNoYCk7XG4gICAgICAgIH1cbiAgICAgICAgbmV4dC5lbCA9IG5leHRUcmVlLmVsO1xuICAgICAgICBpZiAob3JpZ2luTmV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgIHVwZGF0ZUhPQ0hvc3RFbChpbnN0YW5jZSwgbmV4dFRyZWUuZWwpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1KSB7XG4gICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KHUsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodm5vZGVIb29rID0gbmV4dC5wcm9wcyAmJiBuZXh0LnByb3BzLm9uVm5vZGVVcGRhdGVkKSB7XG4gICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KFxuICAgICAgICAgICAgKCkgPT4gaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBuZXh0LCB2bm9kZSksXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgICAgZGV2dG9vbHNDb21wb25lbnRVcGRhdGVkKGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIGluc3RhbmNlLnNjb3BlLm9uKCk7XG4gICAgY29uc3QgZWZmZWN0ID0gaW5zdGFuY2UuZWZmZWN0ID0gbmV3IFJlYWN0aXZlRWZmZWN0KGNvbXBvbmVudFVwZGF0ZUZuKTtcbiAgICBpbnN0YW5jZS5zY29wZS5vZmYoKTtcbiAgICBjb25zdCB1cGRhdGUgPSBpbnN0YW5jZS51cGRhdGUgPSBlZmZlY3QucnVuLmJpbmQoZWZmZWN0KTtcbiAgICBjb25zdCBqb2IgPSBpbnN0YW5jZS5qb2IgPSBlZmZlY3QucnVuSWZEaXJ0eS5iaW5kKGVmZmVjdCk7XG4gICAgam9iLmkgPSBpbnN0YW5jZTtcbiAgICBqb2IuaWQgPSBpbnN0YW5jZS51aWQ7XG4gICAgZWZmZWN0LnNjaGVkdWxlciA9ICgpID0+IHF1ZXVlSm9iKGpvYik7XG4gICAgdG9nZ2xlUmVjdXJzZShpbnN0YW5jZSwgdHJ1ZSk7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIGVmZmVjdC5vblRyYWNrID0gaW5zdGFuY2UucnRjID8gKGUpID0+IGludm9rZUFycmF5Rm5zKGluc3RhbmNlLnJ0YywgZSkgOiB2b2lkIDA7XG4gICAgICBlZmZlY3Qub25UcmlnZ2VyID0gaW5zdGFuY2UucnRnID8gKGUpID0+IGludm9rZUFycmF5Rm5zKGluc3RhbmNlLnJ0ZywgZSkgOiB2b2lkIDA7XG4gICAgfVxuICAgIHVwZGF0ZSgpO1xuICB9O1xuICBjb25zdCB1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIgPSAoaW5zdGFuY2UsIG5leHRWTm9kZSwgb3B0aW1pemVkKSA9PiB7XG4gICAgbmV4dFZOb2RlLmNvbXBvbmVudCA9IGluc3RhbmNlO1xuICAgIGNvbnN0IHByZXZQcm9wcyA9IGluc3RhbmNlLnZub2RlLnByb3BzO1xuICAgIGluc3RhbmNlLnZub2RlID0gbmV4dFZOb2RlO1xuICAgIGluc3RhbmNlLm5leHQgPSBudWxsO1xuICAgIHVwZGF0ZVByb3BzKGluc3RhbmNlLCBuZXh0Vk5vZGUucHJvcHMsIHByZXZQcm9wcywgb3B0aW1pemVkKTtcbiAgICB1cGRhdGVTbG90cyhpbnN0YW5jZSwgbmV4dFZOb2RlLmNoaWxkcmVuLCBvcHRpbWl6ZWQpO1xuICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICBmbHVzaFByZUZsdXNoQ2JzKGluc3RhbmNlKTtcbiAgICByZXNldFRyYWNraW5nKCk7XG4gIH07XG4gIGNvbnN0IHBhdGNoQ2hpbGRyZW4gPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCA9IGZhbHNlKSA9PiB7XG4gICAgY29uc3QgYzEgPSBuMSAmJiBuMS5jaGlsZHJlbjtcbiAgICBjb25zdCBwcmV2U2hhcGVGbGFnID0gbjEgPyBuMS5zaGFwZUZsYWcgOiAwO1xuICAgIGNvbnN0IGMyID0gbjIuY2hpbGRyZW47XG4gICAgY29uc3QgeyBwYXRjaEZsYWcsIHNoYXBlRmxhZyB9ID0gbjI7XG4gICAgaWYgKHBhdGNoRmxhZyA+IDApIHtcbiAgICAgIGlmIChwYXRjaEZsYWcgJiAxMjgpIHtcbiAgICAgICAgcGF0Y2hLZXllZENoaWxkcmVuKFxuICAgICAgICAgIGMxLFxuICAgICAgICAgIGMyLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAocGF0Y2hGbGFnICYgMjU2KSB7XG4gICAgICAgIHBhdGNoVW5rZXllZENoaWxkcmVuKFxuICAgICAgICAgIGMxLFxuICAgICAgICAgIGMyLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNoYXBlRmxhZyAmIDgpIHtcbiAgICAgIGlmIChwcmV2U2hhcGVGbGFnICYgMTYpIHtcbiAgICAgICAgdW5tb3VudENoaWxkcmVuKGMxLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIH1cbiAgICAgIGlmIChjMiAhPT0gYzEpIHtcbiAgICAgICAgaG9zdFNldEVsZW1lbnRUZXh0KGNvbnRhaW5lciwgYzIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocHJldlNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAxNikge1xuICAgICAgICAgIHBhdGNoS2V5ZWRDaGlsZHJlbihcbiAgICAgICAgICAgIGMxLFxuICAgICAgICAgICAgYzIsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdW5tb3VudENoaWxkcmVuKGMxLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHByZXZTaGFwZUZsYWcgJiA4KSB7XG4gICAgICAgICAgaG9zdFNldEVsZW1lbnRUZXh0KGNvbnRhaW5lciwgXCJcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICAgICAgbW91bnRDaGlsZHJlbihcbiAgICAgICAgICAgIGMyLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBwYXRjaFVua2V5ZWRDaGlsZHJlbiA9IChjMSwgYzIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgYzEgPSBjMSB8fCBFTVBUWV9BUlI7XG4gICAgYzIgPSBjMiB8fCBFTVBUWV9BUlI7XG4gICAgY29uc3Qgb2xkTGVuZ3RoID0gYzEubGVuZ3RoO1xuICAgIGNvbnN0IG5ld0xlbmd0aCA9IGMyLmxlbmd0aDtcbiAgICBjb25zdCBjb21tb25MZW5ndGggPSBNYXRoLm1pbihvbGRMZW5ndGgsIG5ld0xlbmd0aCk7XG4gICAgbGV0IGk7XG4gICAgZm9yIChpID0gMDsgaSA8IGNvbW1vbkxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBuZXh0Q2hpbGQgPSBjMltpXSA9IG9wdGltaXplZCA/IGNsb25lSWZNb3VudGVkKGMyW2ldKSA6IG5vcm1hbGl6ZVZOb2RlKGMyW2ldKTtcbiAgICAgIHBhdGNoKFxuICAgICAgICBjMVtpXSxcbiAgICAgICAgbmV4dENoaWxkLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChvbGRMZW5ndGggPiBuZXdMZW5ndGgpIHtcbiAgICAgIHVubW91bnRDaGlsZHJlbihcbiAgICAgICAgYzEsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIHRydWUsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBjb21tb25MZW5ndGhcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1vdW50Q2hpbGRyZW4oXG4gICAgICAgIGMyLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZCxcbiAgICAgICAgY29tbW9uTGVuZ3RoXG4gICAgICApO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcGF0Y2hLZXllZENoaWxkcmVuID0gKGMxLCBjMiwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBsZXQgaSA9IDA7XG4gICAgY29uc3QgbDIgPSBjMi5sZW5ndGg7XG4gICAgbGV0IGUxID0gYzEubGVuZ3RoIC0gMTtcbiAgICBsZXQgZTIgPSBsMiAtIDE7XG4gICAgd2hpbGUgKGkgPD0gZTEgJiYgaSA8PSBlMikge1xuICAgICAgY29uc3QgbjEgPSBjMVtpXTtcbiAgICAgIGNvbnN0IG4yID0gYzJbaV0gPSBvcHRpbWl6ZWQgPyBjbG9uZUlmTW91bnRlZChjMltpXSkgOiBub3JtYWxpemVWTm9kZShjMltpXSk7XG4gICAgICBpZiAoaXNTYW1lVk5vZGVUeXBlKG4xLCBuMikpIHtcbiAgICAgICAgcGF0Y2goXG4gICAgICAgICAgbjEsXG4gICAgICAgICAgbjIsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGkrKztcbiAgICB9XG4gICAgd2hpbGUgKGkgPD0gZTEgJiYgaSA8PSBlMikge1xuICAgICAgY29uc3QgbjEgPSBjMVtlMV07XG4gICAgICBjb25zdCBuMiA9IGMyW2UyXSA9IG9wdGltaXplZCA/IGNsb25lSWZNb3VudGVkKGMyW2UyXSkgOiBub3JtYWxpemVWTm9kZShjMltlMl0pO1xuICAgICAgaWYgKGlzU2FtZVZOb2RlVHlwZShuMSwgbjIpKSB7XG4gICAgICAgIHBhdGNoKFxuICAgICAgICAgIG4xLFxuICAgICAgICAgIG4yLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBlMS0tO1xuICAgICAgZTItLTtcbiAgICB9XG4gICAgaWYgKGkgPiBlMSkge1xuICAgICAgaWYgKGkgPD0gZTIpIHtcbiAgICAgICAgY29uc3QgbmV4dFBvcyA9IGUyICsgMTtcbiAgICAgICAgY29uc3QgYW5jaG9yID0gbmV4dFBvcyA8IGwyID8gYzJbbmV4dFBvc10uZWwgOiBwYXJlbnRBbmNob3I7XG4gICAgICAgIHdoaWxlIChpIDw9IGUyKSB7XG4gICAgICAgICAgcGF0Y2goXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgYzJbaV0gPSBvcHRpbWl6ZWQgPyBjbG9uZUlmTW91bnRlZChjMltpXSkgOiBub3JtYWxpemVWTm9kZShjMltpXSksXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpID4gZTIpIHtcbiAgICAgIHdoaWxlIChpIDw9IGUxKSB7XG4gICAgICAgIHVubW91bnQoYzFbaV0sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHMxID0gaTtcbiAgICAgIGNvbnN0IHMyID0gaTtcbiAgICAgIGNvbnN0IGtleVRvTmV3SW5kZXhNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgICAgZm9yIChpID0gczI7IGkgPD0gZTI7IGkrKykge1xuICAgICAgICBjb25zdCBuZXh0Q2hpbGQgPSBjMltpXSA9IG9wdGltaXplZCA/IGNsb25lSWZNb3VudGVkKGMyW2ldKSA6IG5vcm1hbGl6ZVZOb2RlKGMyW2ldKTtcbiAgICAgICAgaWYgKG5leHRDaGlsZC5rZXkgIT0gbnVsbCkge1xuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGtleVRvTmV3SW5kZXhNYXAuaGFzKG5leHRDaGlsZC5rZXkpKSB7XG4gICAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICAgIGBEdXBsaWNhdGUga2V5cyBmb3VuZCBkdXJpbmcgdXBkYXRlOmAsXG4gICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KG5leHRDaGlsZC5rZXkpLFxuICAgICAgICAgICAgICBgTWFrZSBzdXJlIGtleXMgYXJlIHVuaXF1ZS5gXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBrZXlUb05ld0luZGV4TWFwLnNldChuZXh0Q2hpbGQua2V5LCBpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGV0IGo7XG4gICAgICBsZXQgcGF0Y2hlZCA9IDA7XG4gICAgICBjb25zdCB0b0JlUGF0Y2hlZCA9IGUyIC0gczIgKyAxO1xuICAgICAgbGV0IG1vdmVkID0gZmFsc2U7XG4gICAgICBsZXQgbWF4TmV3SW5kZXhTb0ZhciA9IDA7XG4gICAgICBjb25zdCBuZXdJbmRleFRvT2xkSW5kZXhNYXAgPSBuZXcgQXJyYXkodG9CZVBhdGNoZWQpO1xuICAgICAgZm9yIChpID0gMDsgaSA8IHRvQmVQYXRjaGVkOyBpKyspIG5ld0luZGV4VG9PbGRJbmRleE1hcFtpXSA9IDA7XG4gICAgICBmb3IgKGkgPSBzMTsgaSA8PSBlMTsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHByZXZDaGlsZCA9IGMxW2ldO1xuICAgICAgICBpZiAocGF0Y2hlZCA+PSB0b0JlUGF0Y2hlZCkge1xuICAgICAgICAgIHVubW91bnQocHJldkNoaWxkLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbmV3SW5kZXg7XG4gICAgICAgIGlmIChwcmV2Q2hpbGQua2V5ICE9IG51bGwpIHtcbiAgICAgICAgICBuZXdJbmRleCA9IGtleVRvTmV3SW5kZXhNYXAuZ2V0KHByZXZDaGlsZC5rZXkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZvciAoaiA9IHMyOyBqIDw9IGUyOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChuZXdJbmRleFRvT2xkSW5kZXhNYXBbaiAtIHMyXSA9PT0gMCAmJiBpc1NhbWVWTm9kZVR5cGUocHJldkNoaWxkLCBjMltqXSkpIHtcbiAgICAgICAgICAgICAgbmV3SW5kZXggPSBqO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5ld0luZGV4ID09PSB2b2lkIDApIHtcbiAgICAgICAgICB1bm1vdW50KHByZXZDaGlsZCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3SW5kZXhUb09sZEluZGV4TWFwW25ld0luZGV4IC0gczJdID0gaSArIDE7XG4gICAgICAgICAgaWYgKG5ld0luZGV4ID49IG1heE5ld0luZGV4U29GYXIpIHtcbiAgICAgICAgICAgIG1heE5ld0luZGV4U29GYXIgPSBuZXdJbmRleDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbW92ZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXRjaChcbiAgICAgICAgICAgIHByZXZDaGlsZCxcbiAgICAgICAgICAgIGMyW25ld0luZGV4XSxcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgICAgcGF0Y2hlZCsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBpbmNyZWFzaW5nTmV3SW5kZXhTZXF1ZW5jZSA9IG1vdmVkID8gZ2V0U2VxdWVuY2UobmV3SW5kZXhUb09sZEluZGV4TWFwKSA6IEVNUFRZX0FSUjtcbiAgICAgIGogPSBpbmNyZWFzaW5nTmV3SW5kZXhTZXF1ZW5jZS5sZW5ndGggLSAxO1xuICAgICAgZm9yIChpID0gdG9CZVBhdGNoZWQgLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBjb25zdCBuZXh0SW5kZXggPSBzMiArIGk7XG4gICAgICAgIGNvbnN0IG5leHRDaGlsZCA9IGMyW25leHRJbmRleF07XG4gICAgICAgIGNvbnN0IGFuY2hvciA9IG5leHRJbmRleCArIDEgPCBsMiA/IGMyW25leHRJbmRleCArIDFdLmVsIDogcGFyZW50QW5jaG9yO1xuICAgICAgICBpZiAobmV3SW5kZXhUb09sZEluZGV4TWFwW2ldID09PSAwKSB7XG4gICAgICAgICAgcGF0Y2goXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgbmV4dENoaWxkLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKG1vdmVkKSB7XG4gICAgICAgICAgaWYgKGogPCAwIHx8IGkgIT09IGluY3JlYXNpbmdOZXdJbmRleFNlcXVlbmNlW2pdKSB7XG4gICAgICAgICAgICBtb3ZlKG5leHRDaGlsZCwgY29udGFpbmVyLCBhbmNob3IsIDIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBqLS07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBtb3ZlID0gKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUsIHBhcmVudFN1c3BlbnNlID0gbnVsbCkgPT4ge1xuICAgIGNvbnN0IHsgZWwsIHR5cGUsIHRyYW5zaXRpb24sIGNoaWxkcmVuLCBzaGFwZUZsYWcgfSA9IHZub2RlO1xuICAgIGlmIChzaGFwZUZsYWcgJiA2KSB7XG4gICAgICBtb3ZlKHZub2RlLmNvbXBvbmVudC5zdWJUcmVlLCBjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoc2hhcGVGbGFnICYgMTI4KSB7XG4gICAgICB2bm9kZS5zdXNwZW5zZS5tb3ZlKGNvbnRhaW5lciwgYW5jaG9yLCBtb3ZlVHlwZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChzaGFwZUZsYWcgJiA2NCkge1xuICAgICAgdHlwZS5tb3ZlKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgaW50ZXJuYWxzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09IEZyYWdtZW50KSB7XG4gICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG1vdmUoY2hpbGRyZW5baV0sIGNvbnRhaW5lciwgYW5jaG9yLCBtb3ZlVHlwZSk7XG4gICAgICB9XG4gICAgICBob3N0SW5zZXJ0KHZub2RlLmFuY2hvciwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gU3RhdGljKSB7XG4gICAgICBtb3ZlU3RhdGljTm9kZSh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBuZWVkVHJhbnNpdGlvbjIgPSBtb3ZlVHlwZSAhPT0gMiAmJiBzaGFwZUZsYWcgJiAxICYmIHRyYW5zaXRpb247XG4gICAgaWYgKG5lZWRUcmFuc2l0aW9uMikge1xuICAgICAgaWYgKG1vdmVUeXBlID09PSAwKSB7XG4gICAgICAgIHRyYW5zaXRpb24uYmVmb3JlRW50ZXIoZWwpO1xuICAgICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB0cmFuc2l0aW9uLmVudGVyKGVsKSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgeyBsZWF2ZSwgZGVsYXlMZWF2ZSwgYWZ0ZXJMZWF2ZSB9ID0gdHJhbnNpdGlvbjtcbiAgICAgICAgY29uc3QgcmVtb3ZlMiA9ICgpID0+IGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgY29uc3QgcGVyZm9ybUxlYXZlID0gKCkgPT4ge1xuICAgICAgICAgIGxlYXZlKGVsLCAoKSA9PiB7XG4gICAgICAgICAgICByZW1vdmUyKCk7XG4gICAgICAgICAgICBhZnRlckxlYXZlICYmIGFmdGVyTGVhdmUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGRlbGF5TGVhdmUpIHtcbiAgICAgICAgICBkZWxheUxlYXZlKGVsLCByZW1vdmUyLCBwZXJmb3JtTGVhdmUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlcmZvcm1MZWF2ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHVubW91bnQgPSAodm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlID0gZmFsc2UsIG9wdGltaXplZCA9IGZhbHNlKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgdHlwZSxcbiAgICAgIHByb3BzLFxuICAgICAgcmVmLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBkeW5hbWljQ2hpbGRyZW4sXG4gICAgICBzaGFwZUZsYWcsXG4gICAgICBwYXRjaEZsYWcsXG4gICAgICBkaXJzLFxuICAgICAgY2FjaGVJbmRleFxuICAgIH0gPSB2bm9kZTtcbiAgICBpZiAocGF0Y2hGbGFnID09PSAtMikge1xuICAgICAgb3B0aW1pemVkID0gZmFsc2U7XG4gICAgfVxuICAgIGlmIChyZWYgIT0gbnVsbCkge1xuICAgICAgc2V0UmVmKHJlZiwgbnVsbCwgcGFyZW50U3VzcGVuc2UsIHZub2RlLCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKGNhY2hlSW5kZXggIT0gbnVsbCkge1xuICAgICAgcGFyZW50Q29tcG9uZW50LnJlbmRlckNhY2hlW2NhY2hlSW5kZXhdID0gdm9pZCAwO1xuICAgIH1cbiAgICBpZiAoc2hhcGVGbGFnICYgMjU2KSB7XG4gICAgICBwYXJlbnRDb21wb25lbnQuY3R4LmRlYWN0aXZhdGUodm5vZGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzaG91bGRJbnZva2VEaXJzID0gc2hhcGVGbGFnICYgMSAmJiBkaXJzO1xuICAgIGNvbnN0IHNob3VsZEludm9rZVZub2RlSG9vayA9ICFpc0FzeW5jV3JhcHBlcih2bm9kZSk7XG4gICAgbGV0IHZub2RlSG9vaztcbiAgICBpZiAoc2hvdWxkSW52b2tlVm5vZGVIb29rICYmICh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlQmVmb3JlVW5tb3VudCkpIHtcbiAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xuICAgIH1cbiAgICBpZiAoc2hhcGVGbGFnICYgNikge1xuICAgICAgdW5tb3VudENvbXBvbmVudCh2bm9kZS5jb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzaGFwZUZsYWcgJiAxMjgpIHtcbiAgICAgICAgdm5vZGUuc3VzcGVuc2UudW5tb3VudChwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoc2hvdWxkSW52b2tlRGlycykge1xuICAgICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIFwiYmVmb3JlVW5tb3VudFwiKTtcbiAgICAgIH1cbiAgICAgIGlmIChzaGFwZUZsYWcgJiA2NCkge1xuICAgICAgICB2bm9kZS50eXBlLnJlbW92ZShcbiAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgaW50ZXJuYWxzLFxuICAgICAgICAgIGRvUmVtb3ZlXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKGR5bmFtaWNDaGlsZHJlbiAmJiAvLyAjNTE1NFxuICAgICAgLy8gd2hlbiB2LW9uY2UgaXMgdXNlZCBpbnNpZGUgYSBibG9jaywgc2V0QmxvY2tUcmFja2luZygtMSkgbWFya3MgdGhlXG4gICAgICAvLyBwYXJlbnQgYmxvY2sgd2l0aCBoYXNPbmNlOiB0cnVlXG4gICAgICAvLyBzbyB0aGF0IGl0IGRvZXNuJ3QgdGFrZSB0aGUgZmFzdCBwYXRoIGR1cmluZyB1bm1vdW50IC0gb3RoZXJ3aXNlXG4gICAgICAvLyBjb21wb25lbnRzIG5lc3RlZCBpbiB2LW9uY2UgYXJlIG5ldmVyIHVubW91bnRlZC5cbiAgICAgICFkeW5hbWljQ2hpbGRyZW4uaGFzT25jZSAmJiAvLyAjMTE1MzogZmFzdCBwYXRoIHNob3VsZCBub3QgYmUgdGFrZW4gZm9yIG5vbi1zdGFibGUgKHYtZm9yKSBmcmFnbWVudHNcbiAgICAgICh0eXBlICE9PSBGcmFnbWVudCB8fCBwYXRjaEZsYWcgPiAwICYmIHBhdGNoRmxhZyAmIDY0KSkge1xuICAgICAgICB1bm1vdW50Q2hpbGRyZW4oXG4gICAgICAgICAgZHluYW1pY0NoaWxkcmVuLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICB0cnVlXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IEZyYWdtZW50ICYmIHBhdGNoRmxhZyAmICgxMjggfCAyNTYpIHx8ICFvcHRpbWl6ZWQgJiYgc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgICAgdW5tb3VudENoaWxkcmVuKGNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIH1cbiAgICAgIGlmIChkb1JlbW92ZSkge1xuICAgICAgICByZW1vdmUodm5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2hvdWxkSW52b2tlVm5vZGVIb29rICYmICh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlVW5tb3VudGVkKSB8fCBzaG91bGRJbnZva2VEaXJzKSB7XG4gICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICB2bm9kZUhvb2sgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgICAgIHNob3VsZEludm9rZURpcnMgJiYgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBcInVubW91bnRlZFwiKTtcbiAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHJlbW92ZSA9ICh2bm9kZSkgPT4ge1xuICAgIGNvbnN0IHsgdHlwZSwgZWwsIGFuY2hvciwgdHJhbnNpdGlvbiB9ID0gdm5vZGU7XG4gICAgaWYgKHR5cGUgPT09IEZyYWdtZW50KSB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB2bm9kZS5wYXRjaEZsYWcgPiAwICYmIHZub2RlLnBhdGNoRmxhZyAmIDIwNDggJiYgdHJhbnNpdGlvbiAmJiAhdHJhbnNpdGlvbi5wZXJzaXN0ZWQpIHtcbiAgICAgICAgdm5vZGUuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQpID0+IHtcbiAgICAgICAgICBpZiAoY2hpbGQudHlwZSA9PT0gQ29tbWVudCkge1xuICAgICAgICAgICAgaG9zdFJlbW92ZShjaGlsZC5lbCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbW92ZShjaGlsZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbW92ZUZyYWdtZW50KGVsLCBhbmNob3IpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gU3RhdGljKSB7XG4gICAgICByZW1vdmVTdGF0aWNOb2RlKHZub2RlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGVyZm9ybVJlbW92ZSA9ICgpID0+IHtcbiAgICAgIGhvc3RSZW1vdmUoZWwpO1xuICAgICAgaWYgKHRyYW5zaXRpb24gJiYgIXRyYW5zaXRpb24ucGVyc2lzdGVkICYmIHRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSkge1xuICAgICAgICB0cmFuc2l0aW9uLmFmdGVyTGVhdmUoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxICYmIHRyYW5zaXRpb24gJiYgIXRyYW5zaXRpb24ucGVyc2lzdGVkKSB7XG4gICAgICBjb25zdCB7IGxlYXZlLCBkZWxheUxlYXZlIH0gPSB0cmFuc2l0aW9uO1xuICAgICAgY29uc3QgcGVyZm9ybUxlYXZlID0gKCkgPT4gbGVhdmUoZWwsIHBlcmZvcm1SZW1vdmUpO1xuICAgICAgaWYgKGRlbGF5TGVhdmUpIHtcbiAgICAgICAgZGVsYXlMZWF2ZSh2bm9kZS5lbCwgcGVyZm9ybVJlbW92ZSwgcGVyZm9ybUxlYXZlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlcmZvcm1MZWF2ZSgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZXJmb3JtUmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuICBjb25zdCByZW1vdmVGcmFnbWVudCA9IChjdXIsIGVuZCkgPT4ge1xuICAgIGxldCBuZXh0O1xuICAgIHdoaWxlIChjdXIgIT09IGVuZCkge1xuICAgICAgbmV4dCA9IGhvc3ROZXh0U2libGluZyhjdXIpO1xuICAgICAgaG9zdFJlbW92ZShjdXIpO1xuICAgICAgY3VyID0gbmV4dDtcbiAgICB9XG4gICAgaG9zdFJlbW92ZShlbmQpO1xuICB9O1xuICBjb25zdCB1bm1vdW50Q29tcG9uZW50ID0gKGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpID0+IHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpbnN0YW5jZS50eXBlLl9faG1ySWQpIHtcbiAgICAgIHVucmVnaXN0ZXJITVIoaW5zdGFuY2UpO1xuICAgIH1cbiAgICBjb25zdCB7IGJ1bSwgc2NvcGUsIGpvYiwgc3ViVHJlZSwgdW0sIG0sIGEgfSA9IGluc3RhbmNlO1xuICAgIGludmFsaWRhdGVNb3VudChtKTtcbiAgICBpbnZhbGlkYXRlTW91bnQoYSk7XG4gICAgaWYgKGJ1bSkge1xuICAgICAgaW52b2tlQXJyYXlGbnMoYnVtKTtcbiAgICB9XG4gICAgc2NvcGUuc3RvcCgpO1xuICAgIGlmIChqb2IpIHtcbiAgICAgIGpvYi5mbGFncyB8PSA4O1xuICAgICAgdW5tb3VudChzdWJUcmVlLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcbiAgICB9XG4gICAgaWYgKHVtKSB7XG4gICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QodW0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICB9XG4gICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgIGluc3RhbmNlLmlzVW5tb3VudGVkID0gdHJ1ZTtcbiAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgaWYgKHBhcmVudFN1c3BlbnNlICYmIHBhcmVudFN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggJiYgIXBhcmVudFN1c3BlbnNlLmlzVW5tb3VudGVkICYmIGluc3RhbmNlLmFzeW5jRGVwICYmICFpbnN0YW5jZS5hc3luY1Jlc29sdmVkICYmIGluc3RhbmNlLnN1c3BlbnNlSWQgPT09IHBhcmVudFN1c3BlbnNlLnBlbmRpbmdJZCkge1xuICAgICAgcGFyZW50U3VzcGVuc2UuZGVwcy0tO1xuICAgICAgaWYgKHBhcmVudFN1c3BlbnNlLmRlcHMgPT09IDApIHtcbiAgICAgICAgcGFyZW50U3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgIGRldnRvb2xzQ29tcG9uZW50UmVtb3ZlZChpbnN0YW5jZSk7XG4gICAgfVxuICB9O1xuICBjb25zdCB1bm1vdW50Q2hpbGRyZW4gPSAoY2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlID0gZmFsc2UsIG9wdGltaXplZCA9IGZhbHNlLCBzdGFydCA9IDApID0+IHtcbiAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgdW5tb3VudChjaGlsZHJlbltpXSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUsIG9wdGltaXplZCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBnZXROZXh0SG9zdE5vZGUgPSAodm5vZGUpID0+IHtcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgNikge1xuICAgICAgcmV0dXJuIGdldE5leHRIb3N0Tm9kZSh2bm9kZS5jb21wb25lbnQuc3ViVHJlZSk7XG4gICAgfVxuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxMjgpIHtcbiAgICAgIHJldHVybiB2bm9kZS5zdXNwZW5zZS5uZXh0KCk7XG4gICAgfVxuICAgIGNvbnN0IGVsID0gaG9zdE5leHRTaWJsaW5nKHZub2RlLmFuY2hvciB8fCB2bm9kZS5lbCk7XG4gICAgY29uc3QgdGVsZXBvcnRFbmQgPSBlbCAmJiBlbFtUZWxlcG9ydEVuZEtleV07XG4gICAgcmV0dXJuIHRlbGVwb3J0RW5kID8gaG9zdE5leHRTaWJsaW5nKHRlbGVwb3J0RW5kKSA6IGVsO1xuICB9O1xuICBsZXQgaXNGbHVzaGluZyA9IGZhbHNlO1xuICBjb25zdCByZW5kZXIgPSAodm5vZGUsIGNvbnRhaW5lciwgbmFtZXNwYWNlKSA9PiB7XG4gICAgaWYgKHZub2RlID09IG51bGwpIHtcbiAgICAgIGlmIChjb250YWluZXIuX3Zub2RlKSB7XG4gICAgICAgIHVubW91bnQoY29udGFpbmVyLl92bm9kZSwgbnVsbCwgbnVsbCwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhdGNoKFxuICAgICAgICBjb250YWluZXIuX3Zub2RlIHx8IG51bGwsXG4gICAgICAgIHZub2RlLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIG51bGwsXG4gICAgICAgIG51bGwsXG4gICAgICAgIG51bGwsXG4gICAgICAgIG5hbWVzcGFjZVxuICAgICAgKTtcbiAgICB9XG4gICAgY29udGFpbmVyLl92bm9kZSA9IHZub2RlO1xuICAgIGlmICghaXNGbHVzaGluZykge1xuICAgICAgaXNGbHVzaGluZyA9IHRydWU7XG4gICAgICBmbHVzaFByZUZsdXNoQ2JzKCk7XG4gICAgICBmbHVzaFBvc3RGbHVzaENicygpO1xuICAgICAgaXNGbHVzaGluZyA9IGZhbHNlO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgaW50ZXJuYWxzID0ge1xuICAgIHA6IHBhdGNoLFxuICAgIHVtOiB1bm1vdW50LFxuICAgIG06IG1vdmUsXG4gICAgcjogcmVtb3ZlLFxuICAgIG10OiBtb3VudENvbXBvbmVudCxcbiAgICBtYzogbW91bnRDaGlsZHJlbixcbiAgICBwYzogcGF0Y2hDaGlsZHJlbixcbiAgICBwYmM6IHBhdGNoQmxvY2tDaGlsZHJlbixcbiAgICBuOiBnZXROZXh0SG9zdE5vZGUsXG4gICAgbzogb3B0aW9uc1xuICB9O1xuICBsZXQgaHlkcmF0ZTtcbiAgbGV0IGh5ZHJhdGVOb2RlO1xuICBpZiAoY3JlYXRlSHlkcmF0aW9uRm5zKSB7XG4gICAgW2h5ZHJhdGUsIGh5ZHJhdGVOb2RlXSA9IGNyZWF0ZUh5ZHJhdGlvbkZucyhcbiAgICAgIGludGVybmFsc1xuICAgICk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICByZW5kZXIsXG4gICAgaHlkcmF0ZSxcbiAgICBjcmVhdGVBcHA6IGNyZWF0ZUFwcEFQSShyZW5kZXIsIGh5ZHJhdGUpXG4gIH07XG59XG5mdW5jdGlvbiByZXNvbHZlQ2hpbGRyZW5OYW1lc3BhY2UoeyB0eXBlLCBwcm9wcyB9LCBjdXJyZW50TmFtZXNwYWNlKSB7XG4gIHJldHVybiBjdXJyZW50TmFtZXNwYWNlID09PSBcInN2Z1wiICYmIHR5cGUgPT09IFwiZm9yZWlnbk9iamVjdFwiIHx8IGN1cnJlbnROYW1lc3BhY2UgPT09IFwibWF0aG1sXCIgJiYgdHlwZSA9PT0gXCJhbm5vdGF0aW9uLXhtbFwiICYmIHByb3BzICYmIHByb3BzLmVuY29kaW5nICYmIHByb3BzLmVuY29kaW5nLmluY2x1ZGVzKFwiaHRtbFwiKSA/IHZvaWQgMCA6IGN1cnJlbnROYW1lc3BhY2U7XG59XG5mdW5jdGlvbiB0b2dnbGVSZWN1cnNlKHsgZWZmZWN0LCBqb2IgfSwgYWxsb3dlZCkge1xuICBpZiAoYWxsb3dlZCkge1xuICAgIGVmZmVjdC5mbGFncyB8PSAzMjtcbiAgICBqb2IuZmxhZ3MgfD0gNDtcbiAgfSBlbHNlIHtcbiAgICBlZmZlY3QuZmxhZ3MgJj0gfjMyO1xuICAgIGpvYi5mbGFncyAmPSB+NDtcbiAgfVxufVxuZnVuY3Rpb24gbmVlZFRyYW5zaXRpb24ocGFyZW50U3VzcGVuc2UsIHRyYW5zaXRpb24pIHtcbiAgcmV0dXJuICghcGFyZW50U3VzcGVuc2UgfHwgcGFyZW50U3VzcGVuc2UgJiYgIXBhcmVudFN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpICYmIHRyYW5zaXRpb24gJiYgIXRyYW5zaXRpb24ucGVyc2lzdGVkO1xufVxuZnVuY3Rpb24gdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihuMSwgbjIsIHNoYWxsb3cgPSBmYWxzZSkge1xuICBjb25zdCBjaDEgPSBuMS5jaGlsZHJlbjtcbiAgY29uc3QgY2gyID0gbjIuY2hpbGRyZW47XG4gIGlmIChpc0FycmF5KGNoMSkgJiYgaXNBcnJheShjaDIpKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaDEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGMxID0gY2gxW2ldO1xuICAgICAgbGV0IGMyID0gY2gyW2ldO1xuICAgICAgaWYgKGMyLnNoYXBlRmxhZyAmIDEgJiYgIWMyLmR5bmFtaWNDaGlsZHJlbikge1xuICAgICAgICBpZiAoYzIucGF0Y2hGbGFnIDw9IDAgfHwgYzIucGF0Y2hGbGFnID09PSAzMikge1xuICAgICAgICAgIGMyID0gY2gyW2ldID0gY2xvbmVJZk1vdW50ZWQoY2gyW2ldKTtcbiAgICAgICAgICBjMi5lbCA9IGMxLmVsO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc2hhbGxvdyAmJiBjMi5wYXRjaEZsYWcgIT09IC0yKVxuICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4oYzEsIGMyKTtcbiAgICAgIH1cbiAgICAgIGlmIChjMi50eXBlID09PSBUZXh0KSB7XG4gICAgICAgIGMyLmVsID0gYzEuZWw7XG4gICAgICB9XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjMi50eXBlID09PSBDb21tZW50ICYmICFjMi5lbCkge1xuICAgICAgICBjMi5lbCA9IGMxLmVsO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gZ2V0U2VxdWVuY2UoYXJyKSB7XG4gIGNvbnN0IHAgPSBhcnIuc2xpY2UoKTtcbiAgY29uc3QgcmVzdWx0ID0gWzBdO1xuICBsZXQgaSwgaiwgdSwgdiwgYztcbiAgY29uc3QgbGVuID0gYXJyLmxlbmd0aDtcbiAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgY29uc3QgYXJySSA9IGFycltpXTtcbiAgICBpZiAoYXJySSAhPT0gMCkge1xuICAgICAgaiA9IHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV07XG4gICAgICBpZiAoYXJyW2pdIDwgYXJySSkge1xuICAgICAgICBwW2ldID0gajtcbiAgICAgICAgcmVzdWx0LnB1c2goaSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdSA9IDA7XG4gICAgICB2ID0gcmVzdWx0Lmxlbmd0aCAtIDE7XG4gICAgICB3aGlsZSAodSA8IHYpIHtcbiAgICAgICAgYyA9IHUgKyB2ID4+IDE7XG4gICAgICAgIGlmIChhcnJbcmVzdWx0W2NdXSA8IGFyckkpIHtcbiAgICAgICAgICB1ID0gYyArIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdiA9IGM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChhcnJJIDwgYXJyW3Jlc3VsdFt1XV0pIHtcbiAgICAgICAgaWYgKHUgPiAwKSB7XG4gICAgICAgICAgcFtpXSA9IHJlc3VsdFt1IC0gMV07XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0W3VdID0gaTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdSA9IHJlc3VsdC5sZW5ndGg7XG4gIHYgPSByZXN1bHRbdSAtIDFdO1xuICB3aGlsZSAodS0tID4gMCkge1xuICAgIHJlc3VsdFt1XSA9IHY7XG4gICAgdiA9IHBbdl07XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGxvY2F0ZU5vbkh5ZHJhdGVkQXN5bmNSb290KGluc3RhbmNlKSB7XG4gIGNvbnN0IHN1YkNvbXBvbmVudCA9IGluc3RhbmNlLnN1YlRyZWUuY29tcG9uZW50O1xuICBpZiAoc3ViQ29tcG9uZW50KSB7XG4gICAgaWYgKHN1YkNvbXBvbmVudC5hc3luY0RlcCAmJiAhc3ViQ29tcG9uZW50LmFzeW5jUmVzb2x2ZWQpIHtcbiAgICAgIHJldHVybiBzdWJDb21wb25lbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBsb2NhdGVOb25IeWRyYXRlZEFzeW5jUm9vdChzdWJDb21wb25lbnQpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gaW52YWxpZGF0ZU1vdW50KGhvb2tzKSB7XG4gIGlmIChob29rcykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaG9va3MubGVuZ3RoOyBpKyspXG4gICAgICBob29rc1tpXS5mbGFncyB8PSA4O1xuICB9XG59XG5cbmNvbnN0IHNzckNvbnRleHRLZXkgPSBTeW1ib2wuZm9yKFwidi1zY3hcIik7XG5jb25zdCB1c2VTU1JDb250ZXh0ID0gKCkgPT4ge1xuICB7XG4gICAgY29uc3QgY3R4ID0gaW5qZWN0KHNzckNvbnRleHRLZXkpO1xuICAgIGlmICghY3R4KSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShcbiAgICAgICAgYFNlcnZlciByZW5kZXJpbmcgY29udGV4dCBub3QgcHJvdmlkZWQuIE1ha2Ugc3VyZSB0byBvbmx5IGNhbGwgdXNlU1NSQ29udGV4dCgpIGNvbmRpdGlvbmFsbHkgaW4gdGhlIHNlcnZlciBidWlsZC5gXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gY3R4O1xuICB9XG59O1xuXG5mdW5jdGlvbiB3YXRjaEVmZmVjdChlZmZlY3QsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIGRvV2F0Y2goZWZmZWN0LCBudWxsLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHdhdGNoUG9zdEVmZmVjdChlZmZlY3QsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIGRvV2F0Y2goXG4gICAgZWZmZWN0LFxuICAgIG51bGwsXG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IGV4dGVuZCh7fSwgb3B0aW9ucywgeyBmbHVzaDogXCJwb3N0XCIgfSkgOiB7IGZsdXNoOiBcInBvc3RcIiB9XG4gICk7XG59XG5mdW5jdGlvbiB3YXRjaFN5bmNFZmZlY3QoZWZmZWN0LCBvcHRpb25zKSB7XG4gIHJldHVybiBkb1dhdGNoKFxuICAgIGVmZmVjdCxcbiAgICBudWxsLFxuICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBleHRlbmQoe30sIG9wdGlvbnMsIHsgZmx1c2g6IFwic3luY1wiIH0pIDogeyBmbHVzaDogXCJzeW5jXCIgfVxuICApO1xufVxuZnVuY3Rpb24gd2F0Y2goc291cmNlLCBjYiwgb3B0aW9ucykge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaXNGdW5jdGlvbihjYikpIHtcbiAgICB3YXJuJDEoXG4gICAgICBgXFxgd2F0Y2goZm4sIG9wdGlvbnM/KVxcYCBzaWduYXR1cmUgaGFzIGJlZW4gbW92ZWQgdG8gYSBzZXBhcmF0ZSBBUEkuIFVzZSBcXGB3YXRjaEVmZmVjdChmbiwgb3B0aW9ucz8pXFxgIGluc3RlYWQuIFxcYHdhdGNoXFxgIG5vdyBvbmx5IHN1cHBvcnRzIFxcYHdhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnM/KSBzaWduYXR1cmUuYFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGRvV2F0Y2goc291cmNlLCBjYiwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiBkb1dhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnMgPSBFTVBUWV9PQkopIHtcbiAgY29uc3QgeyBpbW1lZGlhdGUsIGRlZXAsIGZsdXNoLCBvbmNlIH0gPSBvcHRpb25zO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhY2IpIHtcbiAgICBpZiAoaW1tZWRpYXRlICE9PSB2b2lkIDApIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYHdhdGNoKCkgXCJpbW1lZGlhdGVcIiBvcHRpb24gaXMgb25seSByZXNwZWN0ZWQgd2hlbiB1c2luZyB0aGUgd2F0Y2goc291cmNlLCBjYWxsYmFjaywgb3B0aW9ucz8pIHNpZ25hdHVyZS5gXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoZGVlcCAhPT0gdm9pZCAwKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGB3YXRjaCgpIFwiZGVlcFwiIG9wdGlvbiBpcyBvbmx5IHJlc3BlY3RlZCB3aGVuIHVzaW5nIHRoZSB3YXRjaChzb3VyY2UsIGNhbGxiYWNrLCBvcHRpb25zPykgc2lnbmF0dXJlLmBcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChvbmNlICE9PSB2b2lkIDApIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYHdhdGNoKCkgXCJvbmNlXCIgb3B0aW9uIGlzIG9ubHkgcmVzcGVjdGVkIHdoZW4gdXNpbmcgdGhlIHdhdGNoKHNvdXJjZSwgY2FsbGJhY2ssIG9wdGlvbnM/KSBzaWduYXR1cmUuYFxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgY29uc3QgYmFzZVdhdGNoT3B0aW9ucyA9IGV4dGVuZCh7fSwgb3B0aW9ucyk7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSBiYXNlV2F0Y2hPcHRpb25zLm9uV2FybiA9IHdhcm4kMTtcbiAgY29uc3QgcnVuc0ltbWVkaWF0ZWx5ID0gY2IgJiYgaW1tZWRpYXRlIHx8ICFjYiAmJiBmbHVzaCAhPT0gXCJwb3N0XCI7XG4gIGxldCBzc3JDbGVhbnVwO1xuICBpZiAoaXNJblNTUkNvbXBvbmVudFNldHVwKSB7XG4gICAgaWYgKGZsdXNoID09PSBcInN5bmNcIikge1xuICAgICAgY29uc3QgY3R4ID0gdXNlU1NSQ29udGV4dCgpO1xuICAgICAgc3NyQ2xlYW51cCA9IGN0eC5fX3dhdGNoZXJIYW5kbGVzIHx8IChjdHguX193YXRjaGVySGFuZGxlcyA9IFtdKTtcbiAgICB9IGVsc2UgaWYgKCFydW5zSW1tZWRpYXRlbHkpIHtcbiAgICAgIGNvbnN0IHdhdGNoU3RvcEhhbmRsZSA9ICgpID0+IHtcbiAgICAgIH07XG4gICAgICB3YXRjaFN0b3BIYW5kbGUuc3RvcCA9IE5PT1A7XG4gICAgICB3YXRjaFN0b3BIYW5kbGUucmVzdW1lID0gTk9PUDtcbiAgICAgIHdhdGNoU3RvcEhhbmRsZS5wYXVzZSA9IE5PT1A7XG4gICAgICByZXR1cm4gd2F0Y2hTdG9wSGFuZGxlO1xuICAgIH1cbiAgfVxuICBjb25zdCBpbnN0YW5jZSA9IGN1cnJlbnRJbnN0YW5jZTtcbiAgYmFzZVdhdGNoT3B0aW9ucy5jYWxsID0gKGZuLCB0eXBlLCBhcmdzKSA9PiBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhmbiwgaW5zdGFuY2UsIHR5cGUsIGFyZ3MpO1xuICBsZXQgaXNQcmUgPSBmYWxzZTtcbiAgaWYgKGZsdXNoID09PSBcInBvc3RcIikge1xuICAgIGJhc2VXYXRjaE9wdGlvbnMuc2NoZWR1bGVyID0gKGpvYikgPT4ge1xuICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGpvYiwgaW5zdGFuY2UgJiYgaW5zdGFuY2Uuc3VzcGVuc2UpO1xuICAgIH07XG4gIH0gZWxzZSBpZiAoZmx1c2ggIT09IFwic3luY1wiKSB7XG4gICAgaXNQcmUgPSB0cnVlO1xuICAgIGJhc2VXYXRjaE9wdGlvbnMuc2NoZWR1bGVyID0gKGpvYiwgaXNGaXJzdFJ1bikgPT4ge1xuICAgICAgaWYgKGlzRmlyc3RSdW4pIHtcbiAgICAgICAgam9iKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUpvYihqb2IpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgYmFzZVdhdGNoT3B0aW9ucy5hdWdtZW50Sm9iID0gKGpvYikgPT4ge1xuICAgIGlmIChjYikge1xuICAgICAgam9iLmZsYWdzIHw9IDQ7XG4gICAgfVxuICAgIGlmIChpc1ByZSkge1xuICAgICAgam9iLmZsYWdzIHw9IDI7XG4gICAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgICAgam9iLmlkID0gaW5zdGFuY2UudWlkO1xuICAgICAgICBqb2IuaSA9IGluc3RhbmNlO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3Qgd2F0Y2hIYW5kbGUgPSB3YXRjaCQxKHNvdXJjZSwgY2IsIGJhc2VXYXRjaE9wdGlvbnMpO1xuICBpZiAoaXNJblNTUkNvbXBvbmVudFNldHVwKSB7XG4gICAgaWYgKHNzckNsZWFudXApIHtcbiAgICAgIHNzckNsZWFudXAucHVzaCh3YXRjaEhhbmRsZSk7XG4gICAgfSBlbHNlIGlmIChydW5zSW1tZWRpYXRlbHkpIHtcbiAgICAgIHdhdGNoSGFuZGxlKCk7XG4gICAgfVxuICB9XG4gIHJldHVybiB3YXRjaEhhbmRsZTtcbn1cbmZ1bmN0aW9uIGluc3RhbmNlV2F0Y2goc291cmNlLCB2YWx1ZSwgb3B0aW9ucykge1xuICBjb25zdCBwdWJsaWNUaGlzID0gdGhpcy5wcm94eTtcbiAgY29uc3QgZ2V0dGVyID0gaXNTdHJpbmcoc291cmNlKSA/IHNvdXJjZS5pbmNsdWRlcyhcIi5cIikgPyBjcmVhdGVQYXRoR2V0dGVyKHB1YmxpY1RoaXMsIHNvdXJjZSkgOiAoKSA9PiBwdWJsaWNUaGlzW3NvdXJjZV0gOiBzb3VyY2UuYmluZChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKTtcbiAgbGV0IGNiO1xuICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICBjYiA9IHZhbHVlO1xuICB9IGVsc2Uge1xuICAgIGNiID0gdmFsdWUuaGFuZGxlcjtcbiAgICBvcHRpb25zID0gdmFsdWU7XG4gIH1cbiAgY29uc3QgcmVzZXQgPSBzZXRDdXJyZW50SW5zdGFuY2UodGhpcyk7XG4gIGNvbnN0IHJlcyA9IGRvV2F0Y2goZ2V0dGVyLCBjYi5iaW5kKHB1YmxpY1RoaXMpLCBvcHRpb25zKTtcbiAgcmVzZXQoKTtcbiAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIGNyZWF0ZVBhdGhHZXR0ZXIoY3R4LCBwYXRoKSB7XG4gIGNvbnN0IHNlZ21lbnRzID0gcGF0aC5zcGxpdChcIi5cIik7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgbGV0IGN1ciA9IGN0eDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlZ21lbnRzLmxlbmd0aCAmJiBjdXI7IGkrKykge1xuICAgICAgY3VyID0gY3VyW3NlZ21lbnRzW2ldXTtcbiAgICB9XG4gICAgcmV0dXJuIGN1cjtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlTW9kZWwocHJvcHMsIG5hbWUsIG9wdGlvbnMgPSBFTVBUWV9PQkopIHtcbiAgY29uc3QgaSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaSkge1xuICAgIHdhcm4kMShgdXNlTW9kZWwoKSBjYWxsZWQgd2l0aG91dCBhY3RpdmUgaW5zdGFuY2UuYCk7XG4gICAgcmV0dXJuIHJlZigpO1xuICB9XG4gIGNvbnN0IGNhbWVsaXplZE5hbWUgPSBjYW1lbGl6ZShuYW1lKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWkucHJvcHNPcHRpb25zWzBdW2NhbWVsaXplZE5hbWVdKSB7XG4gICAgd2FybiQxKGB1c2VNb2RlbCgpIGNhbGxlZCB3aXRoIHByb3AgXCIke25hbWV9XCIgd2hpY2ggaXMgbm90IGRlY2xhcmVkLmApO1xuICAgIHJldHVybiByZWYoKTtcbiAgfVxuICBjb25zdCBoeXBoZW5hdGVkTmFtZSA9IGh5cGhlbmF0ZShuYW1lKTtcbiAgY29uc3QgbW9kaWZpZXJzID0gZ2V0TW9kZWxNb2RpZmllcnMocHJvcHMsIGNhbWVsaXplZE5hbWUpO1xuICBjb25zdCByZXMgPSBjdXN0b21SZWYoKHRyYWNrLCB0cmlnZ2VyKSA9PiB7XG4gICAgbGV0IGxvY2FsVmFsdWU7XG4gICAgbGV0IHByZXZTZXRWYWx1ZSA9IEVNUFRZX09CSjtcbiAgICBsZXQgcHJldkVtaXR0ZWRWYWx1ZTtcbiAgICB3YXRjaFN5bmNFZmZlY3QoKCkgPT4ge1xuICAgICAgY29uc3QgcHJvcFZhbHVlID0gcHJvcHNbY2FtZWxpemVkTmFtZV07XG4gICAgICBpZiAoaGFzQ2hhbmdlZChsb2NhbFZhbHVlLCBwcm9wVmFsdWUpKSB7XG4gICAgICAgIGxvY2FsVmFsdWUgPSBwcm9wVmFsdWU7XG4gICAgICAgIHRyaWdnZXIoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0KCkge1xuICAgICAgICB0cmFjaygpO1xuICAgICAgICByZXR1cm4gb3B0aW9ucy5nZXQgPyBvcHRpb25zLmdldChsb2NhbFZhbHVlKSA6IGxvY2FsVmFsdWU7XG4gICAgICB9LFxuICAgICAgc2V0KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGVtaXR0ZWRWYWx1ZSA9IG9wdGlvbnMuc2V0ID8gb3B0aW9ucy5zZXQodmFsdWUpIDogdmFsdWU7XG4gICAgICAgIGlmICghaGFzQ2hhbmdlZChlbWl0dGVkVmFsdWUsIGxvY2FsVmFsdWUpICYmICEocHJldlNldFZhbHVlICE9PSBFTVBUWV9PQkogJiYgaGFzQ2hhbmdlZCh2YWx1ZSwgcHJldlNldFZhbHVlKSkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmF3UHJvcHMgPSBpLnZub2RlLnByb3BzO1xuICAgICAgICBpZiAoIShyYXdQcm9wcyAmJiAvLyBjaGVjayBpZiBwYXJlbnQgaGFzIHBhc3NlZCB2LW1vZGVsXG4gICAgICAgIChuYW1lIGluIHJhd1Byb3BzIHx8IGNhbWVsaXplZE5hbWUgaW4gcmF3UHJvcHMgfHwgaHlwaGVuYXRlZE5hbWUgaW4gcmF3UHJvcHMpICYmIChgb25VcGRhdGU6JHtuYW1lfWAgaW4gcmF3UHJvcHMgfHwgYG9uVXBkYXRlOiR7Y2FtZWxpemVkTmFtZX1gIGluIHJhd1Byb3BzIHx8IGBvblVwZGF0ZToke2h5cGhlbmF0ZWROYW1lfWAgaW4gcmF3UHJvcHMpKSkge1xuICAgICAgICAgIGxvY2FsVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICB0cmlnZ2VyKCk7XG4gICAgICAgIH1cbiAgICAgICAgaS5lbWl0KGB1cGRhdGU6JHtuYW1lfWAsIGVtaXR0ZWRWYWx1ZSk7XG4gICAgICAgIGlmIChoYXNDaGFuZ2VkKHZhbHVlLCBlbWl0dGVkVmFsdWUpICYmIGhhc0NoYW5nZWQodmFsdWUsIHByZXZTZXRWYWx1ZSkgJiYgIWhhc0NoYW5nZWQoZW1pdHRlZFZhbHVlLCBwcmV2RW1pdHRlZFZhbHVlKSkge1xuICAgICAgICAgIHRyaWdnZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBwcmV2U2V0VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgcHJldkVtaXR0ZWRWYWx1ZSA9IGVtaXR0ZWRWYWx1ZTtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbiAgcmVzW1N5bWJvbC5pdGVyYXRvcl0gPSAoKSA9PiB7XG4gICAgbGV0IGkyID0gMDtcbiAgICByZXR1cm4ge1xuICAgICAgbmV4dCgpIHtcbiAgICAgICAgaWYgKGkyIDwgMikge1xuICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBpMisrID8gbW9kaWZpZXJzIHx8IEVNUFRZX09CSiA6IHJlcywgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4geyBkb25lOiB0cnVlIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9O1xuICByZXR1cm4gcmVzO1xufVxuY29uc3QgZ2V0TW9kZWxNb2RpZmllcnMgPSAocHJvcHMsIG1vZGVsTmFtZSkgPT4ge1xuICByZXR1cm4gbW9kZWxOYW1lID09PSBcIm1vZGVsVmFsdWVcIiB8fCBtb2RlbE5hbWUgPT09IFwibW9kZWwtdmFsdWVcIiA/IHByb3BzLm1vZGVsTW9kaWZpZXJzIDogcHJvcHNbYCR7bW9kZWxOYW1lfU1vZGlmaWVyc2BdIHx8IHByb3BzW2Ake2NhbWVsaXplKG1vZGVsTmFtZSl9TW9kaWZpZXJzYF0gfHwgcHJvcHNbYCR7aHlwaGVuYXRlKG1vZGVsTmFtZSl9TW9kaWZpZXJzYF07XG59O1xuXG5mdW5jdGlvbiBlbWl0KGluc3RhbmNlLCBldmVudCwgLi4ucmF3QXJncykge1xuICBpZiAoaW5zdGFuY2UuaXNVbm1vdW50ZWQpIHJldHVybjtcbiAgY29uc3QgcHJvcHMgPSBpbnN0YW5jZS52bm9kZS5wcm9wcyB8fCBFTVBUWV9PQko7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgY29uc3Qge1xuICAgICAgZW1pdHNPcHRpb25zLFxuICAgICAgcHJvcHNPcHRpb25zOiBbcHJvcHNPcHRpb25zXVxuICAgIH0gPSBpbnN0YW5jZTtcbiAgICBpZiAoZW1pdHNPcHRpb25zKSB7XG4gICAgICBpZiAoIShldmVudCBpbiBlbWl0c09wdGlvbnMpICYmIHRydWUpIHtcbiAgICAgICAgaWYgKCFwcm9wc09wdGlvbnMgfHwgISh0b0hhbmRsZXJLZXkoY2FtZWxpemUoZXZlbnQpKSBpbiBwcm9wc09wdGlvbnMpKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYENvbXBvbmVudCBlbWl0dGVkIGV2ZW50IFwiJHtldmVudH1cIiBidXQgaXQgaXMgbmVpdGhlciBkZWNsYXJlZCBpbiB0aGUgZW1pdHMgb3B0aW9uIG5vciBhcyBhbiBcIiR7dG9IYW5kbGVyS2V5KGNhbWVsaXplKGV2ZW50KSl9XCIgcHJvcC5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdmFsaWRhdG9yID0gZW1pdHNPcHRpb25zW2V2ZW50XTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odmFsaWRhdG9yKSkge1xuICAgICAgICAgIGNvbnN0IGlzVmFsaWQgPSB2YWxpZGF0b3IoLi4ucmF3QXJncyk7XG4gICAgICAgICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICAgIGBJbnZhbGlkIGV2ZW50IGFyZ3VtZW50czogZXZlbnQgdmFsaWRhdGlvbiBmYWlsZWQgZm9yIGV2ZW50IFwiJHtldmVudH1cIi5gXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBsZXQgYXJncyA9IHJhd0FyZ3M7XG4gIGNvbnN0IGlzTW9kZWxMaXN0ZW5lciA9IGV2ZW50LnN0YXJ0c1dpdGgoXCJ1cGRhdGU6XCIpO1xuICBjb25zdCBtb2RpZmllcnMgPSBpc01vZGVsTGlzdGVuZXIgJiYgZ2V0TW9kZWxNb2RpZmllcnMocHJvcHMsIGV2ZW50LnNsaWNlKDcpKTtcbiAgaWYgKG1vZGlmaWVycykge1xuICAgIGlmIChtb2RpZmllcnMudHJpbSkge1xuICAgICAgYXJncyA9IHJhd0FyZ3MubWFwKChhKSA9PiBpc1N0cmluZyhhKSA/IGEudHJpbSgpIDogYSk7XG4gICAgfVxuICAgIGlmIChtb2RpZmllcnMubnVtYmVyKSB7XG4gICAgICBhcmdzID0gcmF3QXJncy5tYXAobG9vc2VUb051bWJlcik7XG4gICAgfVxuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgIGRldnRvb2xzQ29tcG9uZW50RW1pdChpbnN0YW5jZSwgZXZlbnQsIGFyZ3MpO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgY29uc3QgbG93ZXJDYXNlRXZlbnQgPSBldmVudC50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChsb3dlckNhc2VFdmVudCAhPT0gZXZlbnQgJiYgcHJvcHNbdG9IYW5kbGVyS2V5KGxvd2VyQ2FzZUV2ZW50KV0pIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYEV2ZW50IFwiJHtsb3dlckNhc2VFdmVudH1cIiBpcyBlbWl0dGVkIGluIGNvbXBvbmVudCAke2Zvcm1hdENvbXBvbmVudE5hbWUoXG4gICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgaW5zdGFuY2UudHlwZVxuICAgICAgICApfSBidXQgdGhlIGhhbmRsZXIgaXMgcmVnaXN0ZXJlZCBmb3IgXCIke2V2ZW50fVwiLiBOb3RlIHRoYXQgSFRNTCBhdHRyaWJ1dGVzIGFyZSBjYXNlLWluc2Vuc2l0aXZlIGFuZCB5b3UgY2Fubm90IHVzZSB2LW9uIHRvIGxpc3RlbiB0byBjYW1lbENhc2UgZXZlbnRzIHdoZW4gdXNpbmcgaW4tRE9NIHRlbXBsYXRlcy4gWW91IHNob3VsZCBwcm9iYWJseSB1c2UgXCIke2h5cGhlbmF0ZShcbiAgICAgICAgICBldmVudFxuICAgICAgICApfVwiIGluc3RlYWQgb2YgXCIke2V2ZW50fVwiLmBcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIGxldCBoYW5kbGVyTmFtZTtcbiAgbGV0IGhhbmRsZXIgPSBwcm9wc1toYW5kbGVyTmFtZSA9IHRvSGFuZGxlcktleShldmVudCldIHx8IC8vIGFsc28gdHJ5IGNhbWVsQ2FzZSBldmVudCBoYW5kbGVyICgjMjI0OSlcbiAgcHJvcHNbaGFuZGxlck5hbWUgPSB0b0hhbmRsZXJLZXkoY2FtZWxpemUoZXZlbnQpKV07XG4gIGlmICghaGFuZGxlciAmJiBpc01vZGVsTGlzdGVuZXIpIHtcbiAgICBoYW5kbGVyID0gcHJvcHNbaGFuZGxlck5hbWUgPSB0b0hhbmRsZXJLZXkoaHlwaGVuYXRlKGV2ZW50KSldO1xuICB9XG4gIGlmIChoYW5kbGVyKSB7XG4gICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoXG4gICAgICBoYW5kbGVyLFxuICAgICAgaW5zdGFuY2UsXG4gICAgICA2LFxuICAgICAgYXJnc1xuICAgICk7XG4gIH1cbiAgY29uc3Qgb25jZUhhbmRsZXIgPSBwcm9wc1toYW5kbGVyTmFtZSArIGBPbmNlYF07XG4gIGlmIChvbmNlSGFuZGxlcikge1xuICAgIGlmICghaW5zdGFuY2UuZW1pdHRlZCkge1xuICAgICAgaW5zdGFuY2UuZW1pdHRlZCA9IHt9O1xuICAgIH0gZWxzZSBpZiAoaW5zdGFuY2UuZW1pdHRlZFtoYW5kbGVyTmFtZV0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW5zdGFuY2UuZW1pdHRlZFtoYW5kbGVyTmFtZV0gPSB0cnVlO1xuICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKFxuICAgICAgb25jZUhhbmRsZXIsXG4gICAgICBpbnN0YW5jZSxcbiAgICAgIDYsXG4gICAgICBhcmdzXG4gICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gbm9ybWFsaXplRW1pdHNPcHRpb25zKGNvbXAsIGFwcENvbnRleHQsIGFzTWl4aW4gPSBmYWxzZSkge1xuICBjb25zdCBjYWNoZSA9IGFwcENvbnRleHQuZW1pdHNDYWNoZTtcbiAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KGNvbXApO1xuICBpZiAoY2FjaGVkICE9PSB2b2lkIDApIHtcbiAgICByZXR1cm4gY2FjaGVkO1xuICB9XG4gIGNvbnN0IHJhdyA9IGNvbXAuZW1pdHM7XG4gIGxldCBub3JtYWxpemVkID0ge307XG4gIGxldCBoYXNFeHRlbmRzID0gZmFsc2U7XG4gIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fICYmICFpc0Z1bmN0aW9uKGNvbXApKSB7XG4gICAgY29uc3QgZXh0ZW5kRW1pdHMgPSAocmF3MikgPT4ge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZEZyb21FeHRlbmQgPSBub3JtYWxpemVFbWl0c09wdGlvbnMocmF3MiwgYXBwQ29udGV4dCwgdHJ1ZSk7XG4gICAgICBpZiAobm9ybWFsaXplZEZyb21FeHRlbmQpIHtcbiAgICAgICAgaGFzRXh0ZW5kcyA9IHRydWU7XG4gICAgICAgIGV4dGVuZChub3JtYWxpemVkLCBub3JtYWxpemVkRnJvbUV4dGVuZCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAoIWFzTWl4aW4gJiYgYXBwQ29udGV4dC5taXhpbnMubGVuZ3RoKSB7XG4gICAgICBhcHBDb250ZXh0Lm1peGlucy5mb3JFYWNoKGV4dGVuZEVtaXRzKTtcbiAgICB9XG4gICAgaWYgKGNvbXAuZXh0ZW5kcykge1xuICAgICAgZXh0ZW5kRW1pdHMoY29tcC5leHRlbmRzKTtcbiAgICB9XG4gICAgaWYgKGNvbXAubWl4aW5zKSB7XG4gICAgICBjb21wLm1peGlucy5mb3JFYWNoKGV4dGVuZEVtaXRzKTtcbiAgICB9XG4gIH1cbiAgaWYgKCFyYXcgJiYgIWhhc0V4dGVuZHMpIHtcbiAgICBpZiAoaXNPYmplY3QoY29tcCkpIHtcbiAgICAgIGNhY2hlLnNldChjb21wLCBudWxsKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKGlzQXJyYXkocmF3KSkge1xuICAgIHJhdy5mb3JFYWNoKChrZXkpID0+IG5vcm1hbGl6ZWRba2V5XSA9IG51bGwpO1xuICB9IGVsc2Uge1xuICAgIGV4dGVuZChub3JtYWxpemVkLCByYXcpO1xuICB9XG4gIGlmIChpc09iamVjdChjb21wKSkge1xuICAgIGNhY2hlLnNldChjb21wLCBub3JtYWxpemVkKTtcbiAgfVxuICByZXR1cm4gbm9ybWFsaXplZDtcbn1cbmZ1bmN0aW9uIGlzRW1pdExpc3RlbmVyKG9wdGlvbnMsIGtleSkge1xuICBpZiAoIW9wdGlvbnMgfHwgIWlzT24oa2V5KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBrZXkgPSBrZXkuc2xpY2UoMikucmVwbGFjZSgvT25jZSQvLCBcIlwiKTtcbiAgcmV0dXJuIGhhc093bihvcHRpb25zLCBrZXlbMF0udG9Mb3dlckNhc2UoKSArIGtleS5zbGljZSgxKSkgfHwgaGFzT3duKG9wdGlvbnMsIGh5cGhlbmF0ZShrZXkpKSB8fCBoYXNPd24ob3B0aW9ucywga2V5KTtcbn1cblxubGV0IGFjY2Vzc2VkQXR0cnMgPSBmYWxzZTtcbmZ1bmN0aW9uIG1hcmtBdHRyc0FjY2Vzc2VkKCkge1xuICBhY2Nlc3NlZEF0dHJzID0gdHJ1ZTtcbn1cbmZ1bmN0aW9uIHJlbmRlckNvbXBvbmVudFJvb3QoaW5zdGFuY2UpIHtcbiAgY29uc3Qge1xuICAgIHR5cGU6IENvbXBvbmVudCxcbiAgICB2bm9kZSxcbiAgICBwcm94eSxcbiAgICB3aXRoUHJveHksXG4gICAgcHJvcHNPcHRpb25zOiBbcHJvcHNPcHRpb25zXSxcbiAgICBzbG90cyxcbiAgICBhdHRycyxcbiAgICBlbWl0LFxuICAgIHJlbmRlcixcbiAgICByZW5kZXJDYWNoZSxcbiAgICBwcm9wcyxcbiAgICBkYXRhLFxuICAgIHNldHVwU3RhdGUsXG4gICAgY3R4LFxuICAgIGluaGVyaXRBdHRyc1xuICB9ID0gaW5zdGFuY2U7XG4gIGNvbnN0IHByZXYgPSBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UoaW5zdGFuY2UpO1xuICBsZXQgcmVzdWx0O1xuICBsZXQgZmFsbHRocm91Z2hBdHRycztcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBhY2Nlc3NlZEF0dHJzID0gZmFsc2U7XG4gIH1cbiAgdHJ5IHtcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgNCkge1xuICAgICAgY29uc3QgcHJveHlUb1VzZSA9IHdpdGhQcm94eSB8fCBwcm94eTtcbiAgICAgIGNvbnN0IHRoaXNQcm94eSA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgc2V0dXBTdGF0ZS5fX2lzU2NyaXB0U2V0dXAgPyBuZXcgUHJveHkocHJveHlUb1VzZSwge1xuICAgICAgICBnZXQodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYFByb3BlcnR5ICcke1N0cmluZyhcbiAgICAgICAgICAgICAga2V5XG4gICAgICAgICAgICApfScgd2FzIGFjY2Vzc2VkIHZpYSAndGhpcycuIEF2b2lkIHVzaW5nICd0aGlzJyBpbiB0ZW1wbGF0ZXMuYFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcik7XG4gICAgICAgIH1cbiAgICAgIH0pIDogcHJveHlUb1VzZTtcbiAgICAgIHJlc3VsdCA9IG5vcm1hbGl6ZVZOb2RlKFxuICAgICAgICByZW5kZXIuY2FsbChcbiAgICAgICAgICB0aGlzUHJveHksXG4gICAgICAgICAgcHJveHlUb1VzZSxcbiAgICAgICAgICByZW5kZXJDYWNoZSxcbiAgICAgICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gc2hhbGxvd1JlYWRvbmx5KHByb3BzKSA6IHByb3BzLFxuICAgICAgICAgIHNldHVwU3RhdGUsXG4gICAgICAgICAgZGF0YSxcbiAgICAgICAgICBjdHhcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIGZhbGx0aHJvdWdoQXR0cnMgPSBhdHRycztcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcmVuZGVyMiA9IENvbXBvbmVudDtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGF0dHJzID09PSBwcm9wcykge1xuICAgICAgICBtYXJrQXR0cnNBY2Nlc3NlZCgpO1xuICAgICAgfVxuICAgICAgcmVzdWx0ID0gbm9ybWFsaXplVk5vZGUoXG4gICAgICAgIHJlbmRlcjIubGVuZ3RoID4gMSA/IHJlbmRlcjIoXG4gICAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShwcm9wcykgOiBwcm9wcyxcbiAgICAgICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8ge1xuICAgICAgICAgICAgZ2V0IGF0dHJzKCkge1xuICAgICAgICAgICAgICBtYXJrQXR0cnNBY2Nlc3NlZCgpO1xuICAgICAgICAgICAgICByZXR1cm4gc2hhbGxvd1JlYWRvbmx5KGF0dHJzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzbG90cyxcbiAgICAgICAgICAgIGVtaXRcbiAgICAgICAgICB9IDogeyBhdHRycywgc2xvdHMsIGVtaXQgfVxuICAgICAgICApIDogcmVuZGVyMihcbiAgICAgICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gc2hhbGxvd1JlYWRvbmx5KHByb3BzKSA6IHByb3BzLFxuICAgICAgICAgIG51bGxcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIGZhbGx0aHJvdWdoQXR0cnMgPSBDb21wb25lbnQucHJvcHMgPyBhdHRycyA6IGdldEZ1bmN0aW9uYWxGYWxsdGhyb3VnaChhdHRycyk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBibG9ja1N0YWNrLmxlbmd0aCA9IDA7XG4gICAgaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgMSk7XG4gICAgcmVzdWx0ID0gY3JlYXRlVk5vZGUoQ29tbWVudCk7XG4gIH1cbiAgbGV0IHJvb3QgPSByZXN1bHQ7XG4gIGxldCBzZXRSb290ID0gdm9pZCAwO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiByZXN1bHQucGF0Y2hGbGFnID4gMCAmJiByZXN1bHQucGF0Y2hGbGFnICYgMjA0OCkge1xuICAgIFtyb290LCBzZXRSb290XSA9IGdldENoaWxkUm9vdChyZXN1bHQpO1xuICB9XG4gIGlmIChmYWxsdGhyb3VnaEF0dHJzICYmIGluaGVyaXRBdHRycyAhPT0gZmFsc2UpIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZmFsbHRocm91Z2hBdHRycyk7XG4gICAgY29uc3QgeyBzaGFwZUZsYWcgfSA9IHJvb3Q7XG4gICAgaWYgKGtleXMubGVuZ3RoKSB7XG4gICAgICBpZiAoc2hhcGVGbGFnICYgKDEgfCA2KSkge1xuICAgICAgICBpZiAocHJvcHNPcHRpb25zICYmIGtleXMuc29tZShpc01vZGVsTGlzdGVuZXIpKSB7XG4gICAgICAgICAgZmFsbHRocm91Z2hBdHRycyA9IGZpbHRlck1vZGVsTGlzdGVuZXJzKFxuICAgICAgICAgICAgZmFsbHRocm91Z2hBdHRycyxcbiAgICAgICAgICAgIHByb3BzT3B0aW9uc1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcm9vdCA9IGNsb25lVk5vZGUocm9vdCwgZmFsbHRocm91Z2hBdHRycywgZmFsc2UsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFhY2Nlc3NlZEF0dHJzICYmIHJvb3QudHlwZSAhPT0gQ29tbWVudCkge1xuICAgICAgICBjb25zdCBhbGxBdHRycyA9IE9iamVjdC5rZXlzKGF0dHJzKTtcbiAgICAgICAgY29uc3QgZXZlbnRBdHRycyA9IFtdO1xuICAgICAgICBjb25zdCBleHRyYUF0dHJzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gYWxsQXR0cnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgY29uc3Qga2V5ID0gYWxsQXR0cnNbaV07XG4gICAgICAgICAgaWYgKGlzT24oa2V5KSkge1xuICAgICAgICAgICAgaWYgKCFpc01vZGVsTGlzdGVuZXIoa2V5KSkge1xuICAgICAgICAgICAgICBldmVudEF0dHJzLnB1c2goa2V5WzJdLnRvTG93ZXJDYXNlKCkgKyBrZXkuc2xpY2UoMykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBleHRyYUF0dHJzLnB1c2goa2V5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4dHJhQXR0cnMubGVuZ3RoKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYEV4dHJhbmVvdXMgbm9uLXByb3BzIGF0dHJpYnV0ZXMgKCR7ZXh0cmFBdHRycy5qb2luKFwiLCBcIil9KSB3ZXJlIHBhc3NlZCB0byBjb21wb25lbnQgYnV0IGNvdWxkIG5vdCBiZSBhdXRvbWF0aWNhbGx5IGluaGVyaXRlZCBiZWNhdXNlIGNvbXBvbmVudCByZW5kZXJzIGZyYWdtZW50IG9yIHRleHQgb3IgdGVsZXBvcnQgcm9vdCBub2Rlcy5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnRBdHRycy5sZW5ndGgpIHtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBgRXh0cmFuZW91cyBub24tZW1pdHMgZXZlbnQgbGlzdGVuZXJzICgke2V2ZW50QXR0cnMuam9pbihcIiwgXCIpfSkgd2VyZSBwYXNzZWQgdG8gY29tcG9uZW50IGJ1dCBjb3VsZCBub3QgYmUgYXV0b21hdGljYWxseSBpbmhlcml0ZWQgYmVjYXVzZSBjb21wb25lbnQgcmVuZGVycyBmcmFnbWVudCBvciB0ZXh0IHJvb3Qgbm9kZXMuIElmIHRoZSBsaXN0ZW5lciBpcyBpbnRlbmRlZCB0byBiZSBhIGNvbXBvbmVudCBjdXN0b20gZXZlbnQgbGlzdGVuZXIgb25seSwgZGVjbGFyZSBpdCB1c2luZyB0aGUgXCJlbWl0c1wiIG9wdGlvbi5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAodm5vZGUuZGlycykge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpc0VsZW1lbnRSb290KHJvb3QpKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBSdW50aW1lIGRpcmVjdGl2ZSB1c2VkIG9uIGNvbXBvbmVudCB3aXRoIG5vbi1lbGVtZW50IHJvb3Qgbm9kZS4gVGhlIGRpcmVjdGl2ZXMgd2lsbCBub3QgZnVuY3Rpb24gYXMgaW50ZW5kZWQuYFxuICAgICAgKTtcbiAgICB9XG4gICAgcm9vdCA9IGNsb25lVk5vZGUocm9vdCwgbnVsbCwgZmFsc2UsIHRydWUpO1xuICAgIHJvb3QuZGlycyA9IHJvb3QuZGlycyA/IHJvb3QuZGlycy5jb25jYXQodm5vZGUuZGlycykgOiB2bm9kZS5kaXJzO1xuICB9XG4gIGlmICh2bm9kZS50cmFuc2l0aW9uKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWlzRWxlbWVudFJvb3Qocm9vdCkpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYENvbXBvbmVudCBpbnNpZGUgPFRyYW5zaXRpb24+IHJlbmRlcnMgbm9uLWVsZW1lbnQgcm9vdCBub2RlIHRoYXQgY2Fubm90IGJlIGFuaW1hdGVkLmBcbiAgICAgICk7XG4gICAgfVxuICAgIHNldFRyYW5zaXRpb25Ib29rcyhyb290LCB2bm9kZS50cmFuc2l0aW9uKTtcbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBzZXRSb290KSB7XG4gICAgc2V0Um9vdChyb290KTtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSByb290O1xuICB9XG4gIHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShwcmV2KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmNvbnN0IGdldENoaWxkUm9vdCA9ICh2bm9kZSkgPT4ge1xuICBjb25zdCByYXdDaGlsZHJlbiA9IHZub2RlLmNoaWxkcmVuO1xuICBjb25zdCBkeW5hbWljQ2hpbGRyZW4gPSB2bm9kZS5keW5hbWljQ2hpbGRyZW47XG4gIGNvbnN0IGNoaWxkUm9vdCA9IGZpbHRlclNpbmdsZVJvb3QocmF3Q2hpbGRyZW4sIGZhbHNlKTtcbiAgaWYgKCFjaGlsZFJvb3QpIHtcbiAgICByZXR1cm4gW3Zub2RlLCB2b2lkIDBdO1xuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgY2hpbGRSb290LnBhdGNoRmxhZyA+IDAgJiYgY2hpbGRSb290LnBhdGNoRmxhZyAmIDIwNDgpIHtcbiAgICByZXR1cm4gZ2V0Q2hpbGRSb290KGNoaWxkUm9vdCk7XG4gIH1cbiAgY29uc3QgaW5kZXggPSByYXdDaGlsZHJlbi5pbmRleE9mKGNoaWxkUm9vdCk7XG4gIGNvbnN0IGR5bmFtaWNJbmRleCA9IGR5bmFtaWNDaGlsZHJlbiA/IGR5bmFtaWNDaGlsZHJlbi5pbmRleE9mKGNoaWxkUm9vdCkgOiAtMTtcbiAgY29uc3Qgc2V0Um9vdCA9ICh1cGRhdGVkUm9vdCkgPT4ge1xuICAgIHJhd0NoaWxkcmVuW2luZGV4XSA9IHVwZGF0ZWRSb290O1xuICAgIGlmIChkeW5hbWljQ2hpbGRyZW4pIHtcbiAgICAgIGlmIChkeW5hbWljSW5kZXggPiAtMSkge1xuICAgICAgICBkeW5hbWljQ2hpbGRyZW5bZHluYW1pY0luZGV4XSA9IHVwZGF0ZWRSb290O1xuICAgICAgfSBlbHNlIGlmICh1cGRhdGVkUm9vdC5wYXRjaEZsYWcgPiAwKSB7XG4gICAgICAgIHZub2RlLmR5bmFtaWNDaGlsZHJlbiA9IFsuLi5keW5hbWljQ2hpbGRyZW4sIHVwZGF0ZWRSb290XTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiBbbm9ybWFsaXplVk5vZGUoY2hpbGRSb290KSwgc2V0Um9vdF07XG59O1xuZnVuY3Rpb24gZmlsdGVyU2luZ2xlUm9vdChjaGlsZHJlbiwgcmVjdXJzZSA9IHRydWUpIHtcbiAgbGV0IHNpbmdsZVJvb3Q7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgIGlmIChpc1ZOb2RlKGNoaWxkKSkge1xuICAgICAgaWYgKGNoaWxkLnR5cGUgIT09IENvbW1lbnQgfHwgY2hpbGQuY2hpbGRyZW4gPT09IFwidi1pZlwiKSB7XG4gICAgICAgIGlmIChzaW5nbGVSb290KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNpbmdsZVJvb3QgPSBjaGlsZDtcbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiByZWN1cnNlICYmIHNpbmdsZVJvb3QucGF0Y2hGbGFnID4gMCAmJiBzaW5nbGVSb290LnBhdGNoRmxhZyAmIDIwNDgpIHtcbiAgICAgICAgICAgIHJldHVybiBmaWx0ZXJTaW5nbGVSb290KHNpbmdsZVJvb3QuY2hpbGRyZW4pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIHJldHVybiBzaW5nbGVSb290O1xufVxuY29uc3QgZ2V0RnVuY3Rpb25hbEZhbGx0aHJvdWdoID0gKGF0dHJzKSA9PiB7XG4gIGxldCByZXM7XG4gIGZvciAoY29uc3Qga2V5IGluIGF0dHJzKSB7XG4gICAgaWYgKGtleSA9PT0gXCJjbGFzc1wiIHx8IGtleSA9PT0gXCJzdHlsZVwiIHx8IGlzT24oa2V5KSkge1xuICAgICAgKHJlcyB8fCAocmVzID0ge30pKVtrZXldID0gYXR0cnNba2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG5jb25zdCBmaWx0ZXJNb2RlbExpc3RlbmVycyA9IChhdHRycywgcHJvcHMpID0+IHtcbiAgY29uc3QgcmVzID0ge307XG4gIGZvciAoY29uc3Qga2V5IGluIGF0dHJzKSB7XG4gICAgaWYgKCFpc01vZGVsTGlzdGVuZXIoa2V5KSB8fCAhKGtleS5zbGljZSg5KSBpbiBwcm9wcykpIHtcbiAgICAgIHJlc1trZXldID0gYXR0cnNba2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG5jb25zdCBpc0VsZW1lbnRSb290ID0gKHZub2RlKSA9PiB7XG4gIHJldHVybiB2bm9kZS5zaGFwZUZsYWcgJiAoNiB8IDEpIHx8IHZub2RlLnR5cGUgPT09IENvbW1lbnQ7XG59O1xuZnVuY3Rpb24gc2hvdWxkVXBkYXRlQ29tcG9uZW50KHByZXZWTm9kZSwgbmV4dFZOb2RlLCBvcHRpbWl6ZWQpIHtcbiAgY29uc3QgeyBwcm9wczogcHJldlByb3BzLCBjaGlsZHJlbjogcHJldkNoaWxkcmVuLCBjb21wb25lbnQgfSA9IHByZXZWTm9kZTtcbiAgY29uc3QgeyBwcm9wczogbmV4dFByb3BzLCBjaGlsZHJlbjogbmV4dENoaWxkcmVuLCBwYXRjaEZsYWcgfSA9IG5leHRWTm9kZTtcbiAgY29uc3QgZW1pdHMgPSBjb21wb25lbnQuZW1pdHNPcHRpb25zO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAocHJldkNoaWxkcmVuIHx8IG5leHRDaGlsZHJlbikgJiYgaXNIbXJVcGRhdGluZykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChuZXh0Vk5vZGUuZGlycyB8fCBuZXh0Vk5vZGUudHJhbnNpdGlvbikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChvcHRpbWl6ZWQgJiYgcGF0Y2hGbGFnID49IDApIHtcbiAgICBpZiAocGF0Y2hGbGFnICYgMTAyNCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChwYXRjaEZsYWcgJiAxNikge1xuICAgICAgaWYgKCFwcmV2UHJvcHMpIHtcbiAgICAgICAgcmV0dXJuICEhbmV4dFByb3BzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhhc1Byb3BzQ2hhbmdlZChwcmV2UHJvcHMsIG5leHRQcm9wcywgZW1pdHMpO1xuICAgIH0gZWxzZSBpZiAocGF0Y2hGbGFnICYgOCkge1xuICAgICAgY29uc3QgZHluYW1pY1Byb3BzID0gbmV4dFZOb2RlLmR5bmFtaWNQcm9wcztcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZHluYW1pY1Byb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGR5bmFtaWNQcm9wc1tpXTtcbiAgICAgICAgaWYgKG5leHRQcm9wc1trZXldICE9PSBwcmV2UHJvcHNba2V5XSAmJiAhaXNFbWl0TGlzdGVuZXIoZW1pdHMsIGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAocHJldkNoaWxkcmVuIHx8IG5leHRDaGlsZHJlbikge1xuICAgICAgaWYgKCFuZXh0Q2hpbGRyZW4gfHwgIW5leHRDaGlsZHJlbi4kc3RhYmxlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocHJldlByb3BzID09PSBuZXh0UHJvcHMpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCFwcmV2UHJvcHMpIHtcbiAgICAgIHJldHVybiAhIW5leHRQcm9wcztcbiAgICB9XG4gICAgaWYgKCFuZXh0UHJvcHMpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gaGFzUHJvcHNDaGFuZ2VkKHByZXZQcm9wcywgbmV4dFByb3BzLCBlbWl0cyk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaGFzUHJvcHNDaGFuZ2VkKHByZXZQcm9wcywgbmV4dFByb3BzLCBlbWl0c09wdGlvbnMpIHtcbiAgY29uc3QgbmV4dEtleXMgPSBPYmplY3Qua2V5cyhuZXh0UHJvcHMpO1xuICBpZiAobmV4dEtleXMubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhwcmV2UHJvcHMpLmxlbmd0aCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbmV4dEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBrZXkgPSBuZXh0S2V5c1tpXTtcbiAgICBpZiAobmV4dFByb3BzW2tleV0gIT09IHByZXZQcm9wc1trZXldICYmICFpc0VtaXRMaXN0ZW5lcihlbWl0c09wdGlvbnMsIGtleSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiB1cGRhdGVIT0NIb3N0RWwoeyB2bm9kZSwgcGFyZW50IH0sIGVsKSB7XG4gIHdoaWxlIChwYXJlbnQpIHtcbiAgICBjb25zdCByb290ID0gcGFyZW50LnN1YlRyZWU7XG4gICAgaWYgKHJvb3Quc3VzcGVuc2UgJiYgcm9vdC5zdXNwZW5zZS5hY3RpdmVCcmFuY2ggPT09IHZub2RlKSB7XG4gICAgICByb290LmVsID0gdm5vZGUuZWw7XG4gICAgfVxuICAgIGlmIChyb290ID09PSB2bm9kZSkge1xuICAgICAgKHZub2RlID0gcGFyZW50LnZub2RlKS5lbCA9IGVsO1xuICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IGlzU3VzcGVuc2UgPSAodHlwZSkgPT4gdHlwZS5fX2lzU3VzcGVuc2U7XG5sZXQgc3VzcGVuc2VJZCA9IDA7XG5jb25zdCBTdXNwZW5zZUltcGwgPSB7XG4gIG5hbWU6IFwiU3VzcGVuc2VcIixcbiAgLy8gSW4gb3JkZXIgdG8gbWFrZSBTdXNwZW5zZSB0cmVlLXNoYWthYmxlLCB3ZSBuZWVkIHRvIGF2b2lkIGltcG9ydGluZyBpdFxuICAvLyBkaXJlY3RseSBpbiB0aGUgcmVuZGVyZXIuIFRoZSByZW5kZXJlciBjaGVja3MgZm9yIHRoZSBfX2lzU3VzcGVuc2UgZmxhZ1xuICAvLyBvbiBhIHZub2RlJ3MgdHlwZSBhbmQgY2FsbHMgdGhlIGBwcm9jZXNzYCBtZXRob2QsIHBhc3NpbmcgaW4gcmVuZGVyZXJcbiAgLy8gaW50ZXJuYWxzLlxuICBfX2lzU3VzcGVuc2U6IHRydWUsXG4gIHByb2Nlc3MobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMpIHtcbiAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgbW91bnRTdXNwZW5zZShcbiAgICAgICAgbjIsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkLFxuICAgICAgICByZW5kZXJlckludGVybmFsc1xuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHBhcmVudFN1c3BlbnNlICYmIHBhcmVudFN1c3BlbnNlLmRlcHMgPiAwICYmICFuMS5zdXNwZW5zZS5pc0luRmFsbGJhY2spIHtcbiAgICAgICAgbjIuc3VzcGVuc2UgPSBuMS5zdXNwZW5zZTtcbiAgICAgICAgbjIuc3VzcGVuc2Uudm5vZGUgPSBuMjtcbiAgICAgICAgbjIuZWwgPSBuMS5lbDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGF0Y2hTdXNwZW5zZShcbiAgICAgICAgbjEsXG4gICAgICAgIG4yLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkLFxuICAgICAgICByZW5kZXJlckludGVybmFsc1xuICAgICAgKTtcbiAgICB9XG4gIH0sXG4gIGh5ZHJhdGU6IGh5ZHJhdGVTdXNwZW5zZSxcbiAgbm9ybWFsaXplOiBub3JtYWxpemVTdXNwZW5zZUNoaWxkcmVuXG59O1xuY29uc3QgU3VzcGVuc2UgPSBTdXNwZW5zZUltcGwgO1xuZnVuY3Rpb24gdHJpZ2dlckV2ZW50KHZub2RlLCBuYW1lKSB7XG4gIGNvbnN0IGV2ZW50TGlzdGVuZXIgPSB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wc1tuYW1lXTtcbiAgaWYgKGlzRnVuY3Rpb24oZXZlbnRMaXN0ZW5lcikpIHtcbiAgICBldmVudExpc3RlbmVyKCk7XG4gIH1cbn1cbmZ1bmN0aW9uIG1vdW50U3VzcGVuc2Uodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscykge1xuICBjb25zdCB7XG4gICAgcDogcGF0Y2gsXG4gICAgbzogeyBjcmVhdGVFbGVtZW50IH1cbiAgfSA9IHJlbmRlcmVySW50ZXJuYWxzO1xuICBjb25zdCBoaWRkZW5Db250YWluZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBjb25zdCBzdXNwZW5zZSA9IHZub2RlLnN1c3BlbnNlID0gY3JlYXRlU3VzcGVuc2VCb3VuZGFyeShcbiAgICB2bm9kZSxcbiAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgY29udGFpbmVyLFxuICAgIGhpZGRlbkNvbnRhaW5lcixcbiAgICBhbmNob3IsXG4gICAgbmFtZXNwYWNlLFxuICAgIHNsb3RTY29wZUlkcyxcbiAgICBvcHRpbWl6ZWQsXG4gICAgcmVuZGVyZXJJbnRlcm5hbHNcbiAgKTtcbiAgcGF0Y2goXG4gICAgbnVsbCxcbiAgICBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gdm5vZGUuc3NDb250ZW50LFxuICAgIGhpZGRlbkNvbnRhaW5lcixcbiAgICBudWxsLFxuICAgIHBhcmVudENvbXBvbmVudCxcbiAgICBzdXNwZW5zZSxcbiAgICBuYW1lc3BhY2UsXG4gICAgc2xvdFNjb3BlSWRzXG4gICk7XG4gIGlmIChzdXNwZW5zZS5kZXBzID4gMCkge1xuICAgIHRyaWdnZXJFdmVudCh2bm9kZSwgXCJvblBlbmRpbmdcIik7XG4gICAgdHJpZ2dlckV2ZW50KHZub2RlLCBcIm9uRmFsbGJhY2tcIik7XG4gICAgcGF0Y2goXG4gICAgICBudWxsLFxuICAgICAgdm5vZGUuc3NGYWxsYmFjayxcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIGFuY2hvcixcbiAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgIG51bGwsXG4gICAgICAvLyBmYWxsYmFjayB0cmVlIHdpbGwgbm90IGhhdmUgc3VzcGVuc2UgY29udGV4dFxuICAgICAgbmFtZXNwYWNlLFxuICAgICAgc2xvdFNjb3BlSWRzXG4gICAgKTtcbiAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIHZub2RlLnNzRmFsbGJhY2spO1xuICB9IGVsc2Uge1xuICAgIHN1c3BlbnNlLnJlc29sdmUoZmFsc2UsIHRydWUpO1xuICB9XG59XG5mdW5jdGlvbiBwYXRjaFN1c3BlbnNlKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgeyBwOiBwYXRjaCwgdW06IHVubW91bnQsIG86IHsgY3JlYXRlRWxlbWVudCB9IH0pIHtcbiAgY29uc3Qgc3VzcGVuc2UgPSBuMi5zdXNwZW5zZSA9IG4xLnN1c3BlbnNlO1xuICBzdXNwZW5zZS52bm9kZSA9IG4yO1xuICBuMi5lbCA9IG4xLmVsO1xuICBjb25zdCBuZXdCcmFuY2ggPSBuMi5zc0NvbnRlbnQ7XG4gIGNvbnN0IG5ld0ZhbGxiYWNrID0gbjIuc3NGYWxsYmFjaztcbiAgY29uc3QgeyBhY3RpdmVCcmFuY2gsIHBlbmRpbmdCcmFuY2gsIGlzSW5GYWxsYmFjaywgaXNIeWRyYXRpbmcgfSA9IHN1c3BlbnNlO1xuICBpZiAocGVuZGluZ0JyYW5jaCkge1xuICAgIHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggPSBuZXdCcmFuY2g7XG4gICAgaWYgKGlzU2FtZVZOb2RlVHlwZShuZXdCcmFuY2gsIHBlbmRpbmdCcmFuY2gpKSB7XG4gICAgICBwYXRjaChcbiAgICAgICAgcGVuZGluZ0JyYW5jaCxcbiAgICAgICAgbmV3QnJhbmNoLFxuICAgICAgICBzdXNwZW5zZS5oaWRkZW5Db250YWluZXIsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgc3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgICBpZiAoc3VzcGVuc2UuZGVwcyA8PSAwKSB7XG4gICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNJbkZhbGxiYWNrKSB7XG4gICAgICAgIGlmICghaXNIeWRyYXRpbmcpIHtcbiAgICAgICAgICBwYXRjaChcbiAgICAgICAgICAgIGFjdGl2ZUJyYW5jaCxcbiAgICAgICAgICAgIG5ld0ZhbGxiYWNrLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIC8vIGZhbGxiYWNrIHRyZWUgd2lsbCBub3QgaGF2ZSBzdXNwZW5zZSBjb250ZXh0XG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgbmV3RmFsbGJhY2spO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN1c3BlbnNlLnBlbmRpbmdJZCA9IHN1c3BlbnNlSWQrKztcbiAgICAgIGlmIChpc0h5ZHJhdGluZykge1xuICAgICAgICBzdXNwZW5zZS5pc0h5ZHJhdGluZyA9IGZhbHNlO1xuICAgICAgICBzdXNwZW5zZS5hY3RpdmVCcmFuY2ggPSBwZW5kaW5nQnJhbmNoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdW5tb3VudChwZW5kaW5nQnJhbmNoLCBwYXJlbnRDb21wb25lbnQsIHN1c3BlbnNlKTtcbiAgICAgIH1cbiAgICAgIHN1c3BlbnNlLmRlcHMgPSAwO1xuICAgICAgc3VzcGVuc2UuZWZmZWN0cy5sZW5ndGggPSAwO1xuICAgICAgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGlmIChpc0luRmFsbGJhY2spIHtcbiAgICAgICAgcGF0Y2goXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBuZXdCcmFuY2gsXG4gICAgICAgICAgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICAgIGlmIChzdXNwZW5zZS5kZXBzIDw9IDApIHtcbiAgICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGF0Y2goXG4gICAgICAgICAgICBhY3RpdmVCcmFuY2gsXG4gICAgICAgICAgICBuZXdGYWxsYmFjayxcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAvLyBmYWxsYmFjayB0cmVlIHdpbGwgbm90IGhhdmUgc3VzcGVuc2UgY29udGV4dFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIG5ld0ZhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhY3RpdmVCcmFuY2ggJiYgaXNTYW1lVk5vZGVUeXBlKG5ld0JyYW5jaCwgYWN0aXZlQnJhbmNoKSkge1xuICAgICAgICBwYXRjaChcbiAgICAgICAgICBhY3RpdmVCcmFuY2gsXG4gICAgICAgICAgbmV3QnJhbmNoLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICAgIHN1c3BlbnNlLnJlc29sdmUodHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXRjaChcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIG5ld0JyYW5jaCxcbiAgICAgICAgICBzdXNwZW5zZS5oaWRkZW5Db250YWluZXIsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgc3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHN1c3BlbnNlLmRlcHMgPD0gMCkge1xuICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoYWN0aXZlQnJhbmNoICYmIGlzU2FtZVZOb2RlVHlwZShuZXdCcmFuY2gsIGFjdGl2ZUJyYW5jaCkpIHtcbiAgICAgIHBhdGNoKFxuICAgICAgICBhY3RpdmVCcmFuY2gsXG4gICAgICAgIG5ld0JyYW5jaCxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgc3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIG5ld0JyYW5jaCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyaWdnZXJFdmVudChuMiwgXCJvblBlbmRpbmdcIik7XG4gICAgICBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gbmV3QnJhbmNoO1xuICAgICAgaWYgKG5ld0JyYW5jaC5zaGFwZUZsYWcgJiA1MTIpIHtcbiAgICAgICAgc3VzcGVuc2UucGVuZGluZ0lkID0gbmV3QnJhbmNoLmNvbXBvbmVudC5zdXNwZW5zZUlkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3VzcGVuc2UucGVuZGluZ0lkID0gc3VzcGVuc2VJZCsrO1xuICAgICAgfVxuICAgICAgcGF0Y2goXG4gICAgICAgIG51bGwsXG4gICAgICAgIG5ld0JyYW5jaCxcbiAgICAgICAgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLFxuICAgICAgICBudWxsLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgICAgaWYgKHN1c3BlbnNlLmRlcHMgPD0gMCkge1xuICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB7IHRpbWVvdXQsIHBlbmRpbmdJZCB9ID0gc3VzcGVuc2U7XG4gICAgICAgIGlmICh0aW1lb3V0ID4gMCkge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHN1c3BlbnNlLnBlbmRpbmdJZCA9PT0gcGVuZGluZ0lkKSB7XG4gICAgICAgICAgICAgIHN1c3BlbnNlLmZhbGxiYWNrKG5ld0ZhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICAgICAgfSBlbHNlIGlmICh0aW1lb3V0ID09PSAwKSB7XG4gICAgICAgICAgc3VzcGVuc2UuZmFsbGJhY2sobmV3RmFsbGJhY2spO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5sZXQgaGFzV2FybmVkID0gZmFsc2U7XG5mdW5jdGlvbiBjcmVhdGVTdXNwZW5zZUJvdW5kYXJ5KHZub2RlLCBwYXJlbnRTdXNwZW5zZSwgcGFyZW50Q29tcG9uZW50LCBjb250YWluZXIsIGhpZGRlbkNvbnRhaW5lciwgYW5jaG9yLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscywgaXNIeWRyYXRpbmcgPSBmYWxzZSkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB0cnVlICYmICFoYXNXYXJuZWQpIHtcbiAgICBoYXNXYXJuZWQgPSB0cnVlO1xuICAgIGNvbnNvbGVbY29uc29sZS5pbmZvID8gXCJpbmZvXCIgOiBcImxvZ1wiXShcbiAgICAgIGA8U3VzcGVuc2U+IGlzIGFuIGV4cGVyaW1lbnRhbCBmZWF0dXJlIGFuZCBpdHMgQVBJIHdpbGwgbGlrZWx5IGNoYW5nZS5gXG4gICAgKTtcbiAgfVxuICBjb25zdCB7XG4gICAgcDogcGF0Y2gsXG4gICAgbTogbW92ZSxcbiAgICB1bTogdW5tb3VudCxcbiAgICBuOiBuZXh0LFxuICAgIG86IHsgcGFyZW50Tm9kZSwgcmVtb3ZlIH1cbiAgfSA9IHJlbmRlcmVySW50ZXJuYWxzO1xuICBsZXQgcGFyZW50U3VzcGVuc2VJZDtcbiAgY29uc3QgaXNTdXNwZW5zaWJsZSA9IGlzVk5vZGVTdXNwZW5zaWJsZSh2bm9kZSk7XG4gIGlmIChpc1N1c3BlbnNpYmxlKSB7XG4gICAgaWYgKHBhcmVudFN1c3BlbnNlICYmIHBhcmVudFN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcbiAgICAgIHBhcmVudFN1c3BlbnNlSWQgPSBwYXJlbnRTdXNwZW5zZS5wZW5kaW5nSWQ7XG4gICAgICBwYXJlbnRTdXNwZW5zZS5kZXBzKys7XG4gICAgfVxuICB9XG4gIGNvbnN0IHRpbWVvdXQgPSB2bm9kZS5wcm9wcyA/IHRvTnVtYmVyKHZub2RlLnByb3BzLnRpbWVvdXQpIDogdm9pZCAwO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGFzc2VydE51bWJlcih0aW1lb3V0LCBgU3VzcGVuc2UgdGltZW91dGApO1xuICB9XG4gIGNvbnN0IGluaXRpYWxBbmNob3IgPSBhbmNob3I7XG4gIGNvbnN0IHN1c3BlbnNlID0ge1xuICAgIHZub2RlLFxuICAgIHBhcmVudDogcGFyZW50U3VzcGVuc2UsXG4gICAgcGFyZW50Q29tcG9uZW50LFxuICAgIG5hbWVzcGFjZSxcbiAgICBjb250YWluZXIsXG4gICAgaGlkZGVuQ29udGFpbmVyLFxuICAgIGRlcHM6IDAsXG4gICAgcGVuZGluZ0lkOiBzdXNwZW5zZUlkKyssXG4gICAgdGltZW91dDogdHlwZW9mIHRpbWVvdXQgPT09IFwibnVtYmVyXCIgPyB0aW1lb3V0IDogLTEsXG4gICAgYWN0aXZlQnJhbmNoOiBudWxsLFxuICAgIHBlbmRpbmdCcmFuY2g6IG51bGwsXG4gICAgaXNJbkZhbGxiYWNrOiAhaXNIeWRyYXRpbmcsXG4gICAgaXNIeWRyYXRpbmcsXG4gICAgaXNVbm1vdW50ZWQ6IGZhbHNlLFxuICAgIGVmZmVjdHM6IFtdLFxuICAgIHJlc29sdmUocmVzdW1lID0gZmFsc2UsIHN5bmMgPSBmYWxzZSkge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgaWYgKCFyZXN1bWUgJiYgIXN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgc3VzcGVuc2UucmVzb2x2ZSgpIGlzIGNhbGxlZCB3aXRob3V0IGEgcGVuZGluZyBicmFuY2guYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN1c3BlbnNlLmlzVW5tb3VudGVkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYHN1c3BlbnNlLnJlc29sdmUoKSBpcyBjYWxsZWQgb24gYW4gYWxyZWFkeSB1bm1vdW50ZWQgc3VzcGVuc2UgYm91bmRhcnkuYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdm5vZGU6IHZub2RlMixcbiAgICAgICAgYWN0aXZlQnJhbmNoLFxuICAgICAgICBwZW5kaW5nQnJhbmNoLFxuICAgICAgICBwZW5kaW5nSWQsXG4gICAgICAgIGVmZmVjdHMsXG4gICAgICAgIHBhcmVudENvbXBvbmVudDogcGFyZW50Q29tcG9uZW50MixcbiAgICAgICAgY29udGFpbmVyOiBjb250YWluZXIyXG4gICAgICB9ID0gc3VzcGVuc2U7XG4gICAgICBsZXQgZGVsYXlFbnRlciA9IGZhbHNlO1xuICAgICAgaWYgKHN1c3BlbnNlLmlzSHlkcmF0aW5nKSB7XG4gICAgICAgIHN1c3BlbnNlLmlzSHlkcmF0aW5nID0gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKCFyZXN1bWUpIHtcbiAgICAgICAgZGVsYXlFbnRlciA9IGFjdGl2ZUJyYW5jaCAmJiBwZW5kaW5nQnJhbmNoLnRyYW5zaXRpb24gJiYgcGVuZGluZ0JyYW5jaC50cmFuc2l0aW9uLm1vZGUgPT09IFwib3V0LWluXCI7XG4gICAgICAgIGlmIChkZWxheUVudGVyKSB7XG4gICAgICAgICAgYWN0aXZlQnJhbmNoLnRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChwZW5kaW5nSWQgPT09IHN1c3BlbnNlLnBlbmRpbmdJZCkge1xuICAgICAgICAgICAgICBtb3ZlKFxuICAgICAgICAgICAgICAgIHBlbmRpbmdCcmFuY2gsXG4gICAgICAgICAgICAgICAgY29udGFpbmVyMixcbiAgICAgICAgICAgICAgICBhbmNob3IgPT09IGluaXRpYWxBbmNob3IgPyBuZXh0KGFjdGl2ZUJyYW5jaCkgOiBhbmNob3IsXG4gICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBxdWV1ZVBvc3RGbHVzaENiKGVmZmVjdHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFjdGl2ZUJyYW5jaCkge1xuICAgICAgICAgIGlmIChwYXJlbnROb2RlKGFjdGl2ZUJyYW5jaC5lbCkgPT09IGNvbnRhaW5lcjIpIHtcbiAgICAgICAgICAgIGFuY2hvciA9IG5leHQoYWN0aXZlQnJhbmNoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdW5tb3VudChhY3RpdmVCcmFuY2gsIHBhcmVudENvbXBvbmVudDIsIHN1c3BlbnNlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRlbGF5RW50ZXIpIHtcbiAgICAgICAgICBtb3ZlKHBlbmRpbmdCcmFuY2gsIGNvbnRhaW5lcjIsIGFuY2hvciwgMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgcGVuZGluZ0JyYW5jaCk7XG4gICAgICBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gbnVsbDtcbiAgICAgIHN1c3BlbnNlLmlzSW5GYWxsYmFjayA9IGZhbHNlO1xuICAgICAgbGV0IHBhcmVudCA9IHN1c3BlbnNlLnBhcmVudDtcbiAgICAgIGxldCBoYXNVbnJlc29sdmVkQW5jZXN0b3IgPSBmYWxzZTtcbiAgICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgICAgaWYgKHBhcmVudC5wZW5kaW5nQnJhbmNoKSB7XG4gICAgICAgICAgcGFyZW50LmVmZmVjdHMucHVzaCguLi5lZmZlY3RzKTtcbiAgICAgICAgICBoYXNVbnJlc29sdmVkQW5jZXN0b3IgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgICB9XG4gICAgICBpZiAoIWhhc1VucmVzb2x2ZWRBbmNlc3RvciAmJiAhZGVsYXlFbnRlcikge1xuICAgICAgICBxdWV1ZVBvc3RGbHVzaENiKGVmZmVjdHMpO1xuICAgICAgfVxuICAgICAgc3VzcGVuc2UuZWZmZWN0cyA9IFtdO1xuICAgICAgaWYgKGlzU3VzcGVuc2libGUpIHtcbiAgICAgICAgaWYgKHBhcmVudFN1c3BlbnNlICYmIHBhcmVudFN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggJiYgcGFyZW50U3VzcGVuc2VJZCA9PT0gcGFyZW50U3VzcGVuc2UucGVuZGluZ0lkKSB7XG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UuZGVwcy0tO1xuICAgICAgICAgIGlmIChwYXJlbnRTdXNwZW5zZS5kZXBzID09PSAwICYmICFzeW5jKSB7XG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0cmlnZ2VyRXZlbnQodm5vZGUyLCBcIm9uUmVzb2x2ZVwiKTtcbiAgICB9LFxuICAgIGZhbGxiYWNrKGZhbGxiYWNrVk5vZGUpIHtcbiAgICAgIGlmICghc3VzcGVuc2UucGVuZGluZ0JyYW5jaCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB7IHZub2RlOiB2bm9kZTIsIGFjdGl2ZUJyYW5jaCwgcGFyZW50Q29tcG9uZW50OiBwYXJlbnRDb21wb25lbnQyLCBjb250YWluZXI6IGNvbnRhaW5lcjIsIG5hbWVzcGFjZTogbmFtZXNwYWNlMiB9ID0gc3VzcGVuc2U7XG4gICAgICB0cmlnZ2VyRXZlbnQodm5vZGUyLCBcIm9uRmFsbGJhY2tcIik7XG4gICAgICBjb25zdCBhbmNob3IyID0gbmV4dChhY3RpdmVCcmFuY2gpO1xuICAgICAgY29uc3QgbW91bnRGYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgaWYgKCFzdXNwZW5zZS5pc0luRmFsbGJhY2spIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcGF0Y2goXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBmYWxsYmFja1ZOb2RlLFxuICAgICAgICAgIGNvbnRhaW5lcjIsXG4gICAgICAgICAgYW5jaG9yMixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQyLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgLy8gZmFsbGJhY2sgdHJlZSB3aWxsIG5vdCBoYXZlIHN1c3BlbnNlIGNvbnRleHRcbiAgICAgICAgICBuYW1lc3BhY2UyLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBmYWxsYmFja1ZOb2RlKTtcbiAgICAgIH07XG4gICAgICBjb25zdCBkZWxheUVudGVyID0gZmFsbGJhY2tWTm9kZS50cmFuc2l0aW9uICYmIGZhbGxiYWNrVk5vZGUudHJhbnNpdGlvbi5tb2RlID09PSBcIm91dC1pblwiO1xuICAgICAgaWYgKGRlbGF5RW50ZXIpIHtcbiAgICAgICAgYWN0aXZlQnJhbmNoLnRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSA9IG1vdW50RmFsbGJhY2s7XG4gICAgICB9XG4gICAgICBzdXNwZW5zZS5pc0luRmFsbGJhY2sgPSB0cnVlO1xuICAgICAgdW5tb3VudChcbiAgICAgICAgYWN0aXZlQnJhbmNoLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQyLFxuICAgICAgICBudWxsLFxuICAgICAgICAvLyBubyBzdXNwZW5zZSBzbyB1bm1vdW50IGhvb2tzIGZpcmUgbm93XG4gICAgICAgIHRydWVcbiAgICAgICAgLy8gc2hvdWxkUmVtb3ZlXG4gICAgICApO1xuICAgICAgaWYgKCFkZWxheUVudGVyKSB7XG4gICAgICAgIG1vdW50RmFsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG1vdmUoY29udGFpbmVyMiwgYW5jaG9yMiwgdHlwZSkge1xuICAgICAgc3VzcGVuc2UuYWN0aXZlQnJhbmNoICYmIG1vdmUoc3VzcGVuc2UuYWN0aXZlQnJhbmNoLCBjb250YWluZXIyLCBhbmNob3IyLCB0eXBlKTtcbiAgICAgIHN1c3BlbnNlLmNvbnRhaW5lciA9IGNvbnRhaW5lcjI7XG4gICAgfSxcbiAgICBuZXh0KCkge1xuICAgICAgcmV0dXJuIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCAmJiBuZXh0KHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCk7XG4gICAgfSxcbiAgICByZWdpc3RlckRlcChpbnN0YW5jZSwgc2V0dXBSZW5kZXJFZmZlY3QsIG9wdGltaXplZDIpIHtcbiAgICAgIGNvbnN0IGlzSW5QZW5kaW5nU3VzcGVuc2UgPSAhIXN1c3BlbnNlLnBlbmRpbmdCcmFuY2g7XG4gICAgICBpZiAoaXNJblBlbmRpbmdTdXNwZW5zZSkge1xuICAgICAgICBzdXNwZW5zZS5kZXBzKys7XG4gICAgICB9XG4gICAgICBjb25zdCBoeWRyYXRlZEVsID0gaW5zdGFuY2Uudm5vZGUuZWw7XG4gICAgICBpbnN0YW5jZS5hc3luY0RlcC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIDApO1xuICAgICAgfSkudGhlbigoYXN5bmNTZXR1cFJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UuaXNVbm1vdW50ZWQgfHwgc3VzcGVuc2UuaXNVbm1vdW50ZWQgfHwgc3VzcGVuc2UucGVuZGluZ0lkICE9PSBpbnN0YW5jZS5zdXNwZW5zZUlkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGluc3RhbmNlLmFzeW5jUmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgICBjb25zdCB7IHZub2RlOiB2bm9kZTIgfSA9IGluc3RhbmNlO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dCh2bm9kZTIpO1xuICAgICAgICB9XG4gICAgICAgIGhhbmRsZVNldHVwUmVzdWx0KGluc3RhbmNlLCBhc3luY1NldHVwUmVzdWx0LCBmYWxzZSk7XG4gICAgICAgIGlmIChoeWRyYXRlZEVsKSB7XG4gICAgICAgICAgdm5vZGUyLmVsID0gaHlkcmF0ZWRFbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9ICFoeWRyYXRlZEVsICYmIGluc3RhbmNlLnN1YlRyZWUuZWw7XG4gICAgICAgIHNldHVwUmVuZGVyRWZmZWN0KFxuICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgIHZub2RlMixcbiAgICAgICAgICAvLyBjb21wb25lbnQgbWF5IGhhdmUgYmVlbiBtb3ZlZCBiZWZvcmUgcmVzb2x2ZS5cbiAgICAgICAgICAvLyBpZiB0aGlzIGlzIG5vdCBhIGh5ZHJhdGlvbiwgaW5zdGFuY2Uuc3ViVHJlZSB3aWxsIGJlIHRoZSBjb21tZW50XG4gICAgICAgICAgLy8gcGxhY2Vob2xkZXIuXG4gICAgICAgICAgcGFyZW50Tm9kZShoeWRyYXRlZEVsIHx8IGluc3RhbmNlLnN1YlRyZWUuZWwpLFxuICAgICAgICAgIC8vIGFuY2hvciB3aWxsIG5vdCBiZSB1c2VkIGlmIHRoaXMgaXMgaHlkcmF0aW9uLCBzbyBvbmx5IG5lZWQgdG9cbiAgICAgICAgICAvLyBjb25zaWRlciB0aGUgY29tbWVudCBwbGFjZWhvbGRlciBjYXNlLlxuICAgICAgICAgIGh5ZHJhdGVkRWwgPyBudWxsIDogbmV4dChpbnN0YW5jZS5zdWJUcmVlKSxcbiAgICAgICAgICBzdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgb3B0aW1pemVkMlxuICAgICAgICApO1xuICAgICAgICBpZiAocGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICByZW1vdmUocGxhY2Vob2xkZXIpO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZUhPQ0hvc3RFbChpbnN0YW5jZSwgdm5vZGUyLmVsKTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0luUGVuZGluZ1N1c3BlbnNlICYmIC0tc3VzcGVuc2UuZGVwcyA9PT0gMCkge1xuICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICB1bm1vdW50KHBhcmVudFN1c3BlbnNlMiwgZG9SZW1vdmUpIHtcbiAgICAgIHN1c3BlbnNlLmlzVW5tb3VudGVkID0gdHJ1ZTtcbiAgICAgIGlmIChzdXNwZW5zZS5hY3RpdmVCcmFuY2gpIHtcbiAgICAgICAgdW5tb3VudChcbiAgICAgICAgICBzdXNwZW5zZS5hY3RpdmVCcmFuY2gsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlMixcbiAgICAgICAgICBkb1JlbW92ZVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKHN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcbiAgICAgICAgdW5tb3VudChcbiAgICAgICAgICBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZTIsXG4gICAgICAgICAgZG9SZW1vdmVcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiBzdXNwZW5zZTtcbn1cbmZ1bmN0aW9uIGh5ZHJhdGVTdXNwZW5zZShub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIGh5ZHJhdGVOb2RlKSB7XG4gIGNvbnN0IHN1c3BlbnNlID0gdm5vZGUuc3VzcGVuc2UgPSBjcmVhdGVTdXNwZW5zZUJvdW5kYXJ5KFxuICAgIHZub2RlLFxuICAgIHBhcmVudFN1c3BlbnNlLFxuICAgIHBhcmVudENvbXBvbmVudCxcbiAgICBub2RlLnBhcmVudE5vZGUsXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtZ2xvYmFsc1xuICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgbnVsbCxcbiAgICBuYW1lc3BhY2UsXG4gICAgc2xvdFNjb3BlSWRzLFxuICAgIG9wdGltaXplZCxcbiAgICByZW5kZXJlckludGVybmFscyxcbiAgICB0cnVlXG4gICk7XG4gIGNvbnN0IHJlc3VsdCA9IGh5ZHJhdGVOb2RlKFxuICAgIG5vZGUsXG4gICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IHZub2RlLnNzQ29udGVudCxcbiAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgc3VzcGVuc2UsXG4gICAgc2xvdFNjb3BlSWRzLFxuICAgIG9wdGltaXplZFxuICApO1xuICBpZiAoc3VzcGVuc2UuZGVwcyA9PT0gMCkge1xuICAgIHN1c3BlbnNlLnJlc29sdmUoZmFsc2UsIHRydWUpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBub3JtYWxpemVTdXNwZW5zZUNoaWxkcmVuKHZub2RlKSB7XG4gIGNvbnN0IHsgc2hhcGVGbGFnLCBjaGlsZHJlbiB9ID0gdm5vZGU7XG4gIGNvbnN0IGlzU2xvdENoaWxkcmVuID0gc2hhcGVGbGFnICYgMzI7XG4gIHZub2RlLnNzQ29udGVudCA9IG5vcm1hbGl6ZVN1c3BlbnNlU2xvdChcbiAgICBpc1Nsb3RDaGlsZHJlbiA/IGNoaWxkcmVuLmRlZmF1bHQgOiBjaGlsZHJlblxuICApO1xuICB2bm9kZS5zc0ZhbGxiYWNrID0gaXNTbG90Q2hpbGRyZW4gPyBub3JtYWxpemVTdXNwZW5zZVNsb3QoY2hpbGRyZW4uZmFsbGJhY2spIDogY3JlYXRlVk5vZGUoQ29tbWVudCk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVTdXNwZW5zZVNsb3Qocykge1xuICBsZXQgYmxvY2s7XG4gIGlmIChpc0Z1bmN0aW9uKHMpKSB7XG4gICAgY29uc3QgdHJhY2tCbG9jayA9IGlzQmxvY2tUcmVlRW5hYmxlZCAmJiBzLl9jO1xuICAgIGlmICh0cmFja0Jsb2NrKSB7XG4gICAgICBzLl9kID0gZmFsc2U7XG4gICAgICBvcGVuQmxvY2soKTtcbiAgICB9XG4gICAgcyA9IHMoKTtcbiAgICBpZiAodHJhY2tCbG9jaykge1xuICAgICAgcy5fZCA9IHRydWU7XG4gICAgICBibG9jayA9IGN1cnJlbnRCbG9jaztcbiAgICAgIGNsb3NlQmxvY2soKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzQXJyYXkocykpIHtcbiAgICBjb25zdCBzaW5nbGVDaGlsZCA9IGZpbHRlclNpbmdsZVJvb3Qocyk7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIXNpbmdsZUNoaWxkICYmIHMuZmlsdGVyKChjaGlsZCkgPT4gY2hpbGQgIT09IE5VTExfRFlOQU1JQ19DT01QT05FTlQpLmxlbmd0aCA+IDApIHtcbiAgICAgIHdhcm4kMShgPFN1c3BlbnNlPiBzbG90cyBleHBlY3QgYSBzaW5nbGUgcm9vdCBub2RlLmApO1xuICAgIH1cbiAgICBzID0gc2luZ2xlQ2hpbGQ7XG4gIH1cbiAgcyA9IG5vcm1hbGl6ZVZOb2RlKHMpO1xuICBpZiAoYmxvY2sgJiYgIXMuZHluYW1pY0NoaWxkcmVuKSB7XG4gICAgcy5keW5hbWljQ2hpbGRyZW4gPSBibG9jay5maWx0ZXIoKGMpID0+IGMgIT09IHMpO1xuICB9XG4gIHJldHVybiBzO1xufVxuZnVuY3Rpb24gcXVldWVFZmZlY3RXaXRoU3VzcGVuc2UoZm4sIHN1c3BlbnNlKSB7XG4gIGlmIChzdXNwZW5zZSAmJiBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XG4gICAgaWYgKGlzQXJyYXkoZm4pKSB7XG4gICAgICBzdXNwZW5zZS5lZmZlY3RzLnB1c2goLi4uZm4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdXNwZW5zZS5lZmZlY3RzLnB1c2goZm4pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBxdWV1ZVBvc3RGbHVzaENiKGZuKTtcbiAgfVxufVxuZnVuY3Rpb24gc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBicmFuY2gpIHtcbiAgc3VzcGVuc2UuYWN0aXZlQnJhbmNoID0gYnJhbmNoO1xuICBjb25zdCB7IHZub2RlLCBwYXJlbnRDb21wb25lbnQgfSA9IHN1c3BlbnNlO1xuICBsZXQgZWwgPSBicmFuY2guZWw7XG4gIHdoaWxlICghZWwgJiYgYnJhbmNoLmNvbXBvbmVudCkge1xuICAgIGJyYW5jaCA9IGJyYW5jaC5jb21wb25lbnQuc3ViVHJlZTtcbiAgICBlbCA9IGJyYW5jaC5lbDtcbiAgfVxuICB2bm9kZS5lbCA9IGVsO1xuICBpZiAocGFyZW50Q29tcG9uZW50ICYmIHBhcmVudENvbXBvbmVudC5zdWJUcmVlID09PSB2bm9kZSkge1xuICAgIHBhcmVudENvbXBvbmVudC52bm9kZS5lbCA9IGVsO1xuICAgIHVwZGF0ZUhPQ0hvc3RFbChwYXJlbnRDb21wb25lbnQsIGVsKTtcbiAgfVxufVxuZnVuY3Rpb24gaXNWTm9kZVN1c3BlbnNpYmxlKHZub2RlKSB7XG4gIGNvbnN0IHN1c3BlbnNpYmxlID0gdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMuc3VzcGVuc2libGU7XG4gIHJldHVybiBzdXNwZW5zaWJsZSAhPSBudWxsICYmIHN1c3BlbnNpYmxlICE9PSBmYWxzZTtcbn1cblxuY29uc3QgRnJhZ21lbnQgPSBTeW1ib2wuZm9yKFwidi1mZ3RcIik7XG5jb25zdCBUZXh0ID0gU3ltYm9sLmZvcihcInYtdHh0XCIpO1xuY29uc3QgQ29tbWVudCA9IFN5bWJvbC5mb3IoXCJ2LWNtdFwiKTtcbmNvbnN0IFN0YXRpYyA9IFN5bWJvbC5mb3IoXCJ2LXN0Y1wiKTtcbmNvbnN0IGJsb2NrU3RhY2sgPSBbXTtcbmxldCBjdXJyZW50QmxvY2sgPSBudWxsO1xuZnVuY3Rpb24gb3BlbkJsb2NrKGRpc2FibGVUcmFja2luZyA9IGZhbHNlKSB7XG4gIGJsb2NrU3RhY2sucHVzaChjdXJyZW50QmxvY2sgPSBkaXNhYmxlVHJhY2tpbmcgPyBudWxsIDogW10pO1xufVxuZnVuY3Rpb24gY2xvc2VCbG9jaygpIHtcbiAgYmxvY2tTdGFjay5wb3AoKTtcbiAgY3VycmVudEJsb2NrID0gYmxvY2tTdGFja1tibG9ja1N0YWNrLmxlbmd0aCAtIDFdIHx8IG51bGw7XG59XG5sZXQgaXNCbG9ja1RyZWVFbmFibGVkID0gMTtcbmZ1bmN0aW9uIHNldEJsb2NrVHJhY2tpbmcodmFsdWUsIGluVk9uY2UgPSBmYWxzZSkge1xuICBpc0Jsb2NrVHJlZUVuYWJsZWQgKz0gdmFsdWU7XG4gIGlmICh2YWx1ZSA8IDAgJiYgY3VycmVudEJsb2NrICYmIGluVk9uY2UpIHtcbiAgICBjdXJyZW50QmxvY2suaGFzT25jZSA9IHRydWU7XG4gIH1cbn1cbmZ1bmN0aW9uIHNldHVwQmxvY2sodm5vZGUpIHtcbiAgdm5vZGUuZHluYW1pY0NoaWxkcmVuID0gaXNCbG9ja1RyZWVFbmFibGVkID4gMCA/IGN1cnJlbnRCbG9jayB8fCBFTVBUWV9BUlIgOiBudWxsO1xuICBjbG9zZUJsb2NrKCk7XG4gIGlmIChpc0Jsb2NrVHJlZUVuYWJsZWQgPiAwICYmIGN1cnJlbnRCbG9jaykge1xuICAgIGN1cnJlbnRCbG9jay5wdXNoKHZub2RlKTtcbiAgfVxuICByZXR1cm4gdm5vZGU7XG59XG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50QmxvY2sodHlwZSwgcHJvcHMsIGNoaWxkcmVuLCBwYXRjaEZsYWcsIGR5bmFtaWNQcm9wcywgc2hhcGVGbGFnKSB7XG4gIHJldHVybiBzZXR1cEJsb2NrKFxuICAgIGNyZWF0ZUJhc2VWTm9kZShcbiAgICAgIHR5cGUsXG4gICAgICBwcm9wcyxcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgcGF0Y2hGbGFnLFxuICAgICAgZHluYW1pY1Byb3BzLFxuICAgICAgc2hhcGVGbGFnLFxuICAgICAgdHJ1ZVxuICAgIClcbiAgKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUJsb2NrKHR5cGUsIHByb3BzLCBjaGlsZHJlbiwgcGF0Y2hGbGFnLCBkeW5hbWljUHJvcHMpIHtcbiAgcmV0dXJuIHNldHVwQmxvY2soXG4gICAgY3JlYXRlVk5vZGUoXG4gICAgICB0eXBlLFxuICAgICAgcHJvcHMsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIHBhdGNoRmxhZyxcbiAgICAgIGR5bmFtaWNQcm9wcyxcbiAgICAgIHRydWVcbiAgICApXG4gICk7XG59XG5mdW5jdGlvbiBpc1ZOb2RlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA/IHZhbHVlLl9fdl9pc1ZOb2RlID09PSB0cnVlIDogZmFsc2U7XG59XG5mdW5jdGlvbiBpc1NhbWVWTm9kZVR5cGUobjEsIG4yKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIG4yLnNoYXBlRmxhZyAmIDYgJiYgbjEuY29tcG9uZW50KSB7XG4gICAgY29uc3QgZGlydHlJbnN0YW5jZXMgPSBobXJEaXJ0eUNvbXBvbmVudHMuZ2V0KG4yLnR5cGUpO1xuICAgIGlmIChkaXJ0eUluc3RhbmNlcyAmJiBkaXJ0eUluc3RhbmNlcy5oYXMobjEuY29tcG9uZW50KSkge1xuICAgICAgbjEuc2hhcGVGbGFnICY9IH4yNTY7XG4gICAgICBuMi5zaGFwZUZsYWcgJj0gfjUxMjtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG4xLnR5cGUgPT09IG4yLnR5cGUgJiYgbjEua2V5ID09PSBuMi5rZXk7XG59XG5sZXQgdm5vZGVBcmdzVHJhbnNmb3JtZXI7XG5mdW5jdGlvbiB0cmFuc2Zvcm1WTm9kZUFyZ3ModHJhbnNmb3JtZXIpIHtcbiAgdm5vZGVBcmdzVHJhbnNmb3JtZXIgPSB0cmFuc2Zvcm1lcjtcbn1cbmNvbnN0IGNyZWF0ZVZOb2RlV2l0aEFyZ3NUcmFuc2Zvcm0gPSAoLi4uYXJncykgPT4ge1xuICByZXR1cm4gX2NyZWF0ZVZOb2RlKFxuICAgIC4uLnZub2RlQXJnc1RyYW5zZm9ybWVyID8gdm5vZGVBcmdzVHJhbnNmb3JtZXIoYXJncywgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlKSA6IGFyZ3NcbiAgKTtcbn07XG5jb25zdCBub3JtYWxpemVLZXkgPSAoeyBrZXkgfSkgPT4ga2V5ICE9IG51bGwgPyBrZXkgOiBudWxsO1xuY29uc3Qgbm9ybWFsaXplUmVmID0gKHtcbiAgcmVmLFxuICByZWZfa2V5LFxuICByZWZfZm9yXG59KSA9PiB7XG4gIGlmICh0eXBlb2YgcmVmID09PSBcIm51bWJlclwiKSB7XG4gICAgcmVmID0gXCJcIiArIHJlZjtcbiAgfVxuICByZXR1cm4gcmVmICE9IG51bGwgPyBpc1N0cmluZyhyZWYpIHx8IGlzUmVmKHJlZikgfHwgaXNGdW5jdGlvbihyZWYpID8geyBpOiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UsIHI6IHJlZiwgazogcmVmX2tleSwgZjogISFyZWZfZm9yIH0gOiByZWYgOiBudWxsO1xufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VWTm9kZSh0eXBlLCBwcm9wcyA9IG51bGwsIGNoaWxkcmVuID0gbnVsbCwgcGF0Y2hGbGFnID0gMCwgZHluYW1pY1Byb3BzID0gbnVsbCwgc2hhcGVGbGFnID0gdHlwZSA9PT0gRnJhZ21lbnQgPyAwIDogMSwgaXNCbG9ja05vZGUgPSBmYWxzZSwgbmVlZEZ1bGxDaGlsZHJlbk5vcm1hbGl6YXRpb24gPSBmYWxzZSkge1xuICBjb25zdCB2bm9kZSA9IHtcbiAgICBfX3ZfaXNWTm9kZTogdHJ1ZSxcbiAgICBfX3Zfc2tpcDogdHJ1ZSxcbiAgICB0eXBlLFxuICAgIHByb3BzLFxuICAgIGtleTogcHJvcHMgJiYgbm9ybWFsaXplS2V5KHByb3BzKSxcbiAgICByZWY6IHByb3BzICYmIG5vcm1hbGl6ZVJlZihwcm9wcyksXG4gICAgc2NvcGVJZDogY3VycmVudFNjb3BlSWQsXG4gICAgc2xvdFNjb3BlSWRzOiBudWxsLFxuICAgIGNoaWxkcmVuLFxuICAgIGNvbXBvbmVudDogbnVsbCxcbiAgICBzdXNwZW5zZTogbnVsbCxcbiAgICBzc0NvbnRlbnQ6IG51bGwsXG4gICAgc3NGYWxsYmFjazogbnVsbCxcbiAgICBkaXJzOiBudWxsLFxuICAgIHRyYW5zaXRpb246IG51bGwsXG4gICAgZWw6IG51bGwsXG4gICAgYW5jaG9yOiBudWxsLFxuICAgIHRhcmdldDogbnVsbCxcbiAgICB0YXJnZXRTdGFydDogbnVsbCxcbiAgICB0YXJnZXRBbmNob3I6IG51bGwsXG4gICAgc3RhdGljQ291bnQ6IDAsXG4gICAgc2hhcGVGbGFnLFxuICAgIHBhdGNoRmxhZyxcbiAgICBkeW5hbWljUHJvcHMsXG4gICAgZHluYW1pY0NoaWxkcmVuOiBudWxsLFxuICAgIGFwcENvbnRleHQ6IG51bGwsXG4gICAgY3R4OiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2VcbiAgfTtcbiAgaWYgKG5lZWRGdWxsQ2hpbGRyZW5Ob3JtYWxpemF0aW9uKSB7XG4gICAgbm9ybWFsaXplQ2hpbGRyZW4odm5vZGUsIGNoaWxkcmVuKTtcbiAgICBpZiAoc2hhcGVGbGFnICYgMTI4KSB7XG4gICAgICB0eXBlLm5vcm1hbGl6ZSh2bm9kZSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGNoaWxkcmVuKSB7XG4gICAgdm5vZGUuc2hhcGVGbGFnIHw9IGlzU3RyaW5nKGNoaWxkcmVuKSA/IDggOiAxNjtcbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB2bm9kZS5rZXkgIT09IHZub2RlLmtleSkge1xuICAgIHdhcm4kMShgVk5vZGUgY3JlYXRlZCB3aXRoIGludmFsaWQga2V5IChOYU4pLiBWTm9kZSB0eXBlOmAsIHZub2RlLnR5cGUpO1xuICB9XG4gIGlmIChpc0Jsb2NrVHJlZUVuYWJsZWQgPiAwICYmIC8vIGF2b2lkIGEgYmxvY2sgbm9kZSBmcm9tIHRyYWNraW5nIGl0c2VsZlxuICAhaXNCbG9ja05vZGUgJiYgLy8gaGFzIGN1cnJlbnQgcGFyZW50IGJsb2NrXG4gIGN1cnJlbnRCbG9jayAmJiAvLyBwcmVzZW5jZSBvZiBhIHBhdGNoIGZsYWcgaW5kaWNhdGVzIHRoaXMgbm9kZSBuZWVkcyBwYXRjaGluZyBvbiB1cGRhdGVzLlxuICAvLyBjb21wb25lbnQgbm9kZXMgYWxzbyBzaG91bGQgYWx3YXlzIGJlIHBhdGNoZWQsIGJlY2F1c2UgZXZlbiBpZiB0aGVcbiAgLy8gY29tcG9uZW50IGRvZXNuJ3QgbmVlZCB0byB1cGRhdGUsIGl0IG5lZWRzIHRvIHBlcnNpc3QgdGhlIGluc3RhbmNlIG9uIHRvXG4gIC8vIHRoZSBuZXh0IHZub2RlIHNvIHRoYXQgaXQgY2FuIGJlIHByb3Blcmx5IHVubW91bnRlZCBsYXRlci5cbiAgKHZub2RlLnBhdGNoRmxhZyA+IDAgfHwgc2hhcGVGbGFnICYgNikgJiYgLy8gdGhlIEVWRU5UUyBmbGFnIGlzIG9ubHkgZm9yIGh5ZHJhdGlvbiBhbmQgaWYgaXQgaXMgdGhlIG9ubHkgZmxhZywgdGhlXG4gIC8vIHZub2RlIHNob3VsZCBub3QgYmUgY29uc2lkZXJlZCBkeW5hbWljIGR1ZSB0byBoYW5kbGVyIGNhY2hpbmcuXG4gIHZub2RlLnBhdGNoRmxhZyAhPT0gMzIpIHtcbiAgICBjdXJyZW50QmxvY2sucHVzaCh2bm9kZSk7XG4gIH1cbiAgcmV0dXJuIHZub2RlO1xufVxuY29uc3QgY3JlYXRlVk5vZGUgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gY3JlYXRlVk5vZGVXaXRoQXJnc1RyYW5zZm9ybSA6IF9jcmVhdGVWTm9kZTtcbmZ1bmN0aW9uIF9jcmVhdGVWTm9kZSh0eXBlLCBwcm9wcyA9IG51bGwsIGNoaWxkcmVuID0gbnVsbCwgcGF0Y2hGbGFnID0gMCwgZHluYW1pY1Byb3BzID0gbnVsbCwgaXNCbG9ja05vZGUgPSBmYWxzZSkge1xuICBpZiAoIXR5cGUgfHwgdHlwZSA9PT0gTlVMTF9EWU5BTUlDX0NPTVBPTkVOVCkge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICF0eXBlKSB7XG4gICAgICB3YXJuJDEoYEludmFsaWQgdm5vZGUgdHlwZSB3aGVuIGNyZWF0aW5nIHZub2RlOiAke3R5cGV9LmApO1xuICAgIH1cbiAgICB0eXBlID0gQ29tbWVudDtcbiAgfVxuICBpZiAoaXNWTm9kZSh0eXBlKSkge1xuICAgIGNvbnN0IGNsb25lZCA9IGNsb25lVk5vZGUoXG4gICAgICB0eXBlLFxuICAgICAgcHJvcHMsXG4gICAgICB0cnVlXG4gICAgICAvKiBtZXJnZVJlZjogdHJ1ZSAqL1xuICAgICk7XG4gICAgaWYgKGNoaWxkcmVuKSB7XG4gICAgICBub3JtYWxpemVDaGlsZHJlbihjbG9uZWQsIGNoaWxkcmVuKTtcbiAgICB9XG4gICAgaWYgKGlzQmxvY2tUcmVlRW5hYmxlZCA+IDAgJiYgIWlzQmxvY2tOb2RlICYmIGN1cnJlbnRCbG9jaykge1xuICAgICAgaWYgKGNsb25lZC5zaGFwZUZsYWcgJiA2KSB7XG4gICAgICAgIGN1cnJlbnRCbG9ja1tjdXJyZW50QmxvY2suaW5kZXhPZih0eXBlKV0gPSBjbG9uZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50QmxvY2sucHVzaChjbG9uZWQpO1xuICAgICAgfVxuICAgIH1cbiAgICBjbG9uZWQucGF0Y2hGbGFnID0gLTI7XG4gICAgcmV0dXJuIGNsb25lZDtcbiAgfVxuICBpZiAoaXNDbGFzc0NvbXBvbmVudCh0eXBlKSkge1xuICAgIHR5cGUgPSB0eXBlLl9fdmNjT3B0cztcbiAgfVxuICBpZiAocHJvcHMpIHtcbiAgICBwcm9wcyA9IGd1YXJkUmVhY3RpdmVQcm9wcyhwcm9wcyk7XG4gICAgbGV0IHsgY2xhc3M6IGtsYXNzLCBzdHlsZSB9ID0gcHJvcHM7XG4gICAgaWYgKGtsYXNzICYmICFpc1N0cmluZyhrbGFzcykpIHtcbiAgICAgIHByb3BzLmNsYXNzID0gbm9ybWFsaXplQ2xhc3Moa2xhc3MpO1xuICAgIH1cbiAgICBpZiAoaXNPYmplY3Qoc3R5bGUpKSB7XG4gICAgICBpZiAoaXNQcm94eShzdHlsZSkgJiYgIWlzQXJyYXkoc3R5bGUpKSB7XG4gICAgICAgIHN0eWxlID0gZXh0ZW5kKHt9LCBzdHlsZSk7XG4gICAgICB9XG4gICAgICBwcm9wcy5zdHlsZSA9IG5vcm1hbGl6ZVN0eWxlKHN0eWxlKTtcbiAgICB9XG4gIH1cbiAgY29uc3Qgc2hhcGVGbGFnID0gaXNTdHJpbmcodHlwZSkgPyAxIDogaXNTdXNwZW5zZSh0eXBlKSA/IDEyOCA6IGlzVGVsZXBvcnQodHlwZSkgPyA2NCA6IGlzT2JqZWN0KHR5cGUpID8gNCA6IGlzRnVuY3Rpb24odHlwZSkgPyAyIDogMDtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgc2hhcGVGbGFnICYgNCAmJiBpc1Byb3h5KHR5cGUpKSB7XG4gICAgdHlwZSA9IHRvUmF3KHR5cGUpO1xuICAgIHdhcm4kMShcbiAgICAgIGBWdWUgcmVjZWl2ZWQgYSBDb21wb25lbnQgdGhhdCB3YXMgbWFkZSBhIHJlYWN0aXZlIG9iamVjdC4gVGhpcyBjYW4gbGVhZCB0byB1bm5lY2Vzc2FyeSBwZXJmb3JtYW5jZSBvdmVyaGVhZCBhbmQgc2hvdWxkIGJlIGF2b2lkZWQgYnkgbWFya2luZyB0aGUgY29tcG9uZW50IHdpdGggXFxgbWFya1Jhd1xcYCBvciB1c2luZyBcXGBzaGFsbG93UmVmXFxgIGluc3RlYWQgb2YgXFxgcmVmXFxgLmAsXG4gICAgICBgXG5Db21wb25lbnQgdGhhdCB3YXMgbWFkZSByZWFjdGl2ZTogYCxcbiAgICAgIHR5cGVcbiAgICApO1xuICB9XG4gIHJldHVybiBjcmVhdGVCYXNlVk5vZGUoXG4gICAgdHlwZSxcbiAgICBwcm9wcyxcbiAgICBjaGlsZHJlbixcbiAgICBwYXRjaEZsYWcsXG4gICAgZHluYW1pY1Byb3BzLFxuICAgIHNoYXBlRmxhZyxcbiAgICBpc0Jsb2NrTm9kZSxcbiAgICB0cnVlXG4gICk7XG59XG5mdW5jdGlvbiBndWFyZFJlYWN0aXZlUHJvcHMocHJvcHMpIHtcbiAgaWYgKCFwcm9wcykgcmV0dXJuIG51bGw7XG4gIHJldHVybiBpc1Byb3h5KHByb3BzKSB8fCBpc0ludGVybmFsT2JqZWN0KHByb3BzKSA/IGV4dGVuZCh7fSwgcHJvcHMpIDogcHJvcHM7XG59XG5mdW5jdGlvbiBjbG9uZVZOb2RlKHZub2RlLCBleHRyYVByb3BzLCBtZXJnZVJlZiA9IGZhbHNlLCBjbG9uZVRyYW5zaXRpb24gPSBmYWxzZSkge1xuICBjb25zdCB7IHByb3BzLCByZWYsIHBhdGNoRmxhZywgY2hpbGRyZW4sIHRyYW5zaXRpb24gfSA9IHZub2RlO1xuICBjb25zdCBtZXJnZWRQcm9wcyA9IGV4dHJhUHJvcHMgPyBtZXJnZVByb3BzKHByb3BzIHx8IHt9LCBleHRyYVByb3BzKSA6IHByb3BzO1xuICBjb25zdCBjbG9uZWQgPSB7XG4gICAgX192X2lzVk5vZGU6IHRydWUsXG4gICAgX192X3NraXA6IHRydWUsXG4gICAgdHlwZTogdm5vZGUudHlwZSxcbiAgICBwcm9wczogbWVyZ2VkUHJvcHMsXG4gICAga2V5OiBtZXJnZWRQcm9wcyAmJiBub3JtYWxpemVLZXkobWVyZ2VkUHJvcHMpLFxuICAgIHJlZjogZXh0cmFQcm9wcyAmJiBleHRyYVByb3BzLnJlZiA/IChcbiAgICAgIC8vICMyMDc4IGluIHRoZSBjYXNlIG9mIDxjb21wb25lbnQgOmlzPVwidm5vZGVcIiByZWY9XCJleHRyYVwiLz5cbiAgICAgIC8vIGlmIHRoZSB2bm9kZSBpdHNlbGYgYWxyZWFkeSBoYXMgYSByZWYsIGNsb25lVk5vZGUgd2lsbCBuZWVkIHRvIG1lcmdlXG4gICAgICAvLyB0aGUgcmVmcyBzbyB0aGUgc2luZ2xlIHZub2RlIGNhbiBiZSBzZXQgb24gbXVsdGlwbGUgcmVmc1xuICAgICAgbWVyZ2VSZWYgJiYgcmVmID8gaXNBcnJheShyZWYpID8gcmVmLmNvbmNhdChub3JtYWxpemVSZWYoZXh0cmFQcm9wcykpIDogW3JlZiwgbm9ybWFsaXplUmVmKGV4dHJhUHJvcHMpXSA6IG5vcm1hbGl6ZVJlZihleHRyYVByb3BzKVxuICAgICkgOiByZWYsXG4gICAgc2NvcGVJZDogdm5vZGUuc2NvcGVJZCxcbiAgICBzbG90U2NvcGVJZHM6IHZub2RlLnNsb3RTY29wZUlkcyxcbiAgICBjaGlsZHJlbjogISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBwYXRjaEZsYWcgPT09IC0xICYmIGlzQXJyYXkoY2hpbGRyZW4pID8gY2hpbGRyZW4ubWFwKGRlZXBDbG9uZVZOb2RlKSA6IGNoaWxkcmVuLFxuICAgIHRhcmdldDogdm5vZGUudGFyZ2V0LFxuICAgIHRhcmdldFN0YXJ0OiB2bm9kZS50YXJnZXRTdGFydCxcbiAgICB0YXJnZXRBbmNob3I6IHZub2RlLnRhcmdldEFuY2hvcixcbiAgICBzdGF0aWNDb3VudDogdm5vZGUuc3RhdGljQ291bnQsXG4gICAgc2hhcGVGbGFnOiB2bm9kZS5zaGFwZUZsYWcsXG4gICAgLy8gaWYgdGhlIHZub2RlIGlzIGNsb25lZCB3aXRoIGV4dHJhIHByb3BzLCB3ZSBjYW4gbm8gbG9uZ2VyIGFzc3VtZSBpdHNcbiAgICAvLyBleGlzdGluZyBwYXRjaCBmbGFnIHRvIGJlIHJlbGlhYmxlIGFuZCBuZWVkIHRvIGFkZCB0aGUgRlVMTF9QUk9QUyBmbGFnLlxuICAgIC8vIG5vdGU6IHByZXNlcnZlIGZsYWcgZm9yIGZyYWdtZW50cyBzaW5jZSB0aGV5IHVzZSB0aGUgZmxhZyBmb3IgY2hpbGRyZW5cbiAgICAvLyBmYXN0IHBhdGhzIG9ubHkuXG4gICAgcGF0Y2hGbGFnOiBleHRyYVByb3BzICYmIHZub2RlLnR5cGUgIT09IEZyYWdtZW50ID8gcGF0Y2hGbGFnID09PSAtMSA/IDE2IDogcGF0Y2hGbGFnIHwgMTYgOiBwYXRjaEZsYWcsXG4gICAgZHluYW1pY1Byb3BzOiB2bm9kZS5keW5hbWljUHJvcHMsXG4gICAgZHluYW1pY0NoaWxkcmVuOiB2bm9kZS5keW5hbWljQ2hpbGRyZW4sXG4gICAgYXBwQ29udGV4dDogdm5vZGUuYXBwQ29udGV4dCxcbiAgICBkaXJzOiB2bm9kZS5kaXJzLFxuICAgIHRyYW5zaXRpb24sXG4gICAgLy8gVGhlc2Ugc2hvdWxkIHRlY2huaWNhbGx5IG9ubHkgYmUgbm9uLW51bGwgb24gbW91bnRlZCBWTm9kZXMuIEhvd2V2ZXIsXG4gICAgLy8gdGhleSAqc2hvdWxkKiBiZSBjb3BpZWQgZm9yIGtlcHQtYWxpdmUgdm5vZGVzLiBTbyB3ZSBqdXN0IGFsd2F5cyBjb3B5XG4gICAgLy8gdGhlbSBzaW5jZSB0aGVtIGJlaW5nIG5vbi1udWxsIGR1cmluZyBhIG1vdW50IGRvZXNuJ3QgYWZmZWN0IHRoZSBsb2dpYyBhc1xuICAgIC8vIHRoZXkgd2lsbCBzaW1wbHkgYmUgb3ZlcndyaXR0ZW4uXG4gICAgY29tcG9uZW50OiB2bm9kZS5jb21wb25lbnQsXG4gICAgc3VzcGVuc2U6IHZub2RlLnN1c3BlbnNlLFxuICAgIHNzQ29udGVudDogdm5vZGUuc3NDb250ZW50ICYmIGNsb25lVk5vZGUodm5vZGUuc3NDb250ZW50KSxcbiAgICBzc0ZhbGxiYWNrOiB2bm9kZS5zc0ZhbGxiYWNrICYmIGNsb25lVk5vZGUodm5vZGUuc3NGYWxsYmFjayksXG4gICAgZWw6IHZub2RlLmVsLFxuICAgIGFuY2hvcjogdm5vZGUuYW5jaG9yLFxuICAgIGN0eDogdm5vZGUuY3R4LFxuICAgIGNlOiB2bm9kZS5jZVxuICB9O1xuICBpZiAodHJhbnNpdGlvbiAmJiBjbG9uZVRyYW5zaXRpb24pIHtcbiAgICBzZXRUcmFuc2l0aW9uSG9va3MoXG4gICAgICBjbG9uZWQsXG4gICAgICB0cmFuc2l0aW9uLmNsb25lKGNsb25lZClcbiAgICApO1xuICB9XG4gIHJldHVybiBjbG9uZWQ7XG59XG5mdW5jdGlvbiBkZWVwQ2xvbmVWTm9kZSh2bm9kZSkge1xuICBjb25zdCBjbG9uZWQgPSBjbG9uZVZOb2RlKHZub2RlKTtcbiAgaWYgKGlzQXJyYXkodm5vZGUuY2hpbGRyZW4pKSB7XG4gICAgY2xvbmVkLmNoaWxkcmVuID0gdm5vZGUuY2hpbGRyZW4ubWFwKGRlZXBDbG9uZVZOb2RlKTtcbiAgfVxuICByZXR1cm4gY2xvbmVkO1xufVxuZnVuY3Rpb24gY3JlYXRlVGV4dFZOb2RlKHRleHQgPSBcIiBcIiwgZmxhZyA9IDApIHtcbiAgcmV0dXJuIGNyZWF0ZVZOb2RlKFRleHQsIG51bGwsIHRleHQsIGZsYWcpO1xufVxuZnVuY3Rpb24gY3JlYXRlU3RhdGljVk5vZGUoY29udGVudCwgbnVtYmVyT2ZOb2Rlcykge1xuICBjb25zdCB2bm9kZSA9IGNyZWF0ZVZOb2RlKFN0YXRpYywgbnVsbCwgY29udGVudCk7XG4gIHZub2RlLnN0YXRpY0NvdW50ID0gbnVtYmVyT2ZOb2RlcztcbiAgcmV0dXJuIHZub2RlO1xufVxuZnVuY3Rpb24gY3JlYXRlQ29tbWVudFZOb2RlKHRleHQgPSBcIlwiLCBhc0Jsb2NrID0gZmFsc2UpIHtcbiAgcmV0dXJuIGFzQmxvY2sgPyAob3BlbkJsb2NrKCksIGNyZWF0ZUJsb2NrKENvbW1lbnQsIG51bGwsIHRleHQpKSA6IGNyZWF0ZVZOb2RlKENvbW1lbnQsIG51bGwsIHRleHQpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplVk5vZGUoY2hpbGQpIHtcbiAgaWYgKGNoaWxkID09IG51bGwgfHwgdHlwZW9mIGNoaWxkID09PSBcImJvb2xlYW5cIikge1xuICAgIHJldHVybiBjcmVhdGVWTm9kZShDb21tZW50KTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KGNoaWxkKSkge1xuICAgIHJldHVybiBjcmVhdGVWTm9kZShcbiAgICAgIEZyYWdtZW50LFxuICAgICAgbnVsbCxcbiAgICAgIC8vICMzNjY2LCBhdm9pZCByZWZlcmVuY2UgcG9sbHV0aW9uIHdoZW4gcmV1c2luZyB2bm9kZVxuICAgICAgY2hpbGQuc2xpY2UoKVxuICAgICk7XG4gIH0gZWxzZSBpZiAoaXNWTm9kZShjaGlsZCkpIHtcbiAgICByZXR1cm4gY2xvbmVJZk1vdW50ZWQoY2hpbGQpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjcmVhdGVWTm9kZShUZXh0LCBudWxsLCBTdHJpbmcoY2hpbGQpKTtcbiAgfVxufVxuZnVuY3Rpb24gY2xvbmVJZk1vdW50ZWQoY2hpbGQpIHtcbiAgcmV0dXJuIGNoaWxkLmVsID09PSBudWxsICYmIGNoaWxkLnBhdGNoRmxhZyAhPT0gLTEgfHwgY2hpbGQubWVtbyA/IGNoaWxkIDogY2xvbmVWTm9kZShjaGlsZCk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVDaGlsZHJlbih2bm9kZSwgY2hpbGRyZW4pIHtcbiAgbGV0IHR5cGUgPSAwO1xuICBjb25zdCB7IHNoYXBlRmxhZyB9ID0gdm5vZGU7XG4gIGlmIChjaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgY2hpbGRyZW4gPSBudWxsO1xuICB9IGVsc2UgaWYgKGlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgdHlwZSA9IDE2O1xuICB9IGVsc2UgaWYgKHR5cGVvZiBjaGlsZHJlbiA9PT0gXCJvYmplY3RcIikge1xuICAgIGlmIChzaGFwZUZsYWcgJiAoMSB8IDY0KSkge1xuICAgICAgY29uc3Qgc2xvdCA9IGNoaWxkcmVuLmRlZmF1bHQ7XG4gICAgICBpZiAoc2xvdCkge1xuICAgICAgICBzbG90Ll9jICYmIChzbG90Ll9kID0gZmFsc2UpO1xuICAgICAgICBub3JtYWxpemVDaGlsZHJlbih2bm9kZSwgc2xvdCgpKTtcbiAgICAgICAgc2xvdC5fYyAmJiAoc2xvdC5fZCA9IHRydWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICB0eXBlID0gMzI7XG4gICAgICBjb25zdCBzbG90RmxhZyA9IGNoaWxkcmVuLl87XG4gICAgICBpZiAoIXNsb3RGbGFnICYmICFpc0ludGVybmFsT2JqZWN0KGNoaWxkcmVuKSkge1xuICAgICAgICBjaGlsZHJlbi5fY3R4ID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xuICAgICAgfSBlbHNlIGlmIChzbG90RmxhZyA9PT0gMyAmJiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UpIHtcbiAgICAgICAgaWYgKGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZS5zbG90cy5fID09PSAxKSB7XG4gICAgICAgICAgY2hpbGRyZW4uXyA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2hpbGRyZW4uXyA9IDI7XG4gICAgICAgICAgdm5vZGUucGF0Y2hGbGFnIHw9IDEwMjQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihjaGlsZHJlbikpIHtcbiAgICBjaGlsZHJlbiA9IHsgZGVmYXVsdDogY2hpbGRyZW4sIF9jdHg6IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSB9O1xuICAgIHR5cGUgPSAzMjtcbiAgfSBlbHNlIHtcbiAgICBjaGlsZHJlbiA9IFN0cmluZyhjaGlsZHJlbik7XG4gICAgaWYgKHNoYXBlRmxhZyAmIDY0KSB7XG4gICAgICB0eXBlID0gMTY7XG4gICAgICBjaGlsZHJlbiA9IFtjcmVhdGVUZXh0Vk5vZGUoY2hpbGRyZW4pXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdHlwZSA9IDg7XG4gICAgfVxuICB9XG4gIHZub2RlLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gIHZub2RlLnNoYXBlRmxhZyB8PSB0eXBlO1xufVxuZnVuY3Rpb24gbWVyZ2VQcm9wcyguLi5hcmdzKSB7XG4gIGNvbnN0IHJldCA9IHt9O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB0b01lcmdlID0gYXJnc1tpXTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB0b01lcmdlKSB7XG4gICAgICBpZiAoa2V5ID09PSBcImNsYXNzXCIpIHtcbiAgICAgICAgaWYgKHJldC5jbGFzcyAhPT0gdG9NZXJnZS5jbGFzcykge1xuICAgICAgICAgIHJldC5jbGFzcyA9IG5vcm1hbGl6ZUNsYXNzKFtyZXQuY2xhc3MsIHRvTWVyZ2UuY2xhc3NdKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChrZXkgPT09IFwic3R5bGVcIikge1xuICAgICAgICByZXQuc3R5bGUgPSBub3JtYWxpemVTdHlsZShbcmV0LnN0eWxlLCB0b01lcmdlLnN0eWxlXSk7XG4gICAgICB9IGVsc2UgaWYgKGlzT24oa2V5KSkge1xuICAgICAgICBjb25zdCBleGlzdGluZyA9IHJldFtrZXldO1xuICAgICAgICBjb25zdCBpbmNvbWluZyA9IHRvTWVyZ2Vba2V5XTtcbiAgICAgICAgaWYgKGluY29taW5nICYmIGV4aXN0aW5nICE9PSBpbmNvbWluZyAmJiAhKGlzQXJyYXkoZXhpc3RpbmcpICYmIGV4aXN0aW5nLmluY2x1ZGVzKGluY29taW5nKSkpIHtcbiAgICAgICAgICByZXRba2V5XSA9IGV4aXN0aW5nID8gW10uY29uY2F0KGV4aXN0aW5nLCBpbmNvbWluZykgOiBpbmNvbWluZztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChrZXkgIT09IFwiXCIpIHtcbiAgICAgICAgcmV0W2tleV0gPSB0b01lcmdlW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXQ7XG59XG5mdW5jdGlvbiBpbnZva2VWTm9kZUhvb2soaG9vaywgaW5zdGFuY2UsIHZub2RlLCBwcmV2Vk5vZGUgPSBudWxsKSB7XG4gIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGhvb2ssIGluc3RhbmNlLCA3LCBbXG4gICAgdm5vZGUsXG4gICAgcHJldlZOb2RlXG4gIF0pO1xufVxuXG5jb25zdCBlbXB0eUFwcENvbnRleHQgPSBjcmVhdGVBcHBDb250ZXh0KCk7XG5sZXQgdWlkID0gMDtcbmZ1bmN0aW9uIGNyZWF0ZUNvbXBvbmVudEluc3RhbmNlKHZub2RlLCBwYXJlbnQsIHN1c3BlbnNlKSB7XG4gIGNvbnN0IHR5cGUgPSB2bm9kZS50eXBlO1xuICBjb25zdCBhcHBDb250ZXh0ID0gKHBhcmVudCA/IHBhcmVudC5hcHBDb250ZXh0IDogdm5vZGUuYXBwQ29udGV4dCkgfHwgZW1wdHlBcHBDb250ZXh0O1xuICBjb25zdCBpbnN0YW5jZSA9IHtcbiAgICB1aWQ6IHVpZCsrLFxuICAgIHZub2RlLFxuICAgIHR5cGUsXG4gICAgcGFyZW50LFxuICAgIGFwcENvbnRleHQsXG4gICAgcm9vdDogbnVsbCxcbiAgICAvLyB0byBiZSBpbW1lZGlhdGVseSBzZXRcbiAgICBuZXh0OiBudWxsLFxuICAgIHN1YlRyZWU6IG51bGwsXG4gICAgLy8gd2lsbCBiZSBzZXQgc3luY2hyb25vdXNseSByaWdodCBhZnRlciBjcmVhdGlvblxuICAgIGVmZmVjdDogbnVsbCxcbiAgICB1cGRhdGU6IG51bGwsXG4gICAgLy8gd2lsbCBiZSBzZXQgc3luY2hyb25vdXNseSByaWdodCBhZnRlciBjcmVhdGlvblxuICAgIGpvYjogbnVsbCxcbiAgICBzY29wZTogbmV3IEVmZmVjdFNjb3BlKFxuICAgICAgdHJ1ZVxuICAgICAgLyogZGV0YWNoZWQgKi9cbiAgICApLFxuICAgIHJlbmRlcjogbnVsbCxcbiAgICBwcm94eTogbnVsbCxcbiAgICBleHBvc2VkOiBudWxsLFxuICAgIGV4cG9zZVByb3h5OiBudWxsLFxuICAgIHdpdGhQcm94eTogbnVsbCxcbiAgICBwcm92aWRlczogcGFyZW50ID8gcGFyZW50LnByb3ZpZGVzIDogT2JqZWN0LmNyZWF0ZShhcHBDb250ZXh0LnByb3ZpZGVzKSxcbiAgICBpZHM6IHBhcmVudCA/IHBhcmVudC5pZHMgOiBbXCJcIiwgMCwgMF0sXG4gICAgYWNjZXNzQ2FjaGU6IG51bGwsXG4gICAgcmVuZGVyQ2FjaGU6IFtdLFxuICAgIC8vIGxvY2FsIHJlc29sdmVkIGFzc2V0c1xuICAgIGNvbXBvbmVudHM6IG51bGwsXG4gICAgZGlyZWN0aXZlczogbnVsbCxcbiAgICAvLyByZXNvbHZlZCBwcm9wcyBhbmQgZW1pdHMgb3B0aW9uc1xuICAgIHByb3BzT3B0aW9uczogbm9ybWFsaXplUHJvcHNPcHRpb25zKHR5cGUsIGFwcENvbnRleHQpLFxuICAgIGVtaXRzT3B0aW9uczogbm9ybWFsaXplRW1pdHNPcHRpb25zKHR5cGUsIGFwcENvbnRleHQpLFxuICAgIC8vIGVtaXRcbiAgICBlbWl0OiBudWxsLFxuICAgIC8vIHRvIGJlIHNldCBpbW1lZGlhdGVseVxuICAgIGVtaXR0ZWQ6IG51bGwsXG4gICAgLy8gcHJvcHMgZGVmYXVsdCB2YWx1ZVxuICAgIHByb3BzRGVmYXVsdHM6IEVNUFRZX09CSixcbiAgICAvLyBpbmhlcml0QXR0cnNcbiAgICBpbmhlcml0QXR0cnM6IHR5cGUuaW5oZXJpdEF0dHJzLFxuICAgIC8vIHN0YXRlXG4gICAgY3R4OiBFTVBUWV9PQkosXG4gICAgZGF0YTogRU1QVFlfT0JKLFxuICAgIHByb3BzOiBFTVBUWV9PQkosXG4gICAgYXR0cnM6IEVNUFRZX09CSixcbiAgICBzbG90czogRU1QVFlfT0JKLFxuICAgIHJlZnM6IEVNUFRZX09CSixcbiAgICBzZXR1cFN0YXRlOiBFTVBUWV9PQkosXG4gICAgc2V0dXBDb250ZXh0OiBudWxsLFxuICAgIC8vIHN1c3BlbnNlIHJlbGF0ZWRcbiAgICBzdXNwZW5zZSxcbiAgICBzdXNwZW5zZUlkOiBzdXNwZW5zZSA/IHN1c3BlbnNlLnBlbmRpbmdJZCA6IDAsXG4gICAgYXN5bmNEZXA6IG51bGwsXG4gICAgYXN5bmNSZXNvbHZlZDogZmFsc2UsXG4gICAgLy8gbGlmZWN5Y2xlIGhvb2tzXG4gICAgLy8gbm90IHVzaW5nIGVudW1zIGhlcmUgYmVjYXVzZSBpdCByZXN1bHRzIGluIGNvbXB1dGVkIHByb3BlcnRpZXNcbiAgICBpc01vdW50ZWQ6IGZhbHNlLFxuICAgIGlzVW5tb3VudGVkOiBmYWxzZSxcbiAgICBpc0RlYWN0aXZhdGVkOiBmYWxzZSxcbiAgICBiYzogbnVsbCxcbiAgICBjOiBudWxsLFxuICAgIGJtOiBudWxsLFxuICAgIG06IG51bGwsXG4gICAgYnU6IG51bGwsXG4gICAgdTogbnVsbCxcbiAgICB1bTogbnVsbCxcbiAgICBidW06IG51bGwsXG4gICAgZGE6IG51bGwsXG4gICAgYTogbnVsbCxcbiAgICBydGc6IG51bGwsXG4gICAgcnRjOiBudWxsLFxuICAgIGVjOiBudWxsLFxuICAgIHNwOiBudWxsXG4gIH07XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgaW5zdGFuY2UuY3R4ID0gY3JlYXRlRGV2UmVuZGVyQ29udGV4dChpbnN0YW5jZSk7XG4gIH0gZWxzZSB7XG4gICAgaW5zdGFuY2UuY3R4ID0geyBfOiBpbnN0YW5jZSB9O1xuICB9XG4gIGluc3RhbmNlLnJvb3QgPSBwYXJlbnQgPyBwYXJlbnQucm9vdCA6IGluc3RhbmNlO1xuICBpbnN0YW5jZS5lbWl0ID0gZW1pdC5iaW5kKG51bGwsIGluc3RhbmNlKTtcbiAgaWYgKHZub2RlLmNlKSB7XG4gICAgdm5vZGUuY2UoaW5zdGFuY2UpO1xuICB9XG4gIHJldHVybiBpbnN0YW5jZTtcbn1cbmxldCBjdXJyZW50SW5zdGFuY2UgPSBudWxsO1xuY29uc3QgZ2V0Q3VycmVudEluc3RhbmNlID0gKCkgPT4gY3VycmVudEluc3RhbmNlIHx8IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZTtcbmxldCBpbnRlcm5hbFNldEN1cnJlbnRJbnN0YW5jZTtcbmxldCBzZXRJblNTUlNldHVwU3RhdGU7XG57XG4gIGNvbnN0IGcgPSBnZXRHbG9iYWxUaGlzKCk7XG4gIGNvbnN0IHJlZ2lzdGVyR2xvYmFsU2V0dGVyID0gKGtleSwgc2V0dGVyKSA9PiB7XG4gICAgbGV0IHNldHRlcnM7XG4gICAgaWYgKCEoc2V0dGVycyA9IGdba2V5XSkpIHNldHRlcnMgPSBnW2tleV0gPSBbXTtcbiAgICBzZXR0ZXJzLnB1c2goc2V0dGVyKTtcbiAgICByZXR1cm4gKHYpID0+IHtcbiAgICAgIGlmIChzZXR0ZXJzLmxlbmd0aCA+IDEpIHNldHRlcnMuZm9yRWFjaCgoc2V0KSA9PiBzZXQodikpO1xuICAgICAgZWxzZSBzZXR0ZXJzWzBdKHYpO1xuICAgIH07XG4gIH07XG4gIGludGVybmFsU2V0Q3VycmVudEluc3RhbmNlID0gcmVnaXN0ZXJHbG9iYWxTZXR0ZXIoXG4gICAgYF9fVlVFX0lOU1RBTkNFX1NFVFRFUlNfX2AsXG4gICAgKHYpID0+IGN1cnJlbnRJbnN0YW5jZSA9IHZcbiAgKTtcbiAgc2V0SW5TU1JTZXR1cFN0YXRlID0gcmVnaXN0ZXJHbG9iYWxTZXR0ZXIoXG4gICAgYF9fVlVFX1NTUl9TRVRURVJTX19gLFxuICAgICh2KSA9PiBpc0luU1NSQ29tcG9uZW50U2V0dXAgPSB2XG4gICk7XG59XG5jb25zdCBzZXRDdXJyZW50SW5zdGFuY2UgPSAoaW5zdGFuY2UpID0+IHtcbiAgY29uc3QgcHJldiA9IGN1cnJlbnRJbnN0YW5jZTtcbiAgaW50ZXJuYWxTZXRDdXJyZW50SW5zdGFuY2UoaW5zdGFuY2UpO1xuICBpbnN0YW5jZS5zY29wZS5vbigpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGluc3RhbmNlLnNjb3BlLm9mZigpO1xuICAgIGludGVybmFsU2V0Q3VycmVudEluc3RhbmNlKHByZXYpO1xuICB9O1xufTtcbmNvbnN0IHVuc2V0Q3VycmVudEluc3RhbmNlID0gKCkgPT4ge1xuICBjdXJyZW50SW5zdGFuY2UgJiYgY3VycmVudEluc3RhbmNlLnNjb3BlLm9mZigpO1xuICBpbnRlcm5hbFNldEN1cnJlbnRJbnN0YW5jZShudWxsKTtcbn07XG5jb25zdCBpc0J1aWx0SW5UYWcgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChcInNsb3QsY29tcG9uZW50XCIpO1xuZnVuY3Rpb24gdmFsaWRhdGVDb21wb25lbnROYW1lKG5hbWUsIHsgaXNOYXRpdmVUYWcgfSkge1xuICBpZiAoaXNCdWlsdEluVGFnKG5hbWUpIHx8IGlzTmF0aXZlVGFnKG5hbWUpKSB7XG4gICAgd2FybiQxKFxuICAgICAgXCJEbyBub3QgdXNlIGJ1aWx0LWluIG9yIHJlc2VydmVkIEhUTUwgZWxlbWVudHMgYXMgY29tcG9uZW50IGlkOiBcIiArIG5hbWVcbiAgICApO1xuICB9XG59XG5mdW5jdGlvbiBpc1N0YXRlZnVsQ29tcG9uZW50KGluc3RhbmNlKSB7XG4gIHJldHVybiBpbnN0YW5jZS52bm9kZS5zaGFwZUZsYWcgJiA0O1xufVxubGV0IGlzSW5TU1JDb21wb25lbnRTZXR1cCA9IGZhbHNlO1xuZnVuY3Rpb24gc2V0dXBDb21wb25lbnQoaW5zdGFuY2UsIGlzU1NSID0gZmFsc2UsIG9wdGltaXplZCA9IGZhbHNlKSB7XG4gIGlzU1NSICYmIHNldEluU1NSU2V0dXBTdGF0ZShpc1NTUik7XG4gIGNvbnN0IHsgcHJvcHMsIGNoaWxkcmVuIH0gPSBpbnN0YW5jZS52bm9kZTtcbiAgY29uc3QgaXNTdGF0ZWZ1bCA9IGlzU3RhdGVmdWxDb21wb25lbnQoaW5zdGFuY2UpO1xuICBpbml0UHJvcHMoaW5zdGFuY2UsIHByb3BzLCBpc1N0YXRlZnVsLCBpc1NTUik7XG4gIGluaXRTbG90cyhpbnN0YW5jZSwgY2hpbGRyZW4sIG9wdGltaXplZCk7XG4gIGNvbnN0IHNldHVwUmVzdWx0ID0gaXNTdGF0ZWZ1bCA/IHNldHVwU3RhdGVmdWxDb21wb25lbnQoaW5zdGFuY2UsIGlzU1NSKSA6IHZvaWQgMDtcbiAgaXNTU1IgJiYgc2V0SW5TU1JTZXR1cFN0YXRlKGZhbHNlKTtcbiAgcmV0dXJuIHNldHVwUmVzdWx0O1xufVxuZnVuY3Rpb24gc2V0dXBTdGF0ZWZ1bENvbXBvbmVudChpbnN0YW5jZSwgaXNTU1IpIHtcbiAgdmFyIF9hO1xuICBjb25zdCBDb21wb25lbnQgPSBpbnN0YW5jZS50eXBlO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGlmIChDb21wb25lbnQubmFtZSkge1xuICAgICAgdmFsaWRhdGVDb21wb25lbnROYW1lKENvbXBvbmVudC5uYW1lLCBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZyk7XG4gICAgfVxuICAgIGlmIChDb21wb25lbnQuY29tcG9uZW50cykge1xuICAgICAgY29uc3QgbmFtZXMgPSBPYmplY3Qua2V5cyhDb21wb25lbnQuY29tcG9uZW50cyk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbGlkYXRlQ29tcG9uZW50TmFtZShuYW1lc1tpXSwgaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoQ29tcG9uZW50LmRpcmVjdGl2ZXMpIHtcbiAgICAgIGNvbnN0IG5hbWVzID0gT2JqZWN0LmtleXMoQ29tcG9uZW50LmRpcmVjdGl2ZXMpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YWxpZGF0ZURpcmVjdGl2ZU5hbWUobmFtZXNbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoQ29tcG9uZW50LmNvbXBpbGVyT3B0aW9ucyAmJiBpc1J1bnRpbWVPbmx5KCkpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYFwiY29tcGlsZXJPcHRpb25zXCIgaXMgb25seSBzdXBwb3J0ZWQgd2hlbiB1c2luZyBhIGJ1aWxkIG9mIFZ1ZSB0aGF0IGluY2x1ZGVzIHRoZSBydW50aW1lIGNvbXBpbGVyLiBTaW5jZSB5b3UgYXJlIHVzaW5nIGEgcnVudGltZS1vbmx5IGJ1aWxkLCB0aGUgb3B0aW9ucyBzaG91bGQgYmUgcGFzc2VkIHZpYSB5b3VyIGJ1aWxkIHRvb2wgY29uZmlnIGluc3RlYWQuYFxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgaW5zdGFuY2UuYWNjZXNzQ2FjaGUgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgaW5zdGFuY2UucHJveHkgPSBuZXcgUHJveHkoaW5zdGFuY2UuY3R4LCBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMpO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGV4cG9zZVByb3BzT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKTtcbiAgfVxuICBjb25zdCB7IHNldHVwIH0gPSBDb21wb25lbnQ7XG4gIGlmIChzZXR1cCkge1xuICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICBjb25zdCBzZXR1cENvbnRleHQgPSBpbnN0YW5jZS5zZXR1cENvbnRleHQgPSBzZXR1cC5sZW5ndGggPiAxID8gY3JlYXRlU2V0dXBDb250ZXh0KGluc3RhbmNlKSA6IG51bGw7XG4gICAgY29uc3QgcmVzZXQgPSBzZXRDdXJyZW50SW5zdGFuY2UoaW5zdGFuY2UpO1xuICAgIGNvbnN0IHNldHVwUmVzdWx0ID0gY2FsbFdpdGhFcnJvckhhbmRsaW5nKFxuICAgICAgc2V0dXAsXG4gICAgICBpbnN0YW5jZSxcbiAgICAgIDAsXG4gICAgICBbXG4gICAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBzaGFsbG93UmVhZG9ubHkoaW5zdGFuY2UucHJvcHMpIDogaW5zdGFuY2UucHJvcHMsXG4gICAgICAgIHNldHVwQ29udGV4dFxuICAgICAgXVxuICAgICk7XG4gICAgY29uc3QgaXNBc3luY1NldHVwID0gaXNQcm9taXNlKHNldHVwUmVzdWx0KTtcbiAgICByZXNldFRyYWNraW5nKCk7XG4gICAgcmVzZXQoKTtcbiAgICBpZiAoKGlzQXN5bmNTZXR1cCB8fCBpbnN0YW5jZS5zcCkgJiYgIWlzQXN5bmNXcmFwcGVyKGluc3RhbmNlKSkge1xuICAgICAgbWFya0FzeW5jQm91bmRhcnkoaW5zdGFuY2UpO1xuICAgIH1cbiAgICBpZiAoaXNBc3luY1NldHVwKSB7XG4gICAgICBzZXR1cFJlc3VsdC50aGVuKHVuc2V0Q3VycmVudEluc3RhbmNlLCB1bnNldEN1cnJlbnRJbnN0YW5jZSk7XG4gICAgICBpZiAoaXNTU1IpIHtcbiAgICAgICAgcmV0dXJuIHNldHVwUmVzdWx0LnRoZW4oKHJlc29sdmVkUmVzdWx0KSA9PiB7XG4gICAgICAgICAgaGFuZGxlU2V0dXBSZXN1bHQoaW5zdGFuY2UsIHJlc29sdmVkUmVzdWx0LCBpc1NTUik7XG4gICAgICAgIH0pLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgaGFuZGxlRXJyb3IoZSwgaW5zdGFuY2UsIDApO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluc3RhbmNlLmFzeW5jRGVwID0gc2V0dXBSZXN1bHQ7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpbnN0YW5jZS5zdXNwZW5zZSkge1xuICAgICAgICAgIGNvbnN0IG5hbWUgPSAoX2EgPSBDb21wb25lbnQubmFtZSkgIT0gbnVsbCA/IF9hIDogXCJBbm9ueW1vdXNcIjtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBgQ29tcG9uZW50IDwke25hbWV9Pjogc2V0dXAgZnVuY3Rpb24gcmV0dXJuZWQgYSBwcm9taXNlLCBidXQgbm8gPFN1c3BlbnNlPiBib3VuZGFyeSB3YXMgZm91bmQgaW4gdGhlIHBhcmVudCBjb21wb25lbnQgdHJlZS4gQSBjb21wb25lbnQgd2l0aCBhc3luYyBzZXR1cCgpIG11c3QgYmUgbmVzdGVkIGluIGEgPFN1c3BlbnNlPiBpbiBvcmRlciB0byBiZSByZW5kZXJlZC5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgc2V0dXBSZXN1bHQsIGlzU1NSKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZmluaXNoQ29tcG9uZW50U2V0dXAoaW5zdGFuY2UsIGlzU1NSKTtcbiAgfVxufVxuZnVuY3Rpb24gaGFuZGxlU2V0dXBSZXN1bHQoaW5zdGFuY2UsIHNldHVwUmVzdWx0LCBpc1NTUikge1xuICBpZiAoaXNGdW5jdGlvbihzZXR1cFJlc3VsdCkpIHtcbiAgICBpZiAoaW5zdGFuY2UudHlwZS5fX3NzcklubGluZVJlbmRlcikge1xuICAgICAgaW5zdGFuY2Uuc3NyUmVuZGVyID0gc2V0dXBSZXN1bHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc3RhbmNlLnJlbmRlciA9IHNldHVwUmVzdWx0O1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc09iamVjdChzZXR1cFJlc3VsdCkpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpc1ZOb2RlKHNldHVwUmVzdWx0KSkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgc2V0dXAoKSBzaG91bGQgbm90IHJldHVybiBWTm9kZXMgZGlyZWN0bHkgLSByZXR1cm4gYSByZW5kZXIgZnVuY3Rpb24gaW5zdGVhZC5gXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgIGluc3RhbmNlLmRldnRvb2xzUmF3U2V0dXBTdGF0ZSA9IHNldHVwUmVzdWx0O1xuICAgIH1cbiAgICBpbnN0YW5jZS5zZXR1cFN0YXRlID0gcHJveHlSZWZzKHNldHVwUmVzdWx0KTtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgZXhwb3NlU2V0dXBTdGF0ZU9uUmVuZGVyQ29udGV4dChpbnN0YW5jZSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgc2V0dXBSZXN1bHQgIT09IHZvaWQgMCkge1xuICAgIHdhcm4kMShcbiAgICAgIGBzZXR1cCgpIHNob3VsZCByZXR1cm4gYW4gb2JqZWN0LiBSZWNlaXZlZDogJHtzZXR1cFJlc3VsdCA9PT0gbnVsbCA/IFwibnVsbFwiIDogdHlwZW9mIHNldHVwUmVzdWx0fWBcbiAgICApO1xuICB9XG4gIGZpbmlzaENvbXBvbmVudFNldHVwKGluc3RhbmNlLCBpc1NTUik7XG59XG5sZXQgY29tcGlsZTtcbmxldCBpbnN0YWxsV2l0aFByb3h5O1xuZnVuY3Rpb24gcmVnaXN0ZXJSdW50aW1lQ29tcGlsZXIoX2NvbXBpbGUpIHtcbiAgY29tcGlsZSA9IF9jb21waWxlO1xuICBpbnN0YWxsV2l0aFByb3h5ID0gKGkpID0+IHtcbiAgICBpZiAoaS5yZW5kZXIuX3JjKSB7XG4gICAgICBpLndpdGhQcm94eSA9IG5ldyBQcm94eShpLmN0eCwgUnVudGltZUNvbXBpbGVkUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzKTtcbiAgICB9XG4gIH07XG59XG5jb25zdCBpc1J1bnRpbWVPbmx5ID0gKCkgPT4gIWNvbXBpbGU7XG5mdW5jdGlvbiBmaW5pc2hDb21wb25lbnRTZXR1cChpbnN0YW5jZSwgaXNTU1IsIHNraXBPcHRpb25zKSB7XG4gIGNvbnN0IENvbXBvbmVudCA9IGluc3RhbmNlLnR5cGU7XG4gIGlmICghaW5zdGFuY2UucmVuZGVyKSB7XG4gICAgaWYgKCFpc1NTUiAmJiBjb21waWxlICYmICFDb21wb25lbnQucmVuZGVyKSB7XG4gICAgICBjb25zdCB0ZW1wbGF0ZSA9IENvbXBvbmVudC50ZW1wbGF0ZSB8fCBfX1ZVRV9PUFRJT05TX0FQSV9fICYmIHJlc29sdmVNZXJnZWRPcHRpb25zKGluc3RhbmNlKS50ZW1wbGF0ZTtcbiAgICAgIGlmICh0ZW1wbGF0ZSkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYGNvbXBpbGVgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGlzQ3VzdG9tRWxlbWVudCwgY29tcGlsZXJPcHRpb25zIH0gPSBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZztcbiAgICAgICAgY29uc3QgeyBkZWxpbWl0ZXJzLCBjb21waWxlck9wdGlvbnM6IGNvbXBvbmVudENvbXBpbGVyT3B0aW9ucyB9ID0gQ29tcG9uZW50O1xuICAgICAgICBjb25zdCBmaW5hbENvbXBpbGVyT3B0aW9ucyA9IGV4dGVuZChcbiAgICAgICAgICBleHRlbmQoXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlzQ3VzdG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgZGVsaW1pdGVyc1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbXBpbGVyT3B0aW9uc1xuICAgICAgICAgICksXG4gICAgICAgICAgY29tcG9uZW50Q29tcGlsZXJPcHRpb25zXG4gICAgICAgICk7XG4gICAgICAgIENvbXBvbmVudC5yZW5kZXIgPSBjb21waWxlKHRlbXBsYXRlLCBmaW5hbENvbXBpbGVyT3B0aW9ucyk7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYGNvbXBpbGVgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpbnN0YW5jZS5yZW5kZXIgPSBDb21wb25lbnQucmVuZGVyIHx8IE5PT1A7XG4gICAgaWYgKGluc3RhbGxXaXRoUHJveHkpIHtcbiAgICAgIGluc3RhbGxXaXRoUHJveHkoaW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuICBpZiAoX19WVUVfT1BUSU9OU19BUElfXyAmJiB0cnVlKSB7XG4gICAgY29uc3QgcmVzZXQgPSBzZXRDdXJyZW50SW5zdGFuY2UoaW5zdGFuY2UpO1xuICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICB0cnkge1xuICAgICAgYXBwbHlPcHRpb25zKGluc3RhbmNlKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgcmVzZXRUcmFja2luZygpO1xuICAgICAgcmVzZXQoKTtcbiAgICB9XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIUNvbXBvbmVudC5yZW5kZXIgJiYgaW5zdGFuY2UucmVuZGVyID09PSBOT09QICYmICFpc1NTUikge1xuICAgIGlmICghY29tcGlsZSAmJiBDb21wb25lbnQudGVtcGxhdGUpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYENvbXBvbmVudCBwcm92aWRlZCB0ZW1wbGF0ZSBvcHRpb24gYnV0IHJ1bnRpbWUgY29tcGlsYXRpb24gaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJ1aWxkIG9mIFZ1ZS5gICsgKGAgQ29uZmlndXJlIHlvdXIgYnVuZGxlciB0byBhbGlhcyBcInZ1ZVwiIHRvIFwidnVlL2Rpc3QvdnVlLmVzbS1idW5kbGVyLmpzXCIuYCApXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB3YXJuJDEoYENvbXBvbmVudCBpcyBtaXNzaW5nIHRlbXBsYXRlIG9yIHJlbmRlciBmdW5jdGlvbjogYCwgQ29tcG9uZW50KTtcbiAgICB9XG4gIH1cbn1cbmNvbnN0IGF0dHJzUHJveHlIYW5kbGVycyA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyB7XG4gIGdldCh0YXJnZXQsIGtleSkge1xuICAgIG1hcmtBdHRyc0FjY2Vzc2VkKCk7XG4gICAgdHJhY2sodGFyZ2V0LCBcImdldFwiLCBcIlwiKTtcbiAgICByZXR1cm4gdGFyZ2V0W2tleV07XG4gIH0sXG4gIHNldCgpIHtcbiAgICB3YXJuJDEoYHNldHVwQ29udGV4dC5hdHRycyBpcyByZWFkb25seS5gKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGRlbGV0ZVByb3BlcnR5KCkge1xuICAgIHdhcm4kMShgc2V0dXBDb250ZXh0LmF0dHJzIGlzIHJlYWRvbmx5LmApO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSA6IHtcbiAgZ2V0KHRhcmdldCwga2V5KSB7XG4gICAgdHJhY2sodGFyZ2V0LCBcImdldFwiLCBcIlwiKTtcbiAgICByZXR1cm4gdGFyZ2V0W2tleV07XG4gIH1cbn07XG5mdW5jdGlvbiBnZXRTbG90c1Byb3h5KGluc3RhbmNlKSB7XG4gIHJldHVybiBuZXcgUHJveHkoaW5zdGFuY2Uuc2xvdHMsIHtcbiAgICBnZXQodGFyZ2V0LCBrZXkpIHtcbiAgICAgIHRyYWNrKGluc3RhbmNlLCBcImdldFwiLCBcIiRzbG90c1wiKTtcbiAgICAgIHJldHVybiB0YXJnZXRba2V5XTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlU2V0dXBDb250ZXh0KGluc3RhbmNlKSB7XG4gIGNvbnN0IGV4cG9zZSA9IChleHBvc2VkKSA9PiB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIGlmIChpbnN0YW5jZS5leHBvc2VkKSB7XG4gICAgICAgIHdhcm4kMShgZXhwb3NlKCkgc2hvdWxkIGJlIGNhbGxlZCBvbmx5IG9uY2UgcGVyIHNldHVwKCkuYCk7XG4gICAgICB9XG4gICAgICBpZiAoZXhwb3NlZCAhPSBudWxsKSB7XG4gICAgICAgIGxldCBleHBvc2VkVHlwZSA9IHR5cGVvZiBleHBvc2VkO1xuICAgICAgICBpZiAoZXhwb3NlZFR5cGUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICBpZiAoaXNBcnJheShleHBvc2VkKSkge1xuICAgICAgICAgICAgZXhwb3NlZFR5cGUgPSBcImFycmF5XCI7XG4gICAgICAgICAgfSBlbHNlIGlmIChpc1JlZihleHBvc2VkKSkge1xuICAgICAgICAgICAgZXhwb3NlZFR5cGUgPSBcInJlZlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZXhwb3NlZFR5cGUgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBgZXhwb3NlKCkgc2hvdWxkIGJlIHBhc3NlZCBhIHBsYWluIG9iamVjdCwgcmVjZWl2ZWQgJHtleHBvc2VkVHlwZX0uYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaW5zdGFuY2UuZXhwb3NlZCA9IGV4cG9zZWQgfHwge307XG4gIH07XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgbGV0IGF0dHJzUHJveHk7XG4gICAgbGV0IHNsb3RzUHJveHk7XG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUoe1xuICAgICAgZ2V0IGF0dHJzKCkge1xuICAgICAgICByZXR1cm4gYXR0cnNQcm94eSB8fCAoYXR0cnNQcm94eSA9IG5ldyBQcm94eShpbnN0YW5jZS5hdHRycywgYXR0cnNQcm94eUhhbmRsZXJzKSk7XG4gICAgICB9LFxuICAgICAgZ2V0IHNsb3RzKCkge1xuICAgICAgICByZXR1cm4gc2xvdHNQcm94eSB8fCAoc2xvdHNQcm94eSA9IGdldFNsb3RzUHJveHkoaW5zdGFuY2UpKTtcbiAgICAgIH0sXG4gICAgICBnZXQgZW1pdCgpIHtcbiAgICAgICAgcmV0dXJuIChldmVudCwgLi4uYXJncykgPT4gaW5zdGFuY2UuZW1pdChldmVudCwgLi4uYXJncyk7XG4gICAgICB9LFxuICAgICAgZXhwb3NlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGF0dHJzOiBuZXcgUHJveHkoaW5zdGFuY2UuYXR0cnMsIGF0dHJzUHJveHlIYW5kbGVycyksXG4gICAgICBzbG90czogaW5zdGFuY2Uuc2xvdHMsXG4gICAgICBlbWl0OiBpbnN0YW5jZS5lbWl0LFxuICAgICAgZXhwb3NlXG4gICAgfTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0Q29tcG9uZW50UHVibGljSW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgaWYgKGluc3RhbmNlLmV4cG9zZWQpIHtcbiAgICByZXR1cm4gaW5zdGFuY2UuZXhwb3NlUHJveHkgfHwgKGluc3RhbmNlLmV4cG9zZVByb3h5ID0gbmV3IFByb3h5KHByb3h5UmVmcyhtYXJrUmF3KGluc3RhbmNlLmV4cG9zZWQpKSwge1xuICAgICAgZ2V0KHRhcmdldCwga2V5KSB7XG4gICAgICAgIGlmIChrZXkgaW4gdGFyZ2V0KSB7XG4gICAgICAgICAgcmV0dXJuIHRhcmdldFtrZXldO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSBpbiBwdWJsaWNQcm9wZXJ0aWVzTWFwKSB7XG4gICAgICAgICAgcmV0dXJuIHB1YmxpY1Byb3BlcnRpZXNNYXBba2V5XShpbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBoYXModGFyZ2V0LCBrZXkpIHtcbiAgICAgICAgcmV0dXJuIGtleSBpbiB0YXJnZXQgfHwga2V5IGluIHB1YmxpY1Byb3BlcnRpZXNNYXA7XG4gICAgICB9XG4gICAgfSkpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBpbnN0YW5jZS5wcm94eTtcbiAgfVxufVxuY29uc3QgY2xhc3NpZnlSRSA9IC8oPzpefFstX10pKFxcdykvZztcbmNvbnN0IGNsYXNzaWZ5ID0gKHN0cikgPT4gc3RyLnJlcGxhY2UoY2xhc3NpZnlSRSwgKGMpID0+IGMudG9VcHBlckNhc2UoKSkucmVwbGFjZSgvWy1fXS9nLCBcIlwiKTtcbmZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWUoQ29tcG9uZW50LCBpbmNsdWRlSW5mZXJyZWQgPSB0cnVlKSB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKENvbXBvbmVudCkgPyBDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50Lm5hbWUgOiBDb21wb25lbnQubmFtZSB8fCBpbmNsdWRlSW5mZXJyZWQgJiYgQ29tcG9uZW50Ll9fbmFtZTtcbn1cbmZ1bmN0aW9uIGZvcm1hdENvbXBvbmVudE5hbWUoaW5zdGFuY2UsIENvbXBvbmVudCwgaXNSb290ID0gZmFsc2UpIHtcbiAgbGV0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKENvbXBvbmVudCk7XG4gIGlmICghbmFtZSAmJiBDb21wb25lbnQuX19maWxlKSB7XG4gICAgY29uc3QgbWF0Y2ggPSBDb21wb25lbnQuX19maWxlLm1hdGNoKC8oW14vXFxcXF0rKVxcLlxcdyskLyk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICBuYW1lID0gbWF0Y2hbMV07XG4gICAgfVxuICB9XG4gIGlmICghbmFtZSAmJiBpbnN0YW5jZSAmJiBpbnN0YW5jZS5wYXJlbnQpIHtcbiAgICBjb25zdCBpbmZlckZyb21SZWdpc3RyeSA9IChyZWdpc3RyeSkgPT4ge1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gcmVnaXN0cnkpIHtcbiAgICAgICAgaWYgKHJlZ2lzdHJ5W2tleV0gPT09IENvbXBvbmVudCkge1xuICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIG5hbWUgPSBpbmZlckZyb21SZWdpc3RyeShcbiAgICAgIGluc3RhbmNlLmNvbXBvbmVudHMgfHwgaW5zdGFuY2UucGFyZW50LnR5cGUuY29tcG9uZW50c1xuICAgICkgfHwgaW5mZXJGcm9tUmVnaXN0cnkoaW5zdGFuY2UuYXBwQ29udGV4dC5jb21wb25lbnRzKTtcbiAgfVxuICByZXR1cm4gbmFtZSA/IGNsYXNzaWZ5KG5hbWUpIDogaXNSb290ID8gYEFwcGAgOiBgQW5vbnltb3VzYDtcbn1cbmZ1bmN0aW9uIGlzQ2xhc3NDb21wb25lbnQodmFsdWUpIHtcbiAgcmV0dXJuIGlzRnVuY3Rpb24odmFsdWUpICYmIFwiX192Y2NPcHRzXCIgaW4gdmFsdWU7XG59XG5cbmNvbnN0IGNvbXB1dGVkID0gKGdldHRlck9yT3B0aW9ucywgZGVidWdPcHRpb25zKSA9PiB7XG4gIGNvbnN0IGMgPSBjb21wdXRlZCQxKGdldHRlck9yT3B0aW9ucywgZGVidWdPcHRpb25zLCBpc0luU1NSQ29tcG9uZW50U2V0dXApO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGNvbnN0IGkgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICBpZiAoaSAmJiBpLmFwcENvbnRleHQuY29uZmlnLndhcm5SZWN1cnNpdmVDb21wdXRlZCkge1xuICAgICAgYy5fd2FyblJlY3Vyc2l2ZSA9IHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBjO1xufTtcblxuZnVuY3Rpb24gaCh0eXBlLCBwcm9wc09yQ2hpbGRyZW4sIGNoaWxkcmVuKSB7XG4gIGNvbnN0IGwgPSBhcmd1bWVudHMubGVuZ3RoO1xuICBpZiAobCA9PT0gMikge1xuICAgIGlmIChpc09iamVjdChwcm9wc09yQ2hpbGRyZW4pICYmICFpc0FycmF5KHByb3BzT3JDaGlsZHJlbikpIHtcbiAgICAgIGlmIChpc1ZOb2RlKHByb3BzT3JDaGlsZHJlbikpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKHR5cGUsIG51bGwsIFtwcm9wc09yQ2hpbGRyZW5dKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0eXBlLCBwcm9wc09yQ2hpbGRyZW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY3JlYXRlVk5vZGUodHlwZSwgbnVsbCwgcHJvcHNPckNoaWxkcmVuKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGwgPiAzKSB7XG4gICAgICBjaGlsZHJlbiA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgfSBlbHNlIGlmIChsID09PSAzICYmIGlzVk5vZGUoY2hpbGRyZW4pKSB7XG4gICAgICBjaGlsZHJlbiA9IFtjaGlsZHJlbl07XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVWTm9kZSh0eXBlLCBwcm9wc09yQ2hpbGRyZW4sIGNoaWxkcmVuKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0Q3VzdG9tRm9ybWF0dGVyKCkge1xuICBpZiAoISEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgdHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCB2dWVTdHlsZSA9IHsgc3R5bGU6IFwiY29sb3I6IzNiYTc3NlwiIH07XG4gIGNvbnN0IG51bWJlclN0eWxlID0geyBzdHlsZTogXCJjb2xvcjojMTY3N2ZmXCIgfTtcbiAgY29uc3Qgc3RyaW5nU3R5bGUgPSB7IHN0eWxlOiBcImNvbG9yOiNmNTIyMmRcIiB9O1xuICBjb25zdCBrZXl3b3JkU3R5bGUgPSB7IHN0eWxlOiBcImNvbG9yOiNlYjJmOTZcIiB9O1xuICBjb25zdCBmb3JtYXR0ZXIgPSB7XG4gICAgX192dWVfY3VzdG9tX2Zvcm1hdHRlcjogdHJ1ZSxcbiAgICBoZWFkZXIob2JqKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KG9iaikpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBpZiAob2JqLl9faXNWdWUpIHtcbiAgICAgICAgcmV0dXJuIFtcImRpdlwiLCB2dWVTdHlsZSwgYFZ1ZUluc3RhbmNlYF07XG4gICAgICB9IGVsc2UgaWYgKGlzUmVmKG9iaikpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIFtcInNwYW5cIiwgdnVlU3R5bGUsIGdlblJlZkZsYWcob2JqKV0sXG4gICAgICAgICAgXCI8XCIsXG4gICAgICAgICAgLy8gYXZvaWQgZGVidWdnZXIgYWNjZXNzaW5nIHZhbHVlIGFmZmVjdGluZyBiZWhhdmlvclxuICAgICAgICAgIGZvcm1hdFZhbHVlKFwiX3ZhbHVlXCIgaW4gb2JqID8gb2JqLl92YWx1ZSA6IG9iaiksXG4gICAgICAgICAgYD5gXG4gICAgICAgIF07XG4gICAgICB9IGVsc2UgaWYgKGlzUmVhY3RpdmUob2JqKSkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAge30sXG4gICAgICAgICAgW1wic3BhblwiLCB2dWVTdHlsZSwgaXNTaGFsbG93KG9iaikgPyBcIlNoYWxsb3dSZWFjdGl2ZVwiIDogXCJSZWFjdGl2ZVwiXSxcbiAgICAgICAgICBcIjxcIixcbiAgICAgICAgICBmb3JtYXRWYWx1ZShvYmopLFxuICAgICAgICAgIGA+JHtpc1JlYWRvbmx5KG9iaikgPyBgIChyZWFkb25seSlgIDogYGB9YFxuICAgICAgICBdO1xuICAgICAgfSBlbHNlIGlmIChpc1JlYWRvbmx5KG9iaikpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIFtcInNwYW5cIiwgdnVlU3R5bGUsIGlzU2hhbGxvdyhvYmopID8gXCJTaGFsbG93UmVhZG9ubHlcIiA6IFwiUmVhZG9ubHlcIl0sXG4gICAgICAgICAgXCI8XCIsXG4gICAgICAgICAgZm9ybWF0VmFsdWUob2JqKSxcbiAgICAgICAgICBcIj5cIlxuICAgICAgICBdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcbiAgICBoYXNCb2R5KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19pc1Z1ZTtcbiAgICB9LFxuICAgIGJvZHkob2JqKSB7XG4gICAgICBpZiAob2JqICYmIG9iai5fX2lzVnVlKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICB7fSxcbiAgICAgICAgICAuLi5mb3JtYXRJbnN0YW5jZShvYmouJClcbiAgICAgICAgXTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGZ1bmN0aW9uIGZvcm1hdEluc3RhbmNlKGluc3RhbmNlKSB7XG4gICAgY29uc3QgYmxvY2tzID0gW107XG4gICAgaWYgKGluc3RhbmNlLnR5cGUucHJvcHMgJiYgaW5zdGFuY2UucHJvcHMpIHtcbiAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soXCJwcm9wc1wiLCB0b1JhdyhpbnN0YW5jZS5wcm9wcykpKTtcbiAgICB9XG4gICAgaWYgKGluc3RhbmNlLnNldHVwU3RhdGUgIT09IEVNUFRZX09CSikge1xuICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jayhcInNldHVwXCIsIGluc3RhbmNlLnNldHVwU3RhdGUpKTtcbiAgICB9XG4gICAgaWYgKGluc3RhbmNlLmRhdGEgIT09IEVNUFRZX09CSikge1xuICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jayhcImRhdGFcIiwgdG9SYXcoaW5zdGFuY2UuZGF0YSkpKTtcbiAgICB9XG4gICAgY29uc3QgY29tcHV0ZWQgPSBleHRyYWN0S2V5cyhpbnN0YW5jZSwgXCJjb21wdXRlZFwiKTtcbiAgICBpZiAoY29tcHV0ZWQpIHtcbiAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soXCJjb21wdXRlZFwiLCBjb21wdXRlZCkpO1xuICAgIH1cbiAgICBjb25zdCBpbmplY3RlZCA9IGV4dHJhY3RLZXlzKGluc3RhbmNlLCBcImluamVjdFwiKTtcbiAgICBpZiAoaW5qZWN0ZWQpIHtcbiAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soXCJpbmplY3RlZFwiLCBpbmplY3RlZCkpO1xuICAgIH1cbiAgICBibG9ja3MucHVzaChbXG4gICAgICBcImRpdlwiLFxuICAgICAge30sXG4gICAgICBbXG4gICAgICAgIFwic3BhblwiLFxuICAgICAgICB7XG4gICAgICAgICAgc3R5bGU6IGtleXdvcmRTdHlsZS5zdHlsZSArIFwiO29wYWNpdHk6MC42NlwiXG4gICAgICAgIH0sXG4gICAgICAgIFwiJCAoaW50ZXJuYWwpOiBcIlxuICAgICAgXSxcbiAgICAgIFtcIm9iamVjdFwiLCB7IG9iamVjdDogaW5zdGFuY2UgfV1cbiAgICBdKTtcbiAgICByZXR1cm4gYmxvY2tzO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlQmxvY2sodHlwZSwgdGFyZ2V0KSB7XG4gICAgdGFyZ2V0ID0gZXh0ZW5kKHt9LCB0YXJnZXQpO1xuICAgIGlmICghT2JqZWN0LmtleXModGFyZ2V0KS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBbXCJzcGFuXCIsIHt9XTtcbiAgICB9XG4gICAgcmV0dXJuIFtcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7IHN0eWxlOiBcImxpbmUtaGVpZ2h0OjEuMjVlbTttYXJnaW4tYm90dG9tOjAuNmVtXCIgfSxcbiAgICAgIFtcbiAgICAgICAgXCJkaXZcIixcbiAgICAgICAge1xuICAgICAgICAgIHN0eWxlOiBcImNvbG9yOiM0NzY1ODJcIlxuICAgICAgICB9LFxuICAgICAgICB0eXBlXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICBcImRpdlwiLFxuICAgICAgICB7XG4gICAgICAgICAgc3R5bGU6IFwicGFkZGluZy1sZWZ0OjEuMjVlbVwiXG4gICAgICAgIH0sXG4gICAgICAgIC4uLk9iamVjdC5rZXlzKHRhcmdldCkubWFwKChrZXkpID0+IHtcbiAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgIHt9LFxuICAgICAgICAgICAgW1wic3BhblwiLCBrZXl3b3JkU3R5bGUsIGtleSArIFwiOiBcIl0sXG4gICAgICAgICAgICBmb3JtYXRWYWx1ZSh0YXJnZXRba2V5XSwgZmFsc2UpXG4gICAgICAgICAgXTtcbiAgICAgICAgfSlcbiAgICAgIF1cbiAgICBdO1xuICB9XG4gIGZ1bmN0aW9uIGZvcm1hdFZhbHVlKHYsIGFzUmF3ID0gdHJ1ZSkge1xuICAgIGlmICh0eXBlb2YgdiA9PT0gXCJudW1iZXJcIikge1xuICAgICAgcmV0dXJuIFtcInNwYW5cIiwgbnVtYmVyU3R5bGUsIHZdO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHYgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiBbXCJzcGFuXCIsIHN0cmluZ1N0eWxlLCBKU09OLnN0cmluZ2lmeSh2KV07XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdiA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgIHJldHVybiBbXCJzcGFuXCIsIGtleXdvcmRTdHlsZSwgdl07XG4gICAgfSBlbHNlIGlmIChpc09iamVjdCh2KSkge1xuICAgICAgcmV0dXJuIFtcIm9iamVjdFwiLCB7IG9iamVjdDogYXNSYXcgPyB0b1Jhdyh2KSA6IHYgfV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBbXCJzcGFuXCIsIHN0cmluZ1N0eWxlLCBTdHJpbmcodildO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBleHRyYWN0S2V5cyhpbnN0YW5jZSwgdHlwZSkge1xuICAgIGNvbnN0IENvbXAgPSBpbnN0YW5jZS50eXBlO1xuICAgIGlmIChpc0Z1bmN0aW9uKENvbXApKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGV4dHJhY3RlZCA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIGluc3RhbmNlLmN0eCkge1xuICAgICAgaWYgKGlzS2V5T2ZUeXBlKENvbXAsIGtleSwgdHlwZSkpIHtcbiAgICAgICAgZXh0cmFjdGVkW2tleV0gPSBpbnN0YW5jZS5jdHhba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGV4dHJhY3RlZDtcbiAgfVxuICBmdW5jdGlvbiBpc0tleU9mVHlwZShDb21wLCBrZXksIHR5cGUpIHtcbiAgICBjb25zdCBvcHRzID0gQ29tcFt0eXBlXTtcbiAgICBpZiAoaXNBcnJheShvcHRzKSAmJiBvcHRzLmluY2x1ZGVzKGtleSkgfHwgaXNPYmplY3Qob3B0cykgJiYga2V5IGluIG9wdHMpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoQ29tcC5leHRlbmRzICYmIGlzS2V5T2ZUeXBlKENvbXAuZXh0ZW5kcywga2V5LCB0eXBlKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChDb21wLm1peGlucyAmJiBDb21wLm1peGlucy5zb21lKChtKSA9PiBpc0tleU9mVHlwZShtLCBrZXksIHR5cGUpKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGdlblJlZkZsYWcodikge1xuICAgIGlmIChpc1NoYWxsb3codikpIHtcbiAgICAgIHJldHVybiBgU2hhbGxvd1JlZmA7XG4gICAgfVxuICAgIGlmICh2LmVmZmVjdCkge1xuICAgICAgcmV0dXJuIGBDb21wdXRlZFJlZmA7XG4gICAgfVxuICAgIHJldHVybiBgUmVmYDtcbiAgfVxuICBpZiAod2luZG93LmRldnRvb2xzRm9ybWF0dGVycykge1xuICAgIHdpbmRvdy5kZXZ0b29sc0Zvcm1hdHRlcnMucHVzaChmb3JtYXR0ZXIpO1xuICB9IGVsc2Uge1xuICAgIHdpbmRvdy5kZXZ0b29sc0Zvcm1hdHRlcnMgPSBbZm9ybWF0dGVyXTtcbiAgfVxufVxuXG5mdW5jdGlvbiB3aXRoTWVtbyhtZW1vLCByZW5kZXIsIGNhY2hlLCBpbmRleCkge1xuICBjb25zdCBjYWNoZWQgPSBjYWNoZVtpbmRleF07XG4gIGlmIChjYWNoZWQgJiYgaXNNZW1vU2FtZShjYWNoZWQsIG1lbW8pKSB7XG4gICAgcmV0dXJuIGNhY2hlZDtcbiAgfVxuICBjb25zdCByZXQgPSByZW5kZXIoKTtcbiAgcmV0Lm1lbW8gPSBtZW1vLnNsaWNlKCk7XG4gIHJldC5jYWNoZUluZGV4ID0gaW5kZXg7XG4gIHJldHVybiBjYWNoZVtpbmRleF0gPSByZXQ7XG59XG5mdW5jdGlvbiBpc01lbW9TYW1lKGNhY2hlZCwgbWVtbykge1xuICBjb25zdCBwcmV2ID0gY2FjaGVkLm1lbW87XG4gIGlmIChwcmV2Lmxlbmd0aCAhPSBtZW1vLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IHByZXYubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoaGFzQ2hhbmdlZChwcmV2W2ldLCBtZW1vW2ldKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICBpZiAoaXNCbG9ja1RyZWVFbmFibGVkID4gMCAmJiBjdXJyZW50QmxvY2spIHtcbiAgICBjdXJyZW50QmxvY2sucHVzaChjYWNoZWQpO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5jb25zdCB2ZXJzaW9uID0gXCIzLjUuMTNcIjtcbmNvbnN0IHdhcm4gPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gd2FybiQxIDogTk9PUDtcbmNvbnN0IEVycm9yVHlwZVN0cmluZ3MgPSBFcnJvclR5cGVTdHJpbmdzJDEgO1xuY29uc3QgZGV2dG9vbHMgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IHRydWUgPyBkZXZ0b29scyQxIDogdm9pZCAwO1xuY29uc3Qgc2V0RGV2dG9vbHNIb29rID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCB0cnVlID8gc2V0RGV2dG9vbHNIb29rJDEgOiBOT09QO1xuY29uc3QgX3NzclV0aWxzID0ge1xuICBjcmVhdGVDb21wb25lbnRJbnN0YW5jZSxcbiAgc2V0dXBDb21wb25lbnQsXG4gIHJlbmRlckNvbXBvbmVudFJvb3QsXG4gIHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSxcbiAgaXNWTm9kZTogaXNWTm9kZSxcbiAgbm9ybWFsaXplVk5vZGUsXG4gIGdldENvbXBvbmVudFB1YmxpY0luc3RhbmNlLFxuICBlbnN1cmVWYWxpZFZOb2RlLFxuICBwdXNoV2FybmluZ0NvbnRleHQsXG4gIHBvcFdhcm5pbmdDb250ZXh0XG59O1xuY29uc3Qgc3NyVXRpbHMgPSBfc3NyVXRpbHMgO1xuY29uc3QgcmVzb2x2ZUZpbHRlciA9IG51bGw7XG5jb25zdCBjb21wYXRVdGlscyA9IG51bGw7XG5jb25zdCBEZXByZWNhdGlvblR5cGVzID0gbnVsbDtcblxuZXhwb3J0IHsgQmFzZVRyYW5zaXRpb24sIEJhc2VUcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzLCBDb21tZW50LCBEZXByZWNhdGlvblR5cGVzLCBFcnJvckNvZGVzLCBFcnJvclR5cGVTdHJpbmdzLCBGcmFnbWVudCwgS2VlcEFsaXZlLCBTdGF0aWMsIFN1c3BlbnNlLCBUZWxlcG9ydCwgVGV4dCwgYXNzZXJ0TnVtYmVyLCBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZywgY2FsbFdpdGhFcnJvckhhbmRsaW5nLCBjbG9uZVZOb2RlLCBjb21wYXRVdGlscywgY29tcHV0ZWQsIGNyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUsIGNyZWF0ZUVsZW1lbnRCbG9jaywgY3JlYXRlQmFzZVZOb2RlIGFzIGNyZWF0ZUVsZW1lbnRWTm9kZSwgY3JlYXRlSHlkcmF0aW9uUmVuZGVyZXIsIGNyZWF0ZVByb3BzUmVzdFByb3h5LCBjcmVhdGVSZW5kZXJlciwgY3JlYXRlU2xvdHMsIGNyZWF0ZVN0YXRpY1ZOb2RlLCBjcmVhdGVUZXh0Vk5vZGUsIGNyZWF0ZVZOb2RlLCBkZWZpbmVBc3luY0NvbXBvbmVudCwgZGVmaW5lQ29tcG9uZW50LCBkZWZpbmVFbWl0cywgZGVmaW5lRXhwb3NlLCBkZWZpbmVNb2RlbCwgZGVmaW5lT3B0aW9ucywgZGVmaW5lUHJvcHMsIGRlZmluZVNsb3RzLCBkZXZ0b29scywgZ2V0Q3VycmVudEluc3RhbmNlLCBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4sIGd1YXJkUmVhY3RpdmVQcm9wcywgaCwgaGFuZGxlRXJyb3IsIGhhc0luamVjdGlvbkNvbnRleHQsIGh5ZHJhdGVPbklkbGUsIGh5ZHJhdGVPbkludGVyYWN0aW9uLCBoeWRyYXRlT25NZWRpYVF1ZXJ5LCBoeWRyYXRlT25WaXNpYmxlLCBpbml0Q3VzdG9tRm9ybWF0dGVyLCBpbmplY3QsIGlzTWVtb1NhbWUsIGlzUnVudGltZU9ubHksIGlzVk5vZGUsIG1lcmdlRGVmYXVsdHMsIG1lcmdlTW9kZWxzLCBtZXJnZVByb3BzLCBuZXh0VGljaywgb25BY3RpdmF0ZWQsIG9uQmVmb3JlTW91bnQsIG9uQmVmb3JlVW5tb3VudCwgb25CZWZvcmVVcGRhdGUsIG9uRGVhY3RpdmF0ZWQsIG9uRXJyb3JDYXB0dXJlZCwgb25Nb3VudGVkLCBvblJlbmRlclRyYWNrZWQsIG9uUmVuZGVyVHJpZ2dlcmVkLCBvblNlcnZlclByZWZldGNoLCBvblVubW91bnRlZCwgb25VcGRhdGVkLCBvcGVuQmxvY2ssIHBvcFNjb3BlSWQsIHByb3ZpZGUsIHB1c2hTY29wZUlkLCBxdWV1ZVBvc3RGbHVzaENiLCByZWdpc3RlclJ1bnRpbWVDb21waWxlciwgcmVuZGVyTGlzdCwgcmVuZGVyU2xvdCwgcmVzb2x2ZUNvbXBvbmVudCwgcmVzb2x2ZURpcmVjdGl2ZSwgcmVzb2x2ZUR5bmFtaWNDb21wb25lbnQsIHJlc29sdmVGaWx0ZXIsIHJlc29sdmVUcmFuc2l0aW9uSG9va3MsIHNldEJsb2NrVHJhY2tpbmcsIHNldERldnRvb2xzSG9vaywgc2V0VHJhbnNpdGlvbkhvb2tzLCBzc3JDb250ZXh0S2V5LCBzc3JVdGlscywgdG9IYW5kbGVycywgdHJhbnNmb3JtVk5vZGVBcmdzLCB1c2VBdHRycywgdXNlSWQsIHVzZU1vZGVsLCB1c2VTU1JDb250ZXh0LCB1c2VTbG90cywgdXNlVGVtcGxhdGVSZWYsIHVzZVRyYW5zaXRpb25TdGF0ZSwgdmVyc2lvbiwgd2Fybiwgd2F0Y2gsIHdhdGNoRWZmZWN0LCB3YXRjaFBvc3RFZmZlY3QsIHdhdGNoU3luY0VmZmVjdCwgd2l0aEFzeW5jQ29udGV4dCwgd2l0aEN0eCwgd2l0aERlZmF1bHRzLCB3aXRoRGlyZWN0aXZlcywgd2l0aE1lbW8sIHdpdGhTY29wZUlkIH07XG4iLCIvKipcbiogQHZ1ZS9ydW50aW1lLWRvbSB2My41LjEzXG4qIChjKSAyMDE4LXByZXNlbnQgWXV4aSAoRXZhbikgWW91IGFuZCBWdWUgY29udHJpYnV0b3JzXG4qIEBsaWNlbnNlIE1JVFxuKiovXG5pbXBvcnQgeyB3YXJuLCBoLCBCYXNlVHJhbnNpdGlvbiwgYXNzZXJ0TnVtYmVyLCBCYXNlVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycywgZ2V0Q3VycmVudEluc3RhbmNlLCBvbkJlZm9yZVVwZGF0ZSwgcXVldWVQb3N0Rmx1c2hDYiwgb25Nb3VudGVkLCB3YXRjaCwgb25Vbm1vdW50ZWQsIEZyYWdtZW50LCBTdGF0aWMsIGNhbWVsaXplLCBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZywgZGVmaW5lQ29tcG9uZW50LCBuZXh0VGljaywgdW5yZWYsIGNyZWF0ZVZOb2RlLCB1c2VUcmFuc2l0aW9uU3RhdGUsIG9uVXBkYXRlZCwgdG9SYXcsIGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbiwgc2V0VHJhbnNpdGlvbkhvb2tzLCByZXNvbHZlVHJhbnNpdGlvbkhvb2tzLCBUZXh0LCBpc1J1bnRpbWVPbmx5LCBjcmVhdGVSZW5kZXJlciwgY3JlYXRlSHlkcmF0aW9uUmVuZGVyZXIgfSBmcm9tICdAdnVlL3J1bnRpbWUtY29yZSc7XG5leHBvcnQgKiBmcm9tICdAdnVlL3J1bnRpbWUtY29yZSc7XG5pbXBvcnQgeyBleHRlbmQsIGlzT2JqZWN0LCB0b051bWJlciwgaXNBcnJheSwgTk9PUCwgaXNTdHJpbmcsIGh5cGhlbmF0ZSwgY2FwaXRhbGl6ZSwgaW5jbHVkZUJvb2xlYW5BdHRyLCBpc1N5bWJvbCwgaXNTcGVjaWFsQm9vbGVhbkF0dHIsIGlzRnVuY3Rpb24sIGlzT24sIGlzTW9kZWxMaXN0ZW5lciwgY2FtZWxpemUgYXMgY2FtZWxpemUkMSwgaXNQbGFpbk9iamVjdCwgaGFzT3duLCBFTVBUWV9PQkosIGxvb3NlVG9OdW1iZXIsIGxvb3NlSW5kZXhPZiwgaXNTZXQsIGxvb3NlRXF1YWwsIGludm9rZUFycmF5Rm5zLCBpc0hUTUxUYWcsIGlzU1ZHVGFnLCBpc01hdGhNTFRhZyB9IGZyb20gJ0B2dWUvc2hhcmVkJztcblxubGV0IHBvbGljeSA9IHZvaWQgMDtcbmNvbnN0IHR0ID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cudHJ1c3RlZFR5cGVzO1xuaWYgKHR0KSB7XG4gIHRyeSB7XG4gICAgcG9saWN5ID0gLyogQF9fUFVSRV9fICovIHR0LmNyZWF0ZVBvbGljeShcInZ1ZVwiLCB7XG4gICAgICBjcmVhdGVIVE1MOiAodmFsKSA9PiB2YWxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybihgRXJyb3IgY3JlYXRpbmcgdHJ1c3RlZCB0eXBlcyBwb2xpY3k6ICR7ZX1gKTtcbiAgfVxufVxuY29uc3QgdW5zYWZlVG9UcnVzdGVkSFRNTCA9IHBvbGljeSA/ICh2YWwpID0+IHBvbGljeS5jcmVhdGVIVE1MKHZhbCkgOiAodmFsKSA9PiB2YWw7XG5jb25zdCBzdmdOUyA9IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIjtcbmNvbnN0IG1hdGhtbE5TID0gXCJodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGgvTWF0aE1MXCI7XG5jb25zdCBkb2MgPSB0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIgPyBkb2N1bWVudCA6IG51bGw7XG5jb25zdCB0ZW1wbGF0ZUNvbnRhaW5lciA9IGRvYyAmJiAvKiBAX19QVVJFX18gKi8gZG9jLmNyZWF0ZUVsZW1lbnQoXCJ0ZW1wbGF0ZVwiKTtcbmNvbnN0IG5vZGVPcHMgPSB7XG4gIGluc2VydDogKGNoaWxkLCBwYXJlbnQsIGFuY2hvcikgPT4ge1xuICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoY2hpbGQsIGFuY2hvciB8fCBudWxsKTtcbiAgfSxcbiAgcmVtb3ZlOiAoY2hpbGQpID0+IHtcbiAgICBjb25zdCBwYXJlbnQgPSBjaGlsZC5wYXJlbnROb2RlO1xuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgfVxuICB9LFxuICBjcmVhdGVFbGVtZW50OiAodGFnLCBuYW1lc3BhY2UsIGlzLCBwcm9wcykgPT4ge1xuICAgIGNvbnN0IGVsID0gbmFtZXNwYWNlID09PSBcInN2Z1wiID8gZG9jLmNyZWF0ZUVsZW1lbnROUyhzdmdOUywgdGFnKSA6IG5hbWVzcGFjZSA9PT0gXCJtYXRobWxcIiA/IGRvYy5jcmVhdGVFbGVtZW50TlMobWF0aG1sTlMsIHRhZykgOiBpcyA/IGRvYy5jcmVhdGVFbGVtZW50KHRhZywgeyBpcyB9KSA6IGRvYy5jcmVhdGVFbGVtZW50KHRhZyk7XG4gICAgaWYgKHRhZyA9PT0gXCJzZWxlY3RcIiAmJiBwcm9wcyAmJiBwcm9wcy5tdWx0aXBsZSAhPSBudWxsKSB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoXCJtdWx0aXBsZVwiLCBwcm9wcy5tdWx0aXBsZSk7XG4gICAgfVxuICAgIHJldHVybiBlbDtcbiAgfSxcbiAgY3JlYXRlVGV4dDogKHRleHQpID0+IGRvYy5jcmVhdGVUZXh0Tm9kZSh0ZXh0KSxcbiAgY3JlYXRlQ29tbWVudDogKHRleHQpID0+IGRvYy5jcmVhdGVDb21tZW50KHRleHQpLFxuICBzZXRUZXh0OiAobm9kZSwgdGV4dCkgPT4ge1xuICAgIG5vZGUubm9kZVZhbHVlID0gdGV4dDtcbiAgfSxcbiAgc2V0RWxlbWVudFRleHQ6IChlbCwgdGV4dCkgPT4ge1xuICAgIGVsLnRleHRDb250ZW50ID0gdGV4dDtcbiAgfSxcbiAgcGFyZW50Tm9kZTogKG5vZGUpID0+IG5vZGUucGFyZW50Tm9kZSxcbiAgbmV4dFNpYmxpbmc6IChub2RlKSA9PiBub2RlLm5leHRTaWJsaW5nLFxuICBxdWVyeVNlbGVjdG9yOiAoc2VsZWN0b3IpID0+IGRvYy5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSxcbiAgc2V0U2NvcGVJZChlbCwgaWQpIHtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoaWQsIFwiXCIpO1xuICB9LFxuICAvLyBfX1VOU0FGRV9fXG4gIC8vIFJlYXNvbjogaW5uZXJIVE1MLlxuICAvLyBTdGF0aWMgY29udGVudCBoZXJlIGNhbiBvbmx5IGNvbWUgZnJvbSBjb21waWxlZCB0ZW1wbGF0ZXMuXG4gIC8vIEFzIGxvbmcgYXMgdGhlIHVzZXIgb25seSB1c2VzIHRydXN0ZWQgdGVtcGxhdGVzLCB0aGlzIGlzIHNhZmUuXG4gIGluc2VydFN0YXRpY0NvbnRlbnQoY29udGVudCwgcGFyZW50LCBhbmNob3IsIG5hbWVzcGFjZSwgc3RhcnQsIGVuZCkge1xuICAgIGNvbnN0IGJlZm9yZSA9IGFuY2hvciA/IGFuY2hvci5wcmV2aW91c1NpYmxpbmcgOiBwYXJlbnQubGFzdENoaWxkO1xuICAgIGlmIChzdGFydCAmJiAoc3RhcnQgPT09IGVuZCB8fCBzdGFydC5uZXh0U2libGluZykpIHtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoc3RhcnQuY2xvbmVOb2RlKHRydWUpLCBhbmNob3IpO1xuICAgICAgICBpZiAoc3RhcnQgPT09IGVuZCB8fCAhKHN0YXJ0ID0gc3RhcnQubmV4dFNpYmxpbmcpKSBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGVtcGxhdGVDb250YWluZXIuaW5uZXJIVE1MID0gdW5zYWZlVG9UcnVzdGVkSFRNTChcbiAgICAgICAgbmFtZXNwYWNlID09PSBcInN2Z1wiID8gYDxzdmc+JHtjb250ZW50fTwvc3ZnPmAgOiBuYW1lc3BhY2UgPT09IFwibWF0aG1sXCIgPyBgPG1hdGg+JHtjb250ZW50fTwvbWF0aD5gIDogY29udGVudFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHRlbXBsYXRlID0gdGVtcGxhdGVDb250YWluZXIuY29udGVudDtcbiAgICAgIGlmIChuYW1lc3BhY2UgPT09IFwic3ZnXCIgfHwgbmFtZXNwYWNlID09PSBcIm1hdGhtbFwiKSB7XG4gICAgICAgIGNvbnN0IHdyYXBwZXIgPSB0ZW1wbGF0ZS5maXJzdENoaWxkO1xuICAgICAgICB3aGlsZSAod3JhcHBlci5maXJzdENoaWxkKSB7XG4gICAgICAgICAgdGVtcGxhdGUuYXBwZW5kQ2hpbGQod3JhcHBlci5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICB0ZW1wbGF0ZS5yZW1vdmVDaGlsZCh3cmFwcGVyKTtcbiAgICAgIH1cbiAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUodGVtcGxhdGUsIGFuY2hvcik7XG4gICAgfVxuICAgIHJldHVybiBbXG4gICAgICAvLyBmaXJzdFxuICAgICAgYmVmb3JlID8gYmVmb3JlLm5leHRTaWJsaW5nIDogcGFyZW50LmZpcnN0Q2hpbGQsXG4gICAgICAvLyBsYXN0XG4gICAgICBhbmNob3IgPyBhbmNob3IucHJldmlvdXNTaWJsaW5nIDogcGFyZW50Lmxhc3RDaGlsZFxuICAgIF07XG4gIH1cbn07XG5cbmNvbnN0IFRSQU5TSVRJT04gPSBcInRyYW5zaXRpb25cIjtcbmNvbnN0IEFOSU1BVElPTiA9IFwiYW5pbWF0aW9uXCI7XG5jb25zdCB2dGNLZXkgPSBTeW1ib2woXCJfdnRjXCIpO1xuY29uc3QgRE9NVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyA9IHtcbiAgbmFtZTogU3RyaW5nLFxuICB0eXBlOiBTdHJpbmcsXG4gIGNzczoge1xuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogdHJ1ZVxuICB9LFxuICBkdXJhdGlvbjogW1N0cmluZywgTnVtYmVyLCBPYmplY3RdLFxuICBlbnRlckZyb21DbGFzczogU3RyaW5nLFxuICBlbnRlckFjdGl2ZUNsYXNzOiBTdHJpbmcsXG4gIGVudGVyVG9DbGFzczogU3RyaW5nLFxuICBhcHBlYXJGcm9tQ2xhc3M6IFN0cmluZyxcbiAgYXBwZWFyQWN0aXZlQ2xhc3M6IFN0cmluZyxcbiAgYXBwZWFyVG9DbGFzczogU3RyaW5nLFxuICBsZWF2ZUZyb21DbGFzczogU3RyaW5nLFxuICBsZWF2ZUFjdGl2ZUNsYXNzOiBTdHJpbmcsXG4gIGxlYXZlVG9DbGFzczogU3RyaW5nXG59O1xuY29uc3QgVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyA9IC8qIEBfX1BVUkVfXyAqLyBleHRlbmQoXG4gIHt9LFxuICBCYXNlVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyxcbiAgRE9NVHJhbnNpdGlvblByb3BzVmFsaWRhdG9yc1xuKTtcbmNvbnN0IGRlY29yYXRlJDEgPSAodCkgPT4ge1xuICB0LmRpc3BsYXlOYW1lID0gXCJUcmFuc2l0aW9uXCI7XG4gIHQucHJvcHMgPSBUcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzO1xuICByZXR1cm4gdDtcbn07XG5jb25zdCBUcmFuc2l0aW9uID0gLyogQF9fUFVSRV9fICovIGRlY29yYXRlJDEoXG4gIChwcm9wcywgeyBzbG90cyB9KSA9PiBoKEJhc2VUcmFuc2l0aW9uLCByZXNvbHZlVHJhbnNpdGlvblByb3BzKHByb3BzKSwgc2xvdHMpXG4pO1xuY29uc3QgY2FsbEhvb2sgPSAoaG9vaywgYXJncyA9IFtdKSA9PiB7XG4gIGlmIChpc0FycmF5KGhvb2spKSB7XG4gICAgaG9vay5mb3JFYWNoKChoMikgPT4gaDIoLi4uYXJncykpO1xuICB9IGVsc2UgaWYgKGhvb2spIHtcbiAgICBob29rKC4uLmFyZ3MpO1xuICB9XG59O1xuY29uc3QgaGFzRXhwbGljaXRDYWxsYmFjayA9IChob29rKSA9PiB7XG4gIHJldHVybiBob29rID8gaXNBcnJheShob29rKSA/IGhvb2suc29tZSgoaDIpID0+IGgyLmxlbmd0aCA+IDEpIDogaG9vay5sZW5ndGggPiAxIDogZmFsc2U7XG59O1xuZnVuY3Rpb24gcmVzb2x2ZVRyYW5zaXRpb25Qcm9wcyhyYXdQcm9wcykge1xuICBjb25zdCBiYXNlUHJvcHMgPSB7fTtcbiAgZm9yIChjb25zdCBrZXkgaW4gcmF3UHJvcHMpIHtcbiAgICBpZiAoIShrZXkgaW4gRE9NVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycykpIHtcbiAgICAgIGJhc2VQcm9wc1trZXldID0gcmF3UHJvcHNba2V5XTtcbiAgICB9XG4gIH1cbiAgaWYgKHJhd1Byb3BzLmNzcyA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gYmFzZVByb3BzO1xuICB9XG4gIGNvbnN0IHtcbiAgICBuYW1lID0gXCJ2XCIsXG4gICAgdHlwZSxcbiAgICBkdXJhdGlvbixcbiAgICBlbnRlckZyb21DbGFzcyA9IGAke25hbWV9LWVudGVyLWZyb21gLFxuICAgIGVudGVyQWN0aXZlQ2xhc3MgPSBgJHtuYW1lfS1lbnRlci1hY3RpdmVgLFxuICAgIGVudGVyVG9DbGFzcyA9IGAke25hbWV9LWVudGVyLXRvYCxcbiAgICBhcHBlYXJGcm9tQ2xhc3MgPSBlbnRlckZyb21DbGFzcyxcbiAgICBhcHBlYXJBY3RpdmVDbGFzcyA9IGVudGVyQWN0aXZlQ2xhc3MsXG4gICAgYXBwZWFyVG9DbGFzcyA9IGVudGVyVG9DbGFzcyxcbiAgICBsZWF2ZUZyb21DbGFzcyA9IGAke25hbWV9LWxlYXZlLWZyb21gLFxuICAgIGxlYXZlQWN0aXZlQ2xhc3MgPSBgJHtuYW1lfS1sZWF2ZS1hY3RpdmVgLFxuICAgIGxlYXZlVG9DbGFzcyA9IGAke25hbWV9LWxlYXZlLXRvYFxuICB9ID0gcmF3UHJvcHM7XG4gIGNvbnN0IGR1cmF0aW9ucyA9IG5vcm1hbGl6ZUR1cmF0aW9uKGR1cmF0aW9uKTtcbiAgY29uc3QgZW50ZXJEdXJhdGlvbiA9IGR1cmF0aW9ucyAmJiBkdXJhdGlvbnNbMF07XG4gIGNvbnN0IGxlYXZlRHVyYXRpb24gPSBkdXJhdGlvbnMgJiYgZHVyYXRpb25zWzFdO1xuICBjb25zdCB7XG4gICAgb25CZWZvcmVFbnRlcixcbiAgICBvbkVudGVyLFxuICAgIG9uRW50ZXJDYW5jZWxsZWQsXG4gICAgb25MZWF2ZSxcbiAgICBvbkxlYXZlQ2FuY2VsbGVkLFxuICAgIG9uQmVmb3JlQXBwZWFyID0gb25CZWZvcmVFbnRlcixcbiAgICBvbkFwcGVhciA9IG9uRW50ZXIsXG4gICAgb25BcHBlYXJDYW5jZWxsZWQgPSBvbkVudGVyQ2FuY2VsbGVkXG4gIH0gPSBiYXNlUHJvcHM7XG4gIGNvbnN0IGZpbmlzaEVudGVyID0gKGVsLCBpc0FwcGVhciwgZG9uZSwgaXNDYW5jZWxsZWQpID0+IHtcbiAgICBlbC5fZW50ZXJDYW5jZWxsZWQgPSBpc0NhbmNlbGxlZDtcbiAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGlzQXBwZWFyID8gYXBwZWFyVG9DbGFzcyA6IGVudGVyVG9DbGFzcyk7XG4gICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBpc0FwcGVhciA/IGFwcGVhckFjdGl2ZUNsYXNzIDogZW50ZXJBY3RpdmVDbGFzcyk7XG4gICAgZG9uZSAmJiBkb25lKCk7XG4gIH07XG4gIGNvbnN0IGZpbmlzaExlYXZlID0gKGVsLCBkb25lKSA9PiB7XG4gICAgZWwuX2lzTGVhdmluZyA9IGZhbHNlO1xuICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVGcm9tQ2xhc3MpO1xuICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVUb0NsYXNzKTtcbiAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlQWN0aXZlQ2xhc3MpO1xuICAgIGRvbmUgJiYgZG9uZSgpO1xuICB9O1xuICBjb25zdCBtYWtlRW50ZXJIb29rID0gKGlzQXBwZWFyKSA9PiB7XG4gICAgcmV0dXJuIChlbCwgZG9uZSkgPT4ge1xuICAgICAgY29uc3QgaG9vayA9IGlzQXBwZWFyID8gb25BcHBlYXIgOiBvbkVudGVyO1xuICAgICAgY29uc3QgcmVzb2x2ZSA9ICgpID0+IGZpbmlzaEVudGVyKGVsLCBpc0FwcGVhciwgZG9uZSk7XG4gICAgICBjYWxsSG9vayhob29rLCBbZWwsIHJlc29sdmVdKTtcbiAgICAgIG5leHRGcmFtZSgoKSA9PiB7XG4gICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgaXNBcHBlYXIgPyBhcHBlYXJGcm9tQ2xhc3MgOiBlbnRlckZyb21DbGFzcyk7XG4gICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgaXNBcHBlYXIgPyBhcHBlYXJUb0NsYXNzIDogZW50ZXJUb0NsYXNzKTtcbiAgICAgICAgaWYgKCFoYXNFeHBsaWNpdENhbGxiYWNrKGhvb2spKSB7XG4gICAgICAgICAgd2hlblRyYW5zaXRpb25FbmRzKGVsLCB0eXBlLCBlbnRlckR1cmF0aW9uLCByZXNvbHZlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcbiAgfTtcbiAgcmV0dXJuIGV4dGVuZChiYXNlUHJvcHMsIHtcbiAgICBvbkJlZm9yZUVudGVyKGVsKSB7XG4gICAgICBjYWxsSG9vayhvbkJlZm9yZUVudGVyLCBbZWxdKTtcbiAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgZW50ZXJGcm9tQ2xhc3MpO1xuICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBlbnRlckFjdGl2ZUNsYXNzKTtcbiAgICB9LFxuICAgIG9uQmVmb3JlQXBwZWFyKGVsKSB7XG4gICAgICBjYWxsSG9vayhvbkJlZm9yZUFwcGVhciwgW2VsXSk7XG4gICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGFwcGVhckZyb21DbGFzcyk7XG4gICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGFwcGVhckFjdGl2ZUNsYXNzKTtcbiAgICB9LFxuICAgIG9uRW50ZXI6IG1ha2VFbnRlckhvb2soZmFsc2UpLFxuICAgIG9uQXBwZWFyOiBtYWtlRW50ZXJIb29rKHRydWUpLFxuICAgIG9uTGVhdmUoZWwsIGRvbmUpIHtcbiAgICAgIGVsLl9pc0xlYXZpbmcgPSB0cnVlO1xuICAgICAgY29uc3QgcmVzb2x2ZSA9ICgpID0+IGZpbmlzaExlYXZlKGVsLCBkb25lKTtcbiAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVGcm9tQ2xhc3MpO1xuICAgICAgaWYgKCFlbC5fZW50ZXJDYW5jZWxsZWQpIHtcbiAgICAgICAgZm9yY2VSZWZsb3coKTtcbiAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUFjdGl2ZUNsYXNzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVBY3RpdmVDbGFzcyk7XG4gICAgICAgIGZvcmNlUmVmbG93KCk7XG4gICAgICB9XG4gICAgICBuZXh0RnJhbWUoKCkgPT4ge1xuICAgICAgICBpZiAoIWVsLl9pc0xlYXZpbmcpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUZyb21DbGFzcyk7XG4gICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVUb0NsYXNzKTtcbiAgICAgICAgaWYgKCFoYXNFeHBsaWNpdENhbGxiYWNrKG9uTGVhdmUpKSB7XG4gICAgICAgICAgd2hlblRyYW5zaXRpb25FbmRzKGVsLCB0eXBlLCBsZWF2ZUR1cmF0aW9uLCByZXNvbHZlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjYWxsSG9vayhvbkxlYXZlLCBbZWwsIHJlc29sdmVdKTtcbiAgICB9LFxuICAgIG9uRW50ZXJDYW5jZWxsZWQoZWwpIHtcbiAgICAgIGZpbmlzaEVudGVyKGVsLCBmYWxzZSwgdm9pZCAwLCB0cnVlKTtcbiAgICAgIGNhbGxIb29rKG9uRW50ZXJDYW5jZWxsZWQsIFtlbF0pO1xuICAgIH0sXG4gICAgb25BcHBlYXJDYW5jZWxsZWQoZWwpIHtcbiAgICAgIGZpbmlzaEVudGVyKGVsLCB0cnVlLCB2b2lkIDAsIHRydWUpO1xuICAgICAgY2FsbEhvb2sob25BcHBlYXJDYW5jZWxsZWQsIFtlbF0pO1xuICAgIH0sXG4gICAgb25MZWF2ZUNhbmNlbGxlZChlbCkge1xuICAgICAgZmluaXNoTGVhdmUoZWwpO1xuICAgICAgY2FsbEhvb2sob25MZWF2ZUNhbmNlbGxlZCwgW2VsXSk7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUR1cmF0aW9uKGR1cmF0aW9uKSB7XG4gIGlmIChkdXJhdGlvbiA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QoZHVyYXRpb24pKSB7XG4gICAgcmV0dXJuIFtOdW1iZXJPZihkdXJhdGlvbi5lbnRlciksIE51bWJlck9mKGR1cmF0aW9uLmxlYXZlKV07XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgbiA9IE51bWJlck9mKGR1cmF0aW9uKTtcbiAgICByZXR1cm4gW24sIG5dO1xuICB9XG59XG5mdW5jdGlvbiBOdW1iZXJPZih2YWwpIHtcbiAgY29uc3QgcmVzID0gdG9OdW1iZXIodmFsKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBhc3NlcnROdW1iZXIocmVzLCBcIjx0cmFuc2l0aW9uPiBleHBsaWNpdCBkdXJhdGlvblwiKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBjbHMpIHtcbiAgY2xzLnNwbGl0KC9cXHMrLykuZm9yRWFjaCgoYykgPT4gYyAmJiBlbC5jbGFzc0xpc3QuYWRkKGMpKTtcbiAgKGVsW3Z0Y0tleV0gfHwgKGVsW3Z0Y0tleV0gPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpKSkuYWRkKGNscyk7XG59XG5mdW5jdGlvbiByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGNscykge1xuICBjbHMuc3BsaXQoL1xccysvKS5mb3JFYWNoKChjKSA9PiBjICYmIGVsLmNsYXNzTGlzdC5yZW1vdmUoYykpO1xuICBjb25zdCBfdnRjID0gZWxbdnRjS2V5XTtcbiAgaWYgKF92dGMpIHtcbiAgICBfdnRjLmRlbGV0ZShjbHMpO1xuICAgIGlmICghX3Z0Yy5zaXplKSB7XG4gICAgICBlbFt2dGNLZXldID0gdm9pZCAwO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gbmV4dEZyYW1lKGNiKSB7XG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNiKTtcbiAgfSk7XG59XG5sZXQgZW5kSWQgPSAwO1xuZnVuY3Rpb24gd2hlblRyYW5zaXRpb25FbmRzKGVsLCBleHBlY3RlZFR5cGUsIGV4cGxpY2l0VGltZW91dCwgcmVzb2x2ZSkge1xuICBjb25zdCBpZCA9IGVsLl9lbmRJZCA9ICsrZW5kSWQ7XG4gIGNvbnN0IHJlc29sdmVJZk5vdFN0YWxlID0gKCkgPT4ge1xuICAgIGlmIChpZCA9PT0gZWwuX2VuZElkKSB7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfVxuICB9O1xuICBpZiAoZXhwbGljaXRUaW1lb3V0ICE9IG51bGwpIHtcbiAgICByZXR1cm4gc2V0VGltZW91dChyZXNvbHZlSWZOb3RTdGFsZSwgZXhwbGljaXRUaW1lb3V0KTtcbiAgfVxuICBjb25zdCB7IHR5cGUsIHRpbWVvdXQsIHByb3BDb3VudCB9ID0gZ2V0VHJhbnNpdGlvbkluZm8oZWwsIGV4cGVjdGVkVHlwZSk7XG4gIGlmICghdHlwZSkge1xuICAgIHJldHVybiByZXNvbHZlKCk7XG4gIH1cbiAgY29uc3QgZW5kRXZlbnQgPSB0eXBlICsgXCJlbmRcIjtcbiAgbGV0IGVuZGVkID0gMDtcbiAgY29uc3QgZW5kID0gKCkgPT4ge1xuICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZW5kRXZlbnQsIG9uRW5kKTtcbiAgICByZXNvbHZlSWZOb3RTdGFsZSgpO1xuICB9O1xuICBjb25zdCBvbkVuZCA9IChlKSA9PiB7XG4gICAgaWYgKGUudGFyZ2V0ID09PSBlbCAmJiArK2VuZGVkID49IHByb3BDb3VudCkge1xuICAgICAgZW5kKCk7XG4gICAgfVxuICB9O1xuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBpZiAoZW5kZWQgPCBwcm9wQ291bnQpIHtcbiAgICAgIGVuZCgpO1xuICAgIH1cbiAgfSwgdGltZW91dCArIDEpO1xuICBlbC5hZGRFdmVudExpc3RlbmVyKGVuZEV2ZW50LCBvbkVuZCk7XG59XG5mdW5jdGlvbiBnZXRUcmFuc2l0aW9uSW5mbyhlbCwgZXhwZWN0ZWRUeXBlKSB7XG4gIGNvbnN0IHN0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKTtcbiAgY29uc3QgZ2V0U3R5bGVQcm9wZXJ0aWVzID0gKGtleSkgPT4gKHN0eWxlc1trZXldIHx8IFwiXCIpLnNwbGl0KFwiLCBcIik7XG4gIGNvbnN0IHRyYW5zaXRpb25EZWxheXMgPSBnZXRTdHlsZVByb3BlcnRpZXMoYCR7VFJBTlNJVElPTn1EZWxheWApO1xuICBjb25zdCB0cmFuc2l0aW9uRHVyYXRpb25zID0gZ2V0U3R5bGVQcm9wZXJ0aWVzKGAke1RSQU5TSVRJT059RHVyYXRpb25gKTtcbiAgY29uc3QgdHJhbnNpdGlvblRpbWVvdXQgPSBnZXRUaW1lb3V0KHRyYW5zaXRpb25EZWxheXMsIHRyYW5zaXRpb25EdXJhdGlvbnMpO1xuICBjb25zdCBhbmltYXRpb25EZWxheXMgPSBnZXRTdHlsZVByb3BlcnRpZXMoYCR7QU5JTUFUSU9OfURlbGF5YCk7XG4gIGNvbnN0IGFuaW1hdGlvbkR1cmF0aW9ucyA9IGdldFN0eWxlUHJvcGVydGllcyhgJHtBTklNQVRJT059RHVyYXRpb25gKTtcbiAgY29uc3QgYW5pbWF0aW9uVGltZW91dCA9IGdldFRpbWVvdXQoYW5pbWF0aW9uRGVsYXlzLCBhbmltYXRpb25EdXJhdGlvbnMpO1xuICBsZXQgdHlwZSA9IG51bGw7XG4gIGxldCB0aW1lb3V0ID0gMDtcbiAgbGV0IHByb3BDb3VudCA9IDA7XG4gIGlmIChleHBlY3RlZFR5cGUgPT09IFRSQU5TSVRJT04pIHtcbiAgICBpZiAodHJhbnNpdGlvblRpbWVvdXQgPiAwKSB7XG4gICAgICB0eXBlID0gVFJBTlNJVElPTjtcbiAgICAgIHRpbWVvdXQgPSB0cmFuc2l0aW9uVGltZW91dDtcbiAgICAgIHByb3BDb3VudCA9IHRyYW5zaXRpb25EdXJhdGlvbnMubGVuZ3RoO1xuICAgIH1cbiAgfSBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09IEFOSU1BVElPTikge1xuICAgIGlmIChhbmltYXRpb25UaW1lb3V0ID4gMCkge1xuICAgICAgdHlwZSA9IEFOSU1BVElPTjtcbiAgICAgIHRpbWVvdXQgPSBhbmltYXRpb25UaW1lb3V0O1xuICAgICAgcHJvcENvdW50ID0gYW5pbWF0aW9uRHVyYXRpb25zLmxlbmd0aDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGltZW91dCA9IE1hdGgubWF4KHRyYW5zaXRpb25UaW1lb3V0LCBhbmltYXRpb25UaW1lb3V0KTtcbiAgICB0eXBlID0gdGltZW91dCA+IDAgPyB0cmFuc2l0aW9uVGltZW91dCA+IGFuaW1hdGlvblRpbWVvdXQgPyBUUkFOU0lUSU9OIDogQU5JTUFUSU9OIDogbnVsbDtcbiAgICBwcm9wQ291bnQgPSB0eXBlID8gdHlwZSA9PT0gVFJBTlNJVElPTiA/IHRyYW5zaXRpb25EdXJhdGlvbnMubGVuZ3RoIDogYW5pbWF0aW9uRHVyYXRpb25zLmxlbmd0aCA6IDA7XG4gIH1cbiAgY29uc3QgaGFzVHJhbnNmb3JtID0gdHlwZSA9PT0gVFJBTlNJVElPTiAmJiAvXFxiKHRyYW5zZm9ybXxhbGwpKCx8JCkvLnRlc3QoXG4gICAgZ2V0U3R5bGVQcm9wZXJ0aWVzKGAke1RSQU5TSVRJT059UHJvcGVydHlgKS50b1N0cmluZygpXG4gICk7XG4gIHJldHVybiB7XG4gICAgdHlwZSxcbiAgICB0aW1lb3V0LFxuICAgIHByb3BDb3VudCxcbiAgICBoYXNUcmFuc2Zvcm1cbiAgfTtcbn1cbmZ1bmN0aW9uIGdldFRpbWVvdXQoZGVsYXlzLCBkdXJhdGlvbnMpIHtcbiAgd2hpbGUgKGRlbGF5cy5sZW5ndGggPCBkdXJhdGlvbnMubGVuZ3RoKSB7XG4gICAgZGVsYXlzID0gZGVsYXlzLmNvbmNhdChkZWxheXMpO1xuICB9XG4gIHJldHVybiBNYXRoLm1heCguLi5kdXJhdGlvbnMubWFwKChkLCBpKSA9PiB0b01zKGQpICsgdG9NcyhkZWxheXNbaV0pKSk7XG59XG5mdW5jdGlvbiB0b01zKHMpIHtcbiAgaWYgKHMgPT09IFwiYXV0b1wiKSByZXR1cm4gMDtcbiAgcmV0dXJuIE51bWJlcihzLnNsaWNlKDAsIC0xKS5yZXBsYWNlKFwiLFwiLCBcIi5cIikpICogMWUzO1xufVxuZnVuY3Rpb24gZm9yY2VSZWZsb3coKSB7XG4gIHJldHVybiBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodDtcbn1cblxuZnVuY3Rpb24gcGF0Y2hDbGFzcyhlbCwgdmFsdWUsIGlzU1ZHKSB7XG4gIGNvbnN0IHRyYW5zaXRpb25DbGFzc2VzID0gZWxbdnRjS2V5XTtcbiAgaWYgKHRyYW5zaXRpb25DbGFzc2VzKSB7XG4gICAgdmFsdWUgPSAodmFsdWUgPyBbdmFsdWUsIC4uLnRyYW5zaXRpb25DbGFzc2VzXSA6IFsuLi50cmFuc2l0aW9uQ2xhc3Nlc10pLmpvaW4oXCIgXCIpO1xuICB9XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgZWwucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIik7XG4gIH0gZWxzZSBpZiAoaXNTVkcpIHtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCB2YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgZWwuY2xhc3NOYW1lID0gdmFsdWU7XG4gIH1cbn1cblxuY29uc3QgdlNob3dPcmlnaW5hbERpc3BsYXkgPSBTeW1ib2woXCJfdm9kXCIpO1xuY29uc3QgdlNob3dIaWRkZW4gPSBTeW1ib2woXCJfdnNoXCIpO1xuY29uc3QgdlNob3cgPSB7XG4gIGJlZm9yZU1vdW50KGVsLCB7IHZhbHVlIH0sIHsgdHJhbnNpdGlvbiB9KSB7XG4gICAgZWxbdlNob3dPcmlnaW5hbERpc3BsYXldID0gZWwuc3R5bGUuZGlzcGxheSA9PT0gXCJub25lXCIgPyBcIlwiIDogZWwuc3R5bGUuZGlzcGxheTtcbiAgICBpZiAodHJhbnNpdGlvbiAmJiB2YWx1ZSkge1xuICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihlbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldERpc3BsYXkoZWwsIHZhbHVlKTtcbiAgICB9XG4gIH0sXG4gIG1vdW50ZWQoZWwsIHsgdmFsdWUgfSwgeyB0cmFuc2l0aW9uIH0pIHtcbiAgICBpZiAodHJhbnNpdGlvbiAmJiB2YWx1ZSkge1xuICAgICAgdHJhbnNpdGlvbi5lbnRlcihlbCk7XG4gICAgfVxuICB9LFxuICB1cGRhdGVkKGVsLCB7IHZhbHVlLCBvbGRWYWx1ZSB9LCB7IHRyYW5zaXRpb24gfSkge1xuICAgIGlmICghdmFsdWUgPT09ICFvbGRWYWx1ZSkgcmV0dXJuO1xuICAgIGlmICh0cmFuc2l0aW9uKSB7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihlbCk7XG4gICAgICAgIHNldERpc3BsYXkoZWwsIHRydWUpO1xuICAgICAgICB0cmFuc2l0aW9uLmVudGVyKGVsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyYW5zaXRpb24ubGVhdmUoZWwsICgpID0+IHtcbiAgICAgICAgICBzZXREaXNwbGF5KGVsLCBmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzZXREaXNwbGF5KGVsLCB2YWx1ZSk7XG4gICAgfVxuICB9LFxuICBiZWZvcmVVbm1vdW50KGVsLCB7IHZhbHVlIH0pIHtcbiAgICBzZXREaXNwbGF5KGVsLCB2YWx1ZSk7XG4gIH1cbn07XG5pZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICB2U2hvdy5uYW1lID0gXCJzaG93XCI7XG59XG5mdW5jdGlvbiBzZXREaXNwbGF5KGVsLCB2YWx1ZSkge1xuICBlbC5zdHlsZS5kaXNwbGF5ID0gdmFsdWUgPyBlbFt2U2hvd09yaWdpbmFsRGlzcGxheV0gOiBcIm5vbmVcIjtcbiAgZWxbdlNob3dIaWRkZW5dID0gIXZhbHVlO1xufVxuZnVuY3Rpb24gaW5pdFZTaG93Rm9yU1NSKCkge1xuICB2U2hvdy5nZXRTU1JQcm9wcyA9ICh7IHZhbHVlIH0pID0+IHtcbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICByZXR1cm4geyBzdHlsZTogeyBkaXNwbGF5OiBcIm5vbmVcIiB9IH07XG4gICAgfVxuICB9O1xufVxuXG5jb25zdCBDU1NfVkFSX1RFWFQgPSBTeW1ib2woISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IFwiQ1NTX1ZBUl9URVhUXCIgOiBcIlwiKTtcbmZ1bmN0aW9uIHVzZUNzc1ZhcnMoZ2V0dGVyKSB7XG4gIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gIGlmICghaW5zdGFuY2UpIHtcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4oYHVzZUNzc1ZhcnMgaXMgY2FsbGVkIHdpdGhvdXQgY3VycmVudCBhY3RpdmUgY29tcG9uZW50IGluc3RhbmNlLmApO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCB1cGRhdGVUZWxlcG9ydHMgPSBpbnN0YW5jZS51dCA9ICh2YXJzID0gZ2V0dGVyKGluc3RhbmNlLnByb3h5KSkgPT4ge1xuICAgIEFycmF5LmZyb20oXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbZGF0YS12LW93bmVyPVwiJHtpbnN0YW5jZS51aWR9XCJdYClcbiAgICApLmZvckVhY2goKG5vZGUpID0+IHNldFZhcnNPbk5vZGUobm9kZSwgdmFycykpO1xuICB9O1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGluc3RhbmNlLmdldENzc1ZhcnMgPSAoKSA9PiBnZXR0ZXIoaW5zdGFuY2UucHJveHkpO1xuICB9XG4gIGNvbnN0IHNldFZhcnMgPSAoKSA9PiB7XG4gICAgY29uc3QgdmFycyA9IGdldHRlcihpbnN0YW5jZS5wcm94eSk7XG4gICAgaWYgKGluc3RhbmNlLmNlKSB7XG4gICAgICBzZXRWYXJzT25Ob2RlKGluc3RhbmNlLmNlLCB2YXJzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0VmFyc09uVk5vZGUoaW5zdGFuY2Uuc3ViVHJlZSwgdmFycyk7XG4gICAgfVxuICAgIHVwZGF0ZVRlbGVwb3J0cyh2YXJzKTtcbiAgfTtcbiAgb25CZWZvcmVVcGRhdGUoKCkgPT4ge1xuICAgIHF1ZXVlUG9zdEZsdXNoQ2Ioc2V0VmFycyk7XG4gIH0pO1xuICBvbk1vdW50ZWQoKCkgPT4ge1xuICAgIHdhdGNoKHNldFZhcnMsIE5PT1AsIHsgZmx1c2g6IFwicG9zdFwiIH0pO1xuICAgIGNvbnN0IG9iID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoc2V0VmFycyk7XG4gICAgb2Iub2JzZXJ2ZShpbnN0YW5jZS5zdWJUcmVlLmVsLnBhcmVudE5vZGUsIHsgY2hpbGRMaXN0OiB0cnVlIH0pO1xuICAgIG9uVW5tb3VudGVkKCgpID0+IG9iLmRpc2Nvbm5lY3QoKSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gc2V0VmFyc09uVk5vZGUodm5vZGUsIHZhcnMpIHtcbiAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDEyOCkge1xuICAgIGNvbnN0IHN1c3BlbnNlID0gdm5vZGUuc3VzcGVuc2U7XG4gICAgdm5vZGUgPSBzdXNwZW5zZS5hY3RpdmVCcmFuY2g7XG4gICAgaWYgKHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggJiYgIXN1c3BlbnNlLmlzSHlkcmF0aW5nKSB7XG4gICAgICBzdXNwZW5zZS5lZmZlY3RzLnB1c2goKCkgPT4ge1xuICAgICAgICBzZXRWYXJzT25WTm9kZShzdXNwZW5zZS5hY3RpdmVCcmFuY2gsIHZhcnMpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHdoaWxlICh2bm9kZS5jb21wb25lbnQpIHtcbiAgICB2bm9kZSA9IHZub2RlLmNvbXBvbmVudC5zdWJUcmVlO1xuICB9XG4gIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxICYmIHZub2RlLmVsKSB7XG4gICAgc2V0VmFyc09uTm9kZSh2bm9kZS5lbCwgdmFycyk7XG4gIH0gZWxzZSBpZiAodm5vZGUudHlwZSA9PT0gRnJhZ21lbnQpIHtcbiAgICB2bm9kZS5jaGlsZHJlbi5mb3JFYWNoKChjKSA9PiBzZXRWYXJzT25WTm9kZShjLCB2YXJzKSk7XG4gIH0gZWxzZSBpZiAodm5vZGUudHlwZSA9PT0gU3RhdGljKSB7XG4gICAgbGV0IHsgZWwsIGFuY2hvciB9ID0gdm5vZGU7XG4gICAgd2hpbGUgKGVsKSB7XG4gICAgICBzZXRWYXJzT25Ob2RlKGVsLCB2YXJzKTtcbiAgICAgIGlmIChlbCA9PT0gYW5jaG9yKSBicmVhaztcbiAgICAgIGVsID0gZWwubmV4dFNpYmxpbmc7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBzZXRWYXJzT25Ob2RlKGVsLCB2YXJzKSB7XG4gIGlmIChlbC5ub2RlVHlwZSA9PT0gMSkge1xuICAgIGNvbnN0IHN0eWxlID0gZWwuc3R5bGU7XG4gICAgbGV0IGNzc1RleHQgPSBcIlwiO1xuICAgIGZvciAoY29uc3Qga2V5IGluIHZhcnMpIHtcbiAgICAgIHN0eWxlLnNldFByb3BlcnR5KGAtLSR7a2V5fWAsIHZhcnNba2V5XSk7XG4gICAgICBjc3NUZXh0ICs9IGAtLSR7a2V5fTogJHt2YXJzW2tleV19O2A7XG4gICAgfVxuICAgIHN0eWxlW0NTU19WQVJfVEVYVF0gPSBjc3NUZXh0O1xuICB9XG59XG5cbmNvbnN0IGRpc3BsYXlSRSA9IC8oXnw7KVxccypkaXNwbGF5XFxzKjovO1xuZnVuY3Rpb24gcGF0Y2hTdHlsZShlbCwgcHJldiwgbmV4dCkge1xuICBjb25zdCBzdHlsZSA9IGVsLnN0eWxlO1xuICBjb25zdCBpc0Nzc1N0cmluZyA9IGlzU3RyaW5nKG5leHQpO1xuICBsZXQgaGFzQ29udHJvbGxlZERpc3BsYXkgPSBmYWxzZTtcbiAgaWYgKG5leHQgJiYgIWlzQ3NzU3RyaW5nKSB7XG4gICAgaWYgKHByZXYpIHtcbiAgICAgIGlmICghaXNTdHJpbmcocHJldikpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJldikge1xuICAgICAgICAgIGlmIChuZXh0W2tleV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgc2V0U3R5bGUoc3R5bGUsIGtleSwgXCJcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGNvbnN0IHByZXZTdHlsZSBvZiBwcmV2LnNwbGl0KFwiO1wiKSkge1xuICAgICAgICAgIGNvbnN0IGtleSA9IHByZXZTdHlsZS5zbGljZSgwLCBwcmV2U3R5bGUuaW5kZXhPZihcIjpcIikpLnRyaW0oKTtcbiAgICAgICAgICBpZiAobmV4dFtrZXldID09IG51bGwpIHtcbiAgICAgICAgICAgIHNldFN0eWxlKHN0eWxlLCBrZXksIFwiXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBuZXh0KSB7XG4gICAgICBpZiAoa2V5ID09PSBcImRpc3BsYXlcIikge1xuICAgICAgICBoYXNDb250cm9sbGVkRGlzcGxheSA9IHRydWU7XG4gICAgICB9XG4gICAgICBzZXRTdHlsZShzdHlsZSwga2V5LCBuZXh0W2tleV0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoaXNDc3NTdHJpbmcpIHtcbiAgICAgIGlmIChwcmV2ICE9PSBuZXh0KSB7XG4gICAgICAgIGNvbnN0IGNzc1ZhclRleHQgPSBzdHlsZVtDU1NfVkFSX1RFWFRdO1xuICAgICAgICBpZiAoY3NzVmFyVGV4dCkge1xuICAgICAgICAgIG5leHQgKz0gXCI7XCIgKyBjc3NWYXJUZXh0O1xuICAgICAgICB9XG4gICAgICAgIHN0eWxlLmNzc1RleHQgPSBuZXh0O1xuICAgICAgICBoYXNDb250cm9sbGVkRGlzcGxheSA9IGRpc3BsYXlSRS50ZXN0KG5leHQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocHJldikge1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKFwic3R5bGVcIik7XG4gICAgfVxuICB9XG4gIGlmICh2U2hvd09yaWdpbmFsRGlzcGxheSBpbiBlbCkge1xuICAgIGVsW3ZTaG93T3JpZ2luYWxEaXNwbGF5XSA9IGhhc0NvbnRyb2xsZWREaXNwbGF5ID8gc3R5bGUuZGlzcGxheSA6IFwiXCI7XG4gICAgaWYgKGVsW3ZTaG93SGlkZGVuXSkge1xuICAgICAgc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cbiAgfVxufVxuY29uc3Qgc2VtaWNvbG9uUkUgPSAvW15cXFxcXTtcXHMqJC87XG5jb25zdCBpbXBvcnRhbnRSRSA9IC9cXHMqIWltcG9ydGFudCQvO1xuZnVuY3Rpb24gc2V0U3R5bGUoc3R5bGUsIG5hbWUsIHZhbCkge1xuICBpZiAoaXNBcnJheSh2YWwpKSB7XG4gICAgdmFsLmZvckVhY2goKHYpID0+IHNldFN0eWxlKHN0eWxlLCBuYW1lLCB2KSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHZhbCA9PSBudWxsKSB2YWwgPSBcIlwiO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBpZiAoc2VtaWNvbG9uUkUudGVzdCh2YWwpKSB7XG4gICAgICAgIHdhcm4oXG4gICAgICAgICAgYFVuZXhwZWN0ZWQgc2VtaWNvbG9uIGF0IHRoZSBlbmQgb2YgJyR7bmFtZX0nIHN0eWxlIHZhbHVlOiAnJHt2YWx9J2BcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG5hbWUuc3RhcnRzV2l0aChcIi0tXCIpKSB7XG4gICAgICBzdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCB2YWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBwcmVmaXhlZCA9IGF1dG9QcmVmaXgoc3R5bGUsIG5hbWUpO1xuICAgICAgaWYgKGltcG9ydGFudFJFLnRlc3QodmFsKSkge1xuICAgICAgICBzdHlsZS5zZXRQcm9wZXJ0eShcbiAgICAgICAgICBoeXBoZW5hdGUocHJlZml4ZWQpLFxuICAgICAgICAgIHZhbC5yZXBsYWNlKGltcG9ydGFudFJFLCBcIlwiKSxcbiAgICAgICAgICBcImltcG9ydGFudFwiXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHlsZVtwcmVmaXhlZF0gPSB2YWw7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5jb25zdCBwcmVmaXhlcyA9IFtcIldlYmtpdFwiLCBcIk1velwiLCBcIm1zXCJdO1xuY29uc3QgcHJlZml4Q2FjaGUgPSB7fTtcbmZ1bmN0aW9uIGF1dG9QcmVmaXgoc3R5bGUsIHJhd05hbWUpIHtcbiAgY29uc3QgY2FjaGVkID0gcHJlZml4Q2FjaGVbcmF3TmFtZV07XG4gIGlmIChjYWNoZWQpIHtcbiAgICByZXR1cm4gY2FjaGVkO1xuICB9XG4gIGxldCBuYW1lID0gY2FtZWxpemUocmF3TmFtZSk7XG4gIGlmIChuYW1lICE9PSBcImZpbHRlclwiICYmIG5hbWUgaW4gc3R5bGUpIHtcbiAgICByZXR1cm4gcHJlZml4Q2FjaGVbcmF3TmFtZV0gPSBuYW1lO1xuICB9XG4gIG5hbWUgPSBjYXBpdGFsaXplKG5hbWUpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHByZWZpeGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgcHJlZml4ZWQgPSBwcmVmaXhlc1tpXSArIG5hbWU7XG4gICAgaWYgKHByZWZpeGVkIGluIHN0eWxlKSB7XG4gICAgICByZXR1cm4gcHJlZml4Q2FjaGVbcmF3TmFtZV0gPSBwcmVmaXhlZDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJhd05hbWU7XG59XG5cbmNvbnN0IHhsaW5rTlMgPSBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIjtcbmZ1bmN0aW9uIHBhdGNoQXR0cihlbCwga2V5LCB2YWx1ZSwgaXNTVkcsIGluc3RhbmNlLCBpc0Jvb2xlYW4gPSBpc1NwZWNpYWxCb29sZWFuQXR0cihrZXkpKSB7XG4gIGlmIChpc1NWRyAmJiBrZXkuc3RhcnRzV2l0aChcInhsaW5rOlwiKSkge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGVOUyh4bGlua05TLCBrZXkuc2xpY2UoNiwga2V5Lmxlbmd0aCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGVOUyh4bGlua05TLCBrZXksIHZhbHVlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgaXNCb29sZWFuICYmICFpbmNsdWRlQm9vbGVhbkF0dHIodmFsdWUpKSB7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKFxuICAgICAgICBrZXksXG4gICAgICAgIGlzQm9vbGVhbiA/IFwiXCIgOiBpc1N5bWJvbCh2YWx1ZSkgPyBTdHJpbmcodmFsdWUpIDogdmFsdWVcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHBhdGNoRE9NUHJvcChlbCwga2V5LCB2YWx1ZSwgcGFyZW50Q29tcG9uZW50LCBhdHRyTmFtZSkge1xuICBpZiAoa2V5ID09PSBcImlubmVySFRNTFwiIHx8IGtleSA9PT0gXCJ0ZXh0Q29udGVudFwiKSB7XG4gICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgIGVsW2tleV0gPSBrZXkgPT09IFwiaW5uZXJIVE1MXCIgPyB1bnNhZmVUb1RydXN0ZWRIVE1MKHZhbHVlKSA6IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgdGFnID0gZWwudGFnTmFtZTtcbiAgaWYgKGtleSA9PT0gXCJ2YWx1ZVwiICYmIHRhZyAhPT0gXCJQUk9HUkVTU1wiICYmIC8vIGN1c3RvbSBlbGVtZW50cyBtYXkgdXNlIF92YWx1ZSBpbnRlcm5hbGx5XG4gICF0YWcuaW5jbHVkZXMoXCItXCIpKSB7XG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0YWcgPT09IFwiT1BUSU9OXCIgPyBlbC5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSB8fCBcIlwiIDogZWwudmFsdWU7XG4gICAgY29uc3QgbmV3VmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gKFxuICAgICAgLy8gIzExNjQ3OiB2YWx1ZSBzaG91bGQgYmUgc2V0IGFzIGVtcHR5IHN0cmluZyBmb3IgbnVsbCBhbmQgdW5kZWZpbmVkLFxuICAgICAgLy8gYnV0IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIj4gc2hvdWxkIGJlIHNldCBhcyAnb24nLlxuICAgICAgZWwudHlwZSA9PT0gXCJjaGVja2JveFwiID8gXCJvblwiIDogXCJcIlxuICAgICkgOiBTdHJpbmcodmFsdWUpO1xuICAgIGlmIChvbGRWYWx1ZSAhPT0gbmV3VmFsdWUgfHwgIShcIl92YWx1ZVwiIGluIGVsKSkge1xuICAgICAgZWwudmFsdWUgPSBuZXdWYWx1ZTtcbiAgICB9XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgIH1cbiAgICBlbC5fdmFsdWUgPSB2YWx1ZTtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IG5lZWRSZW1vdmUgPSBmYWxzZTtcbiAgaWYgKHZhbHVlID09PSBcIlwiIHx8IHZhbHVlID09IG51bGwpIHtcbiAgICBjb25zdCB0eXBlID0gdHlwZW9mIGVsW2tleV07XG4gICAgaWYgKHR5cGUgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICB2YWx1ZSA9IGluY2x1ZGVCb29sZWFuQXR0cih2YWx1ZSk7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSA9PSBudWxsICYmIHR5cGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHZhbHVlID0gXCJcIjtcbiAgICAgIG5lZWRSZW1vdmUgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgdmFsdWUgPSAwO1xuICAgICAgbmVlZFJlbW92ZSA9IHRydWU7XG4gICAgfVxuICB9XG4gIHRyeSB7XG4gICAgZWxba2V5XSA9IHZhbHVlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIW5lZWRSZW1vdmUpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgIGBGYWlsZWQgc2V0dGluZyBwcm9wIFwiJHtrZXl9XCIgb24gPCR7dGFnLnRvTG93ZXJDYXNlKCl9PjogdmFsdWUgJHt2YWx1ZX0gaXMgaW52YWxpZC5gLFxuICAgICAgICBlXG4gICAgICApO1xuICAgIH1cbiAgfVxuICBuZWVkUmVtb3ZlICYmIGVsLnJlbW92ZUF0dHJpYnV0ZShhdHRyTmFtZSB8fCBrZXkpO1xufVxuXG5mdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKGVsLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucykge1xuICBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXIoZWwsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xufVxuY29uc3QgdmVpS2V5ID0gU3ltYm9sKFwiX3ZlaVwiKTtcbmZ1bmN0aW9uIHBhdGNoRXZlbnQoZWwsIHJhd05hbWUsIHByZXZWYWx1ZSwgbmV4dFZhbHVlLCBpbnN0YW5jZSA9IG51bGwpIHtcbiAgY29uc3QgaW52b2tlcnMgPSBlbFt2ZWlLZXldIHx8IChlbFt2ZWlLZXldID0ge30pO1xuICBjb25zdCBleGlzdGluZ0ludm9rZXIgPSBpbnZva2Vyc1tyYXdOYW1lXTtcbiAgaWYgKG5leHRWYWx1ZSAmJiBleGlzdGluZ0ludm9rZXIpIHtcbiAgICBleGlzdGluZ0ludm9rZXIudmFsdWUgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gc2FuaXRpemVFdmVudFZhbHVlKG5leHRWYWx1ZSwgcmF3TmFtZSkgOiBuZXh0VmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgW25hbWUsIG9wdGlvbnNdID0gcGFyc2VOYW1lKHJhd05hbWUpO1xuICAgIGlmIChuZXh0VmFsdWUpIHtcbiAgICAgIGNvbnN0IGludm9rZXIgPSBpbnZva2Vyc1tyYXdOYW1lXSA9IGNyZWF0ZUludm9rZXIoXG4gICAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBzYW5pdGl6ZUV2ZW50VmFsdWUobmV4dFZhbHVlLCByYXdOYW1lKSA6IG5leHRWYWx1ZSxcbiAgICAgICAgaW5zdGFuY2VcbiAgICAgICk7XG4gICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBuYW1lLCBpbnZva2VyLCBvcHRpb25zKTtcbiAgICB9IGVsc2UgaWYgKGV4aXN0aW5nSW52b2tlcikge1xuICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihlbCwgbmFtZSwgZXhpc3RpbmdJbnZva2VyLCBvcHRpb25zKTtcbiAgICAgIGludm9rZXJzW3Jhd05hbWVdID0gdm9pZCAwO1xuICAgIH1cbiAgfVxufVxuY29uc3Qgb3B0aW9uc01vZGlmaWVyUkUgPSAvKD86T25jZXxQYXNzaXZlfENhcHR1cmUpJC87XG5mdW5jdGlvbiBwYXJzZU5hbWUobmFtZSkge1xuICBsZXQgb3B0aW9ucztcbiAgaWYgKG9wdGlvbnNNb2RpZmllclJFLnRlc3QobmFtZSkpIHtcbiAgICBvcHRpb25zID0ge307XG4gICAgbGV0IG07XG4gICAgd2hpbGUgKG0gPSBuYW1lLm1hdGNoKG9wdGlvbnNNb2RpZmllclJFKSkge1xuICAgICAgbmFtZSA9IG5hbWUuc2xpY2UoMCwgbmFtZS5sZW5ndGggLSBtWzBdLmxlbmd0aCk7XG4gICAgICBvcHRpb25zW21bMF0udG9Mb3dlckNhc2UoKV0gPSB0cnVlO1xuICAgIH1cbiAgfVxuICBjb25zdCBldmVudCA9IG5hbWVbMl0gPT09IFwiOlwiID8gbmFtZS5zbGljZSgzKSA6IGh5cGhlbmF0ZShuYW1lLnNsaWNlKDIpKTtcbiAgcmV0dXJuIFtldmVudCwgb3B0aW9uc107XG59XG5sZXQgY2FjaGVkTm93ID0gMDtcbmNvbnN0IHAgPSAvKiBAX19QVVJFX18gKi8gUHJvbWlzZS5yZXNvbHZlKCk7XG5jb25zdCBnZXROb3cgPSAoKSA9PiBjYWNoZWROb3cgfHwgKHAudGhlbigoKSA9PiBjYWNoZWROb3cgPSAwKSwgY2FjaGVkTm93ID0gRGF0ZS5ub3coKSk7XG5mdW5jdGlvbiBjcmVhdGVJbnZva2VyKGluaXRpYWxWYWx1ZSwgaW5zdGFuY2UpIHtcbiAgY29uc3QgaW52b2tlciA9IChlKSA9PiB7XG4gICAgaWYgKCFlLl92dHMpIHtcbiAgICAgIGUuX3Z0cyA9IERhdGUubm93KCk7XG4gICAgfSBlbHNlIGlmIChlLl92dHMgPD0gaW52b2tlci5hdHRhY2hlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhcbiAgICAgIHBhdGNoU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKGUsIGludm9rZXIudmFsdWUpLFxuICAgICAgaW5zdGFuY2UsXG4gICAgICA1LFxuICAgICAgW2VdXG4gICAgKTtcbiAgfTtcbiAgaW52b2tlci52YWx1ZSA9IGluaXRpYWxWYWx1ZTtcbiAgaW52b2tlci5hdHRhY2hlZCA9IGdldE5vdygpO1xuICByZXR1cm4gaW52b2tlcjtcbn1cbmZ1bmN0aW9uIHNhbml0aXplRXZlbnRWYWx1ZSh2YWx1ZSwgcHJvcE5hbWUpIHtcbiAgaWYgKGlzRnVuY3Rpb24odmFsdWUpIHx8IGlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHdhcm4oXG4gICAgYFdyb25nIHR5cGUgcGFzc2VkIGFzIGV2ZW50IGhhbmRsZXIgdG8gJHtwcm9wTmFtZX0gLSBkaWQgeW91IGZvcmdldCBAIG9yIDogaW4gZnJvbnQgb2YgeW91ciBwcm9wP1xuRXhwZWN0ZWQgZnVuY3Rpb24gb3IgYXJyYXkgb2YgZnVuY3Rpb25zLCByZWNlaXZlZCB0eXBlICR7dHlwZW9mIHZhbHVlfS5gXG4gICk7XG4gIHJldHVybiBOT09QO1xufVxuZnVuY3Rpb24gcGF0Y2hTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oZSwgdmFsdWUpIHtcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgY29uc3Qgb3JpZ2luYWxTdG9wID0gZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb247XG4gICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24gPSAoKSA9PiB7XG4gICAgICBvcmlnaW5hbFN0b3AuY2FsbChlKTtcbiAgICAgIGUuX3N0b3BwZWQgPSB0cnVlO1xuICAgIH07XG4gICAgcmV0dXJuIHZhbHVlLm1hcChcbiAgICAgIChmbikgPT4gKGUyKSA9PiAhZTIuX3N0b3BwZWQgJiYgZm4gJiYgZm4oZTIpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn1cblxuY29uc3QgaXNOYXRpdmVPbiA9IChrZXkpID0+IGtleS5jaGFyQ29kZUF0KDApID09PSAxMTEgJiYga2V5LmNoYXJDb2RlQXQoMSkgPT09IDExMCAmJiAvLyBsb3dlcmNhc2UgbGV0dGVyXG5rZXkuY2hhckNvZGVBdCgyKSA+IDk2ICYmIGtleS5jaGFyQ29kZUF0KDIpIDwgMTIzO1xuY29uc3QgcGF0Y2hQcm9wID0gKGVsLCBrZXksIHByZXZWYWx1ZSwgbmV4dFZhbHVlLCBuYW1lc3BhY2UsIHBhcmVudENvbXBvbmVudCkgPT4ge1xuICBjb25zdCBpc1NWRyA9IG5hbWVzcGFjZSA9PT0gXCJzdmdcIjtcbiAgaWYgKGtleSA9PT0gXCJjbGFzc1wiKSB7XG4gICAgcGF0Y2hDbGFzcyhlbCwgbmV4dFZhbHVlLCBpc1NWRyk7XG4gIH0gZWxzZSBpZiAoa2V5ID09PSBcInN0eWxlXCIpIHtcbiAgICBwYXRjaFN0eWxlKGVsLCBwcmV2VmFsdWUsIG5leHRWYWx1ZSk7XG4gIH0gZWxzZSBpZiAoaXNPbihrZXkpKSB7XG4gICAgaWYgKCFpc01vZGVsTGlzdGVuZXIoa2V5KSkge1xuICAgICAgcGF0Y2hFdmVudChlbCwga2V5LCBwcmV2VmFsdWUsIG5leHRWYWx1ZSwgcGFyZW50Q29tcG9uZW50KTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoa2V5WzBdID09PSBcIi5cIiA/IChrZXkgPSBrZXkuc2xpY2UoMSksIHRydWUpIDoga2V5WzBdID09PSBcIl5cIiA/IChrZXkgPSBrZXkuc2xpY2UoMSksIGZhbHNlKSA6IHNob3VsZFNldEFzUHJvcChlbCwga2V5LCBuZXh0VmFsdWUsIGlzU1ZHKSkge1xuICAgIHBhdGNoRE9NUHJvcChlbCwga2V5LCBuZXh0VmFsdWUpO1xuICAgIGlmICghZWwudGFnTmFtZS5pbmNsdWRlcyhcIi1cIikgJiYgKGtleSA9PT0gXCJ2YWx1ZVwiIHx8IGtleSA9PT0gXCJjaGVja2VkXCIgfHwga2V5ID09PSBcInNlbGVjdGVkXCIpKSB7XG4gICAgICBwYXRjaEF0dHIoZWwsIGtleSwgbmV4dFZhbHVlLCBpc1NWRywgcGFyZW50Q29tcG9uZW50LCBrZXkgIT09IFwidmFsdWVcIik7XG4gICAgfVxuICB9IGVsc2UgaWYgKFxuICAgIC8vICMxMTA4MSBmb3JjZSBzZXQgcHJvcHMgZm9yIHBvc3NpYmxlIGFzeW5jIGN1c3RvbSBlbGVtZW50XG4gICAgZWwuX2lzVnVlQ0UgJiYgKC9bQS1aXS8udGVzdChrZXkpIHx8ICFpc1N0cmluZyhuZXh0VmFsdWUpKVxuICApIHtcbiAgICBwYXRjaERPTVByb3AoZWwsIGNhbWVsaXplJDEoa2V5KSwgbmV4dFZhbHVlLCBwYXJlbnRDb21wb25lbnQsIGtleSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKGtleSA9PT0gXCJ0cnVlLXZhbHVlXCIpIHtcbiAgICAgIGVsLl90cnVlVmFsdWUgPSBuZXh0VmFsdWU7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09IFwiZmFsc2UtdmFsdWVcIikge1xuICAgICAgZWwuX2ZhbHNlVmFsdWUgPSBuZXh0VmFsdWU7XG4gICAgfVxuICAgIHBhdGNoQXR0cihlbCwga2V5LCBuZXh0VmFsdWUsIGlzU1ZHKTtcbiAgfVxufTtcbmZ1bmN0aW9uIHNob3VsZFNldEFzUHJvcChlbCwga2V5LCB2YWx1ZSwgaXNTVkcpIHtcbiAgaWYgKGlzU1ZHKSB7XG4gICAgaWYgKGtleSA9PT0gXCJpbm5lckhUTUxcIiB8fCBrZXkgPT09IFwidGV4dENvbnRlbnRcIikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChrZXkgaW4gZWwgJiYgaXNOYXRpdmVPbihrZXkpICYmIGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChrZXkgPT09IFwic3BlbGxjaGVja1wiIHx8IGtleSA9PT0gXCJkcmFnZ2FibGVcIiB8fCBrZXkgPT09IFwidHJhbnNsYXRlXCIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGtleSA9PT0gXCJmb3JtXCIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGtleSA9PT0gXCJsaXN0XCIgJiYgZWwudGFnTmFtZSA9PT0gXCJJTlBVVFwiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChrZXkgPT09IFwidHlwZVwiICYmIGVsLnRhZ05hbWUgPT09IFwiVEVYVEFSRUFcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoa2V5ID09PSBcIndpZHRoXCIgfHwga2V5ID09PSBcImhlaWdodFwiKSB7XG4gICAgY29uc3QgdGFnID0gZWwudGFnTmFtZTtcbiAgICBpZiAodGFnID09PSBcIklNR1wiIHx8IHRhZyA9PT0gXCJWSURFT1wiIHx8IHRhZyA9PT0gXCJDQU5WQVNcIiB8fCB0YWcgPT09IFwiU09VUkNFXCIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzTmF0aXZlT24oa2V5KSAmJiBpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGtleSBpbiBlbDtcbn1cblxuY29uc3QgUkVNT1ZBTCA9IHt9O1xuLyohICNfX05PX1NJREVfRUZGRUNUU19fICovXG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gZGVmaW5lQ3VzdG9tRWxlbWVudChvcHRpb25zLCBleHRyYU9wdGlvbnMsIF9jcmVhdGVBcHApIHtcbiAgY29uc3QgQ29tcCA9IGRlZmluZUNvbXBvbmVudChvcHRpb25zLCBleHRyYU9wdGlvbnMpO1xuICBpZiAoaXNQbGFpbk9iamVjdChDb21wKSkgZXh0ZW5kKENvbXAsIGV4dHJhT3B0aW9ucyk7XG4gIGNsYXNzIFZ1ZUN1c3RvbUVsZW1lbnQgZXh0ZW5kcyBWdWVFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihpbml0aWFsUHJvcHMpIHtcbiAgICAgIHN1cGVyKENvbXAsIGluaXRpYWxQcm9wcywgX2NyZWF0ZUFwcCk7XG4gICAgfVxuICB9XG4gIFZ1ZUN1c3RvbUVsZW1lbnQuZGVmID0gQ29tcDtcbiAgcmV0dXJuIFZ1ZUN1c3RvbUVsZW1lbnQ7XG59XG4vKiEgI19fTk9fU0lERV9FRkZFQ1RTX18gKi9cbmNvbnN0IGRlZmluZVNTUkN1c3RvbUVsZW1lbnQgPSAvKiBAX19OT19TSURFX0VGRkVDVFNfXyAqLyAob3B0aW9ucywgZXh0cmFPcHRpb25zKSA9PiB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gZGVmaW5lQ3VzdG9tRWxlbWVudChvcHRpb25zLCBleHRyYU9wdGlvbnMsIGNyZWF0ZVNTUkFwcCk7XG59O1xuY29uc3QgQmFzZUNsYXNzID0gdHlwZW9mIEhUTUxFbGVtZW50ICE9PSBcInVuZGVmaW5lZFwiID8gSFRNTEVsZW1lbnQgOiBjbGFzcyB7XG59O1xuY2xhc3MgVnVlRWxlbWVudCBleHRlbmRzIEJhc2VDbGFzcyB7XG4gIGNvbnN0cnVjdG9yKF9kZWYsIF9wcm9wcyA9IHt9LCBfY3JlYXRlQXBwID0gY3JlYXRlQXBwKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9kZWYgPSBfZGVmO1xuICAgIHRoaXMuX3Byb3BzID0gX3Byb3BzO1xuICAgIHRoaXMuX2NyZWF0ZUFwcCA9IF9jcmVhdGVBcHA7XG4gICAgdGhpcy5faXNWdWVDRSA9IHRydWU7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5faW5zdGFuY2UgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuX2FwcCA9IG51bGw7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5fbm9uY2UgPSB0aGlzLl9kZWYubm9uY2U7XG4gICAgdGhpcy5fY29ubmVjdGVkID0gZmFsc2U7XG4gICAgdGhpcy5fcmVzb2x2ZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9udW1iZXJQcm9wcyA9IG51bGw7XG4gICAgdGhpcy5fc3R5bGVDaGlsZHJlbiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha1NldCgpO1xuICAgIHRoaXMuX29iID0gbnVsbDtcbiAgICBpZiAodGhpcy5zaGFkb3dSb290ICYmIF9jcmVhdGVBcHAgIT09IGNyZWF0ZUFwcCkge1xuICAgICAgdGhpcy5fcm9vdCA9IHRoaXMuc2hhZG93Um9vdDtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdGhpcy5zaGFkb3dSb290KSB7XG4gICAgICAgIHdhcm4oXG4gICAgICAgICAgYEN1c3RvbSBlbGVtZW50IGhhcyBwcmUtcmVuZGVyZWQgZGVjbGFyYXRpdmUgc2hhZG93IHJvb3QgYnV0IGlzIG5vdCBkZWZpbmVkIGFzIGh5ZHJhdGFibGUuIFVzZSBcXGBkZWZpbmVTU1JDdXN0b21FbGVtZW50XFxgLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChfZGVmLnNoYWRvd1Jvb3QgIT09IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogXCJvcGVuXCIgfSk7XG4gICAgICAgIHRoaXMuX3Jvb3QgPSB0aGlzLnNoYWRvd1Jvb3Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9yb290ID0gdGhpcztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCF0aGlzLl9kZWYuX19hc3luY0xvYWRlcikge1xuICAgICAgdGhpcy5fcmVzb2x2ZVByb3BzKHRoaXMuX2RlZik7XG4gICAgfVxuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGlmICghdGhpcy5pc0Nvbm5lY3RlZCkgcmV0dXJuO1xuICAgIGlmICghdGhpcy5zaGFkb3dSb290KSB7XG4gICAgICB0aGlzLl9wYXJzZVNsb3RzKCk7XG4gICAgfVxuICAgIHRoaXMuX2Nvbm5lY3RlZCA9IHRydWU7XG4gICAgbGV0IHBhcmVudCA9IHRoaXM7XG4gICAgd2hpbGUgKHBhcmVudCA9IHBhcmVudCAmJiAocGFyZW50LnBhcmVudE5vZGUgfHwgcGFyZW50Lmhvc3QpKSB7XG4gICAgICBpZiAocGFyZW50IGluc3RhbmNlb2YgVnVlRWxlbWVudCkge1xuICAgICAgICB0aGlzLl9wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXRoaXMuX2luc3RhbmNlKSB7XG4gICAgICBpZiAodGhpcy5fcmVzb2x2ZWQpIHtcbiAgICAgICAgdGhpcy5fc2V0UGFyZW50KCk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHBhcmVudCAmJiBwYXJlbnQuX3BlbmRpbmdSZXNvbHZlKSB7XG4gICAgICAgICAgdGhpcy5fcGVuZGluZ1Jlc29sdmUgPSBwYXJlbnQuX3BlbmRpbmdSZXNvbHZlLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1Jlc29sdmUgPSB2b2lkIDA7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlRGVmKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fcmVzb2x2ZURlZigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIF9zZXRQYXJlbnQocGFyZW50ID0gdGhpcy5fcGFyZW50KSB7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgdGhpcy5faW5zdGFuY2UucGFyZW50ID0gcGFyZW50Ll9pbnN0YW5jZTtcbiAgICAgIHRoaXMuX2luc3RhbmNlLnByb3ZpZGVzID0gcGFyZW50Ll9pbnN0YW5jZS5wcm92aWRlcztcbiAgICB9XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5fY29ubmVjdGVkID0gZmFsc2U7XG4gICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLl9jb25uZWN0ZWQpIHtcbiAgICAgICAgaWYgKHRoaXMuX29iKSB7XG4gICAgICAgICAgdGhpcy5fb2IuZGlzY29ubmVjdCgpO1xuICAgICAgICAgIHRoaXMuX29iID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hcHAgJiYgdGhpcy5fYXBwLnVubW91bnQoKTtcbiAgICAgICAgaWYgKHRoaXMuX2luc3RhbmNlKSB0aGlzLl9pbnN0YW5jZS5jZSA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5fYXBwID0gdGhpcy5faW5zdGFuY2UgPSBudWxsO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiByZXNvbHZlIGlubmVyIGNvbXBvbmVudCBkZWZpbml0aW9uIChoYW5kbGUgcG9zc2libGUgYXN5bmMgY29tcG9uZW50KVxuICAgKi9cbiAgX3Jlc29sdmVEZWYoKSB7XG4gICAgaWYgKHRoaXMuX3BlbmRpbmdSZXNvbHZlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLl9zZXRBdHRyKHRoaXMuYXR0cmlidXRlc1tpXS5uYW1lKTtcbiAgICB9XG4gICAgdGhpcy5fb2IgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IG0gb2YgbXV0YXRpb25zKSB7XG4gICAgICAgIHRoaXMuX3NldEF0dHIobS5hdHRyaWJ1dGVOYW1lKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLl9vYi5vYnNlcnZlKHRoaXMsIHsgYXR0cmlidXRlczogdHJ1ZSB9KTtcbiAgICBjb25zdCByZXNvbHZlID0gKGRlZiwgaXNBc3luYyA9IGZhbHNlKSA9PiB7XG4gICAgICB0aGlzLl9yZXNvbHZlZCA9IHRydWU7XG4gICAgICB0aGlzLl9wZW5kaW5nUmVzb2x2ZSA9IHZvaWQgMDtcbiAgICAgIGNvbnN0IHsgcHJvcHMsIHN0eWxlcyB9ID0gZGVmO1xuICAgICAgbGV0IG51bWJlclByb3BzO1xuICAgICAgaWYgKHByb3BzICYmICFpc0FycmF5KHByb3BzKSkge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xuICAgICAgICAgIGNvbnN0IG9wdCA9IHByb3BzW2tleV07XG4gICAgICAgICAgaWYgKG9wdCA9PT0gTnVtYmVyIHx8IG9wdCAmJiBvcHQudHlwZSA9PT0gTnVtYmVyKSB7XG4gICAgICAgICAgICBpZiAoa2V5IGluIHRoaXMuX3Byb3BzKSB7XG4gICAgICAgICAgICAgIHRoaXMuX3Byb3BzW2tleV0gPSB0b051bWJlcih0aGlzLl9wcm9wc1trZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIChudW1iZXJQcm9wcyB8fCAobnVtYmVyUHJvcHMgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSkpW2NhbWVsaXplJDEoa2V5KV0gPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5fbnVtYmVyUHJvcHMgPSBudW1iZXJQcm9wcztcbiAgICAgIGlmIChpc0FzeW5jKSB7XG4gICAgICAgIHRoaXMuX3Jlc29sdmVQcm9wcyhkZWYpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc2hhZG93Um9vdCkge1xuICAgICAgICB0aGlzLl9hcHBseVN0eWxlcyhzdHlsZXMpO1xuICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHN0eWxlcykge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIFwiQ3VzdG9tIGVsZW1lbnQgc3R5bGUgaW5qZWN0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgd2hlbiB1c2luZyBzaGFkb3dSb290OiBmYWxzZVwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB0aGlzLl9tb3VudChkZWYpO1xuICAgIH07XG4gICAgY29uc3QgYXN5bmNEZWYgPSB0aGlzLl9kZWYuX19hc3luY0xvYWRlcjtcbiAgICBpZiAoYXN5bmNEZWYpIHtcbiAgICAgIHRoaXMuX3BlbmRpbmdSZXNvbHZlID0gYXN5bmNEZWYoKS50aGVuKFxuICAgICAgICAoZGVmKSA9PiByZXNvbHZlKHRoaXMuX2RlZiA9IGRlZiwgdHJ1ZSlcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc29sdmUodGhpcy5fZGVmKTtcbiAgICB9XG4gIH1cbiAgX21vdW50KGRlZikge1xuICAgIGlmICgoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pICYmICFkZWYubmFtZSkge1xuICAgICAgZGVmLm5hbWUgPSBcIlZ1ZUVsZW1lbnRcIjtcbiAgICB9XG4gICAgdGhpcy5fYXBwID0gdGhpcy5fY3JlYXRlQXBwKGRlZik7XG4gICAgaWYgKGRlZi5jb25maWd1cmVBcHApIHtcbiAgICAgIGRlZi5jb25maWd1cmVBcHAodGhpcy5fYXBwKTtcbiAgICB9XG4gICAgdGhpcy5fYXBwLl9jZVZOb2RlID0gdGhpcy5fY3JlYXRlVk5vZGUoKTtcbiAgICB0aGlzLl9hcHAubW91bnQodGhpcy5fcm9vdCk7XG4gICAgY29uc3QgZXhwb3NlZCA9IHRoaXMuX2luc3RhbmNlICYmIHRoaXMuX2luc3RhbmNlLmV4cG9zZWQ7XG4gICAgaWYgKCFleHBvc2VkKSByZXR1cm47XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZXhwb3NlZCkge1xuICAgICAgaWYgKCFoYXNPd24odGhpcywga2V5KSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywga2V5LCB7XG4gICAgICAgICAgLy8gdW53cmFwIHJlZiB0byBiZSBjb25zaXN0ZW50IHdpdGggcHVibGljIGluc3RhbmNlIGJlaGF2aW9yXG4gICAgICAgICAgZ2V0OiAoKSA9PiB1bnJlZihleHBvc2VkW2tleV0pXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIHdhcm4oYEV4cG9zZWQgcHJvcGVydHkgXCIke2tleX1cIiBhbHJlYWR5IGV4aXN0cyBvbiBjdXN0b20gZWxlbWVudC5gKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgX3Jlc29sdmVQcm9wcyhkZWYpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSBkZWY7XG4gICAgY29uc3QgZGVjbGFyZWRQcm9wS2V5cyA9IGlzQXJyYXkocHJvcHMpID8gcHJvcHMgOiBPYmplY3Qua2V5cyhwcm9wcyB8fCB7fSk7XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXModGhpcykpIHtcbiAgICAgIGlmIChrZXlbMF0gIT09IFwiX1wiICYmIGRlY2xhcmVkUHJvcEtleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICB0aGlzLl9zZXRQcm9wKGtleSwgdGhpc1trZXldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgb2YgZGVjbGFyZWRQcm9wS2V5cy5tYXAoY2FtZWxpemUkMSkpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBrZXksIHtcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRQcm9wKGtleSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldCh2YWwpIHtcbiAgICAgICAgICB0aGlzLl9zZXRQcm9wKGtleSwgdmFsLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIF9zZXRBdHRyKGtleSkge1xuICAgIGlmIChrZXkuc3RhcnRzV2l0aChcImRhdGEtdi1cIikpIHJldHVybjtcbiAgICBjb25zdCBoYXMgPSB0aGlzLmhhc0F0dHJpYnV0ZShrZXkpO1xuICAgIGxldCB2YWx1ZSA9IGhhcyA/IHRoaXMuZ2V0QXR0cmlidXRlKGtleSkgOiBSRU1PVkFMO1xuICAgIGNvbnN0IGNhbWVsS2V5ID0gY2FtZWxpemUkMShrZXkpO1xuICAgIGlmIChoYXMgJiYgdGhpcy5fbnVtYmVyUHJvcHMgJiYgdGhpcy5fbnVtYmVyUHJvcHNbY2FtZWxLZXldKSB7XG4gICAgICB2YWx1ZSA9IHRvTnVtYmVyKHZhbHVlKTtcbiAgICB9XG4gICAgdGhpcy5fc2V0UHJvcChjYW1lbEtleSwgdmFsdWUsIGZhbHNlLCB0cnVlKTtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBfZ2V0UHJvcChrZXkpIHtcbiAgICByZXR1cm4gdGhpcy5fcHJvcHNba2V5XTtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBfc2V0UHJvcChrZXksIHZhbCwgc2hvdWxkUmVmbGVjdCA9IHRydWUsIHNob3VsZFVwZGF0ZSA9IGZhbHNlKSB7XG4gICAgaWYgKHZhbCAhPT0gdGhpcy5fcHJvcHNba2V5XSkge1xuICAgICAgaWYgKHZhbCA9PT0gUkVNT1ZBTCkge1xuICAgICAgICBkZWxldGUgdGhpcy5fcHJvcHNba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3Byb3BzW2tleV0gPSB2YWw7XG4gICAgICAgIGlmIChrZXkgPT09IFwia2V5XCIgJiYgdGhpcy5fYXBwKSB7XG4gICAgICAgICAgdGhpcy5fYXBwLl9jZVZOb2RlLmtleSA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHNob3VsZFVwZGF0ZSAmJiB0aGlzLl9pbnN0YW5jZSkge1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgIH1cbiAgICAgIGlmIChzaG91bGRSZWZsZWN0KSB7XG4gICAgICAgIGNvbnN0IG9iID0gdGhpcy5fb2I7XG4gICAgICAgIG9iICYmIG9iLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgaWYgKHZhbCA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKGh5cGhlbmF0ZShrZXkpLCBcIlwiKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShoeXBoZW5hdGUoa2V5KSwgdmFsICsgXCJcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoIXZhbCkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKGh5cGhlbmF0ZShrZXkpKTtcbiAgICAgICAgfVxuICAgICAgICBvYiAmJiBvYi5vYnNlcnZlKHRoaXMsIHsgYXR0cmlidXRlczogdHJ1ZSB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgX3VwZGF0ZSgpIHtcbiAgICByZW5kZXIodGhpcy5fY3JlYXRlVk5vZGUoKSwgdGhpcy5fcm9vdCk7XG4gIH1cbiAgX2NyZWF0ZVZOb2RlKCkge1xuICAgIGNvbnN0IGJhc2VQcm9wcyA9IHt9O1xuICAgIGlmICghdGhpcy5zaGFkb3dSb290KSB7XG4gICAgICBiYXNlUHJvcHMub25Wbm9kZU1vdW50ZWQgPSBiYXNlUHJvcHMub25Wbm9kZVVwZGF0ZWQgPSB0aGlzLl9yZW5kZXJTbG90cy5iaW5kKHRoaXMpO1xuICAgIH1cbiAgICBjb25zdCB2bm9kZSA9IGNyZWF0ZVZOb2RlKHRoaXMuX2RlZiwgZXh0ZW5kKGJhc2VQcm9wcywgdGhpcy5fcHJvcHMpKTtcbiAgICBpZiAoIXRoaXMuX2luc3RhbmNlKSB7XG4gICAgICB2bm9kZS5jZSA9IChpbnN0YW5jZSkgPT4ge1xuICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgICAgICBpbnN0YW5jZS5jZSA9IHRoaXM7XG4gICAgICAgIGluc3RhbmNlLmlzQ0UgPSB0cnVlO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIGluc3RhbmNlLmNlUmVsb2FkID0gKG5ld1N0eWxlcykgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3N0eWxlcykge1xuICAgICAgICAgICAgICB0aGlzLl9zdHlsZXMuZm9yRWFjaCgocykgPT4gdGhpcy5fcm9vdC5yZW1vdmVDaGlsZChzKSk7XG4gICAgICAgICAgICAgIHRoaXMuX3N0eWxlcy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fYXBwbHlTdHlsZXMobmV3U3R5bGVzKTtcbiAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGlzcGF0Y2ggPSAoZXZlbnQsIGFyZ3MpID0+IHtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoXG4gICAgICAgICAgICBuZXcgQ3VzdG9tRXZlbnQoXG4gICAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgICBpc1BsYWluT2JqZWN0KGFyZ3NbMF0pID8gZXh0ZW5kKHsgZGV0YWlsOiBhcmdzIH0sIGFyZ3NbMF0pIDogeyBkZXRhaWw6IGFyZ3MgfVxuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgIH07XG4gICAgICAgIGluc3RhbmNlLmVtaXQgPSAoZXZlbnQsIC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICBkaXNwYXRjaChldmVudCwgYXJncyk7XG4gICAgICAgICAgaWYgKGh5cGhlbmF0ZShldmVudCkgIT09IGV2ZW50KSB7XG4gICAgICAgICAgICBkaXNwYXRjaChoeXBoZW5hdGUoZXZlbnQpLCBhcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX3NldFBhcmVudCgpO1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHZub2RlO1xuICB9XG4gIF9hcHBseVN0eWxlcyhzdHlsZXMsIG93bmVyKSB7XG4gICAgaWYgKCFzdHlsZXMpIHJldHVybjtcbiAgICBpZiAob3duZXIpIHtcbiAgICAgIGlmIChvd25lciA9PT0gdGhpcy5fZGVmIHx8IHRoaXMuX3N0eWxlQ2hpbGRyZW4uaGFzKG93bmVyKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLl9zdHlsZUNoaWxkcmVuLmFkZChvd25lcik7XG4gICAgfVxuICAgIGNvbnN0IG5vbmNlID0gdGhpcy5fbm9uY2U7XG4gICAgZm9yIChsZXQgaSA9IHN0eWxlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgY29uc3QgcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICAgIGlmIChub25jZSkgcy5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XG4gICAgICBzLnRleHRDb250ZW50ID0gc3R5bGVzW2ldO1xuICAgICAgdGhpcy5zaGFkb3dSb290LnByZXBlbmQocyk7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICBpZiAob3duZXIpIHtcbiAgICAgICAgICBpZiAob3duZXIuX19obXJJZCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9jaGlsZFN0eWxlcykgdGhpcy5fY2hpbGRTdHlsZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgICAgICAgICAgbGV0IGVudHJ5ID0gdGhpcy5fY2hpbGRTdHlsZXMuZ2V0KG93bmVyLl9faG1ySWQpO1xuICAgICAgICAgICAgaWYgKCFlbnRyeSkge1xuICAgICAgICAgICAgICB0aGlzLl9jaGlsZFN0eWxlcy5zZXQob3duZXIuX19obXJJZCwgZW50cnkgPSBbXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbnRyeS5wdXNoKHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAodGhpcy5fc3R5bGVzIHx8ICh0aGlzLl9zdHlsZXMgPSBbXSkpLnB1c2gocyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIE9ubHkgY2FsbGVkIHdoZW4gc2hhZG93Um9vdCBpcyBmYWxzZVxuICAgKi9cbiAgX3BhcnNlU2xvdHMoKSB7XG4gICAgY29uc3Qgc2xvdHMgPSB0aGlzLl9zbG90cyA9IHt9O1xuICAgIGxldCBuO1xuICAgIHdoaWxlIChuID0gdGhpcy5maXJzdENoaWxkKSB7XG4gICAgICBjb25zdCBzbG90TmFtZSA9IG4ubm9kZVR5cGUgPT09IDEgJiYgbi5nZXRBdHRyaWJ1dGUoXCJzbG90XCIpIHx8IFwiZGVmYXVsdFwiO1xuICAgICAgKHNsb3RzW3Nsb3ROYW1lXSB8fCAoc2xvdHNbc2xvdE5hbWVdID0gW10pKS5wdXNoKG4pO1xuICAgICAgdGhpcy5yZW1vdmVDaGlsZChuKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIE9ubHkgY2FsbGVkIHdoZW4gc2hhZG93Um9vdCBpcyBmYWxzZVxuICAgKi9cbiAgX3JlbmRlclNsb3RzKCkge1xuICAgIGNvbnN0IG91dGxldHMgPSAodGhpcy5fdGVsZXBvcnRUYXJnZXQgfHwgdGhpcykucXVlcnlTZWxlY3RvckFsbChcInNsb3RcIik7XG4gICAgY29uc3Qgc2NvcGVJZCA9IHRoaXMuX2luc3RhbmNlLnR5cGUuX19zY29wZUlkO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3V0bGV0cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgbyA9IG91dGxldHNbaV07XG4gICAgICBjb25zdCBzbG90TmFtZSA9IG8uZ2V0QXR0cmlidXRlKFwibmFtZVwiKSB8fCBcImRlZmF1bHRcIjtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSB0aGlzLl9zbG90c1tzbG90TmFtZV07XG4gICAgICBjb25zdCBwYXJlbnQgPSBvLnBhcmVudE5vZGU7XG4gICAgICBpZiAoY29udGVudCkge1xuICAgICAgICBmb3IgKGNvbnN0IG4gb2YgY29udGVudCkge1xuICAgICAgICAgIGlmIChzY29wZUlkICYmIG4ubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gc2NvcGVJZCArIFwiLXNcIjtcbiAgICAgICAgICAgIGNvbnN0IHdhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIobiwgMSk7XG4gICAgICAgICAgICBuLnNldEF0dHJpYnV0ZShpZCwgXCJcIik7XG4gICAgICAgICAgICBsZXQgY2hpbGQ7XG4gICAgICAgICAgICB3aGlsZSAoY2hpbGQgPSB3YWxrZXIubmV4dE5vZGUoKSkge1xuICAgICAgICAgICAgICBjaGlsZC5zZXRBdHRyaWJ1dGUoaWQsIFwiXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKG4sIG8pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aGlsZSAoby5maXJzdENoaWxkKSBwYXJlbnQuaW5zZXJ0QmVmb3JlKG8uZmlyc3RDaGlsZCwgbyk7XG4gICAgICB9XG4gICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQobyk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIF9pbmplY3RDaGlsZFN0eWxlKGNvbXApIHtcbiAgICB0aGlzLl9hcHBseVN0eWxlcyhjb21wLnN0eWxlcywgY29tcCk7XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgX3JlbW92ZUNoaWxkU3R5bGUoY29tcCkge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB0aGlzLl9zdHlsZUNoaWxkcmVuLmRlbGV0ZShjb21wKTtcbiAgICAgIGlmICh0aGlzLl9jaGlsZFN0eWxlcyAmJiBjb21wLl9faG1ySWQpIHtcbiAgICAgICAgY29uc3Qgb2xkU3R5bGVzID0gdGhpcy5fY2hpbGRTdHlsZXMuZ2V0KGNvbXAuX19obXJJZCk7XG4gICAgICAgIGlmIChvbGRTdHlsZXMpIHtcbiAgICAgICAgICBvbGRTdHlsZXMuZm9yRWFjaCgocykgPT4gdGhpcy5fcm9vdC5yZW1vdmVDaGlsZChzKSk7XG4gICAgICAgICAgb2xkU3R5bGVzLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHVzZUhvc3QoY2FsbGVyKSB7XG4gIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gIGNvbnN0IGVsID0gaW5zdGFuY2UgJiYgaW5zdGFuY2UuY2U7XG4gIGlmIChlbCkge1xuICAgIHJldHVybiBlbDtcbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgd2FybihcbiAgICAgICAgYCR7Y2FsbGVyIHx8IFwidXNlSG9zdFwifSBjYWxsZWQgd2l0aG91dCBhbiBhY3RpdmUgY29tcG9uZW50IGluc3RhbmNlLmBcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdhcm4oXG4gICAgICAgIGAke2NhbGxlciB8fCBcInVzZUhvc3RcIn0gY2FuIG9ubHkgYmUgdXNlZCBpbiBjb21wb25lbnRzIGRlZmluZWQgdmlhIGRlZmluZUN1c3RvbUVsZW1lbnQuYFxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiB1c2VTaGFkb3dSb290KCkge1xuICBjb25zdCBlbCA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyB1c2VIb3N0KFwidXNlU2hhZG93Um9vdFwiKSA6IHVzZUhvc3QoKTtcbiAgcmV0dXJuIGVsICYmIGVsLnNoYWRvd1Jvb3Q7XG59XG5cbmZ1bmN0aW9uIHVzZUNzc01vZHVsZShuYW1lID0gXCIkc3R5bGVcIikge1xuICB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4oYHVzZUNzc01vZHVsZSBtdXN0IGJlIGNhbGxlZCBpbnNpZGUgc2V0dXAoKWApO1xuICAgICAgcmV0dXJuIEVNUFRZX09CSjtcbiAgICB9XG4gICAgY29uc3QgbW9kdWxlcyA9IGluc3RhbmNlLnR5cGUuX19jc3NNb2R1bGVzO1xuICAgIGlmICghbW9kdWxlcykge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuKGBDdXJyZW50IGluc3RhbmNlIGRvZXMgbm90IGhhdmUgQ1NTIG1vZHVsZXMgaW5qZWN0ZWQuYCk7XG4gICAgICByZXR1cm4gRU1QVFlfT0JKO1xuICAgIH1cbiAgICBjb25zdCBtb2QgPSBtb2R1bGVzW25hbWVdO1xuICAgIGlmICghbW9kKSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4oYEN1cnJlbnQgaW5zdGFuY2UgZG9lcyBub3QgaGF2ZSBDU1MgbW9kdWxlIG5hbWVkIFwiJHtuYW1lfVwiLmApO1xuICAgICAgcmV0dXJuIEVNUFRZX09CSjtcbiAgICB9XG4gICAgcmV0dXJuIG1vZDtcbiAgfVxufVxuXG5jb25zdCBwb3NpdGlvbk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuY29uc3QgbmV3UG9zaXRpb25NYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IG1vdmVDYktleSA9IFN5bWJvbChcIl9tb3ZlQ2JcIik7XG5jb25zdCBlbnRlckNiS2V5ID0gU3ltYm9sKFwiX2VudGVyQ2JcIik7XG5jb25zdCBkZWNvcmF0ZSA9ICh0KSA9PiB7XG4gIGRlbGV0ZSB0LnByb3BzLm1vZGU7XG4gIHJldHVybiB0O1xufTtcbmNvbnN0IFRyYW5zaXRpb25Hcm91cEltcGwgPSAvKiBAX19QVVJFX18gKi8gZGVjb3JhdGUoe1xuICBuYW1lOiBcIlRyYW5zaXRpb25Hcm91cFwiLFxuICBwcm9wczogLyogQF9fUFVSRV9fICovIGV4dGVuZCh7fSwgVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycywge1xuICAgIHRhZzogU3RyaW5nLFxuICAgIG1vdmVDbGFzczogU3RyaW5nXG4gIH0pLFxuICBzZXR1cChwcm9wcywgeyBzbG90cyB9KSB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICBjb25zdCBzdGF0ZSA9IHVzZVRyYW5zaXRpb25TdGF0ZSgpO1xuICAgIGxldCBwcmV2Q2hpbGRyZW47XG4gICAgbGV0IGNoaWxkcmVuO1xuICAgIG9uVXBkYXRlZCgoKSA9PiB7XG4gICAgICBpZiAoIXByZXZDaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbW92ZUNsYXNzID0gcHJvcHMubW92ZUNsYXNzIHx8IGAke3Byb3BzLm5hbWUgfHwgXCJ2XCJ9LW1vdmVgO1xuICAgICAgaWYgKCFoYXNDU1NUcmFuc2Zvcm0oXG4gICAgICAgIHByZXZDaGlsZHJlblswXS5lbCxcbiAgICAgICAgaW5zdGFuY2Uudm5vZGUuZWwsXG4gICAgICAgIG1vdmVDbGFzc1xuICAgICAgKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmV2Q2hpbGRyZW4uZm9yRWFjaChjYWxsUGVuZGluZ0Nicyk7XG4gICAgICBwcmV2Q2hpbGRyZW4uZm9yRWFjaChyZWNvcmRQb3NpdGlvbik7XG4gICAgICBjb25zdCBtb3ZlZENoaWxkcmVuID0gcHJldkNoaWxkcmVuLmZpbHRlcihhcHBseVRyYW5zbGF0aW9uKTtcbiAgICAgIGZvcmNlUmVmbG93KCk7XG4gICAgICBtb3ZlZENoaWxkcmVuLmZvckVhY2goKGMpID0+IHtcbiAgICAgICAgY29uc3QgZWwgPSBjLmVsO1xuICAgICAgICBjb25zdCBzdHlsZSA9IGVsLnN0eWxlO1xuICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIG1vdmVDbGFzcyk7XG4gICAgICAgIHN0eWxlLnRyYW5zZm9ybSA9IHN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IHN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IFwiXCI7XG4gICAgICAgIGNvbnN0IGNiID0gZWxbbW92ZUNiS2V5XSA9IChlKSA9PiB7XG4gICAgICAgICAgaWYgKGUgJiYgZS50YXJnZXQgIT09IGVsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghZSB8fCAvdHJhbnNmb3JtJC8udGVzdChlLnByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsIGNiKTtcbiAgICAgICAgICAgIGVsW21vdmVDYktleV0gPSBudWxsO1xuICAgICAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBtb3ZlQ2xhc3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcInRyYW5zaXRpb25lbmRcIiwgY2IpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNvbnN0IHJhd1Byb3BzID0gdG9SYXcocHJvcHMpO1xuICAgICAgY29uc3QgY3NzVHJhbnNpdGlvblByb3BzID0gcmVzb2x2ZVRyYW5zaXRpb25Qcm9wcyhyYXdQcm9wcyk7XG4gICAgICBsZXQgdGFnID0gcmF3UHJvcHMudGFnIHx8IEZyYWdtZW50O1xuICAgICAgcHJldkNoaWxkcmVuID0gW107XG4gICAgICBpZiAoY2hpbGRyZW4pIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgICAgaWYgKGNoaWxkLmVsICYmIGNoaWxkLmVsIGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgICAgICAgcHJldkNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKFxuICAgICAgICAgICAgICBjaGlsZCxcbiAgICAgICAgICAgICAgcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhcbiAgICAgICAgICAgICAgICBjaGlsZCxcbiAgICAgICAgICAgICAgICBjc3NUcmFuc2l0aW9uUHJvcHMsXG4gICAgICAgICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgICAgICAgaW5zdGFuY2VcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHBvc2l0aW9uTWFwLnNldChcbiAgICAgICAgICAgICAgY2hpbGQsXG4gICAgICAgICAgICAgIGNoaWxkLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY2hpbGRyZW4gPSBzbG90cy5kZWZhdWx0ID8gZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuKHNsb3RzLmRlZmF1bHQoKSkgOiBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgaWYgKGNoaWxkLmtleSAhPSBudWxsKSB7XG4gICAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKFxuICAgICAgICAgICAgY2hpbGQsXG4gICAgICAgICAgICByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKGNoaWxkLCBjc3NUcmFuc2l0aW9uUHJvcHMsIHN0YXRlLCBpbnN0YW5jZSlcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgY2hpbGQudHlwZSAhPT0gVGV4dCkge1xuICAgICAgICAgIHdhcm4oYDxUcmFuc2l0aW9uR3JvdXA+IGNoaWxkcmVuIG11c3QgYmUga2V5ZWQuYCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0YWcsIG51bGwsIGNoaWxkcmVuKTtcbiAgICB9O1xuICB9XG59KTtcbmNvbnN0IFRyYW5zaXRpb25Hcm91cCA9IFRyYW5zaXRpb25Hcm91cEltcGw7XG5mdW5jdGlvbiBjYWxsUGVuZGluZ0NicyhjKSB7XG4gIGNvbnN0IGVsID0gYy5lbDtcbiAgaWYgKGVsW21vdmVDYktleV0pIHtcbiAgICBlbFttb3ZlQ2JLZXldKCk7XG4gIH1cbiAgaWYgKGVsW2VudGVyQ2JLZXldKSB7XG4gICAgZWxbZW50ZXJDYktleV0oKTtcbiAgfVxufVxuZnVuY3Rpb24gcmVjb3JkUG9zaXRpb24oYykge1xuICBuZXdQb3NpdGlvbk1hcC5zZXQoYywgYy5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7XG59XG5mdW5jdGlvbiBhcHBseVRyYW5zbGF0aW9uKGMpIHtcbiAgY29uc3Qgb2xkUG9zID0gcG9zaXRpb25NYXAuZ2V0KGMpO1xuICBjb25zdCBuZXdQb3MgPSBuZXdQb3NpdGlvbk1hcC5nZXQoYyk7XG4gIGNvbnN0IGR4ID0gb2xkUG9zLmxlZnQgLSBuZXdQb3MubGVmdDtcbiAgY29uc3QgZHkgPSBvbGRQb3MudG9wIC0gbmV3UG9zLnRvcDtcbiAgaWYgKGR4IHx8IGR5KSB7XG4gICAgY29uc3QgcyA9IGMuZWwuc3R5bGU7XG4gICAgcy50cmFuc2Zvcm0gPSBzLndlYmtpdFRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtkeH1weCwke2R5fXB4KWA7XG4gICAgcy50cmFuc2l0aW9uRHVyYXRpb24gPSBcIjBzXCI7XG4gICAgcmV0dXJuIGM7XG4gIH1cbn1cbmZ1bmN0aW9uIGhhc0NTU1RyYW5zZm9ybShlbCwgcm9vdCwgbW92ZUNsYXNzKSB7XG4gIGNvbnN0IGNsb25lID0gZWwuY2xvbmVOb2RlKCk7XG4gIGNvbnN0IF92dGMgPSBlbFt2dGNLZXldO1xuICBpZiAoX3Z0Yykge1xuICAgIF92dGMuZm9yRWFjaCgoY2xzKSA9PiB7XG4gICAgICBjbHMuc3BsaXQoL1xccysvKS5mb3JFYWNoKChjKSA9PiBjICYmIGNsb25lLmNsYXNzTGlzdC5yZW1vdmUoYykpO1xuICAgIH0pO1xuICB9XG4gIG1vdmVDbGFzcy5zcGxpdCgvXFxzKy8pLmZvckVhY2goKGMpID0+IGMgJiYgY2xvbmUuY2xhc3NMaXN0LmFkZChjKSk7XG4gIGNsb25lLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgY29uc3QgY29udGFpbmVyID0gcm9vdC5ub2RlVHlwZSA9PT0gMSA/IHJvb3QgOiByb290LnBhcmVudE5vZGU7XG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjbG9uZSk7XG4gIGNvbnN0IHsgaGFzVHJhbnNmb3JtIH0gPSBnZXRUcmFuc2l0aW9uSW5mbyhjbG9uZSk7XG4gIGNvbnRhaW5lci5yZW1vdmVDaGlsZChjbG9uZSk7XG4gIHJldHVybiBoYXNUcmFuc2Zvcm07XG59XG5cbmNvbnN0IGdldE1vZGVsQXNzaWduZXIgPSAodm5vZGUpID0+IHtcbiAgY29uc3QgZm4gPSB2bm9kZS5wcm9wc1tcIm9uVXBkYXRlOm1vZGVsVmFsdWVcIl0gfHwgZmFsc2U7XG4gIHJldHVybiBpc0FycmF5KGZuKSA/ICh2YWx1ZSkgPT4gaW52b2tlQXJyYXlGbnMoZm4sIHZhbHVlKSA6IGZuO1xufTtcbmZ1bmN0aW9uIG9uQ29tcG9zaXRpb25TdGFydChlKSB7XG4gIGUudGFyZ2V0LmNvbXBvc2luZyA9IHRydWU7XG59XG5mdW5jdGlvbiBvbkNvbXBvc2l0aW9uRW5kKGUpIHtcbiAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQ7XG4gIGlmICh0YXJnZXQuY29tcG9zaW5nKSB7XG4gICAgdGFyZ2V0LmNvbXBvc2luZyA9IGZhbHNlO1xuICAgIHRhcmdldC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcImlucHV0XCIpKTtcbiAgfVxufVxuY29uc3QgYXNzaWduS2V5ID0gU3ltYm9sKFwiX2Fzc2lnblwiKTtcbmNvbnN0IHZNb2RlbFRleHQgPSB7XG4gIGNyZWF0ZWQoZWwsIHsgbW9kaWZpZXJzOiB7IGxhenksIHRyaW0sIG51bWJlciB9IH0sIHZub2RlKSB7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgIGNvbnN0IGNhc3RUb051bWJlciA9IG51bWJlciB8fCB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy50eXBlID09PSBcIm51bWJlclwiO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsIGxhenkgPyBcImNoYW5nZVwiIDogXCJpbnB1dFwiLCAoZSkgPT4ge1xuICAgICAgaWYgKGUudGFyZ2V0LmNvbXBvc2luZykgcmV0dXJuO1xuICAgICAgbGV0IGRvbVZhbHVlID0gZWwudmFsdWU7XG4gICAgICBpZiAodHJpbSkge1xuICAgICAgICBkb21WYWx1ZSA9IGRvbVZhbHVlLnRyaW0oKTtcbiAgICAgIH1cbiAgICAgIGlmIChjYXN0VG9OdW1iZXIpIHtcbiAgICAgICAgZG9tVmFsdWUgPSBsb29zZVRvTnVtYmVyKGRvbVZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGVsW2Fzc2lnbktleV0oZG9tVmFsdWUpO1xuICAgIH0pO1xuICAgIGlmICh0cmltKSB7XG4gICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBcImNoYW5nZVwiLCAoKSA9PiB7XG4gICAgICAgIGVsLnZhbHVlID0gZWwudmFsdWUudHJpbSgpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICghbGF6eSkge1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgXCJjb21wb3NpdGlvbnN0YXJ0XCIsIG9uQ29tcG9zaXRpb25TdGFydCk7XG4gICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBcImNvbXBvc2l0aW9uZW5kXCIsIG9uQ29tcG9zaXRpb25FbmQpO1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgXCJjaGFuZ2VcIiwgb25Db21wb3NpdGlvbkVuZCk7XG4gICAgfVxuICB9LFxuICAvLyBzZXQgdmFsdWUgb24gbW91bnRlZCBzbyBpdCdzIGFmdGVyIG1pbi9tYXggZm9yIHR5cGU9XCJyYW5nZVwiXG4gIG1vdW50ZWQoZWwsIHsgdmFsdWUgfSkge1xuICAgIGVsLnZhbHVlID0gdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZTtcbiAgfSxcbiAgYmVmb3JlVXBkYXRlKGVsLCB7IHZhbHVlLCBvbGRWYWx1ZSwgbW9kaWZpZXJzOiB7IGxhenksIHRyaW0sIG51bWJlciB9IH0sIHZub2RlKSB7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgIGlmIChlbC5jb21wb3NpbmcpIHJldHVybjtcbiAgICBjb25zdCBlbFZhbHVlID0gKG51bWJlciB8fCBlbC50eXBlID09PSBcIm51bWJlclwiKSAmJiAhL14wXFxkLy50ZXN0KGVsLnZhbHVlKSA/IGxvb3NlVG9OdW1iZXIoZWwudmFsdWUpIDogZWwudmFsdWU7XG4gICAgY29uc3QgbmV3VmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlO1xuICAgIGlmIChlbFZhbHVlID09PSBuZXdWYWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZWwgJiYgZWwudHlwZSAhPT0gXCJyYW5nZVwiKSB7XG4gICAgICBpZiAobGF6eSAmJiB2YWx1ZSA9PT0gb2xkVmFsdWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHRyaW0gJiYgZWwudmFsdWUudHJpbSgpID09PSBuZXdWYWx1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGVsLnZhbHVlID0gbmV3VmFsdWU7XG4gIH1cbn07XG5jb25zdCB2TW9kZWxDaGVja2JveCA9IHtcbiAgLy8gIzQwOTYgYXJyYXkgY2hlY2tib3hlcyBuZWVkIHRvIGJlIGRlZXAgdHJhdmVyc2VkXG4gIGRlZXA6IHRydWUsXG4gIGNyZWF0ZWQoZWwsIF8sIHZub2RlKSB7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsIFwiY2hhbmdlXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vZGVsVmFsdWUgPSBlbC5fbW9kZWxWYWx1ZTtcbiAgICAgIGNvbnN0IGVsZW1lbnRWYWx1ZSA9IGdldFZhbHVlKGVsKTtcbiAgICAgIGNvbnN0IGNoZWNrZWQgPSBlbC5jaGVja2VkO1xuICAgICAgY29uc3QgYXNzaWduID0gZWxbYXNzaWduS2V5XTtcbiAgICAgIGlmIChpc0FycmF5KG1vZGVsVmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gbG9vc2VJbmRleE9mKG1vZGVsVmFsdWUsIGVsZW1lbnRWYWx1ZSk7XG4gICAgICAgIGNvbnN0IGZvdW5kID0gaW5kZXggIT09IC0xO1xuICAgICAgICBpZiAoY2hlY2tlZCAmJiAhZm91bmQpIHtcbiAgICAgICAgICBhc3NpZ24obW9kZWxWYWx1ZS5jb25jYXQoZWxlbWVudFZhbHVlKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWNoZWNrZWQgJiYgZm91bmQpIHtcbiAgICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IFsuLi5tb2RlbFZhbHVlXTtcbiAgICAgICAgICBmaWx0ZXJlZC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgIGFzc2lnbihmaWx0ZXJlZCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNTZXQobW9kZWxWYWx1ZSkpIHtcbiAgICAgICAgY29uc3QgY2xvbmVkID0gbmV3IFNldChtb2RlbFZhbHVlKTtcbiAgICAgICAgaWYgKGNoZWNrZWQpIHtcbiAgICAgICAgICBjbG9uZWQuYWRkKGVsZW1lbnRWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2xvbmVkLmRlbGV0ZShlbGVtZW50VmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGFzc2lnbihjbG9uZWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXNzaWduKGdldENoZWNrYm94VmFsdWUoZWwsIGNoZWNrZWQpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgLy8gc2V0IGluaXRpYWwgY2hlY2tlZCBvbiBtb3VudCB0byB3YWl0IGZvciB0cnVlLXZhbHVlL2ZhbHNlLXZhbHVlXG4gIG1vdW50ZWQ6IHNldENoZWNrZWQsXG4gIGJlZm9yZVVwZGF0ZShlbCwgYmluZGluZywgdm5vZGUpIHtcbiAgICBlbFthc3NpZ25LZXldID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XG4gICAgc2V0Q2hlY2tlZChlbCwgYmluZGluZywgdm5vZGUpO1xuICB9XG59O1xuZnVuY3Rpb24gc2V0Q2hlY2tlZChlbCwgeyB2YWx1ZSwgb2xkVmFsdWUgfSwgdm5vZGUpIHtcbiAgZWwuX21vZGVsVmFsdWUgPSB2YWx1ZTtcbiAgbGV0IGNoZWNrZWQ7XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGNoZWNrZWQgPSBsb29zZUluZGV4T2YodmFsdWUsIHZub2RlLnByb3BzLnZhbHVlKSA+IC0xO1xuICB9IGVsc2UgaWYgKGlzU2V0KHZhbHVlKSkge1xuICAgIGNoZWNrZWQgPSB2YWx1ZS5oYXModm5vZGUucHJvcHMudmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIGlmICh2YWx1ZSA9PT0gb2xkVmFsdWUpIHJldHVybjtcbiAgICBjaGVja2VkID0gbG9vc2VFcXVhbCh2YWx1ZSwgZ2V0Q2hlY2tib3hWYWx1ZShlbCwgdHJ1ZSkpO1xuICB9XG4gIGlmIChlbC5jaGVja2VkICE9PSBjaGVja2VkKSB7XG4gICAgZWwuY2hlY2tlZCA9IGNoZWNrZWQ7XG4gIH1cbn1cbmNvbnN0IHZNb2RlbFJhZGlvID0ge1xuICBjcmVhdGVkKGVsLCB7IHZhbHVlIH0sIHZub2RlKSB7XG4gICAgZWwuY2hlY2tlZCA9IGxvb3NlRXF1YWwodmFsdWUsIHZub2RlLnByb3BzLnZhbHVlKTtcbiAgICBlbFthc3NpZ25LZXldID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgXCJjaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgZWxbYXNzaWduS2V5XShnZXRWYWx1ZShlbCkpO1xuICAgIH0pO1xuICB9LFxuICBiZWZvcmVVcGRhdGUoZWwsIHsgdmFsdWUsIG9sZFZhbHVlIH0sIHZub2RlKSB7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgIGlmICh2YWx1ZSAhPT0gb2xkVmFsdWUpIHtcbiAgICAgIGVsLmNoZWNrZWQgPSBsb29zZUVxdWFsKHZhbHVlLCB2bm9kZS5wcm9wcy52YWx1ZSk7XG4gICAgfVxuICB9XG59O1xuY29uc3Qgdk1vZGVsU2VsZWN0ID0ge1xuICAvLyA8c2VsZWN0IG11bHRpcGxlPiB2YWx1ZSBuZWVkIHRvIGJlIGRlZXAgdHJhdmVyc2VkXG4gIGRlZXA6IHRydWUsXG4gIGNyZWF0ZWQoZWwsIHsgdmFsdWUsIG1vZGlmaWVyczogeyBudW1iZXIgfSB9LCB2bm9kZSkge1xuICAgIGNvbnN0IGlzU2V0TW9kZWwgPSBpc1NldCh2YWx1ZSk7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgXCJjaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgY29uc3Qgc2VsZWN0ZWRWYWwgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoZWwub3B0aW9ucywgKG8pID0+IG8uc2VsZWN0ZWQpLm1hcChcbiAgICAgICAgKG8pID0+IG51bWJlciA/IGxvb3NlVG9OdW1iZXIoZ2V0VmFsdWUobykpIDogZ2V0VmFsdWUobylcbiAgICAgICk7XG4gICAgICBlbFthc3NpZ25LZXldKFxuICAgICAgICBlbC5tdWx0aXBsZSA/IGlzU2V0TW9kZWwgPyBuZXcgU2V0KHNlbGVjdGVkVmFsKSA6IHNlbGVjdGVkVmFsIDogc2VsZWN0ZWRWYWxbMF1cbiAgICAgICk7XG4gICAgICBlbC5fYXNzaWduaW5nID0gdHJ1ZTtcbiAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgZWwuX2Fzc2lnbmluZyA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICB9LFxuICAvLyBzZXQgdmFsdWUgaW4gbW91bnRlZCAmIHVwZGF0ZWQgYmVjYXVzZSA8c2VsZWN0PiByZWxpZXMgb24gaXRzIGNoaWxkcmVuXG4gIC8vIDxvcHRpb24+cy5cbiAgbW91bnRlZChlbCwgeyB2YWx1ZSB9KSB7XG4gICAgc2V0U2VsZWN0ZWQoZWwsIHZhbHVlKTtcbiAgfSxcbiAgYmVmb3JlVXBkYXRlKGVsLCBfYmluZGluZywgdm5vZGUpIHtcbiAgICBlbFthc3NpZ25LZXldID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XG4gIH0sXG4gIHVwZGF0ZWQoZWwsIHsgdmFsdWUgfSkge1xuICAgIGlmICghZWwuX2Fzc2lnbmluZykge1xuICAgICAgc2V0U2VsZWN0ZWQoZWwsIHZhbHVlKTtcbiAgICB9XG4gIH1cbn07XG5mdW5jdGlvbiBzZXRTZWxlY3RlZChlbCwgdmFsdWUpIHtcbiAgY29uc3QgaXNNdWx0aXBsZSA9IGVsLm11bHRpcGxlO1xuICBjb25zdCBpc0FycmF5VmFsdWUgPSBpc0FycmF5KHZhbHVlKTtcbiAgaWYgKGlzTXVsdGlwbGUgJiYgIWlzQXJyYXlWYWx1ZSAmJiAhaXNTZXQodmFsdWUpKSB7XG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuKFxuICAgICAgYDxzZWxlY3QgbXVsdGlwbGUgdi1tb2RlbD4gZXhwZWN0cyBhbiBBcnJheSBvciBTZXQgdmFsdWUgZm9yIGl0cyBiaW5kaW5nLCBidXQgZ290ICR7T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKS5zbGljZSg4LCAtMSl9LmBcbiAgICApO1xuICAgIHJldHVybjtcbiAgfVxuICBmb3IgKGxldCBpID0gMCwgbCA9IGVsLm9wdGlvbnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgY29uc3Qgb3B0aW9uID0gZWwub3B0aW9uc1tpXTtcbiAgICBjb25zdCBvcHRpb25WYWx1ZSA9IGdldFZhbHVlKG9wdGlvbik7XG4gICAgaWYgKGlzTXVsdGlwbGUpIHtcbiAgICAgIGlmIChpc0FycmF5VmFsdWUpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9uVHlwZSA9IHR5cGVvZiBvcHRpb25WYWx1ZTtcbiAgICAgICAgaWYgKG9wdGlvblR5cGUgPT09IFwic3RyaW5nXCIgfHwgb3B0aW9uVHlwZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHZhbHVlLnNvbWUoKHYpID0+IFN0cmluZyh2KSA9PT0gU3RyaW5nKG9wdGlvblZhbHVlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gbG9vc2VJbmRleE9mKHZhbHVlLCBvcHRpb25WYWx1ZSkgPiAtMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gdmFsdWUuaGFzKG9wdGlvblZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGxvb3NlRXF1YWwoZ2V0VmFsdWUob3B0aW9uKSwgdmFsdWUpKSB7XG4gICAgICBpZiAoZWwuc2VsZWN0ZWRJbmRleCAhPT0gaSkgZWwuc2VsZWN0ZWRJbmRleCA9IGk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGlmICghaXNNdWx0aXBsZSAmJiBlbC5zZWxlY3RlZEluZGV4ICE9PSAtMSkge1xuICAgIGVsLnNlbGVjdGVkSW5kZXggPSAtMTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0VmFsdWUoZWwpIHtcbiAgcmV0dXJuIFwiX3ZhbHVlXCIgaW4gZWwgPyBlbC5fdmFsdWUgOiBlbC52YWx1ZTtcbn1cbmZ1bmN0aW9uIGdldENoZWNrYm94VmFsdWUoZWwsIGNoZWNrZWQpIHtcbiAgY29uc3Qga2V5ID0gY2hlY2tlZCA/IFwiX3RydWVWYWx1ZVwiIDogXCJfZmFsc2VWYWx1ZVwiO1xuICByZXR1cm4ga2V5IGluIGVsID8gZWxba2V5XSA6IGNoZWNrZWQ7XG59XG5jb25zdCB2TW9kZWxEeW5hbWljID0ge1xuICBjcmVhdGVkKGVsLCBiaW5kaW5nLCB2bm9kZSkge1xuICAgIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBudWxsLCBcImNyZWF0ZWRcIik7XG4gIH0sXG4gIG1vdW50ZWQoZWwsIGJpbmRpbmcsIHZub2RlKSB7XG4gICAgY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIG51bGwsIFwibW91bnRlZFwiKTtcbiAgfSxcbiAgYmVmb3JlVXBkYXRlKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlKSB7XG4gICAgY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSwgXCJiZWZvcmVVcGRhdGVcIik7XG4gIH0sXG4gIHVwZGF0ZWQoZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUpIHtcbiAgICBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlLCBcInVwZGF0ZWRcIik7XG4gIH1cbn07XG5mdW5jdGlvbiByZXNvbHZlRHluYW1pY01vZGVsKHRhZ05hbWUsIHR5cGUpIHtcbiAgc3dpdGNoICh0YWdOYW1lKSB7XG4gICAgY2FzZSBcIlNFTEVDVFwiOlxuICAgICAgcmV0dXJuIHZNb2RlbFNlbGVjdDtcbiAgICBjYXNlIFwiVEVYVEFSRUFcIjpcbiAgICAgIHJldHVybiB2TW9kZWxUZXh0O1xuICAgIGRlZmF1bHQ6XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcImNoZWNrYm94XCI6XG4gICAgICAgICAgcmV0dXJuIHZNb2RlbENoZWNrYm94O1xuICAgICAgICBjYXNlIFwicmFkaW9cIjpcbiAgICAgICAgICByZXR1cm4gdk1vZGVsUmFkaW87XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIHZNb2RlbFRleHQ7XG4gICAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUsIGhvb2spIHtcbiAgY29uc3QgbW9kZWxUb1VzZSA9IHJlc29sdmVEeW5hbWljTW9kZWwoXG4gICAgZWwudGFnTmFtZSxcbiAgICB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy50eXBlXG4gICk7XG4gIGNvbnN0IGZuID0gbW9kZWxUb1VzZVtob29rXTtcbiAgZm4gJiYgZm4oZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUpO1xufVxuZnVuY3Rpb24gaW5pdFZNb2RlbEZvclNTUigpIHtcbiAgdk1vZGVsVGV4dC5nZXRTU1JQcm9wcyA9ICh7IHZhbHVlIH0pID0+ICh7IHZhbHVlIH0pO1xuICB2TW9kZWxSYWRpby5nZXRTU1JQcm9wcyA9ICh7IHZhbHVlIH0sIHZub2RlKSA9PiB7XG4gICAgaWYgKHZub2RlLnByb3BzICYmIGxvb3NlRXF1YWwodm5vZGUucHJvcHMudmFsdWUsIHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHsgY2hlY2tlZDogdHJ1ZSB9O1xuICAgIH1cbiAgfTtcbiAgdk1vZGVsQ2hlY2tib3guZ2V0U1NSUHJvcHMgPSAoeyB2YWx1ZSB9LCB2bm9kZSkgPT4ge1xuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgaWYgKHZub2RlLnByb3BzICYmIGxvb3NlSW5kZXhPZih2YWx1ZSwgdm5vZGUucHJvcHMudmFsdWUpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIHsgY2hlY2tlZDogdHJ1ZSB9O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNTZXQodmFsdWUpKSB7XG4gICAgICBpZiAodm5vZGUucHJvcHMgJiYgdmFsdWUuaGFzKHZub2RlLnByb3BzLnZhbHVlKSkge1xuICAgICAgICByZXR1cm4geyBjaGVja2VkOiB0cnVlIH07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHsgY2hlY2tlZDogdHJ1ZSB9O1xuICAgIH1cbiAgfTtcbiAgdk1vZGVsRHluYW1pYy5nZXRTU1JQcm9wcyA9IChiaW5kaW5nLCB2bm9kZSkgPT4ge1xuICAgIGlmICh0eXBlb2Ygdm5vZGUudHlwZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBtb2RlbFRvVXNlID0gcmVzb2x2ZUR5bmFtaWNNb2RlbChcbiAgICAgIC8vIHJlc29sdmVEeW5hbWljTW9kZWwgZXhwZWN0cyBhbiB1cHBlcmNhc2UgdGFnIG5hbWUsIGJ1dCB2bm9kZS50eXBlIGlzIGxvd2VyY2FzZVxuICAgICAgdm5vZGUudHlwZS50b1VwcGVyQ2FzZSgpLFxuICAgICAgdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMudHlwZVxuICAgICk7XG4gICAgaWYgKG1vZGVsVG9Vc2UuZ2V0U1NSUHJvcHMpIHtcbiAgICAgIHJldHVybiBtb2RlbFRvVXNlLmdldFNTUlByb3BzKGJpbmRpbmcsIHZub2RlKTtcbiAgICB9XG4gIH07XG59XG5cbmNvbnN0IHN5c3RlbU1vZGlmaWVycyA9IFtcImN0cmxcIiwgXCJzaGlmdFwiLCBcImFsdFwiLCBcIm1ldGFcIl07XG5jb25zdCBtb2RpZmllckd1YXJkcyA9IHtcbiAgc3RvcDogKGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCksXG4gIHByZXZlbnQ6IChlKSA9PiBlLnByZXZlbnREZWZhdWx0KCksXG4gIHNlbGY6IChlKSA9PiBlLnRhcmdldCAhPT0gZS5jdXJyZW50VGFyZ2V0LFxuICBjdHJsOiAoZSkgPT4gIWUuY3RybEtleSxcbiAgc2hpZnQ6IChlKSA9PiAhZS5zaGlmdEtleSxcbiAgYWx0OiAoZSkgPT4gIWUuYWx0S2V5LFxuICBtZXRhOiAoZSkgPT4gIWUubWV0YUtleSxcbiAgbGVmdDogKGUpID0+IFwiYnV0dG9uXCIgaW4gZSAmJiBlLmJ1dHRvbiAhPT0gMCxcbiAgbWlkZGxlOiAoZSkgPT4gXCJidXR0b25cIiBpbiBlICYmIGUuYnV0dG9uICE9PSAxLFxuICByaWdodDogKGUpID0+IFwiYnV0dG9uXCIgaW4gZSAmJiBlLmJ1dHRvbiAhPT0gMixcbiAgZXhhY3Q6IChlLCBtb2RpZmllcnMpID0+IHN5c3RlbU1vZGlmaWVycy5zb21lKChtKSA9PiBlW2Ake219S2V5YF0gJiYgIW1vZGlmaWVycy5pbmNsdWRlcyhtKSlcbn07XG5jb25zdCB3aXRoTW9kaWZpZXJzID0gKGZuLCBtb2RpZmllcnMpID0+IHtcbiAgY29uc3QgY2FjaGUgPSBmbi5fd2l0aE1vZHMgfHwgKGZuLl93aXRoTW9kcyA9IHt9KTtcbiAgY29uc3QgY2FjaGVLZXkgPSBtb2RpZmllcnMuam9pbihcIi5cIik7XG4gIHJldHVybiBjYWNoZVtjYWNoZUtleV0gfHwgKGNhY2hlW2NhY2hlS2V5XSA9IChldmVudCwgLi4uYXJncykgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbW9kaWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBndWFyZCA9IG1vZGlmaWVyR3VhcmRzW21vZGlmaWVyc1tpXV07XG4gICAgICBpZiAoZ3VhcmQgJiYgZ3VhcmQoZXZlbnQsIG1vZGlmaWVycykpIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIGZuKGV2ZW50LCAuLi5hcmdzKTtcbiAgfSk7XG59O1xuY29uc3Qga2V5TmFtZXMgPSB7XG4gIGVzYzogXCJlc2NhcGVcIixcbiAgc3BhY2U6IFwiIFwiLFxuICB1cDogXCJhcnJvdy11cFwiLFxuICBsZWZ0OiBcImFycm93LWxlZnRcIixcbiAgcmlnaHQ6IFwiYXJyb3ctcmlnaHRcIixcbiAgZG93bjogXCJhcnJvdy1kb3duXCIsXG4gIGRlbGV0ZTogXCJiYWNrc3BhY2VcIlxufTtcbmNvbnN0IHdpdGhLZXlzID0gKGZuLCBtb2RpZmllcnMpID0+IHtcbiAgY29uc3QgY2FjaGUgPSBmbi5fd2l0aEtleXMgfHwgKGZuLl93aXRoS2V5cyA9IHt9KTtcbiAgY29uc3QgY2FjaGVLZXkgPSBtb2RpZmllcnMuam9pbihcIi5cIik7XG4gIHJldHVybiBjYWNoZVtjYWNoZUtleV0gfHwgKGNhY2hlW2NhY2hlS2V5XSA9IChldmVudCkgPT4ge1xuICAgIGlmICghKFwia2V5XCIgaW4gZXZlbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGV2ZW50S2V5ID0gaHlwaGVuYXRlKGV2ZW50LmtleSk7XG4gICAgaWYgKG1vZGlmaWVycy5zb21lKFxuICAgICAgKGspID0+IGsgPT09IGV2ZW50S2V5IHx8IGtleU5hbWVzW2tdID09PSBldmVudEtleVxuICAgICkpIHtcbiAgICAgIHJldHVybiBmbihldmVudCk7XG4gICAgfVxuICB9KTtcbn07XG5cbmNvbnN0IHJlbmRlcmVyT3B0aW9ucyA9IC8qIEBfX1BVUkVfXyAqLyBleHRlbmQoeyBwYXRjaFByb3AgfSwgbm9kZU9wcyk7XG5sZXQgcmVuZGVyZXI7XG5sZXQgZW5hYmxlZEh5ZHJhdGlvbiA9IGZhbHNlO1xuZnVuY3Rpb24gZW5zdXJlUmVuZGVyZXIoKSB7XG4gIHJldHVybiByZW5kZXJlciB8fCAocmVuZGVyZXIgPSBjcmVhdGVSZW5kZXJlcihyZW5kZXJlck9wdGlvbnMpKTtcbn1cbmZ1bmN0aW9uIGVuc3VyZUh5ZHJhdGlvblJlbmRlcmVyKCkge1xuICByZW5kZXJlciA9IGVuYWJsZWRIeWRyYXRpb24gPyByZW5kZXJlciA6IGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyKHJlbmRlcmVyT3B0aW9ucyk7XG4gIGVuYWJsZWRIeWRyYXRpb24gPSB0cnVlO1xuICByZXR1cm4gcmVuZGVyZXI7XG59XG5jb25zdCByZW5kZXIgPSAoLi4uYXJncykgPT4ge1xuICBlbnN1cmVSZW5kZXJlcigpLnJlbmRlciguLi5hcmdzKTtcbn07XG5jb25zdCBoeWRyYXRlID0gKC4uLmFyZ3MpID0+IHtcbiAgZW5zdXJlSHlkcmF0aW9uUmVuZGVyZXIoKS5oeWRyYXRlKC4uLmFyZ3MpO1xufTtcbmNvbnN0IGNyZWF0ZUFwcCA9ICguLi5hcmdzKSA9PiB7XG4gIGNvbnN0IGFwcCA9IGVuc3VyZVJlbmRlcmVyKCkuY3JlYXRlQXBwKC4uLmFyZ3MpO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGluamVjdE5hdGl2ZVRhZ0NoZWNrKGFwcCk7XG4gICAgaW5qZWN0Q29tcGlsZXJPcHRpb25zQ2hlY2soYXBwKTtcbiAgfVxuICBjb25zdCB7IG1vdW50IH0gPSBhcHA7XG4gIGFwcC5tb3VudCA9IChjb250YWluZXJPclNlbGVjdG9yKSA9PiB7XG4gICAgY29uc3QgY29udGFpbmVyID0gbm9ybWFsaXplQ29udGFpbmVyKGNvbnRhaW5lck9yU2VsZWN0b3IpO1xuICAgIGlmICghY29udGFpbmVyKSByZXR1cm47XG4gICAgY29uc3QgY29tcG9uZW50ID0gYXBwLl9jb21wb25lbnQ7XG4gICAgaWYgKCFpc0Z1bmN0aW9uKGNvbXBvbmVudCkgJiYgIWNvbXBvbmVudC5yZW5kZXIgJiYgIWNvbXBvbmVudC50ZW1wbGF0ZSkge1xuICAgICAgY29tcG9uZW50LnRlbXBsYXRlID0gY29udGFpbmVyLmlubmVySFRNTDtcbiAgICB9XG4gICAgaWYgKGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgY29udGFpbmVyLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICB9XG4gICAgY29uc3QgcHJveHkgPSBtb3VudChjb250YWluZXIsIGZhbHNlLCByZXNvbHZlUm9vdE5hbWVzcGFjZShjb250YWluZXIpKTtcbiAgICBpZiAoY29udGFpbmVyIGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgY29udGFpbmVyLnJlbW92ZUF0dHJpYnV0ZShcInYtY2xvYWtcIik7XG4gICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKFwiZGF0YS12LWFwcFwiLCBcIlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb3h5O1xuICB9O1xuICByZXR1cm4gYXBwO1xufTtcbmNvbnN0IGNyZWF0ZVNTUkFwcCA9ICguLi5hcmdzKSA9PiB7XG4gIGNvbnN0IGFwcCA9IGVuc3VyZUh5ZHJhdGlvblJlbmRlcmVyKCkuY3JlYXRlQXBwKC4uLmFyZ3MpO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGluamVjdE5hdGl2ZVRhZ0NoZWNrKGFwcCk7XG4gICAgaW5qZWN0Q29tcGlsZXJPcHRpb25zQ2hlY2soYXBwKTtcbiAgfVxuICBjb25zdCB7IG1vdW50IH0gPSBhcHA7XG4gIGFwcC5tb3VudCA9IChjb250YWluZXJPclNlbGVjdG9yKSA9PiB7XG4gICAgY29uc3QgY29udGFpbmVyID0gbm9ybWFsaXplQ29udGFpbmVyKGNvbnRhaW5lck9yU2VsZWN0b3IpO1xuICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgIHJldHVybiBtb3VudChjb250YWluZXIsIHRydWUsIHJlc29sdmVSb290TmFtZXNwYWNlKGNvbnRhaW5lcikpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGFwcDtcbn07XG5mdW5jdGlvbiByZXNvbHZlUm9vdE5hbWVzcGFjZShjb250YWluZXIpIHtcbiAgaWYgKGNvbnRhaW5lciBpbnN0YW5jZW9mIFNWR0VsZW1lbnQpIHtcbiAgICByZXR1cm4gXCJzdmdcIjtcbiAgfVxuICBpZiAodHlwZW9mIE1hdGhNTEVsZW1lbnQgPT09IFwiZnVuY3Rpb25cIiAmJiBjb250YWluZXIgaW5zdGFuY2VvZiBNYXRoTUxFbGVtZW50KSB7XG4gICAgcmV0dXJuIFwibWF0aG1sXCI7XG4gIH1cbn1cbmZ1bmN0aW9uIGluamVjdE5hdGl2ZVRhZ0NoZWNrKGFwcCkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYXBwLmNvbmZpZywgXCJpc05hdGl2ZVRhZ1wiLCB7XG4gICAgdmFsdWU6ICh0YWcpID0+IGlzSFRNTFRhZyh0YWcpIHx8IGlzU1ZHVGFnKHRhZykgfHwgaXNNYXRoTUxUYWcodGFnKSxcbiAgICB3cml0YWJsZTogZmFsc2VcbiAgfSk7XG59XG5mdW5jdGlvbiBpbmplY3RDb21waWxlck9wdGlvbnNDaGVjayhhcHApIHtcbiAgaWYgKGlzUnVudGltZU9ubHkoKSkge1xuICAgIGNvbnN0IGlzQ3VzdG9tRWxlbWVudCA9IGFwcC5jb25maWcuaXNDdXN0b21FbGVtZW50O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhcHAuY29uZmlnLCBcImlzQ3VzdG9tRWxlbWVudFwiLCB7XG4gICAgICBnZXQoKSB7XG4gICAgICAgIHJldHVybiBpc0N1c3RvbUVsZW1lbnQ7XG4gICAgICB9LFxuICAgICAgc2V0KCkge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIGBUaGUgXFxgaXNDdXN0b21FbGVtZW50XFxgIGNvbmZpZyBvcHRpb24gaXMgZGVwcmVjYXRlZC4gVXNlIFxcYGNvbXBpbGVyT3B0aW9ucy5pc0N1c3RvbUVsZW1lbnRcXGAgaW5zdGVhZC5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgY29tcGlsZXJPcHRpb25zID0gYXBwLmNvbmZpZy5jb21waWxlck9wdGlvbnM7XG4gICAgY29uc3QgbXNnID0gYFRoZSBcXGBjb21waWxlck9wdGlvbnNcXGAgY29uZmlnIG9wdGlvbiBpcyBvbmx5IHJlc3BlY3RlZCB3aGVuIHVzaW5nIGEgYnVpbGQgb2YgVnVlLmpzIHRoYXQgaW5jbHVkZXMgdGhlIHJ1bnRpbWUgY29tcGlsZXIgKGFrYSBcImZ1bGwgYnVpbGRcIikuIFNpbmNlIHlvdSBhcmUgdXNpbmcgdGhlIHJ1bnRpbWUtb25seSBidWlsZCwgXFxgY29tcGlsZXJPcHRpb25zXFxgIG11c3QgYmUgcGFzc2VkIHRvIFxcYEB2dWUvY29tcGlsZXItZG9tXFxgIGluIHRoZSBidWlsZCBzZXR1cCBpbnN0ZWFkLlxuLSBGb3IgdnVlLWxvYWRlcjogcGFzcyBpdCB2aWEgdnVlLWxvYWRlcidzIFxcYGNvbXBpbGVyT3B0aW9uc1xcYCBsb2FkZXIgb3B0aW9uLlxuLSBGb3IgdnVlLWNsaTogc2VlIGh0dHBzOi8vY2xpLnZ1ZWpzLm9yZy9ndWlkZS93ZWJwYWNrLmh0bWwjbW9kaWZ5aW5nLW9wdGlvbnMtb2YtYS1sb2FkZXJcbi0gRm9yIHZpdGU6IHBhc3MgaXQgdmlhIEB2aXRlanMvcGx1Z2luLXZ1ZSBvcHRpb25zLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3ZpdGVqcy92aXRlLXBsdWdpbi12dWUvdHJlZS9tYWluL3BhY2thZ2VzL3BsdWdpbi12dWUjZXhhbXBsZS1mb3ItcGFzc2luZy1vcHRpb25zLXRvLXZ1ZWNvbXBpbGVyLXNmY2A7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGFwcC5jb25maWcsIFwiY29tcGlsZXJPcHRpb25zXCIsIHtcbiAgICAgIGdldCgpIHtcbiAgICAgICAgd2Fybihtc2cpO1xuICAgICAgICByZXR1cm4gY29tcGlsZXJPcHRpb25zO1xuICAgICAgfSxcbiAgICAgIHNldCgpIHtcbiAgICAgICAgd2Fybihtc2cpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5mdW5jdGlvbiBub3JtYWxpemVDb250YWluZXIoY29udGFpbmVyKSB7XG4gIGlmIChpc1N0cmluZyhjb250YWluZXIpKSB7XG4gICAgY29uc3QgcmVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXIpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFyZXMpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgIGBGYWlsZWQgdG8gbW91bnQgYXBwOiBtb3VudCB0YXJnZXQgc2VsZWN0b3IgXCIke2NvbnRhaW5lcn1cIiByZXR1cm5lZCBudWxsLmBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2luZG93LlNoYWRvd1Jvb3QgJiYgY29udGFpbmVyIGluc3RhbmNlb2Ygd2luZG93LlNoYWRvd1Jvb3QgJiYgY29udGFpbmVyLm1vZGUgPT09IFwiY2xvc2VkXCIpIHtcbiAgICB3YXJuKFxuICAgICAgYG1vdW50aW5nIG9uIGEgU2hhZG93Um9vdCB3aXRoIFxcYHttb2RlOiBcImNsb3NlZFwifVxcYCBtYXkgbGVhZCB0byB1bnByZWRpY3RhYmxlIGJ1Z3NgXG4gICAgKTtcbiAgfVxuICByZXR1cm4gY29udGFpbmVyO1xufVxubGV0IHNzckRpcmVjdGl2ZUluaXRpYWxpemVkID0gZmFsc2U7XG5jb25zdCBpbml0RGlyZWN0aXZlc0ZvclNTUiA9ICgpID0+IHtcbiAgaWYgKCFzc3JEaXJlY3RpdmVJbml0aWFsaXplZCkge1xuICAgIHNzckRpcmVjdGl2ZUluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICBpbml0Vk1vZGVsRm9yU1NSKCk7XG4gICAgaW5pdFZTaG93Rm9yU1NSKCk7XG4gIH1cbn0gO1xuXG5leHBvcnQgeyBUcmFuc2l0aW9uLCBUcmFuc2l0aW9uR3JvdXAsIFZ1ZUVsZW1lbnQsIGNyZWF0ZUFwcCwgY3JlYXRlU1NSQXBwLCBkZWZpbmVDdXN0b21FbGVtZW50LCBkZWZpbmVTU1JDdXN0b21FbGVtZW50LCBoeWRyYXRlLCBpbml0RGlyZWN0aXZlc0ZvclNTUiwgcmVuZGVyLCB1c2VDc3NNb2R1bGUsIHVzZUNzc1ZhcnMsIHVzZUhvc3QsIHVzZVNoYWRvd1Jvb3QsIHZNb2RlbENoZWNrYm94LCB2TW9kZWxEeW5hbWljLCB2TW9kZWxSYWRpbywgdk1vZGVsU2VsZWN0LCB2TW9kZWxUZXh0LCB2U2hvdywgd2l0aEtleXMsIHdpdGhNb2RpZmllcnMgfTtcbiIsIi8qIVxuICogcGluaWEgdjIuMy4wXG4gKiAoYykgMjAyNCBFZHVhcmRvIFNhbiBNYXJ0aW4gTW9yb3RlXG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuaW1wb3J0IHsgaGFzSW5qZWN0aW9uQ29udGV4dCwgaW5qZWN0LCB0b1Jhdywgd2F0Y2gsIHVucmVmLCBtYXJrUmF3LCBlZmZlY3RTY29wZSwgcmVmLCBpc1Z1ZTIsIGlzUmVmLCBpc1JlYWN0aXZlLCBzZXQsIGdldEN1cnJlbnRTY29wZSwgb25TY29wZURpc3Bvc2UsIGdldEN1cnJlbnRJbnN0YW5jZSwgcmVhY3RpdmUsIHRvUmVmLCBkZWwsIG5leHRUaWNrLCBjb21wdXRlZCwgdG9SZWZzIH0gZnJvbSAndnVlLWRlbWknO1xuaW1wb3J0IHsgc2V0dXBEZXZ0b29sc1BsdWdpbiB9IGZyb20gJ0B2dWUvZGV2dG9vbHMtYXBpJztcblxuLyoqXG4gKiBzZXRBY3RpdmVQaW5pYSBtdXN0IGJlIGNhbGxlZCB0byBoYW5kbGUgU1NSIGF0IHRoZSB0b3Agb2YgZnVuY3Rpb25zIGxpa2VcbiAqIGBmZXRjaGAsIGBzZXR1cGAsIGBzZXJ2ZXJQcmVmZXRjaGAgYW5kIG90aGVyc1xuICovXG5sZXQgYWN0aXZlUGluaWE7XG4vKipcbiAqIFNldHMgb3IgdW5zZXRzIHRoZSBhY3RpdmUgcGluaWEuIFVzZWQgaW4gU1NSIGFuZCBpbnRlcm5hbGx5IHdoZW4gY2FsbGluZ1xuICogYWN0aW9ucyBhbmQgZ2V0dGVyc1xuICpcbiAqIEBwYXJhbSBwaW5pYSAtIFBpbmlhIGluc3RhbmNlXG4gKi9cbi8vIEB0cy1leHBlY3QtZXJyb3I6IGNhbm5vdCBjb25zdHJhaW4gdGhlIHR5cGUgb2YgdGhlIHJldHVyblxuY29uc3Qgc2V0QWN0aXZlUGluaWEgPSAocGluaWEpID0+IChhY3RpdmVQaW5pYSA9IHBpbmlhKTtcbi8qKlxuICogR2V0IHRoZSBjdXJyZW50bHkgYWN0aXZlIHBpbmlhIGlmIHRoZXJlIGlzIGFueS5cbiAqL1xuY29uc3QgZ2V0QWN0aXZlUGluaWEgPSAoKSA9PiAoaGFzSW5qZWN0aW9uQ29udGV4dCgpICYmIGluamVjdChwaW5pYVN5bWJvbCkpIHx8IGFjdGl2ZVBpbmlhO1xuY29uc3QgcGluaWFTeW1ib2wgPSAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gU3ltYm9sKCdwaW5pYScpIDogLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gU3ltYm9sKCkpO1xuXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KFxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbm8pIHtcbiAgICByZXR1cm4gKG8gJiZcbiAgICAgICAgdHlwZW9mIG8gPT09ICdvYmplY3QnICYmXG4gICAgICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKSA9PT0gJ1tvYmplY3QgT2JqZWN0XScgJiZcbiAgICAgICAgdHlwZW9mIG8udG9KU09OICE9PSAnZnVuY3Rpb24nKTtcbn1cbi8vIHR5cGUgRGVlcFJlYWRvbmx5PFQ+ID0geyByZWFkb25seSBbUCBpbiBrZXlvZiBUXTogRGVlcFJlYWRvbmx5PFRbUF0+IH1cbi8vIFRPRE86IGNhbiB3ZSBjaGFuZ2UgdGhlc2UgdG8gbnVtYmVycz9cbi8qKlxuICogUG9zc2libGUgdHlwZXMgZm9yIFN1YnNjcmlwdGlvbkNhbGxiYWNrXG4gKi9cbnZhciBNdXRhdGlvblR5cGU7XG4oZnVuY3Rpb24gKE11dGF0aW9uVHlwZSkge1xuICAgIC8qKlxuICAgICAqIERpcmVjdCBtdXRhdGlvbiBvZiB0aGUgc3RhdGU6XG4gICAgICpcbiAgICAgKiAtIGBzdG9yZS5uYW1lID0gJ25ldyBuYW1lJ2BcbiAgICAgKiAtIGBzdG9yZS4kc3RhdGUubmFtZSA9ICduZXcgbmFtZSdgXG4gICAgICogLSBgc3RvcmUubGlzdC5wdXNoKCduZXcgaXRlbScpYFxuICAgICAqL1xuICAgIE11dGF0aW9uVHlwZVtcImRpcmVjdFwiXSA9IFwiZGlyZWN0XCI7XG4gICAgLyoqXG4gICAgICogTXV0YXRlZCB0aGUgc3RhdGUgd2l0aCBgJHBhdGNoYCBhbmQgYW4gb2JqZWN0XG4gICAgICpcbiAgICAgKiAtIGBzdG9yZS4kcGF0Y2goeyBuYW1lOiAnbmV3TmFtZScgfSlgXG4gICAgICovXG4gICAgTXV0YXRpb25UeXBlW1wicGF0Y2hPYmplY3RcIl0gPSBcInBhdGNoIG9iamVjdFwiO1xuICAgIC8qKlxuICAgICAqIE11dGF0ZWQgdGhlIHN0YXRlIHdpdGggYCRwYXRjaGAgYW5kIGEgZnVuY3Rpb25cbiAgICAgKlxuICAgICAqIC0gYHN0b3JlLiRwYXRjaChzdGF0ZSA9PiBzdGF0ZS5uYW1lID0gJ25ld05hbWUnKWBcbiAgICAgKi9cbiAgICBNdXRhdGlvblR5cGVbXCJwYXRjaEZ1bmN0aW9uXCJdID0gXCJwYXRjaCBmdW5jdGlvblwiO1xuICAgIC8vIG1heWJlIHJlc2V0PyBmb3IgJHN0YXRlID0ge30gYW5kICRyZXNldFxufSkoTXV0YXRpb25UeXBlIHx8IChNdXRhdGlvblR5cGUgPSB7fSkpO1xuXG5jb25zdCBJU19DTElFTlQgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcblxuLypcbiAqIEZpbGVTYXZlci5qcyBBIHNhdmVBcygpIEZpbGVTYXZlciBpbXBsZW1lbnRhdGlvbi5cbiAqXG4gKiBPcmlnaW5hbGx5IGJ5IEVsaSBHcmV5LCBhZGFwdGVkIGFzIGFuIEVTTSBtb2R1bGUgYnkgRWR1YXJkbyBTYW4gTWFydGluXG4gKiBNb3JvdGUuXG4gKlxuICogTGljZW5zZSA6IE1JVFxuICovXG4vLyBUaGUgb25lIGFuZCBvbmx5IHdheSBvZiBnZXR0aW5nIGdsb2JhbCBzY29wZSBpbiBhbGwgZW52aXJvbm1lbnRzXG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3EvMzI3NzE4Mi8xMDA4OTk5XG5jb25zdCBfZ2xvYmFsID0gLyojX19QVVJFX18qLyAoKCkgPT4gdHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcgJiYgd2luZG93LndpbmRvdyA9PT0gd2luZG93XG4gICAgPyB3aW5kb3dcbiAgICA6IHR5cGVvZiBzZWxmID09PSAnb2JqZWN0JyAmJiBzZWxmLnNlbGYgPT09IHNlbGZcbiAgICAgICAgPyBzZWxmXG4gICAgICAgIDogdHlwZW9mIGdsb2JhbCA9PT0gJ29iamVjdCcgJiYgZ2xvYmFsLmdsb2JhbCA9PT0gZ2xvYmFsXG4gICAgICAgICAgICA/IGdsb2JhbFxuICAgICAgICAgICAgOiB0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCdcbiAgICAgICAgICAgICAgICA/IGdsb2JhbFRoaXNcbiAgICAgICAgICAgICAgICA6IHsgSFRNTEVsZW1lbnQ6IG51bGwgfSkoKTtcbmZ1bmN0aW9uIGJvbShibG9iLCB7IGF1dG9Cb20gPSBmYWxzZSB9ID0ge30pIHtcbiAgICAvLyBwcmVwZW5kIEJPTSBmb3IgVVRGLTggWE1MIGFuZCB0ZXh0LyogdHlwZXMgKGluY2x1ZGluZyBIVE1MKVxuICAgIC8vIG5vdGU6IHlvdXIgYnJvd3NlciB3aWxsIGF1dG9tYXRpY2FsbHkgY29udmVydCBVVEYtMTYgVStGRUZGIHRvIEVGIEJCIEJGXG4gICAgaWYgKGF1dG9Cb20gJiZcbiAgICAgICAgL15cXHMqKD86dGV4dFxcL1xcUyp8YXBwbGljYXRpb25cXC94bWx8XFxTKlxcL1xcUypcXCt4bWwpXFxzKjsuKmNoYXJzZXRcXHMqPVxccyp1dGYtOC9pLnRlc3QoYmxvYi50eXBlKSkge1xuICAgICAgICByZXR1cm4gbmV3IEJsb2IoW1N0cmluZy5mcm9tQ2hhckNvZGUoMHhmZWZmKSwgYmxvYl0sIHsgdHlwZTogYmxvYi50eXBlIH0pO1xuICAgIH1cbiAgICByZXR1cm4gYmxvYjtcbn1cbmZ1bmN0aW9uIGRvd25sb2FkKHVybCwgbmFtZSwgb3B0cykge1xuICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIHhoci5vcGVuKCdHRVQnLCB1cmwpO1xuICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYic7XG4gICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2F2ZUFzKHhoci5yZXNwb25zZSwgbmFtZSwgb3B0cyk7XG4gICAgfTtcbiAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignY291bGQgbm90IGRvd25sb2FkIGZpbGUnKTtcbiAgICB9O1xuICAgIHhoci5zZW5kKCk7XG59XG5mdW5jdGlvbiBjb3JzRW5hYmxlZCh1cmwpIHtcbiAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAvLyB1c2Ugc3luYyB0byBhdm9pZCBwb3B1cCBibG9ja2VyXG4gICAgeGhyLm9wZW4oJ0hFQUQnLCB1cmwsIGZhbHNlKTtcbiAgICB0cnkge1xuICAgICAgICB4aHIuc2VuZCgpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkgeyB9XG4gICAgcmV0dXJuIHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPD0gMjk5O1xufVxuLy8gYGEuY2xpY2soKWAgZG9lc24ndCB3b3JrIGZvciBhbGwgYnJvd3NlcnMgKCM0NjUpXG5mdW5jdGlvbiBjbGljayhub2RlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgbm9kZS5kaXNwYXRjaEV2ZW50KG5ldyBNb3VzZUV2ZW50KCdjbGljaycpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc3QgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ01vdXNlRXZlbnRzJyk7XG4gICAgICAgIGV2dC5pbml0TW91c2VFdmVudCgnY2xpY2snLCB0cnVlLCB0cnVlLCB3aW5kb3csIDAsIDAsIDAsIDgwLCAyMCwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIDAsIG51bGwpO1xuICAgICAgICBub2RlLmRpc3BhdGNoRXZlbnQoZXZ0KTtcbiAgICB9XG59XG5jb25zdCBfbmF2aWdhdG9yID0gdHlwZW9mIG5hdmlnYXRvciA9PT0gJ29iamVjdCcgPyBuYXZpZ2F0b3IgOiB7IHVzZXJBZ2VudDogJycgfTtcbi8vIERldGVjdCBXZWJWaWV3IGluc2lkZSBhIG5hdGl2ZSBtYWNPUyBhcHAgYnkgcnVsaW5nIG91dCBhbGwgYnJvd3NlcnNcbi8vIFdlIGp1c3QgbmVlZCB0byBjaGVjayBmb3IgJ1NhZmFyaScgYmVjYXVzZSBhbGwgb3RoZXIgYnJvd3NlcnMgKGJlc2lkZXMgRmlyZWZveCkgaW5jbHVkZSB0aGF0IHRvb1xuLy8gaHR0cHM6Ly93d3cud2hhdGlzbXlicm93c2VyLmNvbS9ndWlkZXMvdGhlLWxhdGVzdC11c2VyLWFnZW50L21hY29zXG5jb25zdCBpc01hY09TV2ViVmlldyA9IC8qI19fUFVSRV9fKi8gKCgpID0+IC9NYWNpbnRvc2gvLnRlc3QoX25hdmlnYXRvci51c2VyQWdlbnQpICYmXG4gICAgL0FwcGxlV2ViS2l0Ly50ZXN0KF9uYXZpZ2F0b3IudXNlckFnZW50KSAmJlxuICAgICEvU2FmYXJpLy50ZXN0KF9uYXZpZ2F0b3IudXNlckFnZW50KSkoKTtcbmNvbnN0IHNhdmVBcyA9ICFJU19DTElFTlRcbiAgICA/ICgpID0+IHsgfSAvLyBub29wXG4gICAgOiAvLyBVc2UgZG93bmxvYWQgYXR0cmlidXRlIGZpcnN0IGlmIHBvc3NpYmxlICgjMTkzIEx1bWlhIG1vYmlsZSkgdW5sZXNzIHRoaXMgaXMgYSBtYWNPUyBXZWJWaWV3IG9yIG1pbmkgcHJvZ3JhbVxuICAgICAgICB0eXBlb2YgSFRNTEFuY2hvckVsZW1lbnQgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgICAnZG93bmxvYWQnIGluIEhUTUxBbmNob3JFbGVtZW50LnByb3RvdHlwZSAmJlxuICAgICAgICAgICAgIWlzTWFjT1NXZWJWaWV3XG4gICAgICAgICAgICA/IGRvd25sb2FkU2F2ZUFzXG4gICAgICAgICAgICA6IC8vIFVzZSBtc1NhdmVPck9wZW5CbG9iIGFzIGEgc2Vjb25kIGFwcHJvYWNoXG4gICAgICAgICAgICAgICAgJ21zU2F2ZU9yT3BlbkJsb2InIGluIF9uYXZpZ2F0b3JcbiAgICAgICAgICAgICAgICAgICAgPyBtc1NhdmVBc1xuICAgICAgICAgICAgICAgICAgICA6IC8vIEZhbGxiYWNrIHRvIHVzaW5nIEZpbGVSZWFkZXIgYW5kIGEgcG9wdXBcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVTYXZlclNhdmVBcztcbmZ1bmN0aW9uIGRvd25sb2FkU2F2ZUFzKGJsb2IsIG5hbWUgPSAnZG93bmxvYWQnLCBvcHRzKSB7XG4gICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICBhLmRvd25sb2FkID0gbmFtZTtcbiAgICBhLnJlbCA9ICdub29wZW5lcic7IC8vIHRhYm5hYmJpbmdcbiAgICAvLyBUT0RPOiBkZXRlY3QgY2hyb21lIGV4dGVuc2lvbnMgJiBwYWNrYWdlZCBhcHBzXG4gICAgLy8gYS50YXJnZXQgPSAnX2JsYW5rJ1xuICAgIGlmICh0eXBlb2YgYmxvYiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gU3VwcG9ydCByZWd1bGFyIGxpbmtzXG4gICAgICAgIGEuaHJlZiA9IGJsb2I7XG4gICAgICAgIGlmIChhLm9yaWdpbiAhPT0gbG9jYXRpb24ub3JpZ2luKSB7XG4gICAgICAgICAgICBpZiAoY29yc0VuYWJsZWQoYS5ocmVmKSkge1xuICAgICAgICAgICAgICAgIGRvd25sb2FkKGJsb2IsIG5hbWUsIG9wdHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYS50YXJnZXQgPSAnX2JsYW5rJztcbiAgICAgICAgICAgICAgICBjbGljayhhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNsaWNrKGEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBTdXBwb3J0IGJsb2JzXG4gICAgICAgIGEuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChhLmhyZWYpO1xuICAgICAgICB9LCA0ZTQpOyAvLyA0MHNcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjbGljayhhKTtcbiAgICAgICAgfSwgMCk7XG4gICAgfVxufVxuZnVuY3Rpb24gbXNTYXZlQXMoYmxvYiwgbmFtZSA9ICdkb3dubG9hZCcsIG9wdHMpIHtcbiAgICBpZiAodHlwZW9mIGJsb2IgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmIChjb3JzRW5hYmxlZChibG9iKSkge1xuICAgICAgICAgICAgZG93bmxvYWQoYmxvYiwgbmFtZSwgb3B0cyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgYS5ocmVmID0gYmxvYjtcbiAgICAgICAgICAgIGEudGFyZ2V0ID0gJ19ibGFuayc7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjbGljayhhKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBAdHMtaWdub3JlOiB3b3JrcyBvbiB3aW5kb3dzXG4gICAgICAgIG5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKGJvbShibG9iLCBvcHRzKSwgbmFtZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZmlsZVNhdmVyU2F2ZUFzKGJsb2IsIG5hbWUsIG9wdHMsIHBvcHVwKSB7XG4gICAgLy8gT3BlbiBhIHBvcHVwIGltbWVkaWF0ZWx5IGRvIGdvIGFyb3VuZCBwb3B1cCBibG9ja2VyXG4gICAgLy8gTW9zdGx5IG9ubHkgYXZhaWxhYmxlIG9uIHVzZXIgaW50ZXJhY3Rpb24gYW5kIHRoZSBmaWxlUmVhZGVyIGlzIGFzeW5jIHNvLi4uXG4gICAgcG9wdXAgPSBwb3B1cCB8fCBvcGVuKCcnLCAnX2JsYW5rJyk7XG4gICAgaWYgKHBvcHVwKSB7XG4gICAgICAgIHBvcHVwLmRvY3VtZW50LnRpdGxlID0gcG9wdXAuZG9jdW1lbnQuYm9keS5pbm5lclRleHQgPSAnZG93bmxvYWRpbmcuLi4nO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGJsb2IgPT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gZG93bmxvYWQoYmxvYiwgbmFtZSwgb3B0cyk7XG4gICAgY29uc3QgZm9yY2UgPSBibG9iLnR5cGUgPT09ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nO1xuICAgIGNvbnN0IGlzU2FmYXJpID0gL2NvbnN0cnVjdG9yL2kudGVzdChTdHJpbmcoX2dsb2JhbC5IVE1MRWxlbWVudCkpIHx8ICdzYWZhcmknIGluIF9nbG9iYWw7XG4gICAgY29uc3QgaXNDaHJvbWVJT1MgPSAvQ3JpT1NcXC9bXFxkXSsvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgaWYgKChpc0Nocm9tZUlPUyB8fCAoZm9yY2UgJiYgaXNTYWZhcmkpIHx8IGlzTWFjT1NXZWJWaWV3KSAmJlxuICAgICAgICB0eXBlb2YgRmlsZVJlYWRlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gU2FmYXJpIGRvZXNuJ3QgYWxsb3cgZG93bmxvYWRpbmcgb2YgYmxvYiBVUkxzXG4gICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsZXQgdXJsID0gcmVhZGVyLnJlc3VsdDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHBvcHVwID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dyb25nIHJlYWRlci5yZXN1bHQgdHlwZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXJsID0gaXNDaHJvbWVJT1NcbiAgICAgICAgICAgICAgICA/IHVybFxuICAgICAgICAgICAgICAgIDogdXJsLnJlcGxhY2UoL15kYXRhOlteO10qOy8sICdkYXRhOmF0dGFjaG1lbnQvZmlsZTsnKTtcbiAgICAgICAgICAgIGlmIChwb3B1cCkge1xuICAgICAgICAgICAgICAgIHBvcHVwLmxvY2F0aW9uLmhyZWYgPSB1cmw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbi5hc3NpZ24odXJsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBvcHVwID0gbnVsbDsgLy8gcmV2ZXJzZS10YWJuYWJiaW5nICM0NjBcbiAgICAgICAgfTtcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoYmxvYik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICBpZiAocG9wdXApXG4gICAgICAgICAgICBwb3B1cC5sb2NhdGlvbi5hc3NpZ24odXJsKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IHVybDtcbiAgICAgICAgcG9wdXAgPSBudWxsOyAvLyByZXZlcnNlLXRhYm5hYmJpbmcgIzQ2MFxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICAgICAgfSwgNGU0KTsgLy8gNDBzXG4gICAgfVxufVxuXG4vKipcbiAqIFNob3dzIGEgdG9hc3Qgb3IgY29uc29sZS5sb2dcbiAqXG4gKiBAcGFyYW0gbWVzc2FnZSAtIG1lc3NhZ2UgdG8gbG9nXG4gKiBAcGFyYW0gdHlwZSAtIGRpZmZlcmVudCBjb2xvciBvZiB0aGUgdG9vbHRpcFxuICovXG5mdW5jdGlvbiB0b2FzdE1lc3NhZ2UobWVzc2FnZSwgdHlwZSkge1xuICAgIGNvbnN0IHBpbmlhTWVzc2FnZSA9ICfwn42NICcgKyBtZXNzYWdlO1xuICAgIGlmICh0eXBlb2YgX19WVUVfREVWVE9PTFNfVE9BU1RfXyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBObyBsb25nZXIgYXZhaWxhYmxlIDooXG4gICAgICAgIF9fVlVFX0RFVlRPT0xTX1RPQVNUX18ocGluaWFNZXNzYWdlLCB0eXBlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICBjb25zb2xlLmVycm9yKHBpbmlhTWVzc2FnZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09ICd3YXJuJykge1xuICAgICAgICBjb25zb2xlLndhcm4ocGluaWFNZXNzYWdlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHBpbmlhTWVzc2FnZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNQaW5pYShvKSB7XG4gICAgcmV0dXJuICdfYScgaW4gbyAmJiAnaW5zdGFsbCcgaW4gbztcbn1cblxuLyoqXG4gKiBUaGlzIGZpbGUgY29udGFpbiBkZXZ0b29scyBhY3Rpb25zLCB0aGV5IGFyZSBub3QgUGluaWEgYWN0aW9ucy5cbiAqL1xuLy8gLS0tXG5mdW5jdGlvbiBjaGVja0NsaXBib2FyZEFjY2VzcygpIHtcbiAgICBpZiAoISgnY2xpcGJvYXJkJyBpbiBuYXZpZ2F0b3IpKSB7XG4gICAgICAgIHRvYXN0TWVzc2FnZShgWW91ciBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCB0aGUgQ2xpcGJvYXJkIEFQSWAsICdlcnJvcicpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5mdW5jdGlvbiBjaGVja05vdEZvY3VzZWRFcnJvcihlcnJvcikge1xuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmXG4gICAgICAgIGVycm9yLm1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZG9jdW1lbnQgaXMgbm90IGZvY3VzZWQnKSkge1xuICAgICAgICB0b2FzdE1lc3NhZ2UoJ1lvdSBuZWVkIHRvIGFjdGl2YXRlIHRoZSBcIkVtdWxhdGUgYSBmb2N1c2VkIHBhZ2VcIiBzZXR0aW5nIGluIHRoZSBcIlJlbmRlcmluZ1wiIHBhbmVsIG9mIGRldnRvb2xzLicsICd3YXJuJyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5hc3luYyBmdW5jdGlvbiBhY3Rpb25HbG9iYWxDb3B5U3RhdGUocGluaWEpIHtcbiAgICBpZiAoY2hlY2tDbGlwYm9hcmRBY2Nlc3MoKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KEpTT04uc3RyaW5naWZ5KHBpbmlhLnN0YXRlLnZhbHVlKSk7XG4gICAgICAgIHRvYXN0TWVzc2FnZSgnR2xvYmFsIHN0YXRlIGNvcGllZCB0byBjbGlwYm9hcmQuJyk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBpZiAoY2hlY2tOb3RGb2N1c2VkRXJyb3IoZXJyb3IpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0b2FzdE1lc3NhZ2UoYEZhaWxlZCB0byBzZXJpYWxpemUgdGhlIHN0YXRlLiBDaGVjayB0aGUgY29uc29sZSBmb3IgbW9yZSBkZXRhaWxzLmAsICdlcnJvcicpO1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB9XG59XG5hc3luYyBmdW5jdGlvbiBhY3Rpb25HbG9iYWxQYXN0ZVN0YXRlKHBpbmlhKSB7XG4gICAgaWYgKGNoZWNrQ2xpcGJvYXJkQWNjZXNzKCkpXG4gICAgICAgIHJldHVybjtcbiAgICB0cnkge1xuICAgICAgICBsb2FkU3RvcmVzU3RhdGUocGluaWEsIEpTT04ucGFyc2UoYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC5yZWFkVGV4dCgpKSk7XG4gICAgICAgIHRvYXN0TWVzc2FnZSgnR2xvYmFsIHN0YXRlIHBhc3RlZCBmcm9tIGNsaXBib2FyZC4nKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGlmIChjaGVja05vdEZvY3VzZWRFcnJvcihlcnJvcikpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRvYXN0TWVzc2FnZShgRmFpbGVkIHRvIGRlc2VyaWFsaXplIHRoZSBzdGF0ZSBmcm9tIGNsaXBib2FyZC4gQ2hlY2sgdGhlIGNvbnNvbGUgZm9yIG1vcmUgZGV0YWlscy5gLCAnZXJyb3InKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgfVxufVxuYXN5bmMgZnVuY3Rpb24gYWN0aW9uR2xvYmFsU2F2ZVN0YXRlKHBpbmlhKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgc2F2ZUFzKG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShwaW5pYS5zdGF0ZS52YWx1ZSldLCB7XG4gICAgICAgICAgICB0eXBlOiAndGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04JyxcbiAgICAgICAgfSksICdwaW5pYS1zdGF0ZS5qc29uJyk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICB0b2FzdE1lc3NhZ2UoYEZhaWxlZCB0byBleHBvcnQgdGhlIHN0YXRlIGFzIEpTT04uIENoZWNrIHRoZSBjb25zb2xlIGZvciBtb3JlIGRldGFpbHMuYCwgJ2Vycm9yJyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH1cbn1cbmxldCBmaWxlSW5wdXQ7XG5mdW5jdGlvbiBnZXRGaWxlT3BlbmVyKCkge1xuICAgIGlmICghZmlsZUlucHV0KSB7XG4gICAgICAgIGZpbGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIGZpbGVJbnB1dC50eXBlID0gJ2ZpbGUnO1xuICAgICAgICBmaWxlSW5wdXQuYWNjZXB0ID0gJy5qc29uJztcbiAgICB9XG4gICAgZnVuY3Rpb24gb3BlbkZpbGUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBmaWxlSW5wdXQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZXMgPSBmaWxlSW5wdXQuZmlsZXM7XG4gICAgICAgICAgICAgICAgaWYgKCFmaWxlcylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUobnVsbCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZSA9IGZpbGVzLml0ZW0oMCk7XG4gICAgICAgICAgICAgICAgaWYgKCFmaWxlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShudWxsKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh7IHRleHQ6IGF3YWl0IGZpbGUudGV4dCgpLCBmaWxlIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IFRPRE86IGNoYW5nZWQgZnJvbSA0LjMgdG8gNC40XG4gICAgICAgICAgICBmaWxlSW5wdXQub25jYW5jZWwgPSAoKSA9PiByZXNvbHZlKG51bGwpO1xuICAgICAgICAgICAgZmlsZUlucHV0Lm9uZXJyb3IgPSByZWplY3Q7XG4gICAgICAgICAgICBmaWxlSW5wdXQuY2xpY2soKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBvcGVuRmlsZTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGFjdGlvbkdsb2JhbE9wZW5TdGF0ZUZpbGUocGluaWEpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBvcGVuID0gZ2V0RmlsZU9wZW5lcigpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBvcGVuKCk7XG4gICAgICAgIGlmICghcmVzdWx0KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB7IHRleHQsIGZpbGUgfSA9IHJlc3VsdDtcbiAgICAgICAgbG9hZFN0b3Jlc1N0YXRlKHBpbmlhLCBKU09OLnBhcnNlKHRleHQpKTtcbiAgICAgICAgdG9hc3RNZXNzYWdlKGBHbG9iYWwgc3RhdGUgaW1wb3J0ZWQgZnJvbSBcIiR7ZmlsZS5uYW1lfVwiLmApO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdG9hc3RNZXNzYWdlKGBGYWlsZWQgdG8gaW1wb3J0IHRoZSBzdGF0ZSBmcm9tIEpTT04uIENoZWNrIHRoZSBjb25zb2xlIGZvciBtb3JlIGRldGFpbHMuYCwgJ2Vycm9yJyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGxvYWRTdG9yZXNTdGF0ZShwaW5pYSwgc3RhdGUpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzdGF0ZSkge1xuICAgICAgICBjb25zdCBzdG9yZVN0YXRlID0gcGluaWEuc3RhdGUudmFsdWVba2V5XTtcbiAgICAgICAgLy8gc3RvcmUgaXMgYWxyZWFkeSBpbnN0YW50aWF0ZWQsIHBhdGNoIGl0XG4gICAgICAgIGlmIChzdG9yZVN0YXRlKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHN0b3JlU3RhdGUsIHN0YXRlW2tleV0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gc3RvcmUgaXMgbm90IGluc3RhbnRpYXRlZCwgc2V0IHRoZSBpbml0aWFsIHN0YXRlXG4gICAgICAgICAgICBwaW5pYS5zdGF0ZS52YWx1ZVtrZXldID0gc3RhdGVba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZm9ybWF0RGlzcGxheShkaXNwbGF5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgX2N1c3RvbToge1xuICAgICAgICAgICAgZGlzcGxheSxcbiAgICAgICAgfSxcbiAgICB9O1xufVxuY29uc3QgUElOSUFfUk9PVF9MQUJFTCA9ICfwn42NIFBpbmlhIChyb290KSc7XG5jb25zdCBQSU5JQV9ST09UX0lEID0gJ19yb290JztcbmZ1bmN0aW9uIGZvcm1hdFN0b3JlRm9ySW5zcGVjdG9yVHJlZShzdG9yZSkge1xuICAgIHJldHVybiBpc1BpbmlhKHN0b3JlKVxuICAgICAgICA/IHtcbiAgICAgICAgICAgIGlkOiBQSU5JQV9ST09UX0lELFxuICAgICAgICAgICAgbGFiZWw6IFBJTklBX1JPT1RfTEFCRUwsXG4gICAgICAgIH1cbiAgICAgICAgOiB7XG4gICAgICAgICAgICBpZDogc3RvcmUuJGlkLFxuICAgICAgICAgICAgbGFiZWw6IHN0b3JlLiRpZCxcbiAgICAgICAgfTtcbn1cbmZ1bmN0aW9uIGZvcm1hdFN0b3JlRm9ySW5zcGVjdG9yU3RhdGUoc3RvcmUpIHtcbiAgICBpZiAoaXNQaW5pYShzdG9yZSkpIHtcbiAgICAgICAgY29uc3Qgc3RvcmVOYW1lcyA9IEFycmF5LmZyb20oc3RvcmUuX3Mua2V5cygpKTtcbiAgICAgICAgY29uc3Qgc3RvcmVNYXAgPSBzdG9yZS5fcztcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB7XG4gICAgICAgICAgICBzdGF0ZTogc3RvcmVOYW1lcy5tYXAoKHN0b3JlSWQpID0+ICh7XG4gICAgICAgICAgICAgICAgZWRpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAga2V5OiBzdG9yZUlkLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBzdG9yZS5zdGF0ZS52YWx1ZVtzdG9yZUlkXSxcbiAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgIGdldHRlcnM6IHN0b3JlTmFtZXNcbiAgICAgICAgICAgICAgICAuZmlsdGVyKChpZCkgPT4gc3RvcmVNYXAuZ2V0KGlkKS5fZ2V0dGVycylcbiAgICAgICAgICAgICAgICAubWFwKChpZCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlID0gc3RvcmVNYXAuZ2V0KGlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGtleTogaWQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzdG9yZS5fZ2V0dGVycy5yZWR1Y2UoKGdldHRlcnMsIGtleSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0dGVyc1trZXldID0gc3RvcmVba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXR0ZXJzO1xuICAgICAgICAgICAgICAgICAgICB9LCB7fSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuICAgIGNvbnN0IHN0YXRlID0ge1xuICAgICAgICBzdGF0ZTogT2JqZWN0LmtleXMoc3RvcmUuJHN0YXRlKS5tYXAoKGtleSkgPT4gKHtcbiAgICAgICAgICAgIGVkaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgdmFsdWU6IHN0b3JlLiRzdGF0ZVtrZXldLFxuICAgICAgICB9KSksXG4gICAgfTtcbiAgICAvLyBhdm9pZCBhZGRpbmcgZW1wdHkgZ2V0dGVyc1xuICAgIGlmIChzdG9yZS5fZ2V0dGVycyAmJiBzdG9yZS5fZ2V0dGVycy5sZW5ndGgpIHtcbiAgICAgICAgc3RhdGUuZ2V0dGVycyA9IHN0b3JlLl9nZXR0ZXJzLm1hcCgoZ2V0dGVyTmFtZSkgPT4gKHtcbiAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGtleTogZ2V0dGVyTmFtZSxcbiAgICAgICAgICAgIHZhbHVlOiBzdG9yZVtnZXR0ZXJOYW1lXSxcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBpZiAoc3RvcmUuX2N1c3RvbVByb3BlcnRpZXMuc2l6ZSkge1xuICAgICAgICBzdGF0ZS5jdXN0b21Qcm9wZXJ0aWVzID0gQXJyYXkuZnJvbShzdG9yZS5fY3VzdG9tUHJvcGVydGllcykubWFwKChrZXkpID0+ICh7XG4gICAgICAgICAgICBlZGl0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIHZhbHVlOiBzdG9yZVtrZXldLFxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZTtcbn1cbmZ1bmN0aW9uIGZvcm1hdEV2ZW50RGF0YShldmVudHMpIHtcbiAgICBpZiAoIWV2ZW50cylcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIGlmIChBcnJheS5pc0FycmF5KGV2ZW50cykpIHtcbiAgICAgICAgLy8gVE9ETzogaGFuZGxlIGFkZCBhbmQgZGVsZXRlIGZvciBhcnJheXMgYW5kIG9iamVjdHNcbiAgICAgICAgcmV0dXJuIGV2ZW50cy5yZWR1Y2UoKGRhdGEsIGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBkYXRhLmtleXMucHVzaChldmVudC5rZXkpO1xuICAgICAgICAgICAgZGF0YS5vcGVyYXRpb25zLnB1c2goZXZlbnQudHlwZSk7XG4gICAgICAgICAgICBkYXRhLm9sZFZhbHVlW2V2ZW50LmtleV0gPSBldmVudC5vbGRWYWx1ZTtcbiAgICAgICAgICAgIGRhdGEubmV3VmFsdWVbZXZlbnQua2V5XSA9IGV2ZW50Lm5ld1ZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG9sZFZhbHVlOiB7fSxcbiAgICAgICAgICAgIGtleXM6IFtdLFxuICAgICAgICAgICAgb3BlcmF0aW9uczogW10sXG4gICAgICAgICAgICBuZXdWYWx1ZToge30sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG9wZXJhdGlvbjogZm9ybWF0RGlzcGxheShldmVudHMudHlwZSksXG4gICAgICAgICAgICBrZXk6IGZvcm1hdERpc3BsYXkoZXZlbnRzLmtleSksXG4gICAgICAgICAgICBvbGRWYWx1ZTogZXZlbnRzLm9sZFZhbHVlLFxuICAgICAgICAgICAgbmV3VmFsdWU6IGV2ZW50cy5uZXdWYWx1ZSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5mdW5jdGlvbiBmb3JtYXRNdXRhdGlvblR5cGUodHlwZSkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIE11dGF0aW9uVHlwZS5kaXJlY3Q6XG4gICAgICAgICAgICByZXR1cm4gJ211dGF0aW9uJztcbiAgICAgICAgY2FzZSBNdXRhdGlvblR5cGUucGF0Y2hGdW5jdGlvbjpcbiAgICAgICAgICAgIHJldHVybiAnJHBhdGNoJztcbiAgICAgICAgY2FzZSBNdXRhdGlvblR5cGUucGF0Y2hPYmplY3Q6XG4gICAgICAgICAgICByZXR1cm4gJyRwYXRjaCc7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gJ3Vua25vd24nO1xuICAgIH1cbn1cblxuLy8gdGltZWxpbmUgY2FuIGJlIHBhdXNlZCB3aGVuIGRpcmVjdGx5IGNoYW5naW5nIHRoZSBzdGF0ZVxubGV0IGlzVGltZWxpbmVBY3RpdmUgPSB0cnVlO1xuY29uc3QgY29tcG9uZW50U3RhdGVUeXBlcyA9IFtdO1xuY29uc3QgTVVUQVRJT05TX0xBWUVSX0lEID0gJ3BpbmlhOm11dGF0aW9ucyc7XG5jb25zdCBJTlNQRUNUT1JfSUQgPSAncGluaWEnO1xuY29uc3QgeyBhc3NpZ246IGFzc2lnbiQxIH0gPSBPYmplY3Q7XG4vKipcbiAqIEdldHMgdGhlIGRpc3BsYXllZCBuYW1lIG9mIGEgc3RvcmUgaW4gZGV2dG9vbHNcbiAqXG4gKiBAcGFyYW0gaWQgLSBpZCBvZiB0aGUgc3RvcmVcbiAqIEByZXR1cm5zIGEgZm9ybWF0dGVkIHN0cmluZ1xuICovXG5jb25zdCBnZXRTdG9yZVR5cGUgPSAoaWQpID0+ICfwn42NICcgKyBpZDtcbi8qKlxuICogQWRkIHRoZSBwaW5pYSBwbHVnaW4gd2l0aG91dCBhbnkgc3RvcmUuIEFsbG93cyBkaXNwbGF5aW5nIGEgUGluaWEgcGx1Z2luIHRhYlxuICogYXMgc29vbiBhcyBpdCBpcyBhZGRlZCB0byB0aGUgYXBwbGljYXRpb24uXG4gKlxuICogQHBhcmFtIGFwcCAtIFZ1ZSBhcHBsaWNhdGlvblxuICogQHBhcmFtIHBpbmlhIC0gcGluaWEgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gcmVnaXN0ZXJQaW5pYURldnRvb2xzKGFwcCwgcGluaWEpIHtcbiAgICBzZXR1cERldnRvb2xzUGx1Z2luKHtcbiAgICAgICAgaWQ6ICdkZXYuZXNtLnBpbmlhJyxcbiAgICAgICAgbGFiZWw6ICdQaW5pYSDwn42NJyxcbiAgICAgICAgbG9nbzogJ2h0dHBzOi8vcGluaWEudnVlanMub3JnL2xvZ28uc3ZnJyxcbiAgICAgICAgcGFja2FnZU5hbWU6ICdwaW5pYScsXG4gICAgICAgIGhvbWVwYWdlOiAnaHR0cHM6Ly9waW5pYS52dWVqcy5vcmcnLFxuICAgICAgICBjb21wb25lbnRTdGF0ZVR5cGVzLFxuICAgICAgICBhcHAsXG4gICAgfSwgKGFwaSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGFwaS5ub3cgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRvYXN0TWVzc2FnZSgnWW91IHNlZW0gdG8gYmUgdXNpbmcgYW4gb3V0ZGF0ZWQgdmVyc2lvbiBvZiBWdWUgRGV2dG9vbHMuIEFyZSB5b3Ugc3RpbGwgdXNpbmcgdGhlIEJldGEgcmVsZWFzZSBpbnN0ZWFkIG9mIHRoZSBzdGFibGUgb25lPyBZb3UgY2FuIGZpbmQgdGhlIGxpbmtzIGF0IGh0dHBzOi8vZGV2dG9vbHMudnVlanMub3JnL2d1aWRlL2luc3RhbGxhdGlvbi5odG1sLicpO1xuICAgICAgICB9XG4gICAgICAgIGFwaS5hZGRUaW1lbGluZUxheWVyKHtcbiAgICAgICAgICAgIGlkOiBNVVRBVElPTlNfTEFZRVJfSUQsXG4gICAgICAgICAgICBsYWJlbDogYFBpbmlhIPCfjY1gLFxuICAgICAgICAgICAgY29sb3I6IDB4ZTVkZjg4LFxuICAgICAgICB9KTtcbiAgICAgICAgYXBpLmFkZEluc3BlY3Rvcih7XG4gICAgICAgICAgICBpZDogSU5TUEVDVE9SX0lELFxuICAgICAgICAgICAgbGFiZWw6ICdQaW5pYSDwn42NJyxcbiAgICAgICAgICAgIGljb246ICdzdG9yYWdlJyxcbiAgICAgICAgICAgIHRyZWVGaWx0ZXJQbGFjZWhvbGRlcjogJ1NlYXJjaCBzdG9yZXMnLFxuICAgICAgICAgICAgYWN0aW9uczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2NvbnRlbnRfY29weScsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uR2xvYmFsQ29weVN0YXRlKHBpbmlhKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ1NlcmlhbGl6ZSBhbmQgY29weSB0aGUgc3RhdGUnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpY29uOiAnY29udGVudF9wYXN0ZScsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgYWN0aW9uR2xvYmFsUGFzdGVTdGF0ZShwaW5pYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcGkuc2VuZEluc3BlY3RvclRyZWUoSU5TUEVDVE9SX0lEKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yU3RhdGUoSU5TUEVDVE9SX0lEKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ1JlcGxhY2UgdGhlIHN0YXRlIHdpdGggdGhlIGNvbnRlbnQgb2YgeW91ciBjbGlwYm9hcmQnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpY29uOiAnc2F2ZScsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uR2xvYmFsU2F2ZVN0YXRlKHBpbmlhKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ1NhdmUgdGhlIHN0YXRlIGFzIGEgSlNPTiBmaWxlJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2ZvbGRlcl9vcGVuJyxcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBhY3Rpb25HbG9iYWxPcGVuU3RhdGVGaWxlKHBpbmlhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yVHJlZShJTlNQRUNUT1JfSUQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JTdGF0ZShJTlNQRUNUT1JfSUQpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiAnSW1wb3J0IHRoZSBzdGF0ZSBmcm9tIGEgSlNPTiBmaWxlJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIG5vZGVBY3Rpb25zOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpY29uOiAncmVzdG9yZScsXG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXA6ICdSZXNldCB0aGUgc3RhdGUgKHdpdGggXCIkcmVzZXRcIiknLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IChub2RlSWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlID0gcGluaWEuX3MuZ2V0KG5vZGVJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0b3JlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RNZXNzYWdlKGBDYW5ub3QgcmVzZXQgXCIke25vZGVJZH1cIiBzdG9yZSBiZWNhdXNlIGl0IHdhc24ndCBmb3VuZC5gLCAnd2FybicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHN0b3JlLiRyZXNldCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0TWVzc2FnZShgQ2Fubm90IHJlc2V0IFwiJHtub2RlSWR9XCIgc3RvcmUgYmVjYXVzZSBpdCBkb2Vzbid0IGhhdmUgYSBcIiRyZXNldFwiIG1ldGhvZCBpbXBsZW1lbnRlZC5gLCAnd2FybicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmUuJHJlc2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RNZXNzYWdlKGBTdG9yZSBcIiR7bm9kZUlkfVwiIHJlc2V0LmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICB9KTtcbiAgICAgICAgYXBpLm9uLmluc3BlY3RDb21wb25lbnQoKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcHJveHkgPSAocGF5bG9hZC5jb21wb25lbnRJbnN0YW5jZSAmJlxuICAgICAgICAgICAgICAgIHBheWxvYWQuY29tcG9uZW50SW5zdGFuY2UucHJveHkpO1xuICAgICAgICAgICAgaWYgKHByb3h5ICYmIHByb3h5Ll9wU3RvcmVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGluaWFTdG9yZXMgPSBwYXlsb2FkLmNvbXBvbmVudEluc3RhbmNlLnByb3h5Ll9wU3RvcmVzO1xuICAgICAgICAgICAgICAgIE9iamVjdC52YWx1ZXMocGluaWFTdG9yZXMpLmZvckVhY2goKHN0b3JlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaW5zdGFuY2VEYXRhLnN0YXRlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZ2V0U3RvcmVUeXBlKHN0b3JlLiRpZCksXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdzdGF0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzdG9yZS5faXNPcHRpb25zQVBJXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jdXN0b206IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0b1JhdyhzdG9yZS4kc3RhdGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3Jlc3RvcmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiAnUmVzZXQgdGhlIHN0YXRlIG9mIHRoaXMgc3RvcmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICgpID0+IHN0b3JlLiRyZXNldCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IC8vIE5PVEU6IHdvcmthcm91bmQgdG8gdW53cmFwIHRyYW5zZmVycmVkIHJlZnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoc3RvcmUuJHN0YXRlKS5yZWR1Y2UoKHN0YXRlLCBrZXkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlW2tleV0gPSBzdG9yZS4kc3RhdGVba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwge30pLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0b3JlLl9nZXR0ZXJzICYmIHN0b3JlLl9nZXR0ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5pbnN0YW5jZURhdGEuc3RhdGUucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZ2V0U3RvcmVUeXBlKHN0b3JlLiRpZCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnZ2V0dGVycycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzdG9yZS5fZ2V0dGVycy5yZWR1Y2UoKGdldHRlcnMsIGtleSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0dGVyc1trZXldID0gc3RvcmVba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHdlIGp1c3Qgd2FudCB0byBzaG93IGl0IGluIGRldnRvb2xzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXR0ZXJzW2tleV0gPSBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0dGVycztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7fSksXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYXBpLm9uLmdldEluc3BlY3RvclRyZWUoKHBheWxvYWQpID0+IHtcbiAgICAgICAgICAgIGlmIChwYXlsb2FkLmFwcCA9PT0gYXBwICYmIHBheWxvYWQuaW5zcGVjdG9ySWQgPT09IElOU1BFQ1RPUl9JRCkge1xuICAgICAgICAgICAgICAgIGxldCBzdG9yZXMgPSBbcGluaWFdO1xuICAgICAgICAgICAgICAgIHN0b3JlcyA9IHN0b3Jlcy5jb25jYXQoQXJyYXkuZnJvbShwaW5pYS5fcy52YWx1ZXMoKSkpO1xuICAgICAgICAgICAgICAgIHBheWxvYWQucm9vdE5vZGVzID0gKHBheWxvYWQuZmlsdGVyXG4gICAgICAgICAgICAgICAgICAgID8gc3RvcmVzLmZpbHRlcigoc3RvcmUpID0+ICckaWQnIGluIHN0b3JlXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHN0b3JlLiRpZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluY2x1ZGVzKHBheWxvYWQuZmlsdGVyLnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFBJTklBX1JPT1RfTEFCRUwudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhwYXlsb2FkLmZpbHRlci50b0xvd2VyQ2FzZSgpKSlcbiAgICAgICAgICAgICAgICAgICAgOiBzdG9yZXMpLm1hcChmb3JtYXRTdG9yZUZvckluc3BlY3RvclRyZWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gRXhwb3NlIHBpbmlhIGluc3RhbmNlIGFzICRwaW5pYSB0byB3aW5kb3dcbiAgICAgICAgZ2xvYmFsVGhpcy4kcGluaWEgPSBwaW5pYTtcbiAgICAgICAgYXBpLm9uLmdldEluc3BlY3RvclN0YXRlKChwYXlsb2FkKSA9PiB7XG4gICAgICAgICAgICBpZiAocGF5bG9hZC5hcHAgPT09IGFwcCAmJiBwYXlsb2FkLmluc3BlY3RvcklkID09PSBJTlNQRUNUT1JfSUQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbnNwZWN0ZWRTdG9yZSA9IHBheWxvYWQubm9kZUlkID09PSBQSU5JQV9ST09UX0lEXG4gICAgICAgICAgICAgICAgICAgID8gcGluaWFcbiAgICAgICAgICAgICAgICAgICAgOiBwaW5pYS5fcy5nZXQocGF5bG9hZC5ub2RlSWQpO1xuICAgICAgICAgICAgICAgIGlmICghaW5zcGVjdGVkU3RvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBjb3VsZCBiZSB0aGUgc2VsZWN0ZWQgc3RvcmUgcmVzdG9yZWQgZm9yIGEgZGlmZmVyZW50IHByb2plY3RcbiAgICAgICAgICAgICAgICAgICAgLy8gc28gaXQncyBiZXR0ZXIgbm90IHRvIHNheSBhbnl0aGluZyBoZXJlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGluc3BlY3RlZFN0b3JlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEV4cG9zZSBzZWxlY3RlZCBzdG9yZSBhcyAkc3RvcmUgdG8gd2luZG93XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLm5vZGVJZCAhPT0gUElOSUFfUk9PVF9JRClcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbFRoaXMuJHN0b3JlID0gdG9SYXcoaW5zcGVjdGVkU3RvcmUpO1xuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLnN0YXRlID0gZm9ybWF0U3RvcmVGb3JJbnNwZWN0b3JTdGF0ZShpbnNwZWN0ZWRTdG9yZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYXBpLm9uLmVkaXRJbnNwZWN0b3JTdGF0ZSgocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgICAgICBpZiAocGF5bG9hZC5hcHAgPT09IGFwcCAmJiBwYXlsb2FkLmluc3BlY3RvcklkID09PSBJTlNQRUNUT1JfSUQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbnNwZWN0ZWRTdG9yZSA9IHBheWxvYWQubm9kZUlkID09PSBQSU5JQV9ST09UX0lEXG4gICAgICAgICAgICAgICAgICAgID8gcGluaWFcbiAgICAgICAgICAgICAgICAgICAgOiBwaW5pYS5fcy5nZXQocGF5bG9hZC5ub2RlSWQpO1xuICAgICAgICAgICAgICAgIGlmICghaW5zcGVjdGVkU3RvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvYXN0TWVzc2FnZShgc3RvcmUgXCIke3BheWxvYWQubm9kZUlkfVwiIG5vdCBmb3VuZGAsICdlcnJvcicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB7IHBhdGggfSA9IHBheWxvYWQ7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1BpbmlhKGluc3BlY3RlZFN0b3JlKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBhY2Nlc3Mgb25seSB0aGUgc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGgubGVuZ3RoICE9PSAxIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAhaW5zcGVjdGVkU3RvcmUuX2N1c3RvbVByb3BlcnRpZXMuaGFzKHBhdGhbMF0pIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoWzBdIGluIGluc3BlY3RlZFN0b3JlLiRzdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aC51bnNoaWZ0KCckc3RhdGUnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUm9vdCBhY2Nlc3MsIHdlIGNhbiBvbWl0IHRoZSBgLnZhbHVlYCBiZWNhdXNlIHRoZSBkZXZ0b29scyBBUEkgZG9lcyBpdCBmb3IgdXNcbiAgICAgICAgICAgICAgICAgICAgcGF0aC51bnNoaWZ0KCdzdGF0ZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpc1RpbWVsaW5lQWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcGF5bG9hZC5zZXQoaW5zcGVjdGVkU3RvcmUsIHBhdGgsIHBheWxvYWQuc3RhdGUudmFsdWUpO1xuICAgICAgICAgICAgICAgIGlzVGltZWxpbmVBY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYXBpLm9uLmVkaXRDb21wb25lbnRTdGF0ZSgocGF5bG9hZCkgPT4ge1xuICAgICAgICAgICAgaWYgKHBheWxvYWQudHlwZS5zdGFydHNXaXRoKCfwn42NJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yZUlkID0gcGF5bG9hZC50eXBlLnJlcGxhY2UoL17wn42NXFxzKi8sICcnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yZSA9IHBpbmlhLl9zLmdldChzdG9yZUlkKTtcbiAgICAgICAgICAgICAgICBpZiAoIXN0b3JlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2FzdE1lc3NhZ2UoYHN0b3JlIFwiJHtzdG9yZUlkfVwiIG5vdCBmb3VuZGAsICdlcnJvcicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB7IHBhdGggfSA9IHBheWxvYWQ7XG4gICAgICAgICAgICAgICAgaWYgKHBhdGhbMF0gIT09ICdzdGF0ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvYXN0TWVzc2FnZShgSW52YWxpZCBwYXRoIGZvciBzdG9yZSBcIiR7c3RvcmVJZH1cIjpcXG4ke3BhdGh9XFxuT25seSBzdGF0ZSBjYW4gYmUgbW9kaWZpZWQuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHJld3JpdGUgdGhlIGZpcnN0IGVudHJ5IHRvIGJlIGFibGUgdG8gZGlyZWN0bHkgc2V0IHRoZSBzdGF0ZSBhc1xuICAgICAgICAgICAgICAgIC8vIHdlbGwgYXMgYW55IG90aGVyIHBhdGhcbiAgICAgICAgICAgICAgICBwYXRoWzBdID0gJyRzdGF0ZSc7XG4gICAgICAgICAgICAgICAgaXNUaW1lbGluZUFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHBheWxvYWQuc2V0KHN0b3JlLCBwYXRoLCBwYXlsb2FkLnN0YXRlLnZhbHVlKTtcbiAgICAgICAgICAgICAgICBpc1RpbWVsaW5lQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBhZGRTdG9yZVRvRGV2dG9vbHMoYXBwLCBzdG9yZSkge1xuICAgIGlmICghY29tcG9uZW50U3RhdGVUeXBlcy5pbmNsdWRlcyhnZXRTdG9yZVR5cGUoc3RvcmUuJGlkKSkpIHtcbiAgICAgICAgY29tcG9uZW50U3RhdGVUeXBlcy5wdXNoKGdldFN0b3JlVHlwZShzdG9yZS4kaWQpKTtcbiAgICB9XG4gICAgc2V0dXBEZXZ0b29sc1BsdWdpbih7XG4gICAgICAgIGlkOiAnZGV2LmVzbS5waW5pYScsXG4gICAgICAgIGxhYmVsOiAnUGluaWEg8J+NjScsXG4gICAgICAgIGxvZ286ICdodHRwczovL3BpbmlhLnZ1ZWpzLm9yZy9sb2dvLnN2ZycsXG4gICAgICAgIHBhY2thZ2VOYW1lOiAncGluaWEnLFxuICAgICAgICBob21lcGFnZTogJ2h0dHBzOi8vcGluaWEudnVlanMub3JnJyxcbiAgICAgICAgY29tcG9uZW50U3RhdGVUeXBlcyxcbiAgICAgICAgYXBwLFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgbG9nU3RvcmVDaGFuZ2VzOiB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdOb3RpZnkgYWJvdXQgbmV3L2RlbGV0ZWQgc3RvcmVzJyxcbiAgICAgICAgICAgICAgICB0eXBlOiAnYm9vbGVhbicsXG4gICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHVzZUVtb2ppczoge1xuICAgICAgICAgICAgLy8gICBsYWJlbDogJ1VzZSBlbW9qaXMgaW4gbWVzc2FnZXMg4pqh77iPJyxcbiAgICAgICAgICAgIC8vICAgdHlwZTogJ2Jvb2xlYW4nLFxuICAgICAgICAgICAgLy8gICBkZWZhdWx0VmFsdWU6IHRydWUsXG4gICAgICAgICAgICAvLyB9LFxuICAgICAgICB9LFxuICAgIH0sIChhcGkpID0+IHtcbiAgICAgICAgLy8gZ3JhY2VmdWxseSBoYW5kbGUgZXJyb3JzXG4gICAgICAgIGNvbnN0IG5vdyA9IHR5cGVvZiBhcGkubm93ID09PSAnZnVuY3Rpb24nID8gYXBpLm5vdy5iaW5kKGFwaSkgOiBEYXRlLm5vdztcbiAgICAgICAgc3RvcmUuJG9uQWN0aW9uKCh7IGFmdGVyLCBvbkVycm9yLCBuYW1lLCBhcmdzIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwSWQgPSBydW5uaW5nQWN0aW9uSWQrKztcbiAgICAgICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcbiAgICAgICAgICAgICAgICBsYXllcklkOiBNVVRBVElPTlNfTEFZRVJfSUQsXG4gICAgICAgICAgICAgICAgZXZlbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdGltZTogbm93KCksXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn8J+bqyAnICsgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU6ICdzdGFydCcsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlOiBmb3JtYXREaXNwbGF5KHN0b3JlLiRpZCksXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IGZvcm1hdERpc3BsYXkobmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBncm91cElkLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGFmdGVyKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICBhY3RpdmVBY3Rpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgYXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICBsYXllcklkOiBNVVRBVElPTlNfTEFZRVJfSUQsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiBub3coKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn8J+brCAnICsgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiAnZW5kJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZTogZm9ybWF0RGlzcGxheShzdG9yZS4kaWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogZm9ybWF0RGlzcGxheShuYW1lKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cElkLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBvbkVycm9yKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIGFjdGl2ZUFjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBhcGkuYWRkVGltZWxpbmVFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgIGxheWVySWQ6IE1VVEFUSU9OU19MQVlFUl9JRCxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWU6IG5vdygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbG9nVHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn8J+SpSAnICsgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiAnZW5kJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZTogZm9ybWF0RGlzcGxheShzdG9yZS4kaWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogZm9ybWF0RGlzcGxheShuYW1lKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwSWQsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgIHN0b3JlLl9jdXN0b21Qcm9wZXJ0aWVzLmZvckVhY2goKG5hbWUpID0+IHtcbiAgICAgICAgICAgIHdhdGNoKCgpID0+IHVucmVmKHN0b3JlW25hbWVdKSwgKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGFwaS5ub3RpZnlDb21wb25lbnRVcGRhdGUoKTtcbiAgICAgICAgICAgICAgICBhcGkuc2VuZEluc3BlY3RvclN0YXRlKElOU1BFQ1RPUl9JRCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzVGltZWxpbmVBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgYXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJJZDogTVVUQVRJT05TX0xBWUVSX0lELFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiBub3coKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0NoYW5nZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cElkOiBhY3RpdmVBY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7IGRlZXA6IHRydWUgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBzdG9yZS4kc3Vic2NyaWJlKCh7IGV2ZW50cywgdHlwZSB9LCBzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgYXBpLm5vdGlmeUNvbXBvbmVudFVwZGF0ZSgpO1xuICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JTdGF0ZShJTlNQRUNUT1JfSUQpO1xuICAgICAgICAgICAgaWYgKCFpc1RpbWVsaW5lQWN0aXZlKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIC8vIHJvb3RTdG9yZS5zdGF0ZVtzdG9yZS5pZF0gPSBzdGF0ZVxuICAgICAgICAgICAgY29uc3QgZXZlbnREYXRhID0ge1xuICAgICAgICAgICAgICAgIHRpbWU6IG5vdygpLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBmb3JtYXRNdXRhdGlvblR5cGUodHlwZSksXG4gICAgICAgICAgICAgICAgZGF0YTogYXNzaWduJDEoeyBzdG9yZTogZm9ybWF0RGlzcGxheShzdG9yZS4kaWQpIH0sIGZvcm1hdEV2ZW50RGF0YShldmVudHMpKSxcbiAgICAgICAgICAgICAgICBncm91cElkOiBhY3RpdmVBY3Rpb24sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09IE11dGF0aW9uVHlwZS5wYXRjaEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgZXZlbnREYXRhLnN1YnRpdGxlID0gJ+Kkte+4jyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlID09PSBNdXRhdGlvblR5cGUucGF0Y2hPYmplY3QpIHtcbiAgICAgICAgICAgICAgICBldmVudERhdGEuc3VidGl0bGUgPSAn8J+nqSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudHMgJiYgIUFycmF5LmlzQXJyYXkoZXZlbnRzKSkge1xuICAgICAgICAgICAgICAgIGV2ZW50RGF0YS5zdWJ0aXRsZSA9IGV2ZW50cy50eXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGV2ZW50cykge1xuICAgICAgICAgICAgICAgIGV2ZW50RGF0YS5kYXRhWydyYXdFdmVudChzKSddID0ge1xuICAgICAgICAgICAgICAgICAgICBfY3VzdG9tOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnRGVidWdnZXJFdmVudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXA6ICdyYXcgRGVidWdnZXJFdmVudFtdJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBldmVudHMsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcbiAgICAgICAgICAgICAgICBsYXllcklkOiBNVVRBVElPTlNfTEFZRVJfSUQsXG4gICAgICAgICAgICAgICAgZXZlbnQ6IGV2ZW50RGF0YSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCB7IGRldGFjaGVkOiB0cnVlLCBmbHVzaDogJ3N5bmMnIH0pO1xuICAgICAgICBjb25zdCBob3RVcGRhdGUgPSBzdG9yZS5faG90VXBkYXRlO1xuICAgICAgICBzdG9yZS5faG90VXBkYXRlID0gbWFya1JhdygobmV3U3RvcmUpID0+IHtcbiAgICAgICAgICAgIGhvdFVwZGF0ZShuZXdTdG9yZSk7XG4gICAgICAgICAgICBhcGkuYWRkVGltZWxpbmVFdmVudCh7XG4gICAgICAgICAgICAgICAgbGF5ZXJJZDogTVVUQVRJT05TX0xBWUVSX0lELFxuICAgICAgICAgICAgICAgIGV2ZW50OiB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWU6IG5vdygpLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ/CflKUgJyArIHN0b3JlLiRpZCxcbiAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU6ICdITVIgdXBkYXRlJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmU6IGZvcm1hdERpc3BsYXkoc3RvcmUuJGlkKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZm86IGZvcm1hdERpc3BsYXkoYEhNUiB1cGRhdGVgKSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGRldnRvb2xzIHRvb1xuICAgICAgICAgICAgYXBpLm5vdGlmeUNvbXBvbmVudFVwZGF0ZSgpO1xuICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JUcmVlKElOU1BFQ1RPUl9JRCk7XG4gICAgICAgICAgICBhcGkuc2VuZEluc3BlY3RvclN0YXRlKElOU1BFQ1RPUl9JRCk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB7ICRkaXNwb3NlIH0gPSBzdG9yZTtcbiAgICAgICAgc3RvcmUuJGRpc3Bvc2UgPSAoKSA9PiB7XG4gICAgICAgICAgICAkZGlzcG9zZSgpO1xuICAgICAgICAgICAgYXBpLm5vdGlmeUNvbXBvbmVudFVwZGF0ZSgpO1xuICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JUcmVlKElOU1BFQ1RPUl9JRCk7XG4gICAgICAgICAgICBhcGkuc2VuZEluc3BlY3RvclN0YXRlKElOU1BFQ1RPUl9JRCk7XG4gICAgICAgICAgICBhcGkuZ2V0U2V0dGluZ3MoKS5sb2dTdG9yZUNoYW5nZXMgJiZcbiAgICAgICAgICAgICAgICB0b2FzdE1lc3NhZ2UoYERpc3Bvc2VkIFwiJHtzdG9yZS4kaWR9XCIgc3RvcmUg8J+XkWApO1xuICAgICAgICB9O1xuICAgICAgICAvLyB0cmlnZ2VyIGFuIHVwZGF0ZSBzbyBpdCBjYW4gZGlzcGxheSBuZXcgcmVnaXN0ZXJlZCBzdG9yZXNcbiAgICAgICAgYXBpLm5vdGlmeUNvbXBvbmVudFVwZGF0ZSgpO1xuICAgICAgICBhcGkuc2VuZEluc3BlY3RvclRyZWUoSU5TUEVDVE9SX0lEKTtcbiAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JTdGF0ZShJTlNQRUNUT1JfSUQpO1xuICAgICAgICBhcGkuZ2V0U2V0dGluZ3MoKS5sb2dTdG9yZUNoYW5nZXMgJiZcbiAgICAgICAgICAgIHRvYXN0TWVzc2FnZShgXCIke3N0b3JlLiRpZH1cIiBzdG9yZSBpbnN0YWxsZWQg8J+GlWApO1xuICAgIH0pO1xufVxubGV0IHJ1bm5pbmdBY3Rpb25JZCA9IDA7XG5sZXQgYWN0aXZlQWN0aW9uO1xuLyoqXG4gKiBQYXRjaGVzIGEgc3RvcmUgdG8gZW5hYmxlIGFjdGlvbiBncm91cGluZyBpbiBkZXZ0b29scyBieSB3cmFwcGluZyB0aGUgc3RvcmUgd2l0aCBhIFByb3h5IHRoYXQgaXMgcGFzc2VkIGFzIHRoZVxuICogY29udGV4dCBvZiBhbGwgYWN0aW9ucywgYWxsb3dpbmcgdXMgdG8gc2V0IGBydW5uaW5nQWN0aW9uYCBvbiBlYWNoIGFjY2VzcyBhbmQgZWZmZWN0aXZlbHkgYXNzb2NpYXRpbmcgYW55IHN0YXRlXG4gKiBtdXRhdGlvbiB0byB0aGUgYWN0aW9uLlxuICpcbiAqIEBwYXJhbSBzdG9yZSAtIHN0b3JlIHRvIHBhdGNoXG4gKiBAcGFyYW0gYWN0aW9uTmFtZXMgLSBsaXN0IG9mIGFjdGlvbnN0IHRvIHBhdGNoXG4gKi9cbmZ1bmN0aW9uIHBhdGNoQWN0aW9uRm9yR3JvdXBpbmcoc3RvcmUsIGFjdGlvbk5hbWVzLCB3cmFwV2l0aFByb3h5KSB7XG4gICAgLy8gb3JpZ2luYWwgYWN0aW9ucyBvZiB0aGUgc3RvcmUgYXMgdGhleSBhcmUgZ2l2ZW4gYnkgcGluaWEuIFdlIGFyZSBnb2luZyB0byBvdmVycmlkZSB0aGVtXG4gICAgY29uc3QgYWN0aW9ucyA9IGFjdGlvbk5hbWVzLnJlZHVjZSgoc3RvcmVBY3Rpb25zLCBhY3Rpb25OYW1lKSA9PiB7XG4gICAgICAgIC8vIHVzZSB0b1JhdyB0byBhdm9pZCB0cmFja2luZyAjNTQxXG4gICAgICAgIHN0b3JlQWN0aW9uc1thY3Rpb25OYW1lXSA9IHRvUmF3KHN0b3JlKVthY3Rpb25OYW1lXTtcbiAgICAgICAgcmV0dXJuIHN0b3JlQWN0aW9ucztcbiAgICB9LCB7fSk7XG4gICAgZm9yIChjb25zdCBhY3Rpb25OYW1lIGluIGFjdGlvbnMpIHtcbiAgICAgICAgc3RvcmVbYWN0aW9uTmFtZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyB0aGUgcnVubmluZyBhY3Rpb24gaWQgaXMgaW5jcmVtZW50ZWQgaW4gYSBiZWZvcmUgYWN0aW9uIGhvb2tcbiAgICAgICAgICAgIGNvbnN0IF9hY3Rpb25JZCA9IHJ1bm5pbmdBY3Rpb25JZDtcbiAgICAgICAgICAgIGNvbnN0IHRyYWNrZWRTdG9yZSA9IHdyYXBXaXRoUHJveHlcbiAgICAgICAgICAgICAgICA/IG5ldyBQcm94eShzdG9yZSwge1xuICAgICAgICAgICAgICAgICAgICBnZXQoLi4uYXJncykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlQWN0aW9uID0gX2FjdGlvbklkO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0KC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzZXQoLi4uYXJncykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlQWN0aW9uID0gX2FjdGlvbklkO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3Quc2V0KC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgOiBzdG9yZTtcbiAgICAgICAgICAgIC8vIEZvciBTZXR1cCBTdG9yZXMgd2UgbmVlZCBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1hc3luYy1jb250ZXh0XG4gICAgICAgICAgICBhY3RpdmVBY3Rpb24gPSBfYWN0aW9uSWQ7XG4gICAgICAgICAgICBjb25zdCByZXRWYWx1ZSA9IGFjdGlvbnNbYWN0aW9uTmFtZV0uYXBwbHkodHJhY2tlZFN0b3JlLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgLy8gdGhpcyBpcyBzYWZlciBhcyBhc3luYyBhY3Rpb25zIGluIFNldHVwIFN0b3JlcyB3b3VsZCBhc3NvY2lhdGUgbXV0YXRpb25zIGRvbmUgb3V0c2lkZSBvZiB0aGUgYWN0aW9uXG4gICAgICAgICAgICBhY3RpdmVBY3Rpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm4gcmV0VmFsdWU7XG4gICAgICAgIH07XG4gICAgfVxufVxuLyoqXG4gKiBwaW5pYS51c2UoZGV2dG9vbHNQbHVnaW4pXG4gKi9cbmZ1bmN0aW9uIGRldnRvb2xzUGx1Z2luKHsgYXBwLCBzdG9yZSwgb3B0aW9ucyB9KSB7XG4gICAgLy8gSE1SIG1vZHVsZVxuICAgIGlmIChzdG9yZS4kaWQuc3RhcnRzV2l0aCgnX19ob3Q6JykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBkZXRlY3Qgb3B0aW9uIGFwaSB2cyBzZXR1cCBhcGlcbiAgICBzdG9yZS5faXNPcHRpb25zQVBJID0gISFvcHRpb25zLnN0YXRlO1xuICAgIC8vIERvIG5vdCBvdmVyd3JpdGUgYWN0aW9ucyBtb2NrZWQgYnkgQHBpbmlhL3Rlc3RpbmcgKCMyMjk4KVxuICAgIGlmICghc3RvcmUuX3AuX3Rlc3RpbmcpIHtcbiAgICAgICAgcGF0Y2hBY3Rpb25Gb3JHcm91cGluZyhzdG9yZSwgT2JqZWN0LmtleXMob3B0aW9ucy5hY3Rpb25zKSwgc3RvcmUuX2lzT3B0aW9uc0FQSSk7XG4gICAgICAgIC8vIFVwZ3JhZGUgdGhlIEhNUiB0byBhbHNvIHVwZGF0ZSB0aGUgbmV3IGFjdGlvbnNcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxIb3RVcGRhdGUgPSBzdG9yZS5faG90VXBkYXRlO1xuICAgICAgICB0b1JhdyhzdG9yZSkuX2hvdFVwZGF0ZSA9IGZ1bmN0aW9uIChuZXdTdG9yZSkge1xuICAgICAgICAgICAgb3JpZ2luYWxIb3RVcGRhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIHBhdGNoQWN0aW9uRm9yR3JvdXBpbmcoc3RvcmUsIE9iamVjdC5rZXlzKG5ld1N0b3JlLl9obXJQYXlsb2FkLmFjdGlvbnMpLCAhIXN0b3JlLl9pc09wdGlvbnNBUEkpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBhZGRTdG9yZVRvRGV2dG9vbHMoYXBwLCBcbiAgICAvLyBGSVhNRTogaXMgdGhlcmUgYSB3YXkgdG8gYWxsb3cgdGhlIGFzc2lnbm1lbnQgZnJvbSBTdG9yZTxJZCwgUywgRywgQT4gdG8gU3RvcmVHZW5lcmljP1xuICAgIHN0b3JlKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgUGluaWEgaW5zdGFuY2UgdG8gYmUgdXNlZCBieSB0aGUgYXBwbGljYXRpb25cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUGluaWEoKSB7XG4gICAgY29uc3Qgc2NvcGUgPSBlZmZlY3RTY29wZSh0cnVlKTtcbiAgICAvLyBOT1RFOiBoZXJlIHdlIGNvdWxkIGNoZWNrIHRoZSB3aW5kb3cgb2JqZWN0IGZvciBhIHN0YXRlIGFuZCBkaXJlY3RseSBzZXQgaXRcbiAgICAvLyBpZiB0aGVyZSBpcyBhbnl0aGluZyBsaWtlIGl0IHdpdGggVnVlIDMgU1NSXG4gICAgY29uc3Qgc3RhdGUgPSBzY29wZS5ydW4oKCkgPT4gcmVmKHt9KSk7XG4gICAgbGV0IF9wID0gW107XG4gICAgLy8gcGx1Z2lucyBhZGRlZCBiZWZvcmUgY2FsbGluZyBhcHAudXNlKHBpbmlhKVxuICAgIGxldCB0b0JlSW5zdGFsbGVkID0gW107XG4gICAgY29uc3QgcGluaWEgPSBtYXJrUmF3KHtcbiAgICAgICAgaW5zdGFsbChhcHApIHtcbiAgICAgICAgICAgIC8vIHRoaXMgYWxsb3dzIGNhbGxpbmcgdXNlU3RvcmUoKSBvdXRzaWRlIG9mIGEgY29tcG9uZW50IHNldHVwIGFmdGVyXG4gICAgICAgICAgICAvLyBpbnN0YWxsaW5nIHBpbmlhJ3MgcGx1Z2luXG4gICAgICAgICAgICBzZXRBY3RpdmVQaW5pYShwaW5pYSk7XG4gICAgICAgICAgICBpZiAoIWlzVnVlMikge1xuICAgICAgICAgICAgICAgIHBpbmlhLl9hID0gYXBwO1xuICAgICAgICAgICAgICAgIGFwcC5wcm92aWRlKHBpbmlhU3ltYm9sLCBwaW5pYSk7XG4gICAgICAgICAgICAgICAgYXBwLmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLiRwaW5pYSA9IHBpbmlhO1xuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICAgICAgaWYgKCgoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8ICh0eXBlb2YgX19WVUVfUFJPRF9ERVZUT09MU19fICE9PSAndW5kZWZpbmVkJyAmJiBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pKSAmJiAhKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpKSAmJiBJU19DTElFTlQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJQaW5pYURldnRvb2xzKGFwcCwgcGluaWEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0b0JlSW5zdGFsbGVkLmZvckVhY2goKHBsdWdpbikgPT4gX3AucHVzaChwbHVnaW4pKTtcbiAgICAgICAgICAgICAgICB0b0JlSW5zdGFsbGVkID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHVzZShwbHVnaW4pIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fYSAmJiAhaXNWdWUyKSB7XG4gICAgICAgICAgICAgICAgdG9CZUluc3RhbGxlZC5wdXNoKHBsdWdpbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBfcC5wdXNoKHBsdWdpbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgX3AsXG4gICAgICAgIC8vIGl0J3MgYWN0dWFsbHkgdW5kZWZpbmVkIGhlcmVcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICBfYTogbnVsbCxcbiAgICAgICAgX2U6IHNjb3BlLFxuICAgICAgICBfczogbmV3IE1hcCgpLFxuICAgICAgICBzdGF0ZSxcbiAgICB9KTtcbiAgICAvLyBwaW5pYSBkZXZ0b29scyByZWx5IG9uIGRldiBvbmx5IGZlYXR1cmVzIHNvIHRoZXkgY2Fubm90IGJlIGZvcmNlZCB1bmxlc3NcbiAgICAvLyB0aGUgZGV2IGJ1aWxkIG9mIFZ1ZSBpcyB1c2VkLiBBdm9pZCBvbGQgYnJvd3NlcnMgbGlrZSBJRTExLlxuICAgIGlmICgoKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCAodHlwZW9mIF9fVlVFX1BST0RfREVWVE9PTFNfXyAhPT0gJ3VuZGVmaW5lZCcgJiYgX19WVUVfUFJPRF9ERVZUT09MU19fKSkgJiYgIShwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Rlc3QnKSkgJiYgSVNfQ0xJRU5UICYmIHR5cGVvZiBQcm94eSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcGluaWEudXNlKGRldnRvb2xzUGx1Z2luKTtcbiAgICB9XG4gICAgcmV0dXJuIHBpbmlhO1xufVxuLyoqXG4gKiBEaXNwb3NlIGEgUGluaWEgaW5zdGFuY2UgYnkgc3RvcHBpbmcgaXRzIGVmZmVjdFNjb3BlIGFuZCByZW1vdmluZyB0aGUgc3RhdGUsIHBsdWdpbnMgYW5kIHN0b3Jlcy4gVGhpcyBpcyBtb3N0bHlcbiAqIHVzZWZ1bCBpbiB0ZXN0cywgd2l0aCBib3RoIGEgdGVzdGluZyBwaW5pYSBvciBhIHJlZ3VsYXIgcGluaWEgYW5kIGluIGFwcGxpY2F0aW9ucyB0aGF0IHVzZSBtdWx0aXBsZSBwaW5pYSBpbnN0YW5jZXMuXG4gKiBPbmNlIGRpc3Bvc2VkLCB0aGUgcGluaWEgaW5zdGFuY2UgY2Fubm90IGJlIHVzZWQgYW55bW9yZS5cbiAqXG4gKiBAcGFyYW0gcGluaWEgLSBwaW5pYSBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiBkaXNwb3NlUGluaWEocGluaWEpIHtcbiAgICBwaW5pYS5fZS5zdG9wKCk7XG4gICAgcGluaWEuX3MuY2xlYXIoKTtcbiAgICBwaW5pYS5fcC5zcGxpY2UoMCk7XG4gICAgcGluaWEuc3RhdGUudmFsdWUgPSB7fTtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBub24gdmFsaWRcbiAgICBwaW5pYS5fYSA9IG51bGw7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgZnVuY3Rpb24gaXMgYSBgU3RvcmVEZWZpbml0aW9uYC5cbiAqXG4gKiBAcGFyYW0gZm4gLSBvYmplY3QgdG8gdGVzdFxuICogQHJldHVybnMgdHJ1ZSBpZiBgZm5gIGlzIGEgU3RvcmVEZWZpbml0aW9uXG4gKi9cbmNvbnN0IGlzVXNlU3RvcmUgPSAoZm4pID0+IHtcbiAgICByZXR1cm4gdHlwZW9mIGZuID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBmbi4kaWQgPT09ICdzdHJpbmcnO1xufTtcbi8qKlxuICogTXV0YXRlcyBpbiBwbGFjZSBgbmV3U3RhdGVgIHdpdGggYG9sZFN0YXRlYCB0byBfaG90IHVwZGF0ZV8gaXQuIEl0IHdpbGxcbiAqIHJlbW92ZSBhbnkga2V5IG5vdCBleGlzdGluZyBpbiBgbmV3U3RhdGVgIGFuZCByZWN1cnNpdmVseSBtZXJnZSBwbGFpblxuICogb2JqZWN0cy5cbiAqXG4gKiBAcGFyYW0gbmV3U3RhdGUgLSBuZXcgc3RhdGUgb2JqZWN0IHRvIGJlIHBhdGNoZWRcbiAqIEBwYXJhbSBvbGRTdGF0ZSAtIG9sZCBzdGF0ZSB0aGF0IHNob3VsZCBiZSB1c2VkIHRvIHBhdGNoIG5ld1N0YXRlXG4gKiBAcmV0dXJucyAtIG5ld1N0YXRlXG4gKi9cbmZ1bmN0aW9uIHBhdGNoT2JqZWN0KG5ld1N0YXRlLCBvbGRTdGF0ZSkge1xuICAgIC8vIG5vIG5lZWQgdG8gZ28gdGhyb3VnaCBzeW1ib2xzIGJlY2F1c2UgdGhleSBjYW5ub3QgYmUgc2VyaWFsaXplZCBhbnl3YXlcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvbGRTdGF0ZSkge1xuICAgICAgICBjb25zdCBzdWJQYXRjaCA9IG9sZFN0YXRlW2tleV07XG4gICAgICAgIC8vIHNraXAgdGhlIHdob2xlIHN1YiB0cmVlXG4gICAgICAgIGlmICghKGtleSBpbiBuZXdTdGF0ZSkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRhcmdldFZhbHVlID0gbmV3U3RhdGVba2V5XTtcbiAgICAgICAgaWYgKGlzUGxhaW5PYmplY3QodGFyZ2V0VmFsdWUpICYmXG4gICAgICAgICAgICBpc1BsYWluT2JqZWN0KHN1YlBhdGNoKSAmJlxuICAgICAgICAgICAgIWlzUmVmKHN1YlBhdGNoKSAmJlxuICAgICAgICAgICAgIWlzUmVhY3RpdmUoc3ViUGF0Y2gpKSB7XG4gICAgICAgICAgICBuZXdTdGF0ZVtrZXldID0gcGF0Y2hPYmplY3QodGFyZ2V0VmFsdWUsIHN1YlBhdGNoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIG9iamVjdHMgYXJlIGVpdGhlciBhIGJpdCBtb3JlIGNvbXBsZXggKGUuZy4gcmVmcykgb3IgcHJpbWl0aXZlcywgc28gd2VcbiAgICAgICAgICAgIC8vIGp1c3Qgc2V0IHRoZSB3aG9sZSB0aGluZ1xuICAgICAgICAgICAgaWYgKGlzVnVlMikge1xuICAgICAgICAgICAgICAgIHNldChuZXdTdGF0ZSwga2V5LCBzdWJQYXRjaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdTdGF0ZVtrZXldID0gc3ViUGF0Y2g7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ld1N0YXRlO1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIF9hY2NlcHRfIGZ1bmN0aW9uIHRvIHBhc3MgdG8gYGltcG9ydC5tZXRhLmhvdGAgaW4gVml0ZSBhcHBsaWNhdGlvbnMuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiBjb25zdCB1c2VVc2VyID0gZGVmaW5lU3RvcmUoLi4uKVxuICogaWYgKGltcG9ydC5tZXRhLmhvdCkge1xuICogICBpbXBvcnQubWV0YS5ob3QuYWNjZXB0KGFjY2VwdEhNUlVwZGF0ZSh1c2VVc2VyLCBpbXBvcnQubWV0YS5ob3QpKVxuICogfVxuICogYGBgXG4gKlxuICogQHBhcmFtIGluaXRpYWxVc2VTdG9yZSAtIHJldHVybiBvZiB0aGUgZGVmaW5lU3RvcmUgdG8gaG90IHVwZGF0ZVxuICogQHBhcmFtIGhvdCAtIGBpbXBvcnQubWV0YS5ob3RgXG4gKi9cbmZ1bmN0aW9uIGFjY2VwdEhNUlVwZGF0ZShpbml0aWFsVXNlU3RvcmUsIGhvdCkge1xuICAgIC8vIHN0cmlwIGFzIG11Y2ggYXMgcG9zc2libGUgZnJvbSBpaWZlLnByb2RcbiAgICBpZiAoIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICByZXR1cm4gKCkgPT4geyB9O1xuICAgIH1cbiAgICByZXR1cm4gKG5ld01vZHVsZSkgPT4ge1xuICAgICAgICBjb25zdCBwaW5pYSA9IGhvdC5kYXRhLnBpbmlhIHx8IGluaXRpYWxVc2VTdG9yZS5fcGluaWE7XG4gICAgICAgIGlmICghcGluaWEpIHtcbiAgICAgICAgICAgIC8vIHRoaXMgc3RvcmUgaXMgc3RpbGwgbm90IHVzZWRcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBwcmVzZXJ2ZSB0aGUgcGluaWEgaW5zdGFuY2UgYWNyb3NzIGxvYWRzXG4gICAgICAgIGhvdC5kYXRhLnBpbmlhID0gcGluaWE7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdnb3QgZGF0YScsIG5ld1N0b3JlKVxuICAgICAgICBmb3IgKGNvbnN0IGV4cG9ydE5hbWUgaW4gbmV3TW9kdWxlKSB7XG4gICAgICAgICAgICBjb25zdCB1c2VTdG9yZSA9IG5ld01vZHVsZVtleHBvcnROYW1lXTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdjaGVja2luZyBmb3InLCBleHBvcnROYW1lKVxuICAgICAgICAgICAgaWYgKGlzVXNlU3RvcmUodXNlU3RvcmUpICYmIHBpbmlhLl9zLmhhcyh1c2VTdG9yZS4kaWQpKSB7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ0FjY2VwdGluZyB1cGRhdGUgZm9yJywgdXNlU3RvcmUuJGlkKVxuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gdXNlU3RvcmUuJGlkO1xuICAgICAgICAgICAgICAgIGlmIChpZCAhPT0gaW5pdGlhbFVzZVN0b3JlLiRpZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFRoZSBpZCBvZiB0aGUgc3RvcmUgY2hhbmdlZCBmcm9tIFwiJHtpbml0aWFsVXNlU3RvcmUuJGlkfVwiIHRvIFwiJHtpZH1cIi4gUmVsb2FkaW5nLmApO1xuICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm4gaW1wb3J0Lm1ldGEuaG90LmludmFsaWRhdGUoKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaG90LmludmFsaWRhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdTdG9yZSA9IHBpbmlhLl9zLmdldChpZCk7XG4gICAgICAgICAgICAgICAgaWYgKCFleGlzdGluZ1N0b3JlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbUGluaWFdOiBza2lwcGluZyBobXIgYmVjYXVzZSBzdG9yZSBkb2Vzbid0IGV4aXN0IHlldGApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHVzZVN0b3JlKHBpbmlhLCBleGlzdGluZ1N0b3JlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG5cbmNvbnN0IG5vb3AgPSAoKSA9PiB7IH07XG5mdW5jdGlvbiBhZGRTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9ucywgY2FsbGJhY2ssIGRldGFjaGVkLCBvbkNsZWFudXAgPSBub29wKSB7XG4gICAgc3Vic2NyaXB0aW9ucy5wdXNoKGNhbGxiYWNrKTtcbiAgICBjb25zdCByZW1vdmVTdWJzY3JpcHRpb24gPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGlkeCA9IHN1YnNjcmlwdGlvbnMuaW5kZXhPZihjYWxsYmFjayk7XG4gICAgICAgIGlmIChpZHggPiAtMSkge1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9ucy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgIG9uQ2xlYW51cCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBpZiAoIWRldGFjaGVkICYmIGdldEN1cnJlbnRTY29wZSgpKSB7XG4gICAgICAgIG9uU2NvcGVEaXNwb3NlKHJlbW92ZVN1YnNjcmlwdGlvbik7XG4gICAgfVxuICAgIHJldHVybiByZW1vdmVTdWJzY3JpcHRpb247XG59XG5mdW5jdGlvbiB0cmlnZ2VyU3Vic2NyaXB0aW9ucyhzdWJzY3JpcHRpb25zLCAuLi5hcmdzKSB7XG4gICAgc3Vic2NyaXB0aW9ucy5zbGljZSgpLmZvckVhY2goKGNhbGxiYWNrKSA9PiB7XG4gICAgICAgIGNhbGxiYWNrKC4uLmFyZ3MpO1xuICAgIH0pO1xufVxuXG5jb25zdCBmYWxsYmFja1J1bldpdGhDb250ZXh0ID0gKGZuKSA9PiBmbigpO1xuLyoqXG4gKiBNYXJrcyBhIGZ1bmN0aW9uIGFzIGFuIGFjdGlvbiBmb3IgYCRvbkFjdGlvbmBcbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCBBQ1RJT05fTUFSS0VSID0gU3ltYm9sKCk7XG4vKipcbiAqIEFjdGlvbiBuYW1lIHN5bWJvbC4gQWxsb3dzIHRvIGFkZCBhIG5hbWUgdG8gYW4gYWN0aW9uIGFmdGVyIGRlZmluaW5nIGl0XG4gKiBAaW50ZXJuYWxcbiAqL1xuY29uc3QgQUNUSU9OX05BTUUgPSBTeW1ib2woKTtcbmZ1bmN0aW9uIG1lcmdlUmVhY3RpdmVPYmplY3RzKHRhcmdldCwgcGF0Y2hUb0FwcGx5KSB7XG4gICAgLy8gSGFuZGxlIE1hcCBpbnN0YW5jZXNcbiAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgTWFwICYmIHBhdGNoVG9BcHBseSBpbnN0YW5jZW9mIE1hcCkge1xuICAgICAgICBwYXRjaFRvQXBwbHkuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4gdGFyZ2V0LnNldChrZXksIHZhbHVlKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRhcmdldCBpbnN0YW5jZW9mIFNldCAmJiBwYXRjaFRvQXBwbHkgaW5zdGFuY2VvZiBTZXQpIHtcbiAgICAgICAgLy8gSGFuZGxlIFNldCBpbnN0YW5jZXNcbiAgICAgICAgcGF0Y2hUb0FwcGx5LmZvckVhY2godGFyZ2V0LmFkZCwgdGFyZ2V0KTtcbiAgICB9XG4gICAgLy8gbm8gbmVlZCB0byBnbyB0aHJvdWdoIHN5bWJvbHMgYmVjYXVzZSB0aGV5IGNhbm5vdCBiZSBzZXJpYWxpemVkIGFueXdheVxuICAgIGZvciAoY29uc3Qga2V5IGluIHBhdGNoVG9BcHBseSkge1xuICAgICAgICBpZiAoIXBhdGNoVG9BcHBseS5oYXNPd25Qcm9wZXJ0eShrZXkpKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNvbnN0IHN1YlBhdGNoID0gcGF0Y2hUb0FwcGx5W2tleV07XG4gICAgICAgIGNvbnN0IHRhcmdldFZhbHVlID0gdGFyZ2V0W2tleV07XG4gICAgICAgIGlmIChpc1BsYWluT2JqZWN0KHRhcmdldFZhbHVlKSAmJlxuICAgICAgICAgICAgaXNQbGFpbk9iamVjdChzdWJQYXRjaCkgJiZcbiAgICAgICAgICAgIHRhcmdldC5oYXNPd25Qcm9wZXJ0eShrZXkpICYmXG4gICAgICAgICAgICAhaXNSZWYoc3ViUGF0Y2gpICYmXG4gICAgICAgICAgICAhaXNSZWFjdGl2ZShzdWJQYXRjaCkpIHtcbiAgICAgICAgICAgIC8vIE5PVEU6IGhlcmUgSSB3YW50ZWQgdG8gd2FybiBhYm91dCBpbmNvbnNpc3RlbnQgdHlwZXMgYnV0IGl0J3Mgbm90IHBvc3NpYmxlIGJlY2F1c2UgaW4gc2V0dXAgc3RvcmVzIG9uZSBtaWdodFxuICAgICAgICAgICAgLy8gc3RhcnQgdGhlIHZhbHVlIG9mIGEgcHJvcGVydHkgYXMgYSBjZXJ0YWluIHR5cGUgZS5nLiBhIE1hcCwgYW5kIHRoZW4gZm9yIHNvbWUgcmVhc29uLCBkdXJpbmcgU1NSLCBjaGFuZ2UgdGhhdFxuICAgICAgICAgICAgLy8gdG8gYHVuZGVmaW5lZGAuIFdoZW4gdHJ5aW5nIHRvIGh5ZHJhdGUsIHdlIHdhbnQgdG8gb3ZlcnJpZGUgdGhlIE1hcCB3aXRoIGB1bmRlZmluZWRgLlxuICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBtZXJnZVJlYWN0aXZlT2JqZWN0cyh0YXJnZXRWYWx1ZSwgc3ViUGF0Y2gpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogc3ViUGF0Y2ggaXMgYSB2YWxpZCB2YWx1ZVxuICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzdWJQYXRjaDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuY29uc3Qgc2tpcEh5ZHJhdGVTeW1ib2wgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcbiAgICA/IFN5bWJvbCgncGluaWE6c2tpcEh5ZHJhdGlvbicpXG4gICAgOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBTeW1ib2woKTtcbi8qKlxuICogVGVsbHMgUGluaWEgdG8gc2tpcCB0aGUgaHlkcmF0aW9uIHByb2Nlc3Mgb2YgYSBnaXZlbiBvYmplY3QuIFRoaXMgaXMgdXNlZnVsIGluIHNldHVwIHN0b3JlcyAob25seSkgd2hlbiB5b3UgcmV0dXJuIGFcbiAqIHN0YXRlZnVsIG9iamVjdCBpbiB0aGUgc3RvcmUgYnV0IGl0IGlzbid0IHJlYWxseSBzdGF0ZS4gZS5nLiByZXR1cm5pbmcgYSByb3V0ZXIgaW5zdGFuY2UgaW4gYSBzZXR1cCBzdG9yZS5cbiAqXG4gKiBAcGFyYW0gb2JqIC0gdGFyZ2V0IG9iamVjdFxuICogQHJldHVybnMgb2JqXG4gKi9cbmZ1bmN0aW9uIHNraXBIeWRyYXRlKG9iaikge1xuICAgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBza2lwSHlkcmF0ZVN5bWJvbCwge30pO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgYSB2YWx1ZSBzaG91bGQgYmUgaHlkcmF0ZWRcbiAqXG4gKiBAcGFyYW0gb2JqIC0gdGFyZ2V0IHZhcmlhYmxlXG4gKiBAcmV0dXJucyB0cnVlIGlmIGBvYmpgIHNob3VsZCBiZSBoeWRyYXRlZFxuICovXG5mdW5jdGlvbiBzaG91bGRIeWRyYXRlKG9iaikge1xuICAgIHJldHVybiAhaXNQbGFpbk9iamVjdChvYmopIHx8ICFvYmouaGFzT3duUHJvcGVydHkoc2tpcEh5ZHJhdGVTeW1ib2wpO1xufVxuY29uc3QgeyBhc3NpZ24gfSA9IE9iamVjdDtcbmZ1bmN0aW9uIGlzQ29tcHV0ZWQobykge1xuICAgIHJldHVybiAhIShpc1JlZihvKSAmJiBvLmVmZmVjdCk7XG59XG5mdW5jdGlvbiBjcmVhdGVPcHRpb25zU3RvcmUoaWQsIG9wdGlvbnMsIHBpbmlhLCBob3QpIHtcbiAgICBjb25zdCB7IHN0YXRlLCBhY3Rpb25zLCBnZXR0ZXJzIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHBpbmlhLnN0YXRlLnZhbHVlW2lkXTtcbiAgICBsZXQgc3RvcmU7XG4gICAgZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAgICAgIGlmICghaW5pdGlhbFN0YXRlICYmICghKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8ICFob3QpKSB7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgIGlmIChpc1Z1ZTIpIHtcbiAgICAgICAgICAgICAgICBzZXQocGluaWEuc3RhdGUudmFsdWUsIGlkLCBzdGF0ZSA/IHN0YXRlKCkgOiB7fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwaW5pYS5zdGF0ZS52YWx1ZVtpZF0gPSBzdGF0ZSA/IHN0YXRlKCkgOiB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBhdm9pZCBjcmVhdGluZyBhIHN0YXRlIGluIHBpbmlhLnN0YXRlLnZhbHVlXG4gICAgICAgIGNvbnN0IGxvY2FsU3RhdGUgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaG90XG4gICAgICAgICAgICA/IC8vIHVzZSByZWYoKSB0byB1bndyYXAgcmVmcyBpbnNpZGUgc3RhdGUgVE9ETzogY2hlY2sgaWYgdGhpcyBpcyBzdGlsbCBuZWNlc3NhcnlcbiAgICAgICAgICAgICAgICB0b1JlZnMocmVmKHN0YXRlID8gc3RhdGUoKSA6IHt9KS52YWx1ZSlcbiAgICAgICAgICAgIDogdG9SZWZzKHBpbmlhLnN0YXRlLnZhbHVlW2lkXSk7XG4gICAgICAgIHJldHVybiBhc3NpZ24obG9jYWxTdGF0ZSwgYWN0aW9ucywgT2JqZWN0LmtleXMoZ2V0dGVycyB8fCB7fSkucmVkdWNlKChjb21wdXRlZEdldHRlcnMsIG5hbWUpID0+IHtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgbmFtZSBpbiBsb2NhbFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBb8J+NjV06IEEgZ2V0dGVyIGNhbm5vdCBoYXZlIHRoZSBzYW1lIG5hbWUgYXMgYW5vdGhlciBzdGF0ZSBwcm9wZXJ0eS4gUmVuYW1lIG9uZSBvZiB0aGVtLiBGb3VuZCB3aXRoIFwiJHtuYW1lfVwiIGluIHN0b3JlIFwiJHtpZH1cIi5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbXB1dGVkR2V0dGVyc1tuYW1lXSA9IG1hcmtSYXcoY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldEFjdGl2ZVBpbmlhKHBpbmlhKTtcbiAgICAgICAgICAgICAgICAvLyBpdCB3YXMgY3JlYXRlZCBqdXN0IGJlZm9yZVxuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlID0gcGluaWEuX3MuZ2V0KGlkKTtcbiAgICAgICAgICAgICAgICAvLyBhbGxvdyBjcm9zcyB1c2luZyBzdG9yZXNcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgICAgICBpZiAoaXNWdWUyICYmICFzdG9yZS5fcilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gZ2V0dGVycyFbbmFtZV0uY2FsbChjb250ZXh0LCBjb250ZXh0KVxuICAgICAgICAgICAgICAgIC8vIFRPRE86IGF2b2lkIHJlYWRpbmcgdGhlIGdldHRlciB3aGlsZSBhc3NpZ25pbmcgd2l0aCBhIGdsb2JhbCB2YXJpYWJsZVxuICAgICAgICAgICAgICAgIHJldHVybiBnZXR0ZXJzW25hbWVdLmNhbGwoc3RvcmUsIHN0b3JlKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiBjb21wdXRlZEdldHRlcnM7XG4gICAgICAgIH0sIHt9KSk7XG4gICAgfVxuICAgIHN0b3JlID0gY3JlYXRlU2V0dXBTdG9yZShpZCwgc2V0dXAsIG9wdGlvbnMsIHBpbmlhLCBob3QsIHRydWUpO1xuICAgIHJldHVybiBzdG9yZTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVNldHVwU3RvcmUoJGlkLCBzZXR1cCwgb3B0aW9ucyA9IHt9LCBwaW5pYSwgaG90LCBpc09wdGlvbnNTdG9yZSkge1xuICAgIGxldCBzY29wZTtcbiAgICBjb25zdCBvcHRpb25zRm9yUGx1Z2luID0gYXNzaWduKHsgYWN0aW9uczoge30gfSwgb3B0aW9ucyk7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhcGluaWEuX2UuYWN0aXZlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUGluaWEgZGVzdHJveWVkJyk7XG4gICAgfVxuICAgIC8vIHdhdGNoZXIgb3B0aW9ucyBmb3IgJHN1YnNjcmliZVxuICAgIGNvbnN0ICRzdWJzY3JpYmVPcHRpb25zID0geyBkZWVwOiB0cnVlIH07XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc1Z1ZTIpIHtcbiAgICAgICAgJHN1YnNjcmliZU9wdGlvbnMub25UcmlnZ2VyID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgaWYgKGlzTGlzdGVuaW5nKSB7XG4gICAgICAgICAgICAgICAgZGVidWdnZXJFdmVudHMgPSBldmVudDtcbiAgICAgICAgICAgICAgICAvLyBhdm9pZCB0cmlnZ2VyaW5nIHRoaXMgd2hpbGUgdGhlIHN0b3JlIGlzIGJlaW5nIGJ1aWx0IGFuZCB0aGUgc3RhdGUgaXMgYmVpbmcgc2V0IGluIHBpbmlhXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc0xpc3RlbmluZyA9PSBmYWxzZSAmJiAhc3RvcmUuX2hvdFVwZGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgLy8gbGV0IHBhdGNoIHNlbmQgYWxsIHRoZSBldmVudHMgdG9nZXRoZXIgbGF0ZXJcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRlYnVnZ2VyRXZlbnRzKSkge1xuICAgICAgICAgICAgICAgICAgICBkZWJ1Z2dlckV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ/CfjY0gZGVidWdnZXJFdmVudHMgc2hvdWxkIGJlIGFuIGFycmF5LiBUaGlzIGlzIG1vc3QgbGlrZWx5IGFuIGludGVybmFsIFBpbmlhIGJ1Zy4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIGludGVybmFsIHN0YXRlXG4gICAgbGV0IGlzTGlzdGVuaW5nOyAvLyBzZXQgdG8gdHJ1ZSBhdCB0aGUgZW5kXG4gICAgbGV0IGlzU3luY0xpc3RlbmluZzsgLy8gc2V0IHRvIHRydWUgYXQgdGhlIGVuZFxuICAgIGxldCBzdWJzY3JpcHRpb25zID0gW107XG4gICAgbGV0IGFjdGlvblN1YnNjcmlwdGlvbnMgPSBbXTtcbiAgICBsZXQgZGVidWdnZXJFdmVudHM7XG4gICAgY29uc3QgaW5pdGlhbFN0YXRlID0gcGluaWEuc3RhdGUudmFsdWVbJGlkXTtcbiAgICAvLyBhdm9pZCBzZXR0aW5nIHRoZSBzdGF0ZSBmb3Igb3B0aW9uIHN0b3JlcyBpZiBpdCBpcyBzZXRcbiAgICAvLyBieSB0aGUgc2V0dXBcbiAgICBpZiAoIWlzT3B0aW9uc1N0b3JlICYmICFpbml0aWFsU3RhdGUgJiYgKCEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgIWhvdCkpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmIChpc1Z1ZTIpIHtcbiAgICAgICAgICAgIHNldChwaW5pYS5zdGF0ZS52YWx1ZSwgJGlkLCB7fSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwaW5pYS5zdGF0ZS52YWx1ZVskaWRdID0ge307XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaG90U3RhdGUgPSByZWYoe30pO1xuICAgIC8vIGF2b2lkIHRyaWdnZXJpbmcgdG9vIG1hbnkgbGlzdGVuZXJzXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3BpbmlhL2lzc3Vlcy8xMTI5XG4gICAgbGV0IGFjdGl2ZUxpc3RlbmVyO1xuICAgIGZ1bmN0aW9uICRwYXRjaChwYXJ0aWFsU3RhdGVPck11dGF0b3IpIHtcbiAgICAgICAgbGV0IHN1YnNjcmlwdGlvbk11dGF0aW9uO1xuICAgICAgICBpc0xpc3RlbmluZyA9IGlzU3luY0xpc3RlbmluZyA9IGZhbHNlO1xuICAgICAgICAvLyByZXNldCB0aGUgZGVidWdnZXIgZXZlbnRzIHNpbmNlIHBhdGNoZXMgYXJlIHN5bmNcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgZGVidWdnZXJFdmVudHMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHBhcnRpYWxTdGF0ZU9yTXV0YXRvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcGFydGlhbFN0YXRlT3JNdXRhdG9yKHBpbmlhLnN0YXRlLnZhbHVlWyRpZF0pO1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uTXV0YXRpb24gPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogTXV0YXRpb25UeXBlLnBhdGNoRnVuY3Rpb24sXG4gICAgICAgICAgICAgICAgc3RvcmVJZDogJGlkLFxuICAgICAgICAgICAgICAgIGV2ZW50czogZGVidWdnZXJFdmVudHMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbWVyZ2VSZWFjdGl2ZU9iamVjdHMocGluaWEuc3RhdGUudmFsdWVbJGlkXSwgcGFydGlhbFN0YXRlT3JNdXRhdG9yKTtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbk11dGF0aW9uID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IE11dGF0aW9uVHlwZS5wYXRjaE9iamVjdCxcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiBwYXJ0aWFsU3RhdGVPck11dGF0b3IsXG4gICAgICAgICAgICAgICAgc3RvcmVJZDogJGlkLFxuICAgICAgICAgICAgICAgIGV2ZW50czogZGVidWdnZXJFdmVudHMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG15TGlzdGVuZXJJZCA9IChhY3RpdmVMaXN0ZW5lciA9IFN5bWJvbCgpKTtcbiAgICAgICAgbmV4dFRpY2soKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChhY3RpdmVMaXN0ZW5lciA9PT0gbXlMaXN0ZW5lcklkKSB7XG4gICAgICAgICAgICAgICAgaXNMaXN0ZW5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaXNTeW5jTGlzdGVuaW5nID0gdHJ1ZTtcbiAgICAgICAgLy8gYmVjYXVzZSB3ZSBwYXVzZWQgdGhlIHdhdGNoZXIsIHdlIG5lZWQgdG8gbWFudWFsbHkgY2FsbCB0aGUgc3Vic2NyaXB0aW9uc1xuICAgICAgICB0cmlnZ2VyU3Vic2NyaXB0aW9ucyhzdWJzY3JpcHRpb25zLCBzdWJzY3JpcHRpb25NdXRhdGlvbiwgcGluaWEuc3RhdGUudmFsdWVbJGlkXSk7XG4gICAgfVxuICAgIGNvbnN0ICRyZXNldCA9IGlzT3B0aW9uc1N0b3JlXG4gICAgICAgID8gZnVuY3Rpb24gJHJlc2V0KCkge1xuICAgICAgICAgICAgY29uc3QgeyBzdGF0ZSB9ID0gb3B0aW9ucztcbiAgICAgICAgICAgIGNvbnN0IG5ld1N0YXRlID0gc3RhdGUgPyBzdGF0ZSgpIDoge307XG4gICAgICAgICAgICAvLyB3ZSB1c2UgYSBwYXRjaCB0byBncm91cCBhbGwgY2hhbmdlcyBpbnRvIG9uZSBzaW5nbGUgc3Vic2NyaXB0aW9uXG4gICAgICAgICAgICB0aGlzLiRwYXRjaCgoJHN0YXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogRklYTUU6IHNob3VsZG4ndCBlcnJvcj9cbiAgICAgICAgICAgICAgICBhc3NpZ24oJHN0YXRlLCBuZXdTdGF0ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICA6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcbiAgICAgICAgICAgICAgICA/ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGDwn42NOiBTdG9yZSBcIiR7JGlkfVwiIGlzIGJ1aWx0IHVzaW5nIHRoZSBzZXR1cCBzeW50YXggYW5kIGRvZXMgbm90IGltcGxlbWVudCAkcmVzZXQoKS5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiBub29wO1xuICAgIGZ1bmN0aW9uICRkaXNwb3NlKCkge1xuICAgICAgICBzY29wZS5zdG9wKCk7XG4gICAgICAgIHN1YnNjcmlwdGlvbnMgPSBbXTtcbiAgICAgICAgYWN0aW9uU3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgICAgICBwaW5pYS5fcy5kZWxldGUoJGlkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGVscGVyIHRoYXQgd3JhcHMgZnVuY3Rpb24gc28gaXQgY2FuIGJlIHRyYWNrZWQgd2l0aCAkb25BY3Rpb25cbiAgICAgKiBAcGFyYW0gZm4gLSBhY3Rpb24gdG8gd3JhcFxuICAgICAqIEBwYXJhbSBuYW1lIC0gbmFtZSBvZiB0aGUgYWN0aW9uXG4gICAgICovXG4gICAgY29uc3QgYWN0aW9uID0gKGZuLCBuYW1lID0gJycpID0+IHtcbiAgICAgICAgaWYgKEFDVElPTl9NQVJLRVIgaW4gZm4pIHtcbiAgICAgICAgICAgIGZuW0FDVElPTl9OQU1FXSA9IG5hbWU7XG4gICAgICAgICAgICByZXR1cm4gZm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgd3JhcHBlZEFjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNldEFjdGl2ZVBpbmlhKHBpbmlhKTtcbiAgICAgICAgICAgIGNvbnN0IGFyZ3MgPSBBcnJheS5mcm9tKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICBjb25zdCBhZnRlckNhbGxiYWNrTGlzdCA9IFtdO1xuICAgICAgICAgICAgY29uc3Qgb25FcnJvckNhbGxiYWNrTGlzdCA9IFtdO1xuICAgICAgICAgICAgZnVuY3Rpb24gYWZ0ZXIoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBhZnRlckNhbGxiYWNrTGlzdC5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIG9uRXJyb3IoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBvbkVycm9yQ2FsbGJhY2tMaXN0LnB1c2goY2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgdHJpZ2dlclN1YnNjcmlwdGlvbnMoYWN0aW9uU3Vic2NyaXB0aW9ucywge1xuICAgICAgICAgICAgICAgIGFyZ3MsXG4gICAgICAgICAgICAgICAgbmFtZTogd3JhcHBlZEFjdGlvbltBQ1RJT05fTkFNRV0sXG4gICAgICAgICAgICAgICAgc3RvcmUsXG4gICAgICAgICAgICAgICAgYWZ0ZXIsXG4gICAgICAgICAgICAgICAgb25FcnJvcixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbGV0IHJldDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0ID0gZm4uYXBwbHkodGhpcyAmJiB0aGlzLiRpZCA9PT0gJGlkID8gdGhpcyA6IHN0b3JlLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAvLyBoYW5kbGUgc3luYyBlcnJvcnNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRyaWdnZXJTdWJzY3JpcHRpb25zKG9uRXJyb3JDYWxsYmFja0xpc3QsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldFxuICAgICAgICAgICAgICAgICAgICAudGhlbigodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlclN1YnNjcmlwdGlvbnMoYWZ0ZXJDYWxsYmFja0xpc3QsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlclN1YnNjcmlwdGlvbnMob25FcnJvckNhbGxiYWNrTGlzdCwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdHJpZ2dlciBhZnRlciBjYWxsYmFja3NcbiAgICAgICAgICAgIHRyaWdnZXJTdWJzY3JpcHRpb25zKGFmdGVyQ2FsbGJhY2tMaXN0LCByZXQpO1xuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfTtcbiAgICAgICAgd3JhcHBlZEFjdGlvbltBQ1RJT05fTUFSS0VSXSA9IHRydWU7XG4gICAgICAgIHdyYXBwZWRBY3Rpb25bQUNUSU9OX05BTUVdID0gbmFtZTsgLy8gd2lsbCBiZSBzZXQgbGF0ZXJcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogd2UgYXJlIGludGVudGlvbmFsbHkgbGltaXRpbmcgdGhlIHJldHVybmVkIHR5cGUgdG8ganVzdCBGblxuICAgICAgICAvLyBiZWNhdXNlIGFsbCB0aGUgYWRkZWQgcHJvcGVydGllcyBhcmUgaW50ZXJuYWxzIHRoYXQgYXJlIGV4cG9zZWQgdGhyb3VnaCBgJG9uQWN0aW9uKClgIG9ubHlcbiAgICAgICAgcmV0dXJuIHdyYXBwZWRBY3Rpb247XG4gICAgfTtcbiAgICBjb25zdCBfaG1yUGF5bG9hZCA9IC8qI19fUFVSRV9fKi8gbWFya1Jhdyh7XG4gICAgICAgIGFjdGlvbnM6IHt9LFxuICAgICAgICBnZXR0ZXJzOiB7fSxcbiAgICAgICAgc3RhdGU6IFtdLFxuICAgICAgICBob3RTdGF0ZSxcbiAgICB9KTtcbiAgICBjb25zdCBwYXJ0aWFsU3RvcmUgPSB7XG4gICAgICAgIF9wOiBwaW5pYSxcbiAgICAgICAgLy8gX3M6IHNjb3BlLFxuICAgICAgICAkaWQsXG4gICAgICAgICRvbkFjdGlvbjogYWRkU3Vic2NyaXB0aW9uLmJpbmQobnVsbCwgYWN0aW9uU3Vic2NyaXB0aW9ucyksXG4gICAgICAgICRwYXRjaCxcbiAgICAgICAgJHJlc2V0LFxuICAgICAgICAkc3Vic2NyaWJlKGNhbGxiYWNrLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZVN1YnNjcmlwdGlvbiA9IGFkZFN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb25zLCBjYWxsYmFjaywgb3B0aW9ucy5kZXRhY2hlZCwgKCkgPT4gc3RvcFdhdGNoZXIoKSk7XG4gICAgICAgICAgICBjb25zdCBzdG9wV2F0Y2hlciA9IHNjb3BlLnJ1bigoKSA9PiB3YXRjaCgoKSA9PiBwaW5pYS5zdGF0ZS52YWx1ZVskaWRdLCAoc3RhdGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5mbHVzaCA9PT0gJ3N5bmMnID8gaXNTeW5jTGlzdGVuaW5nIDogaXNMaXN0ZW5pbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soe1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVJZDogJGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogTXV0YXRpb25UeXBlLmRpcmVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50czogZGVidWdnZXJFdmVudHMsXG4gICAgICAgICAgICAgICAgICAgIH0sIHN0YXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBhc3NpZ24oe30sICRzdWJzY3JpYmVPcHRpb25zLCBvcHRpb25zKSkpO1xuICAgICAgICAgICAgcmV0dXJuIHJlbW92ZVN1YnNjcmlwdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgJGRpc3Bvc2UsXG4gICAgfTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoaXNWdWUyKSB7XG4gICAgICAgIC8vIHN0YXJ0IGFzIG5vbiByZWFkeVxuICAgICAgICBwYXJ0aWFsU3RvcmUuX3IgPSBmYWxzZTtcbiAgICB9XG4gICAgY29uc3Qgc3RvcmUgPSByZWFjdGl2ZSgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgKCgoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8ICh0eXBlb2YgX19WVUVfUFJPRF9ERVZUT09MU19fICE9PSAndW5kZWZpbmVkJyAmJiBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pKSAmJiAhKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpKSAmJiBJU19DTElFTlQpXG4gICAgICAgID8gYXNzaWduKHtcbiAgICAgICAgICAgIF9obXJQYXlsb2FkLFxuICAgICAgICAgICAgX2N1c3RvbVByb3BlcnRpZXM6IG1hcmtSYXcobmV3IFNldCgpKSwgLy8gZGV2dG9vbHMgY3VzdG9tIHByb3BlcnRpZXNcbiAgICAgICAgfSwgcGFydGlhbFN0b3JlXG4gICAgICAgIC8vIG11c3QgYmUgYWRkZWQgbGF0ZXJcbiAgICAgICAgLy8gc2V0dXBTdG9yZVxuICAgICAgICApXG4gICAgICAgIDogcGFydGlhbFN0b3JlKTtcbiAgICAvLyBzdG9yZSB0aGUgcGFydGlhbCBzdG9yZSBub3cgc28gdGhlIHNldHVwIG9mIHN0b3JlcyBjYW4gaW5zdGFudGlhdGUgZWFjaCBvdGhlciBiZWZvcmUgdGhleSBhcmUgZmluaXNoZWQgd2l0aG91dFxuICAgIC8vIGNyZWF0aW5nIGluZmluaXRlIGxvb3BzLlxuICAgIHBpbmlhLl9zLnNldCgkaWQsIHN0b3JlKTtcbiAgICBjb25zdCBydW5XaXRoQ29udGV4dCA9IChwaW5pYS5fYSAmJiBwaW5pYS5fYS5ydW5XaXRoQ29udGV4dCkgfHwgZmFsbGJhY2tSdW5XaXRoQ29udGV4dDtcbiAgICAvLyBUT0RPOiBpZGVhIGNyZWF0ZSBza2lwU2VyaWFsaXplIHRoYXQgbWFya3MgcHJvcGVydGllcyBhcyBub24gc2VyaWFsaXphYmxlIGFuZCB0aGV5IGFyZSBza2lwcGVkXG4gICAgY29uc3Qgc2V0dXBTdG9yZSA9IHJ1bldpdGhDb250ZXh0KCgpID0+IHBpbmlhLl9lLnJ1bigoKSA9PiAoc2NvcGUgPSBlZmZlY3RTY29wZSgpKS5ydW4oKCkgPT4gc2V0dXAoeyBhY3Rpb24gfSkpKSk7XG4gICAgLy8gb3ZlcndyaXRlIGV4aXN0aW5nIGFjdGlvbnMgdG8gc3VwcG9ydCAkb25BY3Rpb25cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzZXR1cFN0b3JlKSB7XG4gICAgICAgIGNvbnN0IHByb3AgPSBzZXR1cFN0b3JlW2tleV07XG4gICAgICAgIGlmICgoaXNSZWYocHJvcCkgJiYgIWlzQ29tcHV0ZWQocHJvcCkpIHx8IGlzUmVhY3RpdmUocHJvcCkpIHtcbiAgICAgICAgICAgIC8vIG1hcmsgaXQgYXMgYSBwaWVjZSBvZiBzdGF0ZSB0byBiZSBzZXJpYWxpemVkXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGhvdCkge1xuICAgICAgICAgICAgICAgIHNldChob3RTdGF0ZS52YWx1ZSwga2V5LCB0b1JlZihzZXR1cFN0b3JlLCBrZXkpKTtcbiAgICAgICAgICAgICAgICAvLyBjcmVhdGVPcHRpb25TdG9yZSBkaXJlY3RseSBzZXRzIHRoZSBzdGF0ZSBpbiBwaW5pYS5zdGF0ZS52YWx1ZSBzbyB3ZVxuICAgICAgICAgICAgICAgIC8vIGNhbiBqdXN0IHNraXAgdGhhdFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWlzT3B0aW9uc1N0b3JlKSB7XG4gICAgICAgICAgICAgICAgLy8gaW4gc2V0dXAgc3RvcmVzIHdlIG11c3QgaHlkcmF0ZSB0aGUgc3RhdGUgYW5kIHN5bmMgcGluaWEgc3RhdGUgdHJlZSB3aXRoIHRoZSByZWZzIHRoZSB1c2VyIGp1c3QgY3JlYXRlZFxuICAgICAgICAgICAgICAgIGlmIChpbml0aWFsU3RhdGUgJiYgc2hvdWxkSHlkcmF0ZShwcm9wKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNSZWYocHJvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3AudmFsdWUgPSBpbml0aWFsU3RhdGVba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByb2JhYmx5IGEgcmVhY3RpdmUgb2JqZWN0LCBsZXRzIHJlY3Vyc2l2ZWx5IGFzc2lnblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogcHJvcCBpcyB1bmtub3duXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXJnZVJlYWN0aXZlT2JqZWN0cyhwcm9wLCBpbml0aWFsU3RhdGVba2V5XSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gdHJhbnNmZXIgdGhlIHJlZiB0byB0aGUgcGluaWEgc3RhdGUgdG8ga2VlcCBldmVyeXRoaW5nIGluIHN5bmNcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgICAgICBpZiAoaXNWdWUyKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldChwaW5pYS5zdGF0ZS52YWx1ZVskaWRdLCBrZXksIHByb3ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGluaWEuc3RhdGUudmFsdWVbJGlkXVtrZXldID0gcHJvcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgIF9obXJQYXlsb2FkLnN0YXRlLnB1c2goa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGFjdGlvblxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBwcm9wID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjb25zdCBhY3Rpb25WYWx1ZSA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBob3QgPyBwcm9wIDogYWN0aW9uKHByb3AsIGtleSk7XG4gICAgICAgICAgICAvLyB0aGlzIGEgaG90IG1vZHVsZSByZXBsYWNlbWVudCBzdG9yZSBiZWNhdXNlIHRoZSBob3RVcGRhdGUgbWV0aG9kIG5lZWRzXG4gICAgICAgICAgICAvLyB0byBkbyBpdCB3aXRoIHRoZSByaWdodCBjb250ZXh0XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgIGlmIChpc1Z1ZTIpIHtcbiAgICAgICAgICAgICAgICBzZXQoc2V0dXBTdG9yZSwga2V5LCBhY3Rpb25WYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICAgICAgc2V0dXBTdG9yZVtrZXldID0gYWN0aW9uVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgIF9obXJQYXlsb2FkLmFjdGlvbnNba2V5XSA9IHByb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBsaXN0IGFjdGlvbnMgc28gdGhleSBjYW4gYmUgdXNlZCBpbiBwbHVnaW5zXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICBvcHRpb25zRm9yUGx1Z2luLmFjdGlvbnNba2V5XSA9IHByb3A7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAvLyBhZGQgZ2V0dGVycyBmb3IgZGV2dG9vbHNcbiAgICAgICAgICAgIGlmIChpc0NvbXB1dGVkKHByb3ApKSB7XG4gICAgICAgICAgICAgICAgX2htclBheWxvYWQuZ2V0dGVyc1trZXldID0gaXNPcHRpb25zU3RvcmVcbiAgICAgICAgICAgICAgICAgICAgPyAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmdldHRlcnNba2V5XVxuICAgICAgICAgICAgICAgICAgICA6IHByb3A7XG4gICAgICAgICAgICAgICAgaWYgKElTX0NMSUVOVCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBnZXR0ZXJzID0gc2V0dXBTdG9yZS5fZ2V0dGVycyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogc2FtZVxuICAgICAgICAgICAgICAgICAgICAgICAgKHNldHVwU3RvcmUuX2dldHRlcnMgPSBtYXJrUmF3KFtdKSk7XG4gICAgICAgICAgICAgICAgICAgIGdldHRlcnMucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBhZGQgdGhlIHN0YXRlLCBnZXR0ZXJzLCBhbmQgYWN0aW9uIHByb3BlcnRpZXNcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoaXNWdWUyKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKHNldHVwU3RvcmUpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgc2V0KHN0b3JlLCBrZXksIHNldHVwU3RvcmVba2V5XSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYXNzaWduKHN0b3JlLCBzZXR1cFN0b3JlKTtcbiAgICAgICAgLy8gYWxsb3dzIHJldHJpZXZpbmcgcmVhY3RpdmUgb2JqZWN0cyB3aXRoIGBzdG9yZVRvUmVmcygpYC4gTXVzdCBiZSBjYWxsZWQgYWZ0ZXIgYXNzaWduaW5nIHRvIHRoZSByZWFjdGl2ZSBvYmplY3QuXG4gICAgICAgIC8vIE1ha2UgYHN0b3JlVG9SZWZzKClgIHdvcmsgd2l0aCBgcmVhY3RpdmUoKWAgIzc5OVxuICAgICAgICBhc3NpZ24odG9SYXcoc3RvcmUpLCBzZXR1cFN0b3JlKTtcbiAgICB9XG4gICAgLy8gdXNlIHRoaXMgaW5zdGVhZCBvZiBhIGNvbXB1dGVkIHdpdGggc2V0dGVyIHRvIGJlIGFibGUgdG8gY3JlYXRlIGl0IGFueXdoZXJlXG4gICAgLy8gd2l0aG91dCBsaW5raW5nIHRoZSBjb21wdXRlZCBsaWZlc3BhbiB0byB3aGVyZXZlciB0aGUgc3RvcmUgaXMgZmlyc3RcbiAgICAvLyBjcmVhdGVkLlxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdG9yZSwgJyRzdGF0ZScsIHtcbiAgICAgICAgZ2V0OiAoKSA9PiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGhvdCA/IGhvdFN0YXRlLnZhbHVlIDogcGluaWEuc3RhdGUudmFsdWVbJGlkXSksXG4gICAgICAgIHNldDogKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaG90KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW5ub3Qgc2V0IGhvdFN0YXRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkcGF0Y2goKCRzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IEZJWE1FOiBzaG91bGRuJ3QgZXJyb3I/XG4gICAgICAgICAgICAgICAgYXNzaWduKCRzdGF0ZSwgc3RhdGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLy8gYWRkIHRoZSBob3RVcGRhdGUgYmVmb3JlIHBsdWdpbnMgdG8gYWxsb3cgdGhlbSB0byBvdmVycmlkZSBpdFxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICBzdG9yZS5faG90VXBkYXRlID0gbWFya1JhdygobmV3U3RvcmUpID0+IHtcbiAgICAgICAgICAgIHN0b3JlLl9ob3RVcGRhdGluZyA9IHRydWU7XG4gICAgICAgICAgICBuZXdTdG9yZS5faG1yUGF5bG9hZC5zdGF0ZS5mb3JFYWNoKChzdGF0ZUtleSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZUtleSBpbiBzdG9yZS4kc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3U3RhdGVUYXJnZXQgPSBuZXdTdG9yZS4kc3RhdGVbc3RhdGVLZXldO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvbGRTdGF0ZVNvdXJjZSA9IHN0b3JlLiRzdGF0ZVtzdGF0ZUtleV07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmV3U3RhdGVUYXJnZXQgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1BsYWluT2JqZWN0KG5ld1N0YXRlVGFyZ2V0KSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgaXNQbGFpbk9iamVjdChvbGRTdGF0ZVNvdXJjZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGNoT2JqZWN0KG5ld1N0YXRlVGFyZ2V0LCBvbGRTdGF0ZVNvdXJjZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0cmFuc2ZlciB0aGUgcmVmXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdTdG9yZS4kc3RhdGVbc3RhdGVLZXldID0gb2xkU3RhdGVTb3VyY2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gcGF0Y2ggZGlyZWN0IGFjY2VzcyBwcm9wZXJ0aWVzIHRvIGFsbG93IHN0b3JlLnN0YXRlUHJvcGVydHkgdG8gd29yayBhc1xuICAgICAgICAgICAgICAgIC8vIHN0b3JlLiRzdGF0ZS5zdGF0ZVByb3BlcnR5XG4gICAgICAgICAgICAgICAgc2V0KHN0b3JlLCBzdGF0ZUtleSwgdG9SZWYobmV3U3RvcmUuJHN0YXRlLCBzdGF0ZUtleSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyByZW1vdmUgZGVsZXRlZCBzdGF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzdG9yZS4kc3RhdGUpLmZvckVhY2goKHN0YXRlS2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCEoc3RhdGVLZXkgaW4gbmV3U3RvcmUuJHN0YXRlKSkge1xuICAgICAgICAgICAgICAgICAgICBkZWwoc3RvcmUsIHN0YXRlS2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIGF2b2lkIGRldnRvb2xzIGxvZ2dpbmcgdGhpcyBhcyBhIG11dGF0aW9uXG4gICAgICAgICAgICBpc0xpc3RlbmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgaXNTeW5jTGlzdGVuaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBwaW5pYS5zdGF0ZS52YWx1ZVskaWRdID0gdG9SZWYobmV3U3RvcmUuX2htclBheWxvYWQsICdob3RTdGF0ZScpO1xuICAgICAgICAgICAgaXNTeW5jTGlzdGVuaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIG5leHRUaWNrKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaXNMaXN0ZW5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGFjdGlvbk5hbWUgaW4gbmV3U3RvcmUuX2htclBheWxvYWQuYWN0aW9ucykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGlvbkZuID0gbmV3U3RvcmVbYWN0aW9uTmFtZV07XG4gICAgICAgICAgICAgICAgc2V0KHN0b3JlLCBhY3Rpb25OYW1lLCBhY3Rpb24oYWN0aW9uRm4sIGFjdGlvbk5hbWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRPRE86IGRvZXMgdGhpcyB3b3JrIGluIGJvdGggc2V0dXAgYW5kIG9wdGlvbiBzdG9yZT9cbiAgICAgICAgICAgIGZvciAoY29uc3QgZ2V0dGVyTmFtZSBpbiBuZXdTdG9yZS5faG1yUGF5bG9hZC5nZXR0ZXJzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2V0dGVyID0gbmV3U3RvcmUuX2htclBheWxvYWQuZ2V0dGVyc1tnZXR0ZXJOYW1lXTtcbiAgICAgICAgICAgICAgICBjb25zdCBnZXR0ZXJWYWx1ZSA9IGlzT3B0aW9uc1N0b3JlXG4gICAgICAgICAgICAgICAgICAgID8gLy8gc3BlY2lhbCBoYW5kbGluZyBvZiBvcHRpb25zIGFwaVxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEFjdGl2ZVBpbmlhKHBpbmlhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0dGVyLmNhbGwoc3RvcmUsIHN0b3JlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIDogZ2V0dGVyO1xuICAgICAgICAgICAgICAgIHNldChzdG9yZSwgZ2V0dGVyTmFtZSwgZ2V0dGVyVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmVtb3ZlIGRlbGV0ZWQgZ2V0dGVyc1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoc3RvcmUuX2htclBheWxvYWQuZ2V0dGVycykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIG5ld1N0b3JlLl9obXJQYXlsb2FkLmdldHRlcnMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbChzdG9yZSwga2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBvbGQgYWN0aW9uc1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoc3RvcmUuX2htclBheWxvYWQuYWN0aW9ucykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIG5ld1N0b3JlLl9obXJQYXlsb2FkLmFjdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbChzdG9yZSwga2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgdmFsdWVzIHVzZWQgaW4gZGV2dG9vbHMgYW5kIHRvIGFsbG93IGRlbGV0aW5nIG5ldyBwcm9wZXJ0aWVzIGxhdGVyIG9uXG4gICAgICAgICAgICBzdG9yZS5faG1yUGF5bG9hZCA9IG5ld1N0b3JlLl9obXJQYXlsb2FkO1xuICAgICAgICAgICAgc3RvcmUuX2dldHRlcnMgPSBuZXdTdG9yZS5fZ2V0dGVycztcbiAgICAgICAgICAgIHN0b3JlLl9ob3RVcGRhdGluZyA9IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKCgoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8ICh0eXBlb2YgX19WVUVfUFJPRF9ERVZUT09MU19fICE9PSAndW5kZWZpbmVkJyAmJiBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pKSAmJiAhKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpKSAmJiBJU19DTElFTlQpIHtcbiAgICAgICAgY29uc3Qgbm9uRW51bWVyYWJsZSA9IHtcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgLy8gYXZvaWQgd2FybmluZyBvbiBkZXZ0b29scyB0cnlpbmcgdG8gZGlzcGxheSB0aGlzIHByb3BlcnR5XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICAgICAgWydfcCcsICdfaG1yUGF5bG9hZCcsICdfZ2V0dGVycycsICdfY3VzdG9tUHJvcGVydGllcyddLmZvckVhY2goKHApID0+IHtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdG9yZSwgcCwgYXNzaWduKHsgdmFsdWU6IHN0b3JlW3BdIH0sIG5vbkVudW1lcmFibGUpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChpc1Z1ZTIpIHtcbiAgICAgICAgLy8gbWFyayB0aGUgc3RvcmUgYXMgcmVhZHkgYmVmb3JlIHBsdWdpbnNcbiAgICAgICAgc3RvcmUuX3IgPSB0cnVlO1xuICAgIH1cbiAgICAvLyBhcHBseSBhbGwgcGx1Z2luc1xuICAgIHBpbmlhLl9wLmZvckVhY2goKGV4dGVuZGVyKSA9PiB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIGlmICgoKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCAodHlwZW9mIF9fVlVFX1BST0RfREVWVE9PTFNfXyAhPT0gJ3VuZGVmaW5lZCcgJiYgX19WVUVfUFJPRF9ERVZUT09MU19fKSkgJiYgIShwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Rlc3QnKSkgJiYgSVNfQ0xJRU5UKSB7XG4gICAgICAgICAgICBjb25zdCBleHRlbnNpb25zID0gc2NvcGUucnVuKCgpID0+IGV4dGVuZGVyKHtcbiAgICAgICAgICAgICAgICBzdG9yZTogc3RvcmUsXG4gICAgICAgICAgICAgICAgYXBwOiBwaW5pYS5fYSxcbiAgICAgICAgICAgICAgICBwaW5pYSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zRm9yUGx1Z2luLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoZXh0ZW5zaW9ucyB8fCB7fSkuZm9yRWFjaCgoa2V5KSA9PiBzdG9yZS5fY3VzdG9tUHJvcGVydGllcy5hZGQoa2V5KSk7XG4gICAgICAgICAgICBhc3NpZ24oc3RvcmUsIGV4dGVuc2lvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXNzaWduKHN0b3JlLCBzY29wZS5ydW4oKCkgPT4gZXh0ZW5kZXIoe1xuICAgICAgICAgICAgICAgIHN0b3JlOiBzdG9yZSxcbiAgICAgICAgICAgICAgICBhcHA6IHBpbmlhLl9hLFxuICAgICAgICAgICAgICAgIHBpbmlhLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnNGb3JQbHVnaW4sXG4gICAgICAgICAgICB9KSkpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICBzdG9yZS4kc3RhdGUgJiZcbiAgICAgICAgdHlwZW9mIHN0b3JlLiRzdGF0ZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgdHlwZW9mIHN0b3JlLiRzdGF0ZS5jb25zdHJ1Y3RvciA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgICAhc3RvcmUuJHN0YXRlLmNvbnN0cnVjdG9yLnRvU3RyaW5nKCkuaW5jbHVkZXMoJ1tuYXRpdmUgY29kZV0nKSkge1xuICAgICAgICBjb25zb2xlLndhcm4oYFvwn42NXTogVGhlIFwic3RhdGVcIiBtdXN0IGJlIGEgcGxhaW4gb2JqZWN0LiBJdCBjYW5ub3QgYmVcXG5gICtcbiAgICAgICAgICAgIGBcXHRzdGF0ZTogKCkgPT4gbmV3IE15Q2xhc3MoKVxcbmAgK1xuICAgICAgICAgICAgYEZvdW5kIGluIHN0b3JlIFwiJHtzdG9yZS4kaWR9XCIuYCk7XG4gICAgfVxuICAgIC8vIG9ubHkgYXBwbHkgaHlkcmF0ZSB0byBvcHRpb24gc3RvcmVzIHdpdGggYW4gaW5pdGlhbCBzdGF0ZSBpbiBwaW5pYVxuICAgIGlmIChpbml0aWFsU3RhdGUgJiZcbiAgICAgICAgaXNPcHRpb25zU3RvcmUgJiZcbiAgICAgICAgb3B0aW9ucy5oeWRyYXRlKSB7XG4gICAgICAgIG9wdGlvbnMuaHlkcmF0ZShzdG9yZS4kc3RhdGUsIGluaXRpYWxTdGF0ZSk7XG4gICAgfVxuICAgIGlzTGlzdGVuaW5nID0gdHJ1ZTtcbiAgICBpc1N5bmNMaXN0ZW5pbmcgPSB0cnVlO1xuICAgIHJldHVybiBzdG9yZTtcbn1cbi8vIGFsbG93cyB1bnVzZWQgc3RvcmVzIHRvIGJlIHRyZWUgc2hha2VuXG4vKiEgI19fTk9fU0lERV9FRkZFQ1RTX18gKi9cbmZ1bmN0aW9uIGRlZmluZVN0b3JlKFxuLy8gVE9ETzogYWRkIHByb3BlciB0eXBlcyBmcm9tIGFib3ZlXG5pZE9yT3B0aW9ucywgc2V0dXAsIHNldHVwT3B0aW9ucykge1xuICAgIGxldCBpZDtcbiAgICBsZXQgb3B0aW9ucztcbiAgICBjb25zdCBpc1NldHVwU3RvcmUgPSB0eXBlb2Ygc2V0dXAgPT09ICdmdW5jdGlvbic7XG4gICAgaWYgKHR5cGVvZiBpZE9yT3B0aW9ucyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWQgPSBpZE9yT3B0aW9ucztcbiAgICAgICAgLy8gdGhlIG9wdGlvbiBzdG9yZSBzZXR1cCB3aWxsIGNvbnRhaW4gdGhlIGFjdHVhbCBvcHRpb25zIGluIHRoaXMgY2FzZVxuICAgICAgICBvcHRpb25zID0gaXNTZXR1cFN0b3JlID8gc2V0dXBPcHRpb25zIDogc2V0dXA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBvcHRpb25zID0gaWRPck9wdGlvbnM7XG4gICAgICAgIGlkID0gaWRPck9wdGlvbnMuaWQ7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgdHlwZW9mIGlkICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBb8J+NjV06IFwiZGVmaW5lU3RvcmUoKVwiIG11c3QgYmUgcGFzc2VkIGEgc3RvcmUgaWQgYXMgaXRzIGZpcnN0IGFyZ3VtZW50LmApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVzZVN0b3JlKHBpbmlhLCBob3QpIHtcbiAgICAgICAgY29uc3QgaGFzQ29udGV4dCA9IGhhc0luamVjdGlvbkNvbnRleHQoKTtcbiAgICAgICAgcGluaWEgPVxuICAgICAgICAgICAgLy8gaW4gdGVzdCBtb2RlLCBpZ25vcmUgdGhlIGFyZ3VtZW50IHByb3ZpZGVkIGFzIHdlIGNhbiBhbHdheXMgcmV0cmlldmUgYVxuICAgICAgICAgICAgLy8gcGluaWEgaW5zdGFuY2Ugd2l0aCBnZXRBY3RpdmVQaW5pYSgpXG4gICAgICAgICAgICAoKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpICYmIGFjdGl2ZVBpbmlhICYmIGFjdGl2ZVBpbmlhLl90ZXN0aW5nID8gbnVsbCA6IHBpbmlhKSB8fFxuICAgICAgICAgICAgICAgIChoYXNDb250ZXh0ID8gaW5qZWN0KHBpbmlhU3ltYm9sLCBudWxsKSA6IG51bGwpO1xuICAgICAgICBpZiAocGluaWEpXG4gICAgICAgICAgICBzZXRBY3RpdmVQaW5pYShwaW5pYSk7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWFjdGl2ZVBpbmlhKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFvwn42NXTogXCJnZXRBY3RpdmVQaW5pYSgpXCIgd2FzIGNhbGxlZCBidXQgdGhlcmUgd2FzIG5vIGFjdGl2ZSBQaW5pYS4gQXJlIHlvdSB0cnlpbmcgdG8gdXNlIGEgc3RvcmUgYmVmb3JlIGNhbGxpbmcgXCJhcHAudXNlKHBpbmlhKVwiP1xcbmAgK1xuICAgICAgICAgICAgICAgIGBTZWUgaHR0cHM6Ly9waW5pYS52dWVqcy5vcmcvY29yZS1jb25jZXB0cy9vdXRzaWRlLWNvbXBvbmVudC11c2FnZS5odG1sIGZvciBoZWxwLlxcbmAgK1xuICAgICAgICAgICAgICAgIGBUaGlzIHdpbGwgZmFpbCBpbiBwcm9kdWN0aW9uLmApO1xuICAgICAgICB9XG4gICAgICAgIHBpbmlhID0gYWN0aXZlUGluaWE7XG4gICAgICAgIGlmICghcGluaWEuX3MuaGFzKGlkKSkge1xuICAgICAgICAgICAgLy8gY3JlYXRpbmcgdGhlIHN0b3JlIHJlZ2lzdGVycyBpdCBpbiBgcGluaWEuX3NgXG4gICAgICAgICAgICBpZiAoaXNTZXR1cFN0b3JlKSB7XG4gICAgICAgICAgICAgICAgY3JlYXRlU2V0dXBTdG9yZShpZCwgc2V0dXAsIG9wdGlvbnMsIHBpbmlhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNyZWF0ZU9wdGlvbnNTdG9yZShpZCwgb3B0aW9ucywgcGluaWEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBub3QgdGhlIHJpZ2h0IGluZmVycmVkIHR5cGVcbiAgICAgICAgICAgICAgICB1c2VTdG9yZS5fcGluaWEgPSBwaW5pYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdG9yZSA9IHBpbmlhLl9zLmdldChpZCk7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaG90KSB7XG4gICAgICAgICAgICBjb25zdCBob3RJZCA9ICdfX2hvdDonICsgaWQ7XG4gICAgICAgICAgICBjb25zdCBuZXdTdG9yZSA9IGlzU2V0dXBTdG9yZVxuICAgICAgICAgICAgICAgID8gY3JlYXRlU2V0dXBTdG9yZShob3RJZCwgc2V0dXAsIG9wdGlvbnMsIHBpbmlhLCB0cnVlKVxuICAgICAgICAgICAgICAgIDogY3JlYXRlT3B0aW9uc1N0b3JlKGhvdElkLCBhc3NpZ24oe30sIG9wdGlvbnMpLCBwaW5pYSwgdHJ1ZSk7XG4gICAgICAgICAgICBob3QuX2hvdFVwZGF0ZShuZXdTdG9yZSk7XG4gICAgICAgICAgICAvLyBjbGVhbnVwIHRoZSBzdGF0ZSBwcm9wZXJ0aWVzIGFuZCB0aGUgc3RvcmUgZnJvbSB0aGUgY2FjaGVcbiAgICAgICAgICAgIGRlbGV0ZSBwaW5pYS5zdGF0ZS52YWx1ZVtob3RJZF07XG4gICAgICAgICAgICBwaW5pYS5fcy5kZWxldGUoaG90SWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgSVNfQ0xJRU5UKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50SW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICAgICAgICAgIC8vIHNhdmUgc3RvcmVzIGluIGluc3RhbmNlcyB0byBhY2Nlc3MgdGhlbSBkZXZ0b29sc1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRJbnN0YW5jZSAmJlxuICAgICAgICAgICAgICAgIGN1cnJlbnRJbnN0YW5jZS5wcm94eSAmJlxuICAgICAgICAgICAgICAgIC8vIGF2b2lkIGFkZGluZyBzdG9yZXMgdGhhdCBhcmUganVzdCBidWlsdCBmb3IgaG90IG1vZHVsZSByZXBsYWNlbWVudFxuICAgICAgICAgICAgICAgICFob3QpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2bSA9IGN1cnJlbnRJbnN0YW5jZS5wcm94eTtcbiAgICAgICAgICAgICAgICBjb25zdCBjYWNoZSA9ICdfcFN0b3JlcycgaW4gdm0gPyB2bS5fcFN0b3JlcyA6ICh2bS5fcFN0b3JlcyA9IHt9KTtcbiAgICAgICAgICAgICAgICBjYWNoZVtpZF0gPSBzdG9yZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBTdG9yZUdlbmVyaWMgY2Fubm90IGJlIGNhc3RlZCB0b3dhcmRzIFN0b3JlXG4gICAgICAgIHJldHVybiBzdG9yZTtcbiAgICB9XG4gICAgdXNlU3RvcmUuJGlkID0gaWQ7XG4gICAgcmV0dXJuIHVzZVN0b3JlO1xufVxuXG5sZXQgbWFwU3RvcmVTdWZmaXggPSAnU3RvcmUnO1xuLyoqXG4gKiBDaGFuZ2VzIHRoZSBzdWZmaXggYWRkZWQgYnkgYG1hcFN0b3JlcygpYC4gQ2FuIGJlIHNldCB0byBhbiBlbXB0eSBzdHJpbmcuXG4gKiBEZWZhdWx0cyB0byBgXCJTdG9yZVwiYC4gTWFrZSBzdXJlIHRvIGV4dGVuZCB0aGUgTWFwU3RvcmVzQ3VzdG9taXphdGlvblxuICogaW50ZXJmYWNlIGlmIHlvdSBhcmUgdXNpbmcgVHlwZVNjcmlwdC5cbiAqXG4gKiBAcGFyYW0gc3VmZml4IC0gbmV3IHN1ZmZpeFxuICovXG5mdW5jdGlvbiBzZXRNYXBTdG9yZVN1ZmZpeChzdWZmaXggLy8gY291bGQgYmUgJ1N0b3JlJyBidXQgdGhhdCB3b3VsZCBiZSBhbm5veWluZyBmb3IgSlNcbikge1xuICAgIG1hcFN0b3JlU3VmZml4ID0gc3VmZml4O1xufVxuLyoqXG4gKiBBbGxvd3MgdXNpbmcgc3RvcmVzIHdpdGhvdXQgdGhlIGNvbXBvc2l0aW9uIEFQSSAoYHNldHVwKClgKSBieSBnZW5lcmF0aW5nIGFuXG4gKiBvYmplY3QgdG8gYmUgc3ByZWFkIGluIHRoZSBgY29tcHV0ZWRgIGZpZWxkIG9mIGEgY29tcG9uZW50LiBJdCBhY2NlcHRzIGEgbGlzdFxuICogb2Ygc3RvcmUgZGVmaW5pdGlvbnMuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiBleHBvcnQgZGVmYXVsdCB7XG4gKiAgIGNvbXB1dGVkOiB7XG4gKiAgICAgLy8gb3RoZXIgY29tcHV0ZWQgcHJvcGVydGllc1xuICogICAgIC4uLm1hcFN0b3Jlcyh1c2VVc2VyU3RvcmUsIHVzZUNhcnRTdG9yZSlcbiAqICAgfSxcbiAqXG4gKiAgIGNyZWF0ZWQoKSB7XG4gKiAgICAgdGhpcy51c2VyU3RvcmUgLy8gc3RvcmUgd2l0aCBpZCBcInVzZXJcIlxuICogICAgIHRoaXMuY2FydFN0b3JlIC8vIHN0b3JlIHdpdGggaWQgXCJjYXJ0XCJcbiAqICAgfVxuICogfVxuICogYGBgXG4gKlxuICogQHBhcmFtIHN0b3JlcyAtIGxpc3Qgb2Ygc3RvcmVzIHRvIG1hcCB0byBhbiBvYmplY3RcbiAqL1xuZnVuY3Rpb24gbWFwU3RvcmVzKC4uLnN0b3Jlcykge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgQXJyYXkuaXNBcnJheShzdG9yZXNbMF0pKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgW/CfjY1dOiBEaXJlY3RseSBwYXNzIGFsbCBzdG9yZXMgdG8gXCJtYXBTdG9yZXMoKVwiIHdpdGhvdXQgcHV0dGluZyB0aGVtIGluIGFuIGFycmF5OlxcbmAgK1xuICAgICAgICAgICAgYFJlcGxhY2VcXG5gICtcbiAgICAgICAgICAgIGBcXHRtYXBTdG9yZXMoW3VzZUF1dGhTdG9yZSwgdXNlQ2FydFN0b3JlXSlcXG5gICtcbiAgICAgICAgICAgIGB3aXRoXFxuYCArXG4gICAgICAgICAgICBgXFx0bWFwU3RvcmVzKHVzZUF1dGhTdG9yZSwgdXNlQ2FydFN0b3JlKVxcbmAgK1xuICAgICAgICAgICAgYFRoaXMgd2lsbCBmYWlsIGluIHByb2R1Y3Rpb24gaWYgbm90IGZpeGVkLmApO1xuICAgICAgICBzdG9yZXMgPSBzdG9yZXNbMF07XG4gICAgfVxuICAgIHJldHVybiBzdG9yZXMucmVkdWNlKChyZWR1Y2VkLCB1c2VTdG9yZSkgPT4ge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiAkaWQgaXMgYWRkZWQgYnkgZGVmaW5lU3RvcmVcbiAgICAgICAgcmVkdWNlZFt1c2VTdG9yZS4kaWQgKyBtYXBTdG9yZVN1ZmZpeF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdXNlU3RvcmUodGhpcy4kcGluaWEpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gcmVkdWNlZDtcbiAgICB9LCB7fSk7XG59XG4vKipcbiAqIEFsbG93cyB1c2luZyBzdGF0ZSBhbmQgZ2V0dGVycyBmcm9tIG9uZSBzdG9yZSB3aXRob3V0IHVzaW5nIHRoZSBjb21wb3NpdGlvblxuICogQVBJIChgc2V0dXAoKWApIGJ5IGdlbmVyYXRpbmcgYW4gb2JqZWN0IHRvIGJlIHNwcmVhZCBpbiB0aGUgYGNvbXB1dGVkYCBmaWVsZFxuICogb2YgYSBjb21wb25lbnQuXG4gKlxuICogQHBhcmFtIHVzZVN0b3JlIC0gc3RvcmUgdG8gbWFwIGZyb21cbiAqIEBwYXJhbSBrZXlzT3JNYXBwZXIgLSBhcnJheSBvciBvYmplY3RcbiAqL1xuZnVuY3Rpb24gbWFwU3RhdGUodXNlU3RvcmUsIGtleXNPck1hcHBlcikge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGtleXNPck1hcHBlcilcbiAgICAgICAgPyBrZXlzT3JNYXBwZXIucmVkdWNlKChyZWR1Y2VkLCBrZXkpID0+IHtcbiAgICAgICAgICAgIHJlZHVjZWRba2V5XSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBGSVhNRTogc2hvdWxkIHdvcms/XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZVN0b3JlKHRoaXMuJHBpbmlhKVtrZXldO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiByZWR1Y2VkO1xuICAgICAgICB9LCB7fSlcbiAgICAgICAgOiBPYmplY3Qua2V5cyhrZXlzT3JNYXBwZXIpLnJlZHVjZSgocmVkdWNlZCwga2V5KSA9PiB7XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICByZWR1Y2VkW2tleV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSh0aGlzLiRwaW5pYSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmVLZXkgPSBrZXlzT3JNYXBwZXJba2V5XTtcbiAgICAgICAgICAgICAgICAvLyBmb3Igc29tZSByZWFzb24gVFMgaXMgdW5hYmxlIHRvIGluZmVyIHRoZSB0eXBlIG9mIHN0b3JlS2V5IHRvIGJlIGFcbiAgICAgICAgICAgICAgICAvLyBmdW5jdGlvblxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2Ygc3RvcmVLZXkgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICAgICAgPyBzdG9yZUtleS5jYWxsKHRoaXMsIHN0b3JlKVxuICAgICAgICAgICAgICAgICAgICA6IC8vIEB0cy1leHBlY3QtZXJyb3I6IEZJWE1FOiBzaG91bGQgd29yaz9cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlW3N0b3JlS2V5XTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gcmVkdWNlZDtcbiAgICAgICAgfSwge30pO1xufVxuLyoqXG4gKiBBbGlhcyBmb3IgYG1hcFN0YXRlKClgLiBZb3Ugc2hvdWxkIHVzZSBgbWFwU3RhdGUoKWAgaW5zdGVhZC5cbiAqIEBkZXByZWNhdGVkIHVzZSBgbWFwU3RhdGUoKWAgaW5zdGVhZC5cbiAqL1xuY29uc3QgbWFwR2V0dGVycyA9IG1hcFN0YXRlO1xuLyoqXG4gKiBBbGxvd3MgZGlyZWN0bHkgdXNpbmcgYWN0aW9ucyBmcm9tIHlvdXIgc3RvcmUgd2l0aG91dCB1c2luZyB0aGUgY29tcG9zaXRpb25cbiAqIEFQSSAoYHNldHVwKClgKSBieSBnZW5lcmF0aW5nIGFuIG9iamVjdCB0byBiZSBzcHJlYWQgaW4gdGhlIGBtZXRob2RzYCBmaWVsZFxuICogb2YgYSBjb21wb25lbnQuXG4gKlxuICogQHBhcmFtIHVzZVN0b3JlIC0gc3RvcmUgdG8gbWFwIGZyb21cbiAqIEBwYXJhbSBrZXlzT3JNYXBwZXIgLSBhcnJheSBvciBvYmplY3RcbiAqL1xuZnVuY3Rpb24gbWFwQWN0aW9ucyh1c2VTdG9yZSwga2V5c09yTWFwcGVyKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoa2V5c09yTWFwcGVyKVxuICAgICAgICA/IGtleXNPck1hcHBlci5yZWR1Y2UoKHJlZHVjZWQsIGtleSkgPT4ge1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgcmVkdWNlZFtrZXldID0gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBGSVhNRTogc2hvdWxkIHdvcms/XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZVN0b3JlKHRoaXMuJHBpbmlhKVtrZXldKC4uLmFyZ3MpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiByZWR1Y2VkO1xuICAgICAgICB9LCB7fSlcbiAgICAgICAgOiBPYmplY3Qua2V5cyhrZXlzT3JNYXBwZXIpLnJlZHVjZSgocmVkdWNlZCwga2V5KSA9PiB7XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICByZWR1Y2VkW2tleV0gPSBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IEZJWE1FOiBzaG91bGQgd29yaz9cbiAgICAgICAgICAgICAgICByZXR1cm4gdXNlU3RvcmUodGhpcy4kcGluaWEpW2tleXNPck1hcHBlcltrZXldXSguLi5hcmdzKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gcmVkdWNlZDtcbiAgICAgICAgfSwge30pO1xufVxuLyoqXG4gKiBBbGxvd3MgdXNpbmcgc3RhdGUgYW5kIGdldHRlcnMgZnJvbSBvbmUgc3RvcmUgd2l0aG91dCB1c2luZyB0aGUgY29tcG9zaXRpb25cbiAqIEFQSSAoYHNldHVwKClgKSBieSBnZW5lcmF0aW5nIGFuIG9iamVjdCB0byBiZSBzcHJlYWQgaW4gdGhlIGBjb21wdXRlZGAgZmllbGRcbiAqIG9mIGEgY29tcG9uZW50LlxuICpcbiAqIEBwYXJhbSB1c2VTdG9yZSAtIHN0b3JlIHRvIG1hcCBmcm9tXG4gKiBAcGFyYW0ga2V5c09yTWFwcGVyIC0gYXJyYXkgb3Igb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIG1hcFdyaXRhYmxlU3RhdGUodXNlU3RvcmUsIGtleXNPck1hcHBlcikge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGtleXNPck1hcHBlcilcbiAgICAgICAgPyBrZXlzT3JNYXBwZXIucmVkdWNlKChyZWR1Y2VkLCBrZXkpID0+IHtcbiAgICAgICAgICAgIHJlZHVjZWRba2V5XSA9IHtcbiAgICAgICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1c2VTdG9yZSh0aGlzLiRwaW5pYSlba2V5XTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHVzZVN0b3JlKHRoaXMuJHBpbmlhKVtrZXldID0gdmFsdWUpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHJlZHVjZWQ7XG4gICAgICAgIH0sIHt9KVxuICAgICAgICA6IE9iamVjdC5rZXlzKGtleXNPck1hcHBlcikucmVkdWNlKChyZWR1Y2VkLCBrZXkpID0+IHtcbiAgICAgICAgICAgIHJlZHVjZWRba2V5XSA9IHtcbiAgICAgICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1c2VTdG9yZSh0aGlzLiRwaW5pYSlba2V5c09yTWFwcGVyW2tleV1dO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAodXNlU3RvcmUodGhpcy4kcGluaWEpW2tleXNPck1hcHBlcltrZXldXSA9IHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiByZWR1Y2VkO1xuICAgICAgICB9LCB7fSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBvYmplY3Qgb2YgcmVmZXJlbmNlcyB3aXRoIGFsbCB0aGUgc3RhdGUsIGdldHRlcnMsIGFuZCBwbHVnaW4tYWRkZWRcbiAqIHN0YXRlIHByb3BlcnRpZXMgb2YgdGhlIHN0b3JlLiBTaW1pbGFyIHRvIGB0b1JlZnMoKWAgYnV0IHNwZWNpZmljYWxseVxuICogZGVzaWduZWQgZm9yIFBpbmlhIHN0b3JlcyBzbyBtZXRob2RzIGFuZCBub24gcmVhY3RpdmUgcHJvcGVydGllcyBhcmVcbiAqIGNvbXBsZXRlbHkgaWdub3JlZC5cbiAqXG4gKiBAcGFyYW0gc3RvcmUgLSBzdG9yZSB0byBleHRyYWN0IHRoZSByZWZzIGZyb21cbiAqL1xuZnVuY3Rpb24gc3RvcmVUb1JlZnMoc3RvcmUpIHtcbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3BpbmlhL2lzc3Vlcy84NTJcbiAgICAvLyBJdCdzIGVhc2llciB0byBqdXN0IHVzZSB0b1JlZnMoKSBldmVuIGlmIGl0IGluY2x1ZGVzIG1vcmUgc3R1ZmZcbiAgICBpZiAoaXNWdWUyKSB7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHRvUmVmcyBpbmNsdWRlIG1ldGhvZHMgYW5kIG90aGVyc1xuICAgICAgICByZXR1cm4gdG9SZWZzKHN0b3JlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHJhd1N0b3JlID0gdG9SYXcoc3RvcmUpO1xuICAgICAgICBjb25zdCByZWZzID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHJhd1N0b3JlKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJhd1N0b3JlW2tleV07XG4gICAgICAgICAgICAvLyBUaGVyZSBpcyBubyBuYXRpdmUgbWV0aG9kIHRvIGNoZWNrIGZvciBhIGNvbXB1dGVkXG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvY29yZS9wdWxsLzQxNjVcbiAgICAgICAgICAgIGlmICh2YWx1ZS5lZmZlY3QpIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiB0b28gaGFyZCB0byB0eXBlIGNvcnJlY3RseVxuICAgICAgICAgICAgICAgIHJlZnNba2V5XSA9XG4gICAgICAgICAgICAgICAgICAgIC8vIC4uLlxuICAgICAgICAgICAgICAgICAgICBjb21wdXRlZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IHN0b3JlW2tleV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzUmVmKHZhbHVlKSB8fCBpc1JlYWN0aXZlKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHRoZSBrZXkgaXMgc3RhdGUgb3IgZ2V0dGVyXG4gICAgICAgICAgICAgICAgcmVmc1trZXldID1cbiAgICAgICAgICAgICAgICAgICAgLy8gLS0tXG4gICAgICAgICAgICAgICAgICAgIHRvUmVmKHN0b3JlLCBrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWZzO1xuICAgIH1cbn1cblxuLyoqXG4gKiBWdWUgMiBQbHVnaW4gdGhhdCBtdXN0IGJlIGluc3RhbGxlZCBmb3IgcGluaWEgdG8gd29yay4gTm90ZSAqKnlvdSBkb24ndCBuZWVkXG4gKiB0aGlzIHBsdWdpbiBpZiB5b3UgYXJlIHVzaW5nIE51eHQuanMqKi4gVXNlIHRoZSBgYnVpbGRNb2R1bGVgIGluc3RlYWQ6XG4gKiBodHRwczovL3BpbmlhLnZ1ZWpzLm9yZy9zc3IvbnV4dC5odG1sLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogaW1wb3J0IFZ1ZSBmcm9tICd2dWUnXG4gKiBpbXBvcnQgeyBQaW5pYVZ1ZVBsdWdpbiwgY3JlYXRlUGluaWEgfSBmcm9tICdwaW5pYSdcbiAqXG4gKiBWdWUudXNlKFBpbmlhVnVlUGx1Z2luKVxuICogY29uc3QgcGluaWEgPSBjcmVhdGVQaW5pYSgpXG4gKlxuICogbmV3IFZ1ZSh7XG4gKiAgIGVsOiAnI2FwcCcsXG4gKiAgIC8vIC4uLlxuICogICBwaW5pYSxcbiAqIH0pXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gX1Z1ZSAtIGBWdWVgIGltcG9ydGVkIGZyb20gJ3Z1ZScuXG4gKi9cbmNvbnN0IFBpbmlhVnVlUGx1Z2luID0gZnVuY3Rpb24gKF9WdWUpIHtcbiAgICAvLyBFcXVpdmFsZW50IG9mXG4gICAgLy8gYXBwLmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLiRwaW5pYSA9IHBpbmlhXG4gICAgX1Z1ZS5taXhpbih7XG4gICAgICAgIGJlZm9yZUNyZWF0ZSgpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLiRvcHRpb25zO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMucGluaWEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwaW5pYSA9IG9wdGlvbnMucGluaWE7XG4gICAgICAgICAgICAgICAgLy8gSEFDSzogdGFrZW4gZnJvbSBwcm92aWRlKCk6IGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy9jb21wb3NpdGlvbi1hcGkvYmxvYi9tYWluL3NyYy9hcGlzL2luamVjdC50cyNMMzFcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fcHJvdmlkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvdmlkZUNhY2hlID0ge307XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnX3Byb3ZpZGVkJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiBwcm92aWRlQ2FjaGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXQ6ICh2KSA9PiBPYmplY3QuYXNzaWduKHByb3ZpZGVDYWNoZSwgdiksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9wcm92aWRlZFtwaW5pYVN5bWJvbF0gPSBwaW5pYTtcbiAgICAgICAgICAgICAgICAvLyBwcm9wYWdhdGUgdGhlIHBpbmlhIGluc3RhbmNlIGluIGFuIFNTUiBmcmllbmRseSB3YXlcbiAgICAgICAgICAgICAgICAvLyBhdm9pZCBhZGRpbmcgaXQgdG8gbnV4dCB0d2ljZVxuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLiRwaW5pYSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRwaW5pYSA9IHBpbmlhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwaW5pYS5fYSA9IHRoaXM7XG4gICAgICAgICAgICAgICAgaWYgKElTX0NMSUVOVCkge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGFsbG93cyBjYWxsaW5nIHVzZVN0b3JlKCkgb3V0c2lkZSBvZiBhIGNvbXBvbmVudCBzZXR1cCBhZnRlclxuICAgICAgICAgICAgICAgICAgICAvLyBpbnN0YWxsaW5nIHBpbmlhJ3MgcGx1Z2luXG4gICAgICAgICAgICAgICAgICAgIHNldEFjdGl2ZVBpbmlhKHBpbmlhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCgoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8ICh0eXBlb2YgX19WVUVfUFJPRF9ERVZUT09MU19fICE9PSAndW5kZWZpbmVkJyAmJiBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pKSAmJiAhKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpKSAmJiBJU19DTElFTlQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJQaW5pYURldnRvb2xzKHBpbmlhLl9hLCBwaW5pYSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMuJHBpbmlhICYmIG9wdGlvbnMucGFyZW50ICYmIG9wdGlvbnMucGFyZW50LiRwaW5pYSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJHBpbmlhID0gb3B0aW9ucy5wYXJlbnQuJHBpbmlhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkZXN0cm95ZWQoKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fcFN0b3JlcztcbiAgICAgICAgfSxcbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IE11dGF0aW9uVHlwZSwgUGluaWFWdWVQbHVnaW4sIGFjY2VwdEhNUlVwZGF0ZSwgY3JlYXRlUGluaWEsIGRlZmluZVN0b3JlLCBkaXNwb3NlUGluaWEsIGdldEFjdGl2ZVBpbmlhLCBtYXBBY3Rpb25zLCBtYXBHZXR0ZXJzLCBtYXBTdGF0ZSwgbWFwU3RvcmVzLCBtYXBXcml0YWJsZVN0YXRlLCBzZXRBY3RpdmVQaW5pYSwgc2V0TWFwU3RvcmVTdWZmaXgsIHNob3VsZEh5ZHJhdGUsIHNraXBIeWRyYXRlLCBzdG9yZVRvUmVmcyB9O1xuIiwiY29uc3QgY29uZmlnUHJvdmlkZXJDb250ZXh0S2V5ID0gU3ltYm9sKCk7XG5cbmV4cG9ydCB7IGNvbmZpZ1Byb3ZpZGVyQ29udGV4dEtleSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLm1qcy5tYXBcbiIsImltcG9ydCB7IGdldEN1cnJlbnRJbnN0YW5jZSwgaW5qZWN0LCByZWYsIGNvbXB1dGVkLCB1bnJlZiB9IGZyb20gJ3Z1ZSc7XG5cbmNvbnN0IGRlZmF1bHROYW1lc3BhY2UgPSBcImVsXCI7XG5jb25zdCBzdGF0ZVByZWZpeCA9IFwiaXMtXCI7XG5jb25zdCBfYmVtID0gKG5hbWVzcGFjZSwgYmxvY2ssIGJsb2NrU3VmZml4LCBlbGVtZW50LCBtb2RpZmllcikgPT4ge1xuICBsZXQgY2xzID0gYCR7bmFtZXNwYWNlfS0ke2Jsb2NrfWA7XG4gIGlmIChibG9ja1N1ZmZpeCkge1xuICAgIGNscyArPSBgLSR7YmxvY2tTdWZmaXh9YDtcbiAgfVxuICBpZiAoZWxlbWVudCkge1xuICAgIGNscyArPSBgX18ke2VsZW1lbnR9YDtcbiAgfVxuICBpZiAobW9kaWZpZXIpIHtcbiAgICBjbHMgKz0gYC0tJHttb2RpZmllcn1gO1xuICB9XG4gIHJldHVybiBjbHM7XG59O1xuY29uc3QgbmFtZXNwYWNlQ29udGV4dEtleSA9IFN5bWJvbChcIm5hbWVzcGFjZUNvbnRleHRLZXlcIik7XG5jb25zdCB1c2VHZXREZXJpdmVkTmFtZXNwYWNlID0gKG5hbWVzcGFjZU92ZXJyaWRlcykgPT4ge1xuICBjb25zdCBkZXJpdmVkTmFtZXNwYWNlID0gbmFtZXNwYWNlT3ZlcnJpZGVzIHx8IChnZXRDdXJyZW50SW5zdGFuY2UoKSA/IGluamVjdChuYW1lc3BhY2VDb250ZXh0S2V5LCByZWYoZGVmYXVsdE5hbWVzcGFjZSkpIDogcmVmKGRlZmF1bHROYW1lc3BhY2UpKTtcbiAgY29uc3QgbmFtZXNwYWNlID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIHJldHVybiB1bnJlZihkZXJpdmVkTmFtZXNwYWNlKSB8fCBkZWZhdWx0TmFtZXNwYWNlO1xuICB9KTtcbiAgcmV0dXJuIG5hbWVzcGFjZTtcbn07XG5jb25zdCB1c2VOYW1lc3BhY2UgPSAoYmxvY2ssIG5hbWVzcGFjZU92ZXJyaWRlcykgPT4ge1xuICBjb25zdCBuYW1lc3BhY2UgPSB1c2VHZXREZXJpdmVkTmFtZXNwYWNlKG5hbWVzcGFjZU92ZXJyaWRlcyk7XG4gIGNvbnN0IGIgPSAoYmxvY2tTdWZmaXggPSBcIlwiKSA9PiBfYmVtKG5hbWVzcGFjZS52YWx1ZSwgYmxvY2ssIGJsb2NrU3VmZml4LCBcIlwiLCBcIlwiKTtcbiAgY29uc3QgZSA9IChlbGVtZW50KSA9PiBlbGVtZW50ID8gX2JlbShuYW1lc3BhY2UudmFsdWUsIGJsb2NrLCBcIlwiLCBlbGVtZW50LCBcIlwiKSA6IFwiXCI7XG4gIGNvbnN0IG0gPSAobW9kaWZpZXIpID0+IG1vZGlmaWVyID8gX2JlbShuYW1lc3BhY2UudmFsdWUsIGJsb2NrLCBcIlwiLCBcIlwiLCBtb2RpZmllcikgOiBcIlwiO1xuICBjb25zdCBiZSA9IChibG9ja1N1ZmZpeCwgZWxlbWVudCkgPT4gYmxvY2tTdWZmaXggJiYgZWxlbWVudCA/IF9iZW0obmFtZXNwYWNlLnZhbHVlLCBibG9jaywgYmxvY2tTdWZmaXgsIGVsZW1lbnQsIFwiXCIpIDogXCJcIjtcbiAgY29uc3QgZW0gPSAoZWxlbWVudCwgbW9kaWZpZXIpID0+IGVsZW1lbnQgJiYgbW9kaWZpZXIgPyBfYmVtKG5hbWVzcGFjZS52YWx1ZSwgYmxvY2ssIFwiXCIsIGVsZW1lbnQsIG1vZGlmaWVyKSA6IFwiXCI7XG4gIGNvbnN0IGJtID0gKGJsb2NrU3VmZml4LCBtb2RpZmllcikgPT4gYmxvY2tTdWZmaXggJiYgbW9kaWZpZXIgPyBfYmVtKG5hbWVzcGFjZS52YWx1ZSwgYmxvY2ssIGJsb2NrU3VmZml4LCBcIlwiLCBtb2RpZmllcikgOiBcIlwiO1xuICBjb25zdCBiZW0gPSAoYmxvY2tTdWZmaXgsIGVsZW1lbnQsIG1vZGlmaWVyKSA9PiBibG9ja1N1ZmZpeCAmJiBlbGVtZW50ICYmIG1vZGlmaWVyID8gX2JlbShuYW1lc3BhY2UudmFsdWUsIGJsb2NrLCBibG9ja1N1ZmZpeCwgZWxlbWVudCwgbW9kaWZpZXIpIDogXCJcIjtcbiAgY29uc3QgaXMgPSAobmFtZSwgLi4uYXJncykgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gYXJncy5sZW5ndGggPj0gMSA/IGFyZ3NbMF0gOiB0cnVlO1xuICAgIHJldHVybiBuYW1lICYmIHN0YXRlID8gYCR7c3RhdGVQcmVmaXh9JHtuYW1lfWAgOiBcIlwiO1xuICB9O1xuICBjb25zdCBjc3NWYXIgPSAob2JqZWN0KSA9PiB7XG4gICAgY29uc3Qgc3R5bGVzID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICBpZiAob2JqZWN0W2tleV0pIHtcbiAgICAgICAgc3R5bGVzW2AtLSR7bmFtZXNwYWNlLnZhbHVlfS0ke2tleX1gXSA9IG9iamVjdFtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3R5bGVzO1xuICB9O1xuICBjb25zdCBjc3NWYXJCbG9jayA9IChvYmplY3QpID0+IHtcbiAgICBjb25zdCBzdHlsZXMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmplY3QpIHtcbiAgICAgIGlmIChvYmplY3Rba2V5XSkge1xuICAgICAgICBzdHlsZXNbYC0tJHtuYW1lc3BhY2UudmFsdWV9LSR7YmxvY2t9LSR7a2V5fWBdID0gb2JqZWN0W2tleV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHlsZXM7XG4gIH07XG4gIGNvbnN0IGNzc1Zhck5hbWUgPSAobmFtZSkgPT4gYC0tJHtuYW1lc3BhY2UudmFsdWV9LSR7bmFtZX1gO1xuICBjb25zdCBjc3NWYXJCbG9ja05hbWUgPSAobmFtZSkgPT4gYC0tJHtuYW1lc3BhY2UudmFsdWV9LSR7YmxvY2t9LSR7bmFtZX1gO1xuICByZXR1cm4ge1xuICAgIG5hbWVzcGFjZSxcbiAgICBiLFxuICAgIGUsXG4gICAgbSxcbiAgICBiZSxcbiAgICBlbSxcbiAgICBibSxcbiAgICBiZW0sXG4gICAgaXMsXG4gICAgY3NzVmFyLFxuICAgIGNzc1Zhck5hbWUsXG4gICAgY3NzVmFyQmxvY2ssXG4gICAgY3NzVmFyQmxvY2tOYW1lXG4gIH07XG59O1xuXG5leHBvcnQgeyBkZWZhdWx0TmFtZXNwYWNlLCBuYW1lc3BhY2VDb250ZXh0S2V5LCB1c2VHZXREZXJpdmVkTmFtZXNwYWNlLCB1c2VOYW1lc3BhY2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsIi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbmV4cG9ydCBkZWZhdWx0IGZyZWVHbG9iYWw7XG4iLCJpbXBvcnQgZnJlZUdsb2JhbCBmcm9tICcuL19mcmVlR2xvYmFsLmpzJztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG5leHBvcnQgZGVmYXVsdCByb290O1xuIiwiaW1wb3J0IHJvb3QgZnJvbSAnLi9fcm9vdC5qcyc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sO1xuXG5leHBvcnQgZGVmYXVsdCBTeW1ib2w7XG4iLCJpbXBvcnQgU3ltYm9sIGZyb20gJy4vX1N5bWJvbC5qcyc7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcbiAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gIHRyeSB7XG4gICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICBpZiAodW5tYXNrZWQpIHtcbiAgICBpZiAoaXNPd24pIHtcbiAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZ2V0UmF3VGFnO1xuIiwiLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IG9iamVjdFRvU3RyaW5nO1xuIiwiaW1wb3J0IFN5bWJvbCBmcm9tICcuL19TeW1ib2wuanMnO1xuaW1wb3J0IGdldFJhd1RhZyBmcm9tICcuL19nZXRSYXdUYWcuanMnO1xuaW1wb3J0IG9iamVjdFRvU3RyaW5nIGZyb20gJy4vX29iamVjdFRvU3RyaW5nLmpzJztcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXSc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgfVxuICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG4gICAgPyBnZXRSYXdUYWcodmFsdWUpXG4gICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGJhc2VHZXRUYWc7XG4iLCIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxuZXhwb3J0IGRlZmF1bHQgaXNPYmplY3RMaWtlO1xuIiwiaW1wb3J0IGJhc2VHZXRUYWcgZnJvbSAnLi9fYmFzZUdldFRhZy5qcyc7XG5pbXBvcnQgaXNPYmplY3RMaWtlIGZyb20gJy4vaXNPYmplY3RMaWtlLmpzJztcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBpc1N5bWJvbDtcbiIsIi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLm1hcGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gKiBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICovXG5mdW5jdGlvbiBhcnJheU1hcChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGFycmF5TWFwO1xuIiwiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbmV4cG9ydCBkZWZhdWx0IGlzQXJyYXk7XG4iLCJpbXBvcnQgU3ltYm9sIGZyb20gJy4vX1N5bWJvbC5qcyc7XG5pbXBvcnQgYXJyYXlNYXAgZnJvbSAnLi9fYXJyYXlNYXAuanMnO1xuaW1wb3J0IGlzQXJyYXkgZnJvbSAnLi9pc0FycmF5LmpzJztcbmltcG9ydCBpc1N5bWJvbCBmcm9tICcuL2lzU3ltYm9sLmpzJztcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgSU5GSU5JVFkgPSAxIC8gMDtcblxuLyoqIFVzZWQgdG8gY29udmVydCBzeW1ib2xzIHRvIHByaW1pdGl2ZXMgYW5kIHN0cmluZ3MuICovXG52YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgIHN5bWJvbFRvU3RyaW5nID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by50b1N0cmluZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b1N0cmluZ2Agd2hpY2ggZG9lc24ndCBjb252ZXJ0IG51bGxpc2hcbiAqIHZhbHVlcyB0byBlbXB0eSBzdHJpbmdzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBiYXNlVG9TdHJpbmcodmFsdWUpIHtcbiAgLy8gRXhpdCBlYXJseSBmb3Igc3RyaW5ncyB0byBhdm9pZCBhIHBlcmZvcm1hbmNlIGhpdCBpbiBzb21lIGVudmlyb25tZW50cy5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAvLyBSZWN1cnNpdmVseSBjb252ZXJ0IHZhbHVlcyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgIHJldHVybiBhcnJheU1hcCh2YWx1ZSwgYmFzZVRvU3RyaW5nKSArICcnO1xuICB9XG4gIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gc3ltYm9sVG9TdHJpbmcgPyBzeW1ib2xUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnO1xuICB9XG4gIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYmFzZVRvU3RyaW5nO1xuIiwiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGlzT2JqZWN0O1xuIiwiLyoqXG4gKiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSBmaXJzdCBhcmd1bWVudCBpdCByZWNlaXZlcy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHBhcmFtIHsqfSB2YWx1ZSBBbnkgdmFsdWUuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyBgdmFsdWVgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqXG4gKiBjb25zb2xlLmxvZyhfLmlkZW50aXR5KG9iamVjdCkgPT09IG9iamVjdCk7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgaWRlbnRpdHk7XG4iLCJpbXBvcnQgYmFzZUdldFRhZyBmcm9tICcuL19iYXNlR2V0VGFnLmpzJztcbmltcG9ydCBpc09iamVjdCBmcm9tICcuL2lzT2JqZWN0LmpzJztcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGFzeW5jVGFnID0gJ1tvYmplY3QgQXN5bmNGdW5jdGlvbl0nLFxuICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgcHJveHlUYWcgPSAnW29iamVjdCBQcm94eV0nO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNGdW5jdGlvbihfKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgLy8gaW4gU2FmYXJpIDkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXlzIGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gIHZhciB0YWcgPSBiYXNlR2V0VGFnKHZhbHVlKTtcbiAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWcgfHwgdGFnID09IGFzeW5jVGFnIHx8IHRhZyA9PSBwcm94eVRhZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgaXNGdW5jdGlvbjtcbiIsImltcG9ydCByb290IGZyb20gJy4vX3Jvb3QuanMnO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb3ZlcnJlYWNoaW5nIGNvcmUtanMgc2hpbXMuICovXG52YXIgY29yZUpzRGF0YSA9IHJvb3RbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXG5leHBvcnQgZGVmYXVsdCBjb3JlSnNEYXRhO1xuIiwiaW1wb3J0IGNvcmVKc0RhdGEgZnJvbSAnLi9fY29yZUpzRGF0YS5qcyc7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG52YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xufSgpKTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGlzTWFza2VkO1xuIiwiLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqXG4gKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc291cmNlIGNvZGUuXG4gKi9cbmZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpIHtcbiAgaWYgKGZ1bmMgIT0gbnVsbCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIChmdW5jICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG5leHBvcnQgZGVmYXVsdCB0b1NvdXJjZTtcbiIsImltcG9ydCBpc0Z1bmN0aW9uIGZyb20gJy4vaXNGdW5jdGlvbi5qcyc7XG5pbXBvcnQgaXNNYXNrZWQgZnJvbSAnLi9faXNNYXNrZWQuanMnO1xuaW1wb3J0IGlzT2JqZWN0IGZyb20gJy4vaXNPYmplY3QuanMnO1xuaW1wb3J0IHRvU291cmNlIGZyb20gJy4vX3RvU291cmNlLmpzJztcblxuLyoqXG4gKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAqL1xudmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xudmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xudmFyIHJlSXNOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4pO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHBhdHRlcm4gPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHJlSXNOYXRpdmUgOiByZUlzSG9zdEN0b3I7XG4gIHJldHVybiBwYXR0ZXJuLnRlc3QodG9Tb3VyY2UodmFsdWUpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYmFzZUlzTmF0aXZlO1xuIiwiLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGdldFZhbHVlO1xuIiwiaW1wb3J0IGJhc2VJc05hdGl2ZSBmcm9tICcuL19iYXNlSXNOYXRpdmUuanMnO1xuaW1wb3J0IGdldFZhbHVlIGZyb20gJy4vX2dldFZhbHVlLmpzJztcblxuLyoqXG4gKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAqL1xuZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gIHZhciB2YWx1ZSA9IGdldFZhbHVlKG9iamVjdCwga2V5KTtcbiAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZ2V0TmF0aXZlO1xuIiwiLyoqXG4gKiBBIGZhc3RlciBhbHRlcm5hdGl2ZSB0byBgRnVuY3Rpb24jYXBwbHlgLCB0aGlzIGZ1bmN0aW9uIGludm9rZXMgYGZ1bmNgXG4gKiB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBgdGhpc0FyZ2AgYW5kIHRoZSBhcmd1bWVudHMgb2YgYGFyZ3NgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gKiBAcGFyYW0geyp9IHRoaXNBcmcgVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGBmdW5jYC5cbiAqL1xuZnVuY3Rpb24gYXBwbHkoZnVuYywgdGhpc0FyZywgYXJncykge1xuICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgY2FzZSAwOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcpO1xuICAgIGNhc2UgMTogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdKTtcbiAgICBjYXNlIDI6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgY2FzZSAzOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICB9XG4gIHJldHVybiBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBhcHBseTtcbiIsIi8qKiBVc2VkIHRvIGRldGVjdCBob3QgZnVuY3Rpb25zIGJ5IG51bWJlciBvZiBjYWxscyB3aXRoaW4gYSBzcGFuIG9mIG1pbGxpc2Vjb25kcy4gKi9cbnZhciBIT1RfQ09VTlQgPSA4MDAsXG4gICAgSE9UX1NQQU4gPSAxNjtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZU5vdyA9IERhdGUubm93O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0J2xsIHNob3J0IG91dCBhbmQgaW52b2tlIGBpZGVudGl0eWAgaW5zdGVhZFxuICogb2YgYGZ1bmNgIHdoZW4gaXQncyBjYWxsZWQgYEhPVF9DT1VOVGAgb3IgbW9yZSB0aW1lcyBpbiBgSE9UX1NQQU5gXG4gKiBtaWxsaXNlY29uZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc2hvcnRhYmxlIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBzaG9ydE91dChmdW5jKSB7XG4gIHZhciBjb3VudCA9IDAsXG4gICAgICBsYXN0Q2FsbGVkID0gMDtcblxuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0YW1wID0gbmF0aXZlTm93KCksXG4gICAgICAgIHJlbWFpbmluZyA9IEhPVF9TUEFOIC0gKHN0YW1wIC0gbGFzdENhbGxlZCk7XG5cbiAgICBsYXN0Q2FsbGVkID0gc3RhbXA7XG4gICAgaWYgKHJlbWFpbmluZyA+IDApIHtcbiAgICAgIGlmICgrK2NvdW50ID49IEhPVF9DT1VOVCkge1xuICAgICAgICByZXR1cm4gYXJndW1lbnRzWzBdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb3VudCA9IDA7XG4gICAgfVxuICAgIHJldHVybiBmdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgc2hvcnRPdXQ7XG4iLCIvKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYHZhbHVlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDIuNC4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmV0dXJuIGZyb20gdGhlIG5ldyBmdW5jdGlvbi5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbnN0YW50IGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0cyA9IF8udGltZXMoMiwgXy5jb25zdGFudCh7ICdhJzogMSB9KSk7XG4gKlxuICogY29uc29sZS5sb2cob2JqZWN0cyk7XG4gKiAvLyA9PiBbeyAnYSc6IDEgfSwgeyAnYSc6IDEgfV1cbiAqXG4gKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gY29uc3RhbnQodmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY29uc3RhbnQ7XG4iLCJpbXBvcnQgZ2V0TmF0aXZlIGZyb20gJy4vX2dldE5hdGl2ZS5qcyc7XG5cbnZhciBkZWZpbmVQcm9wZXJ0eSA9IChmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICB2YXIgZnVuYyA9IGdldE5hdGl2ZShPYmplY3QsICdkZWZpbmVQcm9wZXJ0eScpO1xuICAgIGZ1bmMoe30sICcnLCB7fSk7XG4gICAgcmV0dXJuIGZ1bmM7XG4gIH0gY2F0Y2ggKGUpIHt9XG59KCkpO1xuXG5leHBvcnQgZGVmYXVsdCBkZWZpbmVQcm9wZXJ0eTtcbiIsImltcG9ydCBjb25zdGFudCBmcm9tICcuL2NvbnN0YW50LmpzJztcbmltcG9ydCBkZWZpbmVQcm9wZXJ0eSBmcm9tICcuL19kZWZpbmVQcm9wZXJ0eS5qcyc7XG5pbXBvcnQgaWRlbnRpdHkgZnJvbSAnLi9pZGVudGl0eS5qcyc7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldFRvU3RyaW5nYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAqL1xudmFyIGJhc2VTZXRUb1N0cmluZyA9ICFkZWZpbmVQcm9wZXJ0eSA/IGlkZW50aXR5IDogZnVuY3Rpb24oZnVuYywgc3RyaW5nKSB7XG4gIHJldHVybiBkZWZpbmVQcm9wZXJ0eShmdW5jLCAndG9TdHJpbmcnLCB7XG4gICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgJ2VudW1lcmFibGUnOiBmYWxzZSxcbiAgICAndmFsdWUnOiBjb25zdGFudChzdHJpbmcpLFxuICAgICd3cml0YWJsZSc6IHRydWVcbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBiYXNlU2V0VG9TdHJpbmc7XG4iLCJpbXBvcnQgYmFzZVNldFRvU3RyaW5nIGZyb20gJy4vX2Jhc2VTZXRUb1N0cmluZy5qcyc7XG5pbXBvcnQgc2hvcnRPdXQgZnJvbSAnLi9fc2hvcnRPdXQuanMnO1xuXG4vKipcbiAqIFNldHMgdGhlIGB0b1N0cmluZ2AgbWV0aG9kIG9mIGBmdW5jYCB0byByZXR1cm4gYHN0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZyBUaGUgYHRvU3RyaW5nYCByZXN1bHQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICovXG52YXIgc2V0VG9TdHJpbmcgPSBzaG9ydE91dChiYXNlU2V0VG9TdHJpbmcpO1xuXG5leHBvcnQgZGVmYXVsdCBzZXRUb1N0cmluZztcbiIsIi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG52YXIgcmVJc1VpbnQgPSAvXig/OjB8WzEtOV1cXGQqKSQvO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuXG4gIHJldHVybiAhIWxlbmd0aCAmJlxuICAgICh0eXBlID09ICdudW1iZXInIHx8XG4gICAgICAodHlwZSAhPSAnc3ltYm9sJyAmJiByZUlzVWludC50ZXN0KHZhbHVlKSkpICYmXG4gICAgICAgICh2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDwgbGVuZ3RoKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgaXNJbmRleDtcbiIsImltcG9ydCBkZWZpbmVQcm9wZXJ0eSBmcm9tICcuL19kZWZpbmVQcm9wZXJ0eS5qcyc7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGFzc2lnblZhbHVlYCBhbmQgYGFzc2lnbk1lcmdlVmFsdWVgIHdpdGhvdXRcbiAqIHZhbHVlIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICovXG5mdW5jdGlvbiBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgPT0gJ19fcHJvdG9fXycgJiYgZGVmaW5lUHJvcGVydHkpIHtcbiAgICBkZWZpbmVQcm9wZXJ0eShvYmplY3QsIGtleSwge1xuICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAnZW51bWVyYWJsZSc6IHRydWUsXG4gICAgICAndmFsdWUnOiB2YWx1ZSxcbiAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGJhc2VBc3NpZ25WYWx1ZTtcbiIsIi8qKlxuICogUGVyZm9ybXMgYVxuICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKCdhJywgJ2EnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKE5hTiwgTmFOKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBlcTtcbiIsImltcG9ydCBiYXNlQXNzaWduVmFsdWUgZnJvbSAnLi9fYmFzZUFzc2lnblZhbHVlLmpzJztcbmltcG9ydCBlcSBmcm9tICcuL2VxLmpzJztcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBBc3NpZ25zIGB2YWx1ZWAgdG8gYGtleWAgb2YgYG9iamVjdGAgaWYgdGhlIGV4aXN0aW5nIHZhbHVlIGlzIG5vdCBlcXVpdmFsZW50XG4gKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gKi9cbmZ1bmN0aW9uIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XTtcbiAgaWYgKCEoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYgZXEob2JqVmFsdWUsIHZhbHVlKSkgfHxcbiAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgYXNzaWduVmFsdWU7XG4iLCJpbXBvcnQgYXBwbHkgZnJvbSAnLi9fYXBwbHkuanMnO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlTWF4ID0gTWF0aC5tYXg7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggdHJhbnNmb3JtcyB0aGUgcmVzdCBhcnJheS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgcmVzdCBhcnJheSB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb3ZlclJlc3QoZnVuYywgc3RhcnQsIHRyYW5zZm9ybSkge1xuICBzdGFydCA9IG5hdGl2ZU1heChzdGFydCA9PT0gdW5kZWZpbmVkID8gKGZ1bmMubGVuZ3RoIC0gMSkgOiBzdGFydCwgMCk7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3MubGVuZ3RoIC0gc3RhcnQsIDApLFxuICAgICAgICBhcnJheSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYXJyYXlbaW5kZXhdID0gYXJnc1tzdGFydCArIGluZGV4XTtcbiAgICB9XG4gICAgaW5kZXggPSAtMTtcbiAgICB2YXIgb3RoZXJBcmdzID0gQXJyYXkoc3RhcnQgKyAxKTtcbiAgICB3aGlsZSAoKytpbmRleCA8IHN0YXJ0KSB7XG4gICAgICBvdGhlckFyZ3NbaW5kZXhdID0gYXJnc1tpbmRleF07XG4gICAgfVxuICAgIG90aGVyQXJnc1tzdGFydF0gPSB0cmFuc2Zvcm0oYXJyYXkpO1xuICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBvdmVyUmVzdDtcbiIsIi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0xlbmd0aCgzKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aCgnMycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJlxuICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgaXNMZW5ndGg7XG4iLCJpbXBvcnQgYmFzZUdldFRhZyBmcm9tICcuL19iYXNlR2V0VGFnLmpzJztcbmltcG9ydCBpc09iamVjdExpa2UgZnJvbSAnLi9pc09iamVjdExpa2UuanMnO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgYXJnc1RhZyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzQXJndW1lbnRzYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc0FyZ3VtZW50cyh2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBhcmdzVGFnO1xufVxuXG5leHBvcnQgZGVmYXVsdCBiYXNlSXNBcmd1bWVudHM7XG4iLCJpbXBvcnQgYmFzZUlzQXJndW1lbnRzIGZyb20gJy4vX2Jhc2VJc0FyZ3VtZW50cy5qcyc7XG5pbXBvcnQgaXNPYmplY3RMaWtlIGZyb20gJy4vaXNPYmplY3RMaWtlLmpzJztcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgcHJvcGVydHlJc0VudW1lcmFibGUgPSBvYmplY3RQcm90by5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhbMSwgMiwgM10pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQXJndW1lbnRzID0gYmFzZUlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID8gYmFzZUlzQXJndW1lbnRzIDogZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpICYmXG4gICAgIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsICdjYWxsZWUnKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGlzQXJndW1lbnRzO1xuIiwiaW1wb3J0IGlzQXJyYXkgZnJvbSAnLi9pc0FycmF5LmpzJztcbmltcG9ydCBpc1N5bWJvbCBmcm9tICcuL2lzU3ltYm9sLmpzJztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggcHJvcGVydHkgbmFtZXMgd2l0aGluIHByb3BlcnR5IHBhdGhzLiAqL1xudmFyIHJlSXNEZWVwUHJvcCA9IC9cXC58XFxbKD86W15bXFxdXSp8KFtcIiddKSg/Oig/IVxcMSlbXlxcXFxdfFxcXFwuKSo/XFwxKVxcXS8sXG4gICAgcmVJc1BsYWluUHJvcCA9IC9eXFx3KiQvO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSBhbmQgbm90IGEgcHJvcGVydHkgcGF0aC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeSBrZXlzIG9uLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5KHZhbHVlLCBvYmplY3QpIHtcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICBpZiAodHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nIHx8XG4gICAgICB2YWx1ZSA9PSBudWxsIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiByZUlzUGxhaW5Qcm9wLnRlc3QodmFsdWUpIHx8ICFyZUlzRGVlcFByb3AudGVzdCh2YWx1ZSkgfHxcbiAgICAob2JqZWN0ICE9IG51bGwgJiYgdmFsdWUgaW4gT2JqZWN0KG9iamVjdCkpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBpc0tleTtcbiIsImltcG9ydCBnZXROYXRpdmUgZnJvbSAnLi9fZ2V0TmF0aXZlLmpzJztcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xudmFyIG5hdGl2ZUNyZWF0ZSA9IGdldE5hdGl2ZShPYmplY3QsICdjcmVhdGUnKTtcblxuZXhwb3J0IGRlZmF1bHQgbmF0aXZlQ3JlYXRlO1xuIiwiaW1wb3J0IG5hdGl2ZUNyZWF0ZSBmcm9tICcuL19uYXRpdmVDcmVhdGUuanMnO1xuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgSGFzaFxuICovXG5mdW5jdGlvbiBoYXNoQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuYXRpdmVDcmVhdGUgPyBuYXRpdmVDcmVhdGUobnVsbCkgOiB7fTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgaGFzaENsZWFyO1xuIiwiLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtPYmplY3R9IGhhc2ggVGhlIGhhc2ggdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hEZWxldGUoa2V5KSB7XG4gIHZhciByZXN1bHQgPSB0aGlzLmhhcyhrZXkpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW2tleV07XG4gIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgaGFzaERlbGV0ZTtcbiIsImltcG9ydCBuYXRpdmVDcmVhdGUgZnJvbSAnLi9fbmF0aXZlQ3JlYXRlLmpzJztcblxuLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xudmFyIEhBU0hfVU5ERUZJTkVEID0gJ19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIEdldHMgdGhlIGhhc2ggdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gaGFzaEdldChrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAobmF0aXZlQ3JlYXRlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGRhdGFba2V5XTtcbiAgICByZXR1cm4gcmVzdWx0ID09PSBIQVNIX1VOREVGSU5FRCA/IHVuZGVmaW5lZCA6IHJlc3VsdDtcbiAgfVxuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpID8gZGF0YVtrZXldIDogdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBoYXNoR2V0O1xuIiwiaW1wb3J0IG5hdGl2ZUNyZWF0ZSBmcm9tICcuL19uYXRpdmVDcmVhdGUuanMnO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIENoZWNrcyBpZiBhIGhhc2ggdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hIYXMoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgcmV0dXJuIG5hdGl2ZUNyZWF0ZSA/IChkYXRhW2tleV0gIT09IHVuZGVmaW5lZCkgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGhhc2hIYXM7XG4iLCJpbXBvcnQgbmF0aXZlQ3JlYXRlIGZyb20gJy4vX25hdGl2ZUNyZWF0ZS5qcyc7XG5cbi8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbnZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuLyoqXG4gKiBTZXRzIHRoZSBoYXNoIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gaGFzaFNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgdGhpcy5zaXplICs9IHRoaXMuaGFzKGtleSkgPyAwIDogMTtcbiAgZGF0YVtrZXldID0gKG5hdGl2ZUNyZWF0ZSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IEhBU0hfVU5ERUZJTkVEIDogdmFsdWU7XG4gIHJldHVybiB0aGlzO1xufVxuXG5leHBvcnQgZGVmYXVsdCBoYXNoU2V0O1xuIiwiaW1wb3J0IGhhc2hDbGVhciBmcm9tICcuL19oYXNoQ2xlYXIuanMnO1xuaW1wb3J0IGhhc2hEZWxldGUgZnJvbSAnLi9faGFzaERlbGV0ZS5qcyc7XG5pbXBvcnQgaGFzaEdldCBmcm9tICcuL19oYXNoR2V0LmpzJztcbmltcG9ydCBoYXNoSGFzIGZyb20gJy4vX2hhc2hIYXMuanMnO1xuaW1wb3J0IGhhc2hTZXQgZnJvbSAnLi9faGFzaFNldC5qcyc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGhhc2ggb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBIYXNoKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYEhhc2hgLlxuSGFzaC5wcm90b3R5cGUuY2xlYXIgPSBoYXNoQ2xlYXI7XG5IYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlO1xuSGFzaC5wcm90b3R5cGUuZ2V0ID0gaGFzaEdldDtcbkhhc2gucHJvdG90eXBlLmhhcyA9IGhhc2hIYXM7XG5IYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0O1xuXG5leHBvcnQgZGVmYXVsdCBIYXNoO1xuIiwiLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IFtdO1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG5leHBvcnQgZGVmYXVsdCBsaXN0Q2FjaGVDbGVhcjtcbiIsImltcG9ydCBlcSBmcm9tICcuL2VxLmpzJztcblxuLyoqXG4gKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgYGtleWAgaXMgZm91bmQgaW4gYGFycmF5YCBvZiBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICogQHBhcmFtIHsqfSBrZXkgVGhlIGtleSB0byBzZWFyY2ggZm9yLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAqL1xuZnVuY3Rpb24gYXNzb2NJbmRleE9mKGFycmF5LCBrZXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgaWYgKGVxKGFycmF5W2xlbmd0aF1bMF0sIGtleSkpIHtcbiAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYXNzb2NJbmRleE9mO1xuIiwiaW1wb3J0IGFzc29jSW5kZXhPZiBmcm9tICcuL19hc3NvY0luZGV4T2YuanMnO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgc3BsaWNlID0gYXJyYXlQcm90by5zcGxpY2U7XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZURlbGV0ZShrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBsYXN0SW5kZXggPSBkYXRhLmxlbmd0aCAtIDE7XG4gIGlmIChpbmRleCA9PSBsYXN0SW5kZXgpIHtcbiAgICBkYXRhLnBvcCgpO1xuICB9IGVsc2Uge1xuICAgIHNwbGljZS5jYWxsKGRhdGEsIGluZGV4LCAxKTtcbiAgfVxuICAtLXRoaXMuc2l6ZTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGxpc3RDYWNoZURlbGV0ZTtcbiIsImltcG9ydCBhc3NvY0luZGV4T2YgZnJvbSAnLi9fYXNzb2NJbmRleE9mLmpzJztcblxuLyoqXG4gKiBHZXRzIHRoZSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiBkYXRhW2luZGV4XVsxXTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgbGlzdENhY2hlR2V0O1xuIiwiaW1wb3J0IGFzc29jSW5kZXhPZiBmcm9tICcuL19hc3NvY0luZGV4T2YuanMnO1xuXG4vKipcbiAqIENoZWNrcyBpZiBhIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gYXNzb2NJbmRleE9mKHRoaXMuX19kYXRhX18sIGtleSkgPiAtMTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgbGlzdENhY2hlSGFzO1xuIiwiaW1wb3J0IGFzc29jSW5kZXhPZiBmcm9tICcuL19hc3NvY0luZGV4T2YuanMnO1xuXG4vKipcbiAqIFNldHMgdGhlIGxpc3QgY2FjaGUgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGxpc3QgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgICsrdGhpcy5zaXplO1xuICAgIGRhdGEucHVzaChba2V5LCB2YWx1ZV0pO1xuICB9IGVsc2Uge1xuICAgIGRhdGFbaW5kZXhdWzFdID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGxpc3RDYWNoZVNldDtcbiIsImltcG9ydCBsaXN0Q2FjaGVDbGVhciBmcm9tICcuL19saXN0Q2FjaGVDbGVhci5qcyc7XG5pbXBvcnQgbGlzdENhY2hlRGVsZXRlIGZyb20gJy4vX2xpc3RDYWNoZURlbGV0ZS5qcyc7XG5pbXBvcnQgbGlzdENhY2hlR2V0IGZyb20gJy4vX2xpc3RDYWNoZUdldC5qcyc7XG5pbXBvcnQgbGlzdENhY2hlSGFzIGZyb20gJy4vX2xpc3RDYWNoZUhhcy5qcyc7XG5pbXBvcnQgbGlzdENhY2hlU2V0IGZyb20gJy4vX2xpc3RDYWNoZVNldC5qcyc7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG5MaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyID0gbGlzdENhY2hlQ2xlYXI7XG5MaXN0Q2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IGxpc3RDYWNoZURlbGV0ZTtcbkxpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuTGlzdENhY2hlLnByb3RvdHlwZS5oYXMgPSBsaXN0Q2FjaGVIYXM7XG5MaXN0Q2FjaGUucHJvdG90eXBlLnNldCA9IGxpc3RDYWNoZVNldDtcblxuZXhwb3J0IGRlZmF1bHQgTGlzdENhY2hlO1xuIiwiaW1wb3J0IGdldE5hdGl2ZSBmcm9tICcuL19nZXROYXRpdmUuanMnO1xuaW1wb3J0IHJvb3QgZnJvbSAnLi9fcm9vdC5qcyc7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbnZhciBNYXAgPSBnZXROYXRpdmUocm9vdCwgJ01hcCcpO1xuXG5leHBvcnQgZGVmYXVsdCBNYXA7XG4iLCJpbXBvcnQgSGFzaCBmcm9tICcuL19IYXNoLmpzJztcbmltcG9ydCBMaXN0Q2FjaGUgZnJvbSAnLi9fTGlzdENhY2hlLmpzJztcbmltcG9ydCBNYXAgZnJvbSAnLi9fTWFwLmpzJztcblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVDbGVhcigpIHtcbiAgdGhpcy5zaXplID0gMDtcbiAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAnaGFzaCc6IG5ldyBIYXNoLFxuICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBtYXBDYWNoZUNsZWFyO1xuIiwiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3IgdXNlIGFzIHVuaXF1ZSBvYmplY3Qga2V5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5YWJsZSh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICh0eXBlID09ICdzdHJpbmcnIHx8IHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJylcbiAgICA/ICh2YWx1ZSAhPT0gJ19fcHJvdG9fXycpXG4gICAgOiAodmFsdWUgPT09IG51bGwpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBpc0tleWFibGU7XG4iLCJpbXBvcnQgaXNLZXlhYmxlIGZyb20gJy4vX2lzS2V5YWJsZS5qcyc7XG5cbi8qKlxuICogR2V0cyB0aGUgZGF0YSBmb3IgYG1hcGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHJlZmVyZW5jZSBrZXkuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWFwIGRhdGEuXG4gKi9cbmZ1bmN0aW9uIGdldE1hcERhdGEobWFwLCBrZXkpIHtcbiAgdmFyIGRhdGEgPSBtYXAuX19kYXRhX187XG4gIHJldHVybiBpc0tleWFibGUoa2V5KVxuICAgID8gZGF0YVt0eXBlb2Yga2V5ID09ICdzdHJpbmcnID8gJ3N0cmluZycgOiAnaGFzaCddXG4gICAgOiBkYXRhLm1hcDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZ2V0TWFwRGF0YTtcbiIsImltcG9ydCBnZXRNYXBEYXRhIGZyb20gJy4vX2dldE1hcERhdGEuanMnO1xuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gIHZhciByZXN1bHQgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSlbJ2RlbGV0ZSddKGtleSk7XG4gIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgbWFwQ2FjaGVEZWxldGU7XG4iLCJpbXBvcnQgZ2V0TWFwRGF0YSBmcm9tICcuL19nZXRNYXBEYXRhLmpzJztcblxuLyoqXG4gKiBHZXRzIHRoZSBtYXAgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlR2V0KGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmdldChrZXkpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBtYXBDYWNoZUdldDtcbiIsImltcG9ydCBnZXRNYXBEYXRhIGZyb20gJy4vX2dldE1hcERhdGEuanMnO1xuXG4vKipcbiAqIENoZWNrcyBpZiBhIG1hcCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmhhcyhrZXkpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBtYXBDYWNoZUhhcztcbiIsImltcG9ydCBnZXRNYXBEYXRhIGZyb20gJy4vX2dldE1hcERhdGEuanMnO1xuXG4vKipcbiAqIFNldHMgdGhlIG1hcCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBtYXAgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSksXG4gICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICB0aGlzLnNpemUgKz0gZGF0YS5zaXplID09IHNpemUgPyAwIDogMTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbmV4cG9ydCBkZWZhdWx0IG1hcENhY2hlU2V0O1xuIiwiaW1wb3J0IG1hcENhY2hlQ2xlYXIgZnJvbSAnLi9fbWFwQ2FjaGVDbGVhci5qcyc7XG5pbXBvcnQgbWFwQ2FjaGVEZWxldGUgZnJvbSAnLi9fbWFwQ2FjaGVEZWxldGUuanMnO1xuaW1wb3J0IG1hcENhY2hlR2V0IGZyb20gJy4vX21hcENhY2hlR2V0LmpzJztcbmltcG9ydCBtYXBDYWNoZUhhcyBmcm9tICcuL19tYXBDYWNoZUhhcy5qcyc7XG5pbXBvcnQgbWFwQ2FjaGVTZXQgZnJvbSAnLi9fbWFwQ2FjaGVTZXQuanMnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXAgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTWFwQ2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTWFwQ2FjaGVgLlxuTWFwQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gbWFwQ2FjaGVDbGVhcjtcbk1hcENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBtYXBDYWNoZURlbGV0ZTtcbk1hcENhY2hlLnByb3RvdHlwZS5nZXQgPSBtYXBDYWNoZUdldDtcbk1hcENhY2hlLnByb3RvdHlwZS5oYXMgPSBtYXBDYWNoZUhhcztcbk1hcENhY2hlLnByb3RvdHlwZS5zZXQgPSBtYXBDYWNoZVNldDtcblxuZXhwb3J0IGRlZmF1bHQgTWFwQ2FjaGU7XG4iLCJpbXBvcnQgTWFwQ2FjaGUgZnJvbSAnLi9fTWFwQ2FjaGUuanMnO1xuXG4vKiogRXJyb3IgbWVzc2FnZSBjb25zdGFudHMuICovXG52YXIgRlVOQ19FUlJPUl9URVhUID0gJ0V4cGVjdGVkIGEgZnVuY3Rpb24nO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IG1lbW9pemVzIHRoZSByZXN1bHQgb2YgYGZ1bmNgLiBJZiBgcmVzb2x2ZXJgIGlzXG4gKiBwcm92aWRlZCwgaXQgZGV0ZXJtaW5lcyB0aGUgY2FjaGUga2V5IGZvciBzdG9yaW5nIHRoZSByZXN1bHQgYmFzZWQgb24gdGhlXG4gKiBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uLiBCeSBkZWZhdWx0LCB0aGUgZmlyc3QgYXJndW1lbnRcbiAqIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbiBpcyB1c2VkIGFzIHRoZSBtYXAgY2FjaGUga2V5LiBUaGUgYGZ1bmNgXG4gKiBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBtZW1vaXplZCBmdW5jdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogVGhlIGNhY2hlIGlzIGV4cG9zZWQgYXMgdGhlIGBjYWNoZWAgcHJvcGVydHkgb24gdGhlIG1lbW9pemVkXG4gKiBmdW5jdGlvbi4gSXRzIGNyZWF0aW9uIG1heSBiZSBjdXN0b21pemVkIGJ5IHJlcGxhY2luZyB0aGUgYF8ubWVtb2l6ZS5DYWNoZWBcbiAqIGNvbnN0cnVjdG9yIHdpdGggb25lIHdob3NlIGluc3RhbmNlcyBpbXBsZW1lbnQgdGhlXG4gKiBbYE1hcGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXByb3BlcnRpZXMtb2YtdGhlLW1hcC1wcm90b3R5cGUtb2JqZWN0KVxuICogbWV0aG9kIGludGVyZmFjZSBvZiBgY2xlYXJgLCBgZGVsZXRlYCwgYGdldGAsIGBoYXNgLCBhbmQgYHNldGAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBoYXZlIGl0cyBvdXRwdXQgbWVtb2l6ZWQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmVzb2x2ZXJdIFRoZSBmdW5jdGlvbiB0byByZXNvbHZlIHRoZSBjYWNoZSBrZXkuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXplZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2MnOiAzLCAnZCc6IDQgfTtcbiAqXG4gKiB2YXIgdmFsdWVzID0gXy5tZW1vaXplKF8udmFsdWVzKTtcbiAqIHZhbHVlcyhvYmplY3QpO1xuICogLy8gPT4gWzEsIDJdXG4gKlxuICogdmFsdWVzKG90aGVyKTtcbiAqIC8vID0+IFszLCA0XVxuICpcbiAqIG9iamVjdC5hID0gMjtcbiAqIHZhbHVlcyhvYmplY3QpO1xuICogLy8gPT4gWzEsIDJdXG4gKlxuICogLy8gTW9kaWZ5IHRoZSByZXN1bHQgY2FjaGUuXG4gKiB2YWx1ZXMuY2FjaGUuc2V0KG9iamVjdCwgWydhJywgJ2InXSk7XG4gKiB2YWx1ZXMob2JqZWN0KTtcbiAqIC8vID0+IFsnYScsICdiJ11cbiAqXG4gKiAvLyBSZXBsYWNlIGBfLm1lbW9pemUuQ2FjaGVgLlxuICogXy5tZW1vaXplLkNhY2hlID0gV2Vha01hcDtcbiAqL1xuZnVuY3Rpb24gbWVtb2l6ZShmdW5jLCByZXNvbHZlcikge1xuICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJyB8fCAocmVzb2x2ZXIgIT0gbnVsbCAmJiB0eXBlb2YgcmVzb2x2ZXIgIT0gJ2Z1bmN0aW9uJykpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gIH1cbiAgdmFyIG1lbW9pemVkID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgIGtleSA9IHJlc29sdmVyID8gcmVzb2x2ZXIuYXBwbHkodGhpcywgYXJncykgOiBhcmdzWzBdLFxuICAgICAgICBjYWNoZSA9IG1lbW9pemVkLmNhY2hlO1xuXG4gICAgaWYgKGNhY2hlLmhhcyhrZXkpKSB7XG4gICAgICByZXR1cm4gY2FjaGUuZ2V0KGtleSk7XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIG1lbW9pemVkLmNhY2hlID0gY2FjaGUuc2V0KGtleSwgcmVzdWx0KSB8fCBjYWNoZTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuICBtZW1vaXplZC5jYWNoZSA9IG5ldyAobWVtb2l6ZS5DYWNoZSB8fCBNYXBDYWNoZSk7XG4gIHJldHVybiBtZW1vaXplZDtcbn1cblxuLy8gRXhwb3NlIGBNYXBDYWNoZWAuXG5tZW1vaXplLkNhY2hlID0gTWFwQ2FjaGU7XG5cbmV4cG9ydCBkZWZhdWx0IG1lbW9pemU7XG4iLCJpbXBvcnQgbWVtb2l6ZSBmcm9tICcuL21lbW9pemUuanMnO1xuXG4vKiogVXNlZCBhcyB0aGUgbWF4aW11bSBtZW1vaXplIGNhY2hlIHNpemUuICovXG52YXIgTUFYX01FTU9JWkVfU0laRSA9IDUwMDtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubWVtb2l6ZWAgd2hpY2ggY2xlYXJzIHRoZSBtZW1vaXplZCBmdW5jdGlvbidzXG4gKiBjYWNoZSB3aGVuIGl0IGV4Y2VlZHMgYE1BWF9NRU1PSVpFX1NJWkVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBoYXZlIGl0cyBvdXRwdXQgbWVtb2l6ZWQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXplZCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gbWVtb2l6ZUNhcHBlZChmdW5jKSB7XG4gIHZhciByZXN1bHQgPSBtZW1vaXplKGZ1bmMsIGZ1bmN0aW9uKGtleSkge1xuICAgIGlmIChjYWNoZS5zaXplID09PSBNQVhfTUVNT0laRV9TSVpFKSB7XG4gICAgICBjYWNoZS5jbGVhcigpO1xuICAgIH1cbiAgICByZXR1cm4ga2V5O1xuICB9KTtcblxuICB2YXIgY2FjaGUgPSByZXN1bHQuY2FjaGU7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IG1lbW9pemVDYXBwZWQ7XG4iLCJpbXBvcnQgbWVtb2l6ZUNhcHBlZCBmcm9tICcuL19tZW1vaXplQ2FwcGVkLmpzJztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggcHJvcGVydHkgbmFtZXMgd2l0aGluIHByb3BlcnR5IHBhdGhzLiAqL1xudmFyIHJlUHJvcE5hbWUgPSAvW14uW1xcXV0rfFxcWyg/OigtP1xcZCsoPzpcXC5cXGQrKT8pfChbXCInXSkoKD86KD8hXFwyKVteXFxcXF18XFxcXC4pKj8pXFwyKVxcXXwoPz0oPzpcXC58XFxbXFxdKSg/OlxcLnxcXFtcXF18JCkpL2c7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIGJhY2tzbGFzaGVzIGluIHByb3BlcnR5IHBhdGhzLiAqL1xudmFyIHJlRXNjYXBlQ2hhciA9IC9cXFxcKFxcXFwpPy9nO1xuXG4vKipcbiAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIGEgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gKi9cbnZhciBzdHJpbmdUb1BhdGggPSBtZW1vaXplQ2FwcGVkKGZ1bmN0aW9uKHN0cmluZykge1xuICB2YXIgcmVzdWx0ID0gW107XG4gIGlmIChzdHJpbmcuY2hhckNvZGVBdCgwKSA9PT0gNDYgLyogLiAqLykge1xuICAgIHJlc3VsdC5wdXNoKCcnKTtcbiAgfVxuICBzdHJpbmcucmVwbGFjZShyZVByb3BOYW1lLCBmdW5jdGlvbihtYXRjaCwgbnVtYmVyLCBxdW90ZSwgc3ViU3RyaW5nKSB7XG4gICAgcmVzdWx0LnB1c2gocXVvdGUgPyBzdWJTdHJpbmcucmVwbGFjZShyZUVzY2FwZUNoYXIsICckMScpIDogKG51bWJlciB8fCBtYXRjaCkpO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBzdHJpbmdUb1BhdGg7XG4iLCJpbXBvcnQgYmFzZVRvU3RyaW5nIGZyb20gJy4vX2Jhc2VUb1N0cmluZy5qcyc7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZy4gQW4gZW1wdHkgc3RyaW5nIGlzIHJldHVybmVkIGZvciBgbnVsbGBcbiAqIGFuZCBgdW5kZWZpbmVkYCB2YWx1ZXMuIFRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b1N0cmluZyhudWxsKTtcbiAqIC8vID0+ICcnXG4gKlxuICogXy50b1N0cmluZygtMCk7XG4gKiAvLyA9PiAnLTAnXG4gKlxuICogXy50b1N0cmluZyhbMSwgMiwgM10pO1xuICogLy8gPT4gJzEsMiwzJ1xuICovXG5mdW5jdGlvbiB0b1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogYmFzZVRvU3RyaW5nKHZhbHVlKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdG9TdHJpbmc7XG4iLCJpbXBvcnQgaXNBcnJheSBmcm9tICcuL2lzQXJyYXkuanMnO1xuaW1wb3J0IGlzS2V5IGZyb20gJy4vX2lzS2V5LmpzJztcbmltcG9ydCBzdHJpbmdUb1BhdGggZnJvbSAnLi9fc3RyaW5nVG9QYXRoLmpzJztcbmltcG9ydCB0b1N0cmluZyBmcm9tICcuL3RvU3RyaW5nLmpzJztcblxuLyoqXG4gKiBDYXN0cyBgdmFsdWVgIHRvIGEgcGF0aCBhcnJheSBpZiBpdCdzIG5vdCBvbmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeSBrZXlzIG9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IHByb3BlcnR5IHBhdGggYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGNhc3RQYXRoKHZhbHVlLCBvYmplY3QpIHtcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHJldHVybiBpc0tleSh2YWx1ZSwgb2JqZWN0KSA/IFt2YWx1ZV0gOiBzdHJpbmdUb1BhdGgodG9TdHJpbmcodmFsdWUpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2FzdFBhdGg7XG4iLCJpbXBvcnQgaXNTeW1ib2wgZnJvbSAnLi9pc1N5bWJvbC5qcyc7XG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIElORklOSVRZID0gMSAvIDA7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyBrZXkgaWYgaXQncyBub3QgYSBzdHJpbmcgb3Igc3ltYm9sLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICogQHJldHVybnMge3N0cmluZ3xzeW1ib2x9IFJldHVybnMgdGhlIGtleS5cbiAqL1xuZnVuY3Rpb24gdG9LZXkodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xufVxuXG5leHBvcnQgZGVmYXVsdCB0b0tleTtcbiIsImltcG9ydCBjYXN0UGF0aCBmcm9tICcuL19jYXN0UGF0aC5qcyc7XG5pbXBvcnQgdG9LZXkgZnJvbSAnLi9fdG9LZXkuanMnO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmdldGAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWZhdWx0IHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldChvYmplY3QsIHBhdGgpIHtcbiAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgdmFyIGluZGV4ID0gMCxcbiAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoO1xuXG4gIHdoaWxlIChvYmplY3QgIT0gbnVsbCAmJiBpbmRleCA8IGxlbmd0aCkge1xuICAgIG9iamVjdCA9IG9iamVjdFt0b0tleShwYXRoW2luZGV4KytdKV07XG4gIH1cbiAgcmV0dXJuIChpbmRleCAmJiBpbmRleCA9PSBsZW5ndGgpID8gb2JqZWN0IDogdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBiYXNlR2V0O1xuIiwiLyoqXG4gKiBBcHBlbmRzIHRoZSBlbGVtZW50cyBvZiBgdmFsdWVzYCB0byBgYXJyYXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gYXBwZW5kLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gKi9cbmZ1bmN0aW9uIGFycmF5UHVzaChhcnJheSwgdmFsdWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgIG9mZnNldCA9IGFycmF5Lmxlbmd0aDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGFycmF5W29mZnNldCArIGluZGV4XSA9IHZhbHVlc1tpbmRleF07XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuXG5leHBvcnQgZGVmYXVsdCBhcnJheVB1c2g7XG4iLCJpbXBvcnQgU3ltYm9sIGZyb20gJy4vX1N5bWJvbC5qcyc7XG5pbXBvcnQgaXNBcmd1bWVudHMgZnJvbSAnLi9pc0FyZ3VtZW50cy5qcyc7XG5pbXBvcnQgaXNBcnJheSBmcm9tICcuL2lzQXJyYXkuanMnO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBzcHJlYWRhYmxlU3ltYm9sID0gU3ltYm9sID8gU3ltYm9sLmlzQ29uY2F0U3ByZWFkYWJsZSA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGZsYXR0ZW5hYmxlIGBhcmd1bWVudHNgIG9iamVjdCBvciBhcnJheS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmbGF0dGVuYWJsZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0ZsYXR0ZW5hYmxlKHZhbHVlKSB7XG4gIHJldHVybiBpc0FycmF5KHZhbHVlKSB8fCBpc0FyZ3VtZW50cyh2YWx1ZSkgfHxcbiAgICAhIShzcHJlYWRhYmxlU3ltYm9sICYmIHZhbHVlICYmIHZhbHVlW3NwcmVhZGFibGVTeW1ib2xdKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgaXNGbGF0dGVuYWJsZTtcbiIsImltcG9ydCBhcnJheVB1c2ggZnJvbSAnLi9fYXJyYXlQdXNoLmpzJztcbmltcG9ydCBpc0ZsYXR0ZW5hYmxlIGZyb20gJy4vX2lzRmxhdHRlbmFibGUuanMnO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZsYXR0ZW5gIHdpdGggc3VwcG9ydCBmb3IgcmVzdHJpY3RpbmcgZmxhdHRlbmluZy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gKiBAcGFyYW0ge251bWJlcn0gZGVwdGggVGhlIG1heGltdW0gcmVjdXJzaW9uIGRlcHRoLlxuICogQHBhcmFtIHtib29sZWFufSBbcHJlZGljYXRlPWlzRmxhdHRlbmFibGVdIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1N0cmljdF0gUmVzdHJpY3QgdG8gdmFsdWVzIHRoYXQgcGFzcyBgcHJlZGljYXRlYCBjaGVja3MuXG4gKiBAcGFyYW0ge0FycmF5fSBbcmVzdWx0PVtdXSBUaGUgaW5pdGlhbCByZXN1bHQgdmFsdWUuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGJhc2VGbGF0dGVuKGFycmF5LCBkZXB0aCwgcHJlZGljYXRlLCBpc1N0cmljdCwgcmVzdWx0KSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gIHByZWRpY2F0ZSB8fCAocHJlZGljYXRlID0gaXNGbGF0dGVuYWJsZSk7XG4gIHJlc3VsdCB8fCAocmVzdWx0ID0gW10pO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgIGlmIChkZXB0aCA+IDAgJiYgcHJlZGljYXRlKHZhbHVlKSkge1xuICAgICAgaWYgKGRlcHRoID4gMSkge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBmbGF0dGVuIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBiYXNlRmxhdHRlbih2YWx1ZSwgZGVwdGggLSAxLCBwcmVkaWNhdGUsIGlzU3RyaWN0LCByZXN1bHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXJyYXlQdXNoKHJlc3VsdCwgdmFsdWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIWlzU3RyaWN0KSB7XG4gICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aF0gPSB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYmFzZUZsYXR0ZW47XG4iLCJpbXBvcnQgYmFzZUZsYXR0ZW4gZnJvbSAnLi9fYmFzZUZsYXR0ZW4uanMnO1xuXG4vKipcbiAqIEZsYXR0ZW5zIGBhcnJheWAgYSBzaW5nbGUgbGV2ZWwgZGVlcC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgQXJyYXlcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmZsYXR0ZW4oWzEsIFsyLCBbMywgWzRdXSwgNV1dKTtcbiAqIC8vID0+IFsxLCAyLCBbMywgWzRdXSwgNV1cbiAqL1xuZnVuY3Rpb24gZmxhdHRlbihhcnJheSkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gIHJldHVybiBsZW5ndGggPyBiYXNlRmxhdHRlbihhcnJheSwgMSkgOiBbXTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZmxhdHRlbjtcbiIsImltcG9ydCBmbGF0dGVuIGZyb20gJy4vZmxhdHRlbi5qcyc7XG5pbXBvcnQgb3ZlclJlc3QgZnJvbSAnLi9fb3ZlclJlc3QuanMnO1xuaW1wb3J0IHNldFRvU3RyaW5nIGZyb20gJy4vX3NldFRvU3RyaW5nLmpzJztcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VSZXN0YCB3aGljaCBmbGF0dGVucyB0aGUgcmVzdCBhcnJheS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBmbGF0UmVzdChmdW5jKSB7XG4gIHJldHVybiBzZXRUb1N0cmluZyhvdmVyUmVzdChmdW5jLCB1bmRlZmluZWQsIGZsYXR0ZW4pLCBmdW5jICsgJycpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmbGF0UmVzdDtcbiIsIi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaGFzSW5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge0FycmF5fHN0cmluZ30ga2V5IFRoZSBrZXkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VIYXNJbihvYmplY3QsIGtleSkge1xuICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYga2V5IGluIE9iamVjdChvYmplY3QpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBiYXNlSGFzSW47XG4iLCJpbXBvcnQgY2FzdFBhdGggZnJvbSAnLi9fY2FzdFBhdGguanMnO1xuaW1wb3J0IGlzQXJndW1lbnRzIGZyb20gJy4vaXNBcmd1bWVudHMuanMnO1xuaW1wb3J0IGlzQXJyYXkgZnJvbSAnLi9pc0FycmF5LmpzJztcbmltcG9ydCBpc0luZGV4IGZyb20gJy4vX2lzSW5kZXguanMnO1xuaW1wb3J0IGlzTGVuZ3RoIGZyb20gJy4vaXNMZW5ndGguanMnO1xuaW1wb3J0IHRvS2V5IGZyb20gJy4vX3RvS2V5LmpzJztcblxuLyoqXG4gKiBDaGVja3MgaWYgYHBhdGhgIGV4aXN0cyBvbiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gY2hlY2suXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYXNGdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjayBwcm9wZXJ0aWVzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzUGF0aChvYmplY3QsIHBhdGgsIGhhc0Z1bmMpIHtcbiAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aCxcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGtleSA9IHRvS2V5KHBhdGhbaW5kZXhdKTtcbiAgICBpZiAoIShyZXN1bHQgPSBvYmplY3QgIT0gbnVsbCAmJiBoYXNGdW5jKG9iamVjdCwga2V5KSkpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBvYmplY3QgPSBvYmplY3Rba2V5XTtcbiAgfVxuICBpZiAocmVzdWx0IHx8ICsraW5kZXggIT0gbGVuZ3RoKSB7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBsZW5ndGggPSBvYmplY3QgPT0gbnVsbCA/IDAgOiBvYmplY3QubGVuZ3RoO1xuICByZXR1cm4gISFsZW5ndGggJiYgaXNMZW5ndGgobGVuZ3RoKSAmJiBpc0luZGV4KGtleSwgbGVuZ3RoKSAmJlxuICAgIChpc0FycmF5KG9iamVjdCkgfHwgaXNBcmd1bWVudHMob2JqZWN0KSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGhhc1BhdGg7XG4iLCJpbXBvcnQgYmFzZUhhc0luIGZyb20gJy4vX2Jhc2VIYXNJbi5qcyc7XG5pbXBvcnQgaGFzUGF0aCBmcm9tICcuL19oYXNQYXRoLmpzJztcblxuLyoqXG4gKiBDaGVja3MgaWYgYHBhdGhgIGlzIGEgZGlyZWN0IG9yIGluaGVyaXRlZCBwcm9wZXJ0eSBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSBfLmNyZWF0ZSh7ICdhJzogXy5jcmVhdGUoeyAnYic6IDIgfSkgfSk7XG4gKlxuICogXy5oYXNJbihvYmplY3QsICdhJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5oYXNJbihvYmplY3QsICdhLmInKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmhhc0luKG9iamVjdCwgWydhJywgJ2InXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5oYXNJbihvYmplY3QsICdiJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBoYXNJbihvYmplY3QsIHBhdGgpIHtcbiAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBiYXNlSGFzSW4pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBoYXNJbjtcbiIsIi8qKlxuICogVGhlIGludmVyc2Ugb2YgYF8udG9QYWlyc2A7IHRoaXMgbWV0aG9kIHJldHVybnMgYW4gb2JqZWN0IGNvbXBvc2VkXG4gKiBmcm9tIGtleS12YWx1ZSBgcGFpcnNgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBBcnJheVxuICogQHBhcmFtIHtBcnJheX0gcGFpcnMgVGhlIGtleS12YWx1ZSBwYWlycy5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uZnJvbVBhaXJzKFtbJ2EnLCAxXSwgWydiJywgMl1dKTtcbiAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICovXG5mdW5jdGlvbiBmcm9tUGFpcnMocGFpcnMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBwYWlycyA9PSBudWxsID8gMCA6IHBhaXJzLmxlbmd0aCxcbiAgICAgIHJlc3VsdCA9IHt9O1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIHBhaXIgPSBwYWlyc1tpbmRleF07XG4gICAgcmVzdWx0W3BhaXJbMF1dID0gcGFpclsxXTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmcm9tUGFpcnM7XG4iLCJpbXBvcnQgYXNzaWduVmFsdWUgZnJvbSAnLi9fYXNzaWduVmFsdWUuanMnO1xuaW1wb3J0IGNhc3RQYXRoIGZyb20gJy4vX2Nhc3RQYXRoLmpzJztcbmltcG9ydCBpc0luZGV4IGZyb20gJy4vX2lzSW5kZXguanMnO1xuaW1wb3J0IGlzT2JqZWN0IGZyb20gJy4vaXNPYmplY3QuanMnO1xuaW1wb3J0IHRvS2V5IGZyb20gJy4vX3RvS2V5LmpzJztcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zZXRgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIHBhdGggY3JlYXRpb24uXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICovXG5mdW5jdGlvbiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfVxuICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoLFxuICAgICAgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMSxcbiAgICAgIG5lc3RlZCA9IG9iamVjdDtcblxuICB3aGlsZSAobmVzdGVkICE9IG51bGwgJiYgKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBrZXkgPSB0b0tleShwYXRoW2luZGV4XSksXG4gICAgICAgIG5ld1ZhbHVlID0gdmFsdWU7XG5cbiAgICBpZiAoa2V5ID09PSAnX19wcm90b19fJyB8fCBrZXkgPT09ICdjb25zdHJ1Y3RvcicgfHwga2V5ID09PSAncHJvdG90eXBlJykge1xuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICBpZiAoaW5kZXggIT0gbGFzdEluZGV4KSB7XG4gICAgICB2YXIgb2JqVmFsdWUgPSBuZXN0ZWRba2V5XTtcbiAgICAgIG5ld1ZhbHVlID0gY3VzdG9taXplciA/IGN1c3RvbWl6ZXIob2JqVmFsdWUsIGtleSwgbmVzdGVkKSA6IHVuZGVmaW5lZDtcbiAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG5ld1ZhbHVlID0gaXNPYmplY3Qob2JqVmFsdWUpXG4gICAgICAgICAgPyBvYmpWYWx1ZVxuICAgICAgICAgIDogKGlzSW5kZXgocGF0aFtpbmRleCArIDFdKSA/IFtdIDoge30pO1xuICAgICAgfVxuICAgIH1cbiAgICBhc3NpZ25WYWx1ZShuZXN0ZWQsIGtleSwgbmV3VmFsdWUpO1xuICAgIG5lc3RlZCA9IG5lc3RlZFtrZXldO1xuICB9XG4gIHJldHVybiBvYmplY3Q7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGJhc2VTZXQ7XG4iLCJpbXBvcnQgYmFzZUdldCBmcm9tICcuL19iYXNlR2V0LmpzJztcbmltcG9ydCBiYXNlU2V0IGZyb20gJy4vX2Jhc2VTZXQuanMnO1xuaW1wb3J0IGNhc3RQYXRoIGZyb20gJy4vX2Nhc3RQYXRoLmpzJztcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiAgYF8ucGlja0J5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgcHJvcGVydHkuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICovXG5mdW5jdGlvbiBiYXNlUGlja0J5KG9iamVjdCwgcGF0aHMsIHByZWRpY2F0ZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgIHJlc3VsdCA9IHt9O1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIHBhdGggPSBwYXRoc1tpbmRleF0sXG4gICAgICAgIHZhbHVlID0gYmFzZUdldChvYmplY3QsIHBhdGgpO1xuXG4gICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgcGF0aCkpIHtcbiAgICAgIGJhc2VTZXQocmVzdWx0LCBjYXN0UGF0aChwYXRoLCBvYmplY3QpLCB2YWx1ZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGJhc2VQaWNrQnk7XG4iLCJpbXBvcnQgYmFzZVBpY2tCeSBmcm9tICcuL19iYXNlUGlja0J5LmpzJztcbmltcG9ydCBoYXNJbiBmcm9tICcuL2hhc0luLmpzJztcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5waWNrYCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAqIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICogQHBhcmFtIHtzdHJpbmdbXX0gcGF0aHMgVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICovXG5mdW5jdGlvbiBiYXNlUGljayhvYmplY3QsIHBhdGhzKSB7XG4gIHJldHVybiBiYXNlUGlja0J5KG9iamVjdCwgcGF0aHMsIGZ1bmN0aW9uKHZhbHVlLCBwYXRoKSB7XG4gICAgcmV0dXJuIGhhc0luKG9iamVjdCwgcGF0aCk7XG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBiYXNlUGljaztcbiIsImltcG9ydCBiYXNlUGljayBmcm9tICcuL19iYXNlUGljay5qcyc7XG5pbXBvcnQgZmxhdFJlc3QgZnJvbSAnLi9fZmxhdFJlc3QuanMnO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBwaWNrZWQgYG9iamVjdGAgcHJvcGVydGllcy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICpcbiAqIF8ucGljayhvYmplY3QsIFsnYScsICdjJ10pO1xuICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gKi9cbnZhciBwaWNrID0gZmxhdFJlc3QoZnVuY3Rpb24ob2JqZWN0LCBwYXRocykge1xuICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB7fSA6IGJhc2VQaWNrKG9iamVjdCwgcGF0aHMpO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHBpY2s7XG4iLCJpbXBvcnQgeyBpc0FycmF5LCBpc09iamVjdCwgaXNTdHJpbmcgfSBmcm9tICdAdnVlL3NoYXJlZCc7XG5leHBvcnQgeyBpc0FycmF5LCBpc0RhdGUsIGlzRnVuY3Rpb24sIGlzT2JqZWN0LCBpc1BsYWluT2JqZWN0LCBpc1Byb21pc2UsIGlzU3RyaW5nLCBpc1N5bWJvbCB9IGZyb20gJ0B2dWUvc2hhcmVkJztcbmltcG9ydCB7IGlzTmlsIH0gZnJvbSAnbG9kYXNoLXVuaWZpZWQnO1xuXG5jb25zdCBpc1VuZGVmaW5lZCA9ICh2YWwpID0+IHZhbCA9PT0gdm9pZCAwO1xuY29uc3QgaXNCb29sZWFuID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gXCJib29sZWFuXCI7XG5jb25zdCBpc051bWJlciA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCI7XG5jb25zdCBpc0VtcHR5ID0gKHZhbCkgPT4gIXZhbCAmJiB2YWwgIT09IDAgfHwgaXNBcnJheSh2YWwpICYmIHZhbC5sZW5ndGggPT09IDAgfHwgaXNPYmplY3QodmFsKSAmJiAhT2JqZWN0LmtleXModmFsKS5sZW5ndGg7XG5jb25zdCBpc0VsZW1lbnQgPSAoZSkgPT4ge1xuICBpZiAodHlwZW9mIEVsZW1lbnQgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gZSBpbnN0YW5jZW9mIEVsZW1lbnQ7XG59O1xuY29uc3QgaXNQcm9wQWJzZW50ID0gKHByb3ApID0+IGlzTmlsKHByb3ApO1xuY29uc3QgaXNTdHJpbmdOdW1iZXIgPSAodmFsKSA9PiB7XG4gIGlmICghaXNTdHJpbmcodmFsKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gIU51bWJlci5pc05hTihOdW1iZXIodmFsKSk7XG59O1xuY29uc3QgaXNXaW5kb3cgPSAodmFsKSA9PiB2YWwgPT09IHdpbmRvdztcblxuZXhwb3J0IHsgaXNCb29sZWFuLCBpc0VsZW1lbnQsIGlzRW1wdHksIGlzTnVtYmVyLCBpc1Byb3BBYnNlbnQsIGlzU3RyaW5nTnVtYmVyLCBpc1VuZGVmaW5lZCwgaXNXaW5kb3cgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXR5cGVzLm1qcy5tYXBcbiIsImltcG9ydCB7IHNoYWxsb3dSZWYsIHdhdGNoRWZmZWN0LCByZWFkb25seSwgdW5yZWYsIHJlZiwgaXNWdWUzLCB2ZXJzaW9uLCB3YXRjaCwgY3VzdG9tUmVmLCBnZXRDdXJyZW50U2NvcGUsIG9uU2NvcGVEaXNwb3NlLCBlZmZlY3RTY29wZSwgcHJvdmlkZSwgaW5qZWN0LCBpc1JlZiwgY29tcHV0ZWQsIHJlYWN0aXZlLCB0b1JlZnMgYXMgdG9SZWZzJDEsIHRvUmVmLCBpc1Z1ZTIsIHNldCBhcyBzZXQkMSwgZ2V0Q3VycmVudEluc3RhbmNlLCBvbkJlZm9yZU1vdW50LCBuZXh0VGljaywgb25CZWZvcmVVbm1vdW50LCBvbk1vdW50ZWQsIG9uVW5tb3VudGVkLCBpc1JlYWN0aXZlIH0gZnJvbSAndnVlLWRlbWknO1xuXG52YXIgX19kZWZQcm9wJDkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZQcm9wcyQ2ID0gT2JqZWN0LmRlZmluZVByb3BlcnRpZXM7XG52YXIgX19nZXRPd25Qcm9wRGVzY3MkNiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzO1xudmFyIF9fZ2V0T3duUHJvcFN5bWJvbHMkYiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgX19oYXNPd25Qcm9wJGIgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fcHJvcElzRW51bSRiID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBfX2RlZk5vcm1hbFByb3AkOSA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3AkOShvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19zcHJlYWRWYWx1ZXMkOSA9IChhLCBiKSA9PiB7XG4gIGZvciAodmFyIHByb3AgaW4gYiB8fCAoYiA9IHt9KSlcbiAgICBpZiAoX19oYXNPd25Qcm9wJGIuY2FsbChiLCBwcm9wKSlcbiAgICAgIF9fZGVmTm9ybWFsUHJvcCQ5KGEsIHByb3AsIGJbcHJvcF0pO1xuICBpZiAoX19nZXRPd25Qcm9wU3ltYm9scyRiKVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyRiKGIpKSB7XG4gICAgICBpZiAoX19wcm9wSXNFbnVtJGIuY2FsbChiLCBwcm9wKSlcbiAgICAgICAgX19kZWZOb3JtYWxQcm9wJDkoYSwgcHJvcCwgYltwcm9wXSk7XG4gICAgfVxuICByZXR1cm4gYTtcbn07XG52YXIgX19zcHJlYWRQcm9wcyQ2ID0gKGEsIGIpID0+IF9fZGVmUHJvcHMkNihhLCBfX2dldE93blByb3BEZXNjcyQ2KGIpKTtcbmZ1bmN0aW9uIGNvbXB1dGVkRWFnZXIoZm4sIG9wdGlvbnMpIHtcbiAgdmFyIF9hO1xuICBjb25zdCByZXN1bHQgPSBzaGFsbG93UmVmKCk7XG4gIHdhdGNoRWZmZWN0KCgpID0+IHtcbiAgICByZXN1bHQudmFsdWUgPSBmbigpO1xuICB9LCBfX3NwcmVhZFByb3BzJDYoX19zcHJlYWRWYWx1ZXMkOSh7fSwgb3B0aW9ucyksIHtcbiAgICBmbHVzaDogKF9hID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5mbHVzaCkgIT0gbnVsbCA/IF9hIDogXCJzeW5jXCJcbiAgfSkpO1xuICByZXR1cm4gcmVhZG9ubHkocmVzdWx0KTtcbn1cblxudmFyIF9hO1xuY29uc3QgaXNDbGllbnQgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiO1xuY29uc3QgaXNEZWYgPSAodmFsKSA9PiB0eXBlb2YgdmFsICE9PSBcInVuZGVmaW5lZFwiO1xuY29uc3QgYXNzZXJ0ID0gKGNvbmRpdGlvbiwgLi4uaW5mb3MpID0+IHtcbiAgaWYgKCFjb25kaXRpb24pXG4gICAgY29uc29sZS53YXJuKC4uLmluZm9zKTtcbn07XG5jb25zdCB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5jb25zdCBpc0Jvb2xlYW4gPSAodmFsKSA9PiB0eXBlb2YgdmFsID09PSBcImJvb2xlYW5cIjtcbmNvbnN0IGlzRnVuY3Rpb24gPSAodmFsKSA9PiB0eXBlb2YgdmFsID09PSBcImZ1bmN0aW9uXCI7XG5jb25zdCBpc051bWJlciA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCI7XG5jb25zdCBpc1N0cmluZyA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCI7XG5jb25zdCBpc09iamVjdCA9ICh2YWwpID0+IHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIjtcbmNvbnN0IGlzV2luZG93ID0gKHZhbCkgPT4gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0b1N0cmluZy5jYWxsKHZhbCkgPT09IFwiW29iamVjdCBXaW5kb3ddXCI7XG5jb25zdCBub3cgPSAoKSA9PiBEYXRlLm5vdygpO1xuY29uc3QgdGltZXN0YW1wID0gKCkgPT4gK0RhdGUubm93KCk7XG5jb25zdCBjbGFtcCA9IChuLCBtaW4sIG1heCkgPT4gTWF0aC5taW4obWF4LCBNYXRoLm1heChtaW4sIG4pKTtcbmNvbnN0IG5vb3AgPSAoKSA9PiB7XG59O1xuY29uc3QgcmFuZCA9IChtaW4sIG1heCkgPT4ge1xuICBtaW4gPSBNYXRoLmNlaWwobWluKTtcbiAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcbn07XG5jb25zdCBpc0lPUyA9IGlzQ2xpZW50ICYmICgoX2EgPSB3aW5kb3cgPT0gbnVsbCA/IHZvaWQgMCA6IHdpbmRvdy5uYXZpZ2F0b3IpID09IG51bGwgPyB2b2lkIDAgOiBfYS51c2VyQWdlbnQpICYmIC9pUChhZHxob25lfG9kKS8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5jb25zdCBoYXNPd24gPSAodmFsLCBrZXkpID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh2YWwsIGtleSk7XG5cbmZ1bmN0aW9uIHJlc29sdmVVbnJlZihyKSB7XG4gIHJldHVybiB0eXBlb2YgciA9PT0gXCJmdW5jdGlvblwiID8gcigpIDogdW5yZWYocik7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZpbHRlcldyYXBwZXIoZmlsdGVyLCBmbikge1xuICBmdW5jdGlvbiB3cmFwcGVyKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgUHJvbWlzZS5yZXNvbHZlKGZpbHRlcigoKSA9PiBmbi5hcHBseSh0aGlzLCBhcmdzKSwgeyBmbiwgdGhpc0FyZzogdGhpcywgYXJncyB9KSkudGhlbihyZXNvbHZlKS5jYXRjaChyZWplY3QpO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiB3cmFwcGVyO1xufVxuY29uc3QgYnlwYXNzRmlsdGVyID0gKGludm9rZSkgPT4ge1xuICByZXR1cm4gaW52b2tlKCk7XG59O1xuZnVuY3Rpb24gZGVib3VuY2VGaWx0ZXIobXMsIG9wdGlvbnMgPSB7fSkge1xuICBsZXQgdGltZXI7XG4gIGxldCBtYXhUaW1lcjtcbiAgbGV0IGxhc3RSZWplY3RvciA9IG5vb3A7XG4gIGNvbnN0IF9jbGVhclRpbWVvdXQgPSAodGltZXIyKSA9PiB7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVyMik7XG4gICAgbGFzdFJlamVjdG9yKCk7XG4gICAgbGFzdFJlamVjdG9yID0gbm9vcDtcbiAgfTtcbiAgY29uc3QgZmlsdGVyID0gKGludm9rZSkgPT4ge1xuICAgIGNvbnN0IGR1cmF0aW9uID0gcmVzb2x2ZVVucmVmKG1zKTtcbiAgICBjb25zdCBtYXhEdXJhdGlvbiA9IHJlc29sdmVVbnJlZihvcHRpb25zLm1heFdhaXQpO1xuICAgIGlmICh0aW1lcilcbiAgICAgIF9jbGVhclRpbWVvdXQodGltZXIpO1xuICAgIGlmIChkdXJhdGlvbiA8PSAwIHx8IG1heER1cmF0aW9uICE9PSB2b2lkIDAgJiYgbWF4RHVyYXRpb24gPD0gMCkge1xuICAgICAgaWYgKG1heFRpbWVyKSB7XG4gICAgICAgIF9jbGVhclRpbWVvdXQobWF4VGltZXIpO1xuICAgICAgICBtYXhUaW1lciA9IG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGludm9rZSgpKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGxhc3RSZWplY3RvciA9IG9wdGlvbnMucmVqZWN0T25DYW5jZWwgPyByZWplY3QgOiByZXNvbHZlO1xuICAgICAgaWYgKG1heER1cmF0aW9uICYmICFtYXhUaW1lcikge1xuICAgICAgICBtYXhUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGlmICh0aW1lcilcbiAgICAgICAgICAgIF9jbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICAgIG1heFRpbWVyID0gbnVsbDtcbiAgICAgICAgICByZXNvbHZlKGludm9rZSgpKTtcbiAgICAgICAgfSwgbWF4RHVyYXRpb24pO1xuICAgICAgfVxuICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKG1heFRpbWVyKVxuICAgICAgICAgIF9jbGVhclRpbWVvdXQobWF4VGltZXIpO1xuICAgICAgICBtYXhUaW1lciA9IG51bGw7XG4gICAgICAgIHJlc29sdmUoaW52b2tlKCkpO1xuICAgICAgfSwgZHVyYXRpb24pO1xuICAgIH0pO1xuICB9O1xuICByZXR1cm4gZmlsdGVyO1xufVxuZnVuY3Rpb24gdGhyb3R0bGVGaWx0ZXIobXMsIHRyYWlsaW5nID0gdHJ1ZSwgbGVhZGluZyA9IHRydWUsIHJlamVjdE9uQ2FuY2VsID0gZmFsc2UpIHtcbiAgbGV0IGxhc3RFeGVjID0gMDtcbiAgbGV0IHRpbWVyO1xuICBsZXQgaXNMZWFkaW5nID0gdHJ1ZTtcbiAgbGV0IGxhc3RSZWplY3RvciA9IG5vb3A7XG4gIGxldCBsYXN0VmFsdWU7XG4gIGNvbnN0IGNsZWFyID0gKCkgPT4ge1xuICAgIGlmICh0aW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgIHRpbWVyID0gdm9pZCAwO1xuICAgICAgbGFzdFJlamVjdG9yKCk7XG4gICAgICBsYXN0UmVqZWN0b3IgPSBub29wO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgZmlsdGVyID0gKF9pbnZva2UpID0+IHtcbiAgICBjb25zdCBkdXJhdGlvbiA9IHJlc29sdmVVbnJlZihtcyk7XG4gICAgY29uc3QgZWxhcHNlZCA9IERhdGUubm93KCkgLSBsYXN0RXhlYztcbiAgICBjb25zdCBpbnZva2UgPSAoKSA9PiB7XG4gICAgICByZXR1cm4gbGFzdFZhbHVlID0gX2ludm9rZSgpO1xuICAgIH07XG4gICAgY2xlYXIoKTtcbiAgICBpZiAoZHVyYXRpb24gPD0gMCkge1xuICAgICAgbGFzdEV4ZWMgPSBEYXRlLm5vdygpO1xuICAgICAgcmV0dXJuIGludm9rZSgpO1xuICAgIH1cbiAgICBpZiAoZWxhcHNlZCA+IGR1cmF0aW9uICYmIChsZWFkaW5nIHx8ICFpc0xlYWRpbmcpKSB7XG4gICAgICBsYXN0RXhlYyA9IERhdGUubm93KCk7XG4gICAgICBpbnZva2UoKTtcbiAgICB9IGVsc2UgaWYgKHRyYWlsaW5nKSB7XG4gICAgICBsYXN0VmFsdWUgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGxhc3RSZWplY3RvciA9IHJlamVjdE9uQ2FuY2VsID8gcmVqZWN0IDogcmVzb2x2ZTtcbiAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBsYXN0RXhlYyA9IERhdGUubm93KCk7XG4gICAgICAgICAgaXNMZWFkaW5nID0gdHJ1ZTtcbiAgICAgICAgICByZXNvbHZlKGludm9rZSgpKTtcbiAgICAgICAgICBjbGVhcigpO1xuICAgICAgICB9LCBNYXRoLm1heCgwLCBkdXJhdGlvbiAtIGVsYXBzZWQpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoIWxlYWRpbmcgJiYgIXRpbWVyKVxuICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IGlzTGVhZGluZyA9IHRydWUsIGR1cmF0aW9uKTtcbiAgICBpc0xlYWRpbmcgPSBmYWxzZTtcbiAgICByZXR1cm4gbGFzdFZhbHVlO1xuICB9O1xuICByZXR1cm4gZmlsdGVyO1xufVxuZnVuY3Rpb24gcGF1c2FibGVGaWx0ZXIoZXh0ZW5kRmlsdGVyID0gYnlwYXNzRmlsdGVyKSB7XG4gIGNvbnN0IGlzQWN0aXZlID0gcmVmKHRydWUpO1xuICBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICBpc0FjdGl2ZS52YWx1ZSA9IGZhbHNlO1xuICB9XG4gIGZ1bmN0aW9uIHJlc3VtZSgpIHtcbiAgICBpc0FjdGl2ZS52YWx1ZSA9IHRydWU7XG4gIH1cbiAgY29uc3QgZXZlbnRGaWx0ZXIgPSAoLi4uYXJncykgPT4ge1xuICAgIGlmIChpc0FjdGl2ZS52YWx1ZSlcbiAgICAgIGV4dGVuZEZpbHRlciguLi5hcmdzKTtcbiAgfTtcbiAgcmV0dXJuIHsgaXNBY3RpdmU6IHJlYWRvbmx5KGlzQWN0aXZlKSwgcGF1c2UsIHJlc3VtZSwgZXZlbnRGaWx0ZXIgfTtcbn1cblxuZnVuY3Rpb24gX19vbmx5VnVlMyhuYW1lID0gXCJ0aGlzIGZ1bmN0aW9uXCIpIHtcbiAgaWYgKGlzVnVlMylcbiAgICByZXR1cm47XG4gIHRocm93IG5ldyBFcnJvcihgW1Z1ZVVzZV0gJHtuYW1lfSBpcyBvbmx5IHdvcmtzIG9uIFZ1ZSAzLmApO1xufVxuZnVuY3Rpb24gX19vbmx5VnVlMjdQbHVzKG5hbWUgPSBcInRoaXMgZnVuY3Rpb25cIikge1xuICBpZiAoaXNWdWUzIHx8IHZlcnNpb24uc3RhcnRzV2l0aChcIjIuNy5cIikpXG4gICAgcmV0dXJuO1xuICB0aHJvdyBuZXcgRXJyb3IoYFtWdWVVc2VdICR7bmFtZX0gaXMgb25seSB3b3JrcyBvbiBWdWUgMi43IG9yIGFib3ZlLmApO1xufVxuY29uc3QgZGlyZWN0aXZlSG9va3MgPSB7XG4gIG1vdW50ZWQ6IGlzVnVlMyA/IFwibW91bnRlZFwiIDogXCJpbnNlcnRlZFwiLFxuICB1cGRhdGVkOiBpc1Z1ZTMgPyBcInVwZGF0ZWRcIiA6IFwiY29tcG9uZW50VXBkYXRlZFwiLFxuICB1bm1vdW50ZWQ6IGlzVnVlMyA/IFwidW5tb3VudGVkXCIgOiBcInVuYmluZFwiXG59O1xuXG5mdW5jdGlvbiBwcm9taXNlVGltZW91dChtcywgdGhyb3dPblRpbWVvdXQgPSBmYWxzZSwgcmVhc29uID0gXCJUaW1lb3V0XCIpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBpZiAodGhyb3dPblRpbWVvdXQpXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHJlamVjdChyZWFzb24pLCBtcyk7XG4gICAgZWxzZVxuICAgICAgc2V0VGltZW91dChyZXNvbHZlLCBtcyk7XG4gIH0pO1xufVxuZnVuY3Rpb24gaWRlbnRpdHkoYXJnKSB7XG4gIHJldHVybiBhcmc7XG59XG5mdW5jdGlvbiBjcmVhdGVTaW5nbGV0b25Qcm9taXNlKGZuKSB7XG4gIGxldCBfcHJvbWlzZTtcbiAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICBpZiAoIV9wcm9taXNlKVxuICAgICAgX3Byb21pc2UgPSBmbigpO1xuICAgIHJldHVybiBfcHJvbWlzZTtcbiAgfVxuICB3cmFwcGVyLnJlc2V0ID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IF9wcmV2ID0gX3Byb21pc2U7XG4gICAgX3Byb21pc2UgPSB2b2lkIDA7XG4gICAgaWYgKF9wcmV2KVxuICAgICAgYXdhaXQgX3ByZXY7XG4gIH07XG4gIHJldHVybiB3cmFwcGVyO1xufVxuZnVuY3Rpb24gaW52b2tlKGZuKSB7XG4gIHJldHVybiBmbigpO1xufVxuZnVuY3Rpb24gY29udGFpbnNQcm9wKG9iaiwgLi4ucHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnNvbWUoKGspID0+IGsgaW4gb2JqKTtcbn1cbmZ1bmN0aW9uIGluY3JlYXNlV2l0aFVuaXQodGFyZ2V0LCBkZWx0YSkge1xuICB2YXIgX2E7XG4gIGlmICh0eXBlb2YgdGFyZ2V0ID09PSBcIm51bWJlclwiKVxuICAgIHJldHVybiB0YXJnZXQgKyBkZWx0YTtcbiAgY29uc3QgdmFsdWUgPSAoKF9hID0gdGFyZ2V0Lm1hdGNoKC9eLT9bMC05XStcXC4/WzAtOV0qLykpID09IG51bGwgPyB2b2lkIDAgOiBfYVswXSkgfHwgXCJcIjtcbiAgY29uc3QgdW5pdCA9IHRhcmdldC5zbGljZSh2YWx1ZS5sZW5ndGgpO1xuICBjb25zdCByZXN1bHQgPSBwYXJzZUZsb2F0KHZhbHVlKSArIGRlbHRhO1xuICBpZiAoTnVtYmVyLmlzTmFOKHJlc3VsdCkpXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgcmV0dXJuIHJlc3VsdCArIHVuaXQ7XG59XG5mdW5jdGlvbiBvYmplY3RQaWNrKG9iaiwga2V5cywgb21pdFVuZGVmaW5lZCA9IGZhbHNlKSB7XG4gIHJldHVybiBrZXlzLnJlZHVjZSgobiwgaykgPT4ge1xuICAgIGlmIChrIGluIG9iaikge1xuICAgICAgaWYgKCFvbWl0VW5kZWZpbmVkIHx8IG9ialtrXSAhPT0gdm9pZCAwKVxuICAgICAgICBuW2tdID0gb2JqW2tdO1xuICAgIH1cbiAgICByZXR1cm4gbjtcbiAgfSwge30pO1xufVxuXG5mdW5jdGlvbiBjb21wdXRlZFdpdGhDb250cm9sKHNvdXJjZSwgZm4pIHtcbiAgbGV0IHYgPSB2b2lkIDA7XG4gIGxldCB0cmFjaztcbiAgbGV0IHRyaWdnZXI7XG4gIGNvbnN0IGRpcnR5ID0gcmVmKHRydWUpO1xuICBjb25zdCB1cGRhdGUgPSAoKSA9PiB7XG4gICAgZGlydHkudmFsdWUgPSB0cnVlO1xuICAgIHRyaWdnZXIoKTtcbiAgfTtcbiAgd2F0Y2goc291cmNlLCB1cGRhdGUsIHsgZmx1c2g6IFwic3luY1wiIH0pO1xuICBjb25zdCBnZXQgPSBpc0Z1bmN0aW9uKGZuKSA/IGZuIDogZm4uZ2V0O1xuICBjb25zdCBzZXQgPSBpc0Z1bmN0aW9uKGZuKSA/IHZvaWQgMCA6IGZuLnNldDtcbiAgY29uc3QgcmVzdWx0ID0gY3VzdG9tUmVmKChfdHJhY2ssIF90cmlnZ2VyKSA9PiB7XG4gICAgdHJhY2sgPSBfdHJhY2s7XG4gICAgdHJpZ2dlciA9IF90cmlnZ2VyO1xuICAgIHJldHVybiB7XG4gICAgICBnZXQoKSB7XG4gICAgICAgIGlmIChkaXJ0eS52YWx1ZSkge1xuICAgICAgICAgIHYgPSBnZXQoKTtcbiAgICAgICAgICBkaXJ0eS52YWx1ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRyYWNrKCk7XG4gICAgICAgIHJldHVybiB2O1xuICAgICAgfSxcbiAgICAgIHNldCh2Mikge1xuICAgICAgICBzZXQgPT0gbnVsbCA/IHZvaWQgMCA6IHNldCh2Mik7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIGlmIChPYmplY3QuaXNFeHRlbnNpYmxlKHJlc3VsdCkpXG4gICAgcmVzdWx0LnRyaWdnZXIgPSB1cGRhdGU7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIHRyeU9uU2NvcGVEaXNwb3NlKGZuKSB7XG4gIGlmIChnZXRDdXJyZW50U2NvcGUoKSkge1xuICAgIG9uU2NvcGVEaXNwb3NlKGZuKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUV2ZW50SG9vaygpIHtcbiAgY29uc3QgZm5zID0gW107XG4gIGNvbnN0IG9mZiA9IChmbikgPT4ge1xuICAgIGNvbnN0IGluZGV4ID0gZm5zLmluZGV4T2YoZm4pO1xuICAgIGlmIChpbmRleCAhPT0gLTEpXG4gICAgICBmbnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgfTtcbiAgY29uc3Qgb24gPSAoZm4pID0+IHtcbiAgICBmbnMucHVzaChmbik7XG4gICAgY29uc3Qgb2ZmRm4gPSAoKSA9PiBvZmYoZm4pO1xuICAgIHRyeU9uU2NvcGVEaXNwb3NlKG9mZkZuKTtcbiAgICByZXR1cm4ge1xuICAgICAgb2ZmOiBvZmZGblxuICAgIH07XG4gIH07XG4gIGNvbnN0IHRyaWdnZXIgPSAocGFyYW0pID0+IHtcbiAgICBmbnMuZm9yRWFjaCgoZm4pID0+IGZuKHBhcmFtKSk7XG4gIH07XG4gIHJldHVybiB7XG4gICAgb24sXG4gICAgb2ZmLFxuICAgIHRyaWdnZXJcbiAgfTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlR2xvYmFsU3RhdGUoc3RhdGVGYWN0b3J5KSB7XG4gIGxldCBpbml0aWFsaXplZCA9IGZhbHNlO1xuICBsZXQgc3RhdGU7XG4gIGNvbnN0IHNjb3BlID0gZWZmZWN0U2NvcGUodHJ1ZSk7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgaWYgKCFpbml0aWFsaXplZCkge1xuICAgICAgc3RhdGUgPSBzY29wZS5ydW4oc3RhdGVGYWN0b3J5KTtcbiAgICAgIGluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVJbmplY3Rpb25TdGF0ZShjb21wb3NhYmxlKSB7XG4gIGNvbnN0IGtleSA9IFN5bWJvbChcIkluamVjdGlvblN0YXRlXCIpO1xuICBjb25zdCB1c2VQcm92aWRpbmdTdGF0ZSA9ICguLi5hcmdzKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBjb21wb3NhYmxlKC4uLmFyZ3MpO1xuICAgIHByb3ZpZGUoa2V5LCBzdGF0ZSk7XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9O1xuICBjb25zdCB1c2VJbmplY3RlZFN0YXRlID0gKCkgPT4gaW5qZWN0KGtleSk7XG4gIHJldHVybiBbdXNlUHJvdmlkaW5nU3RhdGUsIHVzZUluamVjdGVkU3RhdGVdO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVTaGFyZWRDb21wb3NhYmxlKGNvbXBvc2FibGUpIHtcbiAgbGV0IHN1YnNjcmliZXJzID0gMDtcbiAgbGV0IHN0YXRlO1xuICBsZXQgc2NvcGU7XG4gIGNvbnN0IGRpc3Bvc2UgPSAoKSA9PiB7XG4gICAgc3Vic2NyaWJlcnMgLT0gMTtcbiAgICBpZiAoc2NvcGUgJiYgc3Vic2NyaWJlcnMgPD0gMCkge1xuICAgICAgc2NvcGUuc3RvcCgpO1xuICAgICAgc3RhdGUgPSB2b2lkIDA7XG4gICAgICBzY29wZSA9IHZvaWQgMDtcbiAgICB9XG4gIH07XG4gIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgIHN1YnNjcmliZXJzICs9IDE7XG4gICAgaWYgKCFzdGF0ZSkge1xuICAgICAgc2NvcGUgPSBlZmZlY3RTY29wZSh0cnVlKTtcbiAgICAgIHN0YXRlID0gc2NvcGUucnVuKCgpID0+IGNvbXBvc2FibGUoLi4uYXJncykpO1xuICAgIH1cbiAgICB0cnlPblNjb3BlRGlzcG9zZShkaXNwb3NlKTtcbiAgICByZXR1cm4gc3RhdGU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGV4dGVuZFJlZihyZWYsIGV4dGVuZCwgeyBlbnVtZXJhYmxlID0gZmFsc2UsIHVud3JhcCA9IHRydWUgfSA9IHt9KSB7XG4gIF9fb25seVZ1ZTI3UGx1cygpO1xuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhleHRlbmQpKSB7XG4gICAgaWYgKGtleSA9PT0gXCJ2YWx1ZVwiKVxuICAgICAgY29udGludWU7XG4gICAgaWYgKGlzUmVmKHZhbHVlKSAmJiB1bndyYXApIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZWYsIGtleSwge1xuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlLnZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQodikge1xuICAgICAgICAgIHZhbHVlLnZhbHVlID0gdjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZWYsIGtleSwgeyB2YWx1ZSwgZW51bWVyYWJsZSB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlZjtcbn1cblxuZnVuY3Rpb24gZ2V0KG9iaiwga2V5KSB7XG4gIGlmIChrZXkgPT0gbnVsbClcbiAgICByZXR1cm4gdW5yZWYob2JqKTtcbiAgcmV0dXJuIHVucmVmKG9iailba2V5XTtcbn1cblxuZnVuY3Rpb24gaXNEZWZpbmVkKHYpIHtcbiAgcmV0dXJuIHVucmVmKHYpICE9IG51bGw7XG59XG5cbnZhciBfX2RlZlByb3AkOCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BTeW1ib2xzJGEgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIF9faGFzT3duUHJvcCRhID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfX3Byb3BJc0VudW0kYSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG52YXIgX19kZWZOb3JtYWxQcm9wJDggPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wJDgob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fc3ByZWFkVmFsdWVzJDggPSAoYSwgYikgPT4ge1xuICBmb3IgKHZhciBwcm9wIGluIGIgfHwgKGIgPSB7fSkpXG4gICAgaWYgKF9faGFzT3duUHJvcCRhLmNhbGwoYiwgcHJvcCkpXG4gICAgICBfX2RlZk5vcm1hbFByb3AkOChhLCBwcm9wLCBiW3Byb3BdKTtcbiAgaWYgKF9fZ2V0T3duUHJvcFN5bWJvbHMkYSlcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMkYShiKSkge1xuICAgICAgaWYgKF9fcHJvcElzRW51bSRhLmNhbGwoYiwgcHJvcCkpXG4gICAgICAgIF9fZGVmTm9ybWFsUHJvcCQ4KGEsIHByb3AsIGJbcHJvcF0pO1xuICAgIH1cbiAgcmV0dXJuIGE7XG59O1xuZnVuY3Rpb24gbWFrZURlc3RydWN0dXJhYmxlKG9iaiwgYXJyKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY29uc3QgY2xvbmUgPSBfX3NwcmVhZFZhbHVlcyQ4KHt9LCBvYmopO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjbG9uZSwgU3ltYm9sLml0ZXJhdG9yLCB7XG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHZhbHVlKCkge1xuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG5leHQ6ICgpID0+ICh7XG4gICAgICAgICAgICB2YWx1ZTogYXJyW2luZGV4KytdLFxuICAgICAgICAgICAgZG9uZTogaW5kZXggPiBhcnIubGVuZ3RoXG4gICAgICAgICAgfSlcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gY2xvbmU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oWy4uLmFycl0sIG9iaik7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVhY3RpZnkoZm4sIG9wdGlvbnMpIHtcbiAgY29uc3QgdW5yZWZGbiA9IChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmNvbXB1dGVkR2V0dGVyKSA9PT0gZmFsc2UgPyB1bnJlZiA6IHJlc29sdmVVbnJlZjtcbiAgcmV0dXJuIGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gY29tcHV0ZWQoKCkgPT4gZm4uYXBwbHkodGhpcywgYXJncy5tYXAoKGkpID0+IHVucmVmRm4oaSkpKSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHJlYWN0aWZ5T2JqZWN0KG9iaiwgb3B0aW9uc09yS2V5cyA9IHt9KSB7XG4gIGxldCBrZXlzID0gW107XG4gIGxldCBvcHRpb25zO1xuICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zT3JLZXlzKSkge1xuICAgIGtleXMgPSBvcHRpb25zT3JLZXlzO1xuICB9IGVsc2Uge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zT3JLZXlzO1xuICAgIGNvbnN0IHsgaW5jbHVkZU93blByb3BlcnRpZXMgPSB0cnVlIH0gPSBvcHRpb25zT3JLZXlzO1xuICAgIGtleXMucHVzaCguLi5PYmplY3Qua2V5cyhvYmopKTtcbiAgICBpZiAoaW5jbHVkZU93blByb3BlcnRpZXMpXG4gICAgICBrZXlzLnB1c2goLi4uT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob2JqKSk7XG4gIH1cbiAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhrZXlzLm1hcCgoa2V5KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBvYmpba2V5XTtcbiAgICByZXR1cm4gW1xuICAgICAga2V5LFxuICAgICAgdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIgPyByZWFjdGlmeSh2YWx1ZS5iaW5kKG9iaiksIG9wdGlvbnMpIDogdmFsdWVcbiAgICBdO1xuICB9KSk7XG59XG5cbmZ1bmN0aW9uIHRvUmVhY3RpdmUob2JqZWN0UmVmKSB7XG4gIGlmICghaXNSZWYob2JqZWN0UmVmKSlcbiAgICByZXR1cm4gcmVhY3RpdmUob2JqZWN0UmVmKTtcbiAgY29uc3QgcHJveHkgPSBuZXcgUHJveHkoe30sIHtcbiAgICBnZXQoXywgcCwgcmVjZWl2ZXIpIHtcbiAgICAgIHJldHVybiB1bnJlZihSZWZsZWN0LmdldChvYmplY3RSZWYudmFsdWUsIHAsIHJlY2VpdmVyKSk7XG4gICAgfSxcbiAgICBzZXQoXywgcCwgdmFsdWUpIHtcbiAgICAgIGlmIChpc1JlZihvYmplY3RSZWYudmFsdWVbcF0pICYmICFpc1JlZih2YWx1ZSkpXG4gICAgICAgIG9iamVjdFJlZi52YWx1ZVtwXS52YWx1ZSA9IHZhbHVlO1xuICAgICAgZWxzZVxuICAgICAgICBvYmplY3RSZWYudmFsdWVbcF0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgZGVsZXRlUHJvcGVydHkoXywgcCkge1xuICAgICAgcmV0dXJuIFJlZmxlY3QuZGVsZXRlUHJvcGVydHkob2JqZWN0UmVmLnZhbHVlLCBwKTtcbiAgICB9LFxuICAgIGhhcyhfLCBwKSB7XG4gICAgICByZXR1cm4gUmVmbGVjdC5oYXMob2JqZWN0UmVmLnZhbHVlLCBwKTtcbiAgICB9LFxuICAgIG93bktleXMoKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqZWN0UmVmLnZhbHVlKTtcbiAgICB9LFxuICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvcigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVhY3RpdmUocHJveHkpO1xufVxuXG5mdW5jdGlvbiByZWFjdGl2ZUNvbXB1dGVkKGZuKSB7XG4gIHJldHVybiB0b1JlYWN0aXZlKGNvbXB1dGVkKGZuKSk7XG59XG5cbmZ1bmN0aW9uIHJlYWN0aXZlT21pdChvYmosIC4uLmtleXMpIHtcbiAgY29uc3QgZmxhdEtleXMgPSBrZXlzLmZsYXQoKTtcbiAgcmV0dXJuIHJlYWN0aXZlQ29tcHV0ZWQoKCkgPT4gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHRvUmVmcyQxKG9iaikpLmZpbHRlcigoZSkgPT4gIWZsYXRLZXlzLmluY2x1ZGVzKGVbMF0pKSkpO1xufVxuXG5mdW5jdGlvbiByZWFjdGl2ZVBpY2sob2JqLCAuLi5rZXlzKSB7XG4gIGNvbnN0IGZsYXRLZXlzID0ga2V5cy5mbGF0KCk7XG4gIHJldHVybiByZWFjdGl2ZShPYmplY3QuZnJvbUVudHJpZXMoZmxhdEtleXMubWFwKChrKSA9PiBbaywgdG9SZWYob2JqLCBrKV0pKSk7XG59XG5cbmZ1bmN0aW9uIHJlZkF1dG9SZXNldChkZWZhdWx0VmFsdWUsIGFmdGVyTXMgPSAxZTQpIHtcbiAgcmV0dXJuIGN1c3RvbVJlZigodHJhY2ssIHRyaWdnZXIpID0+IHtcbiAgICBsZXQgdmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgbGV0IHRpbWVyO1xuICAgIGNvbnN0IHJlc2V0QWZ0ZXIgPSAoKSA9PiBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgICAgdHJpZ2dlcigpO1xuICAgIH0sIHJlc29sdmVVbnJlZihhZnRlck1zKSk7XG4gICAgdHJ5T25TY29wZURpc3Bvc2UoKCkgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0KCkge1xuICAgICAgICB0cmFjaygpO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9LFxuICAgICAgc2V0KG5ld1ZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIHRyaWdnZXIoKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgdGltZXIgPSByZXNldEFmdGVyKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHVzZURlYm91bmNlRm4oZm4sIG1zID0gMjAwLCBvcHRpb25zID0ge30pIHtcbiAgcmV0dXJuIGNyZWF0ZUZpbHRlcldyYXBwZXIoZGVib3VuY2VGaWx0ZXIobXMsIG9wdGlvbnMpLCBmbik7XG59XG5cbmZ1bmN0aW9uIHJlZkRlYm91bmNlZCh2YWx1ZSwgbXMgPSAyMDAsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBkZWJvdW5jZWQgPSByZWYodmFsdWUudmFsdWUpO1xuICBjb25zdCB1cGRhdGVyID0gdXNlRGVib3VuY2VGbigoKSA9PiB7XG4gICAgZGVib3VuY2VkLnZhbHVlID0gdmFsdWUudmFsdWU7XG4gIH0sIG1zLCBvcHRpb25zKTtcbiAgd2F0Y2godmFsdWUsICgpID0+IHVwZGF0ZXIoKSk7XG4gIHJldHVybiBkZWJvdW5jZWQ7XG59XG5cbmZ1bmN0aW9uIHJlZkRlZmF1bHQoc291cmNlLCBkZWZhdWx0VmFsdWUpIHtcbiAgcmV0dXJuIGNvbXB1dGVkKHtcbiAgICBnZXQoKSB7XG4gICAgICB2YXIgX2E7XG4gICAgICByZXR1cm4gKF9hID0gc291cmNlLnZhbHVlKSAhPSBudWxsID8gX2EgOiBkZWZhdWx0VmFsdWU7XG4gICAgfSxcbiAgICBzZXQodmFsdWUpIHtcbiAgICAgIHNvdXJjZS52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHVzZVRocm90dGxlRm4oZm4sIG1zID0gMjAwLCB0cmFpbGluZyA9IGZhbHNlLCBsZWFkaW5nID0gdHJ1ZSwgcmVqZWN0T25DYW5jZWwgPSBmYWxzZSkge1xuICByZXR1cm4gY3JlYXRlRmlsdGVyV3JhcHBlcih0aHJvdHRsZUZpbHRlcihtcywgdHJhaWxpbmcsIGxlYWRpbmcsIHJlamVjdE9uQ2FuY2VsKSwgZm4pO1xufVxuXG5mdW5jdGlvbiByZWZUaHJvdHRsZWQodmFsdWUsIGRlbGF5ID0gMjAwLCB0cmFpbGluZyA9IHRydWUsIGxlYWRpbmcgPSB0cnVlKSB7XG4gIGlmIChkZWxheSA8PSAwKVxuICAgIHJldHVybiB2YWx1ZTtcbiAgY29uc3QgdGhyb3R0bGVkID0gcmVmKHZhbHVlLnZhbHVlKTtcbiAgY29uc3QgdXBkYXRlciA9IHVzZVRocm90dGxlRm4oKCkgPT4ge1xuICAgIHRocm90dGxlZC52YWx1ZSA9IHZhbHVlLnZhbHVlO1xuICB9LCBkZWxheSwgdHJhaWxpbmcsIGxlYWRpbmcpO1xuICB3YXRjaCh2YWx1ZSwgKCkgPT4gdXBkYXRlcigpKTtcbiAgcmV0dXJuIHRocm90dGxlZDtcbn1cblxuZnVuY3Rpb24gcmVmV2l0aENvbnRyb2woaW5pdGlhbCwgb3B0aW9ucyA9IHt9KSB7XG4gIGxldCBzb3VyY2UgPSBpbml0aWFsO1xuICBsZXQgdHJhY2s7XG4gIGxldCB0cmlnZ2VyO1xuICBjb25zdCByZWYgPSBjdXN0b21SZWYoKF90cmFjaywgX3RyaWdnZXIpID0+IHtcbiAgICB0cmFjayA9IF90cmFjaztcbiAgICB0cmlnZ2VyID0gX3RyaWdnZXI7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIGdldCgpO1xuICAgICAgfSxcbiAgICAgIHNldCh2KSB7XG4gICAgICAgIHNldCh2KTtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbiAgZnVuY3Rpb24gZ2V0KHRyYWNraW5nID0gdHJ1ZSkge1xuICAgIGlmICh0cmFja2luZylcbiAgICAgIHRyYWNrKCk7XG4gICAgcmV0dXJuIHNvdXJjZTtcbiAgfVxuICBmdW5jdGlvbiBzZXQodmFsdWUsIHRyaWdnZXJpbmcgPSB0cnVlKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBpZiAodmFsdWUgPT09IHNvdXJjZSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBvbGQgPSBzb3VyY2U7XG4gICAgaWYgKCgoX2EgPSBvcHRpb25zLm9uQmVmb3JlQ2hhbmdlKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbChvcHRpb25zLCB2YWx1ZSwgb2xkKSkgPT09IGZhbHNlKVxuICAgICAgcmV0dXJuO1xuICAgIHNvdXJjZSA9IHZhbHVlO1xuICAgIChfYiA9IG9wdGlvbnMub25DaGFuZ2VkKSA9PSBudWxsID8gdm9pZCAwIDogX2IuY2FsbChvcHRpb25zLCB2YWx1ZSwgb2xkKTtcbiAgICBpZiAodHJpZ2dlcmluZylcbiAgICAgIHRyaWdnZXIoKTtcbiAgfVxuICBjb25zdCB1bnRyYWNrZWRHZXQgPSAoKSA9PiBnZXQoZmFsc2UpO1xuICBjb25zdCBzaWxlbnRTZXQgPSAodikgPT4gc2V0KHYsIGZhbHNlKTtcbiAgY29uc3QgcGVlayA9ICgpID0+IGdldChmYWxzZSk7XG4gIGNvbnN0IGxheSA9ICh2KSA9PiBzZXQodiwgZmFsc2UpO1xuICByZXR1cm4gZXh0ZW5kUmVmKHJlZiwge1xuICAgIGdldCxcbiAgICBzZXQsXG4gICAgdW50cmFja2VkR2V0LFxuICAgIHNpbGVudFNldCxcbiAgICBwZWVrLFxuICAgIGxheVxuICB9LCB7IGVudW1lcmFibGU6IHRydWUgfSk7XG59XG5jb25zdCBjb250cm9sbGVkUmVmID0gcmVmV2l0aENvbnRyb2w7XG5cbmZ1bmN0aW9uIHJlc29sdmVSZWYocikge1xuICByZXR1cm4gdHlwZW9mIHIgPT09IFwiZnVuY3Rpb25cIiA/IGNvbXB1dGVkKHIpIDogcmVmKHIpO1xufVxuXG5mdW5jdGlvbiBzZXQoLi4uYXJncykge1xuICBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcbiAgICBjb25zdCBbcmVmLCB2YWx1ZV0gPSBhcmdzO1xuICAgIHJlZi52YWx1ZSA9IHZhbHVlO1xuICB9XG4gIGlmIChhcmdzLmxlbmd0aCA9PT0gMykge1xuICAgIGlmIChpc1Z1ZTIpIHtcbiAgICAgIHNldCQxKC4uLmFyZ3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBbdGFyZ2V0LCBrZXksIHZhbHVlXSA9IGFyZ3M7XG4gICAgICB0YXJnZXRba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzeW5jUmVmKGxlZnQsIHJpZ2h0LCBvcHRpb25zID0ge30pIHtcbiAgdmFyIF9hLCBfYjtcbiAgY29uc3Qge1xuICAgIGZsdXNoID0gXCJzeW5jXCIsXG4gICAgZGVlcCA9IGZhbHNlLFxuICAgIGltbWVkaWF0ZSA9IHRydWUsXG4gICAgZGlyZWN0aW9uID0gXCJib3RoXCIsXG4gICAgdHJhbnNmb3JtID0ge31cbiAgfSA9IG9wdGlvbnM7XG4gIGxldCB3YXRjaExlZnQ7XG4gIGxldCB3YXRjaFJpZ2h0O1xuICBjb25zdCB0cmFuc2Zvcm1MVFIgPSAoX2EgPSB0cmFuc2Zvcm0ubHRyKSAhPSBudWxsID8gX2EgOiAodikgPT4gdjtcbiAgY29uc3QgdHJhbnNmb3JtUlRMID0gKF9iID0gdHJhbnNmb3JtLnJ0bCkgIT0gbnVsbCA/IF9iIDogKHYpID0+IHY7XG4gIGlmIChkaXJlY3Rpb24gPT09IFwiYm90aFwiIHx8IGRpcmVjdGlvbiA9PT0gXCJsdHJcIikge1xuICAgIHdhdGNoTGVmdCA9IHdhdGNoKGxlZnQsIChuZXdWYWx1ZSkgPT4gcmlnaHQudmFsdWUgPSB0cmFuc2Zvcm1MVFIobmV3VmFsdWUpLCB7IGZsdXNoLCBkZWVwLCBpbW1lZGlhdGUgfSk7XG4gIH1cbiAgaWYgKGRpcmVjdGlvbiA9PT0gXCJib3RoXCIgfHwgZGlyZWN0aW9uID09PSBcInJ0bFwiKSB7XG4gICAgd2F0Y2hSaWdodCA9IHdhdGNoKHJpZ2h0LCAobmV3VmFsdWUpID0+IGxlZnQudmFsdWUgPSB0cmFuc2Zvcm1SVEwobmV3VmFsdWUpLCB7IGZsdXNoLCBkZWVwLCBpbW1lZGlhdGUgfSk7XG4gIH1cbiAgcmV0dXJuICgpID0+IHtcbiAgICB3YXRjaExlZnQgPT0gbnVsbCA/IHZvaWQgMCA6IHdhdGNoTGVmdCgpO1xuICAgIHdhdGNoUmlnaHQgPT0gbnVsbCA/IHZvaWQgMCA6IHdhdGNoUmlnaHQoKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gc3luY1JlZnMoc291cmNlLCB0YXJnZXRzLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGZsdXNoID0gXCJzeW5jXCIsXG4gICAgZGVlcCA9IGZhbHNlLFxuICAgIGltbWVkaWF0ZSA9IHRydWVcbiAgfSA9IG9wdGlvbnM7XG4gIGlmICghQXJyYXkuaXNBcnJheSh0YXJnZXRzKSlcbiAgICB0YXJnZXRzID0gW3RhcmdldHNdO1xuICByZXR1cm4gd2F0Y2goc291cmNlLCAobmV3VmFsdWUpID0+IHRhcmdldHMuZm9yRWFjaCgodGFyZ2V0KSA9PiB0YXJnZXQudmFsdWUgPSBuZXdWYWx1ZSksIHsgZmx1c2gsIGRlZXAsIGltbWVkaWF0ZSB9KTtcbn1cblxudmFyIF9fZGVmUHJvcCQ3ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmUHJvcHMkNSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzO1xudmFyIF9fZ2V0T3duUHJvcERlc2NzJDUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycztcbnZhciBfX2dldE93blByb3BTeW1ib2xzJDkgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIF9faGFzT3duUHJvcCQ5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfX3Byb3BJc0VudW0kOSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG52YXIgX19kZWZOb3JtYWxQcm9wJDcgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wJDcob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fc3ByZWFkVmFsdWVzJDcgPSAoYSwgYikgPT4ge1xuICBmb3IgKHZhciBwcm9wIGluIGIgfHwgKGIgPSB7fSkpXG4gICAgaWYgKF9faGFzT3duUHJvcCQ5LmNhbGwoYiwgcHJvcCkpXG4gICAgICBfX2RlZk5vcm1hbFByb3AkNyhhLCBwcm9wLCBiW3Byb3BdKTtcbiAgaWYgKF9fZ2V0T3duUHJvcFN5bWJvbHMkOSlcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMkOShiKSkge1xuICAgICAgaWYgKF9fcHJvcElzRW51bSQ5LmNhbGwoYiwgcHJvcCkpXG4gICAgICAgIF9fZGVmTm9ybWFsUHJvcCQ3KGEsIHByb3AsIGJbcHJvcF0pO1xuICAgIH1cbiAgcmV0dXJuIGE7XG59O1xudmFyIF9fc3ByZWFkUHJvcHMkNSA9IChhLCBiKSA9PiBfX2RlZlByb3BzJDUoYSwgX19nZXRPd25Qcm9wRGVzY3MkNShiKSk7XG5mdW5jdGlvbiB0b1JlZnMob2JqZWN0UmVmKSB7XG4gIGlmICghaXNSZWYob2JqZWN0UmVmKSlcbiAgICByZXR1cm4gdG9SZWZzJDEob2JqZWN0UmVmKTtcbiAgY29uc3QgcmVzdWx0ID0gQXJyYXkuaXNBcnJheShvYmplY3RSZWYudmFsdWUpID8gbmV3IEFycmF5KG9iamVjdFJlZi52YWx1ZS5sZW5ndGgpIDoge307XG4gIGZvciAoY29uc3Qga2V5IGluIG9iamVjdFJlZi52YWx1ZSkge1xuICAgIHJlc3VsdFtrZXldID0gY3VzdG9tUmVmKCgpID0+ICh7XG4gICAgICBnZXQoKSB7XG4gICAgICAgIHJldHVybiBvYmplY3RSZWYudmFsdWVba2V5XTtcbiAgICAgIH0sXG4gICAgICBzZXQodikge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmplY3RSZWYudmFsdWUpKSB7XG4gICAgICAgICAgY29uc3QgY29weSA9IFsuLi5vYmplY3RSZWYudmFsdWVdO1xuICAgICAgICAgIGNvcHlba2V5XSA9IHY7XG4gICAgICAgICAgb2JqZWN0UmVmLnZhbHVlID0gY29weTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBuZXdPYmplY3QgPSBfX3NwcmVhZFByb3BzJDUoX19zcHJlYWRWYWx1ZXMkNyh7fSwgb2JqZWN0UmVmLnZhbHVlKSwgeyBba2V5XTogdiB9KTtcbiAgICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YobmV3T2JqZWN0LCBvYmplY3RSZWYudmFsdWUpO1xuICAgICAgICAgIG9iamVjdFJlZi52YWx1ZSA9IG5ld09iamVjdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiB0cnlPbkJlZm9yZU1vdW50KGZuLCBzeW5jID0gdHJ1ZSkge1xuICBpZiAoZ2V0Q3VycmVudEluc3RhbmNlKCkpXG4gICAgb25CZWZvcmVNb3VudChmbik7XG4gIGVsc2UgaWYgKHN5bmMpXG4gICAgZm4oKTtcbiAgZWxzZVxuICAgIG5leHRUaWNrKGZuKTtcbn1cblxuZnVuY3Rpb24gdHJ5T25CZWZvcmVVbm1vdW50KGZuKSB7XG4gIGlmIChnZXRDdXJyZW50SW5zdGFuY2UoKSlcbiAgICBvbkJlZm9yZVVubW91bnQoZm4pO1xufVxuXG5mdW5jdGlvbiB0cnlPbk1vdW50ZWQoZm4sIHN5bmMgPSB0cnVlKSB7XG4gIGlmIChnZXRDdXJyZW50SW5zdGFuY2UoKSlcbiAgICBvbk1vdW50ZWQoZm4pO1xuICBlbHNlIGlmIChzeW5jKVxuICAgIGZuKCk7XG4gIGVsc2VcbiAgICBuZXh0VGljayhmbik7XG59XG5cbmZ1bmN0aW9uIHRyeU9uVW5tb3VudGVkKGZuKSB7XG4gIGlmIChnZXRDdXJyZW50SW5zdGFuY2UoKSlcbiAgICBvblVubW91bnRlZChmbik7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVVudGlsKHIsIGlzTm90ID0gZmFsc2UpIHtcbiAgZnVuY3Rpb24gdG9NYXRjaChjb25kaXRpb24sIHsgZmx1c2ggPSBcInN5bmNcIiwgZGVlcCA9IGZhbHNlLCB0aW1lb3V0LCB0aHJvd09uVGltZW91dCB9ID0ge30pIHtcbiAgICBsZXQgc3RvcCA9IG51bGw7XG4gICAgY29uc3Qgd2F0Y2hlciA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBzdG9wID0gd2F0Y2gociwgKHYpID0+IHtcbiAgICAgICAgaWYgKGNvbmRpdGlvbih2KSAhPT0gaXNOb3QpIHtcbiAgICAgICAgICBzdG9wID09IG51bGwgPyB2b2lkIDAgOiBzdG9wKCk7XG4gICAgICAgICAgcmVzb2x2ZSh2KTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBmbHVzaCxcbiAgICAgICAgZGVlcCxcbiAgICAgICAgaW1tZWRpYXRlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBjb25zdCBwcm9taXNlcyA9IFt3YXRjaGVyXTtcbiAgICBpZiAodGltZW91dCAhPSBudWxsKSB7XG4gICAgICBwcm9taXNlcy5wdXNoKHByb21pc2VUaW1lb3V0KHRpbWVvdXQsIHRocm93T25UaW1lb3V0KS50aGVuKCgpID0+IHJlc29sdmVVbnJlZihyKSkuZmluYWxseSgoKSA9PiBzdG9wID09IG51bGwgPyB2b2lkIDAgOiBzdG9wKCkpKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmFjZShwcm9taXNlcyk7XG4gIH1cbiAgZnVuY3Rpb24gdG9CZSh2YWx1ZSwgb3B0aW9ucykge1xuICAgIGlmICghaXNSZWYodmFsdWUpKVxuICAgICAgcmV0dXJuIHRvTWF0Y2goKHYpID0+IHYgPT09IHZhbHVlLCBvcHRpb25zKTtcbiAgICBjb25zdCB7IGZsdXNoID0gXCJzeW5jXCIsIGRlZXAgPSBmYWxzZSwgdGltZW91dCwgdGhyb3dPblRpbWVvdXQgfSA9IG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMgOiB7fTtcbiAgICBsZXQgc3RvcCA9IG51bGw7XG4gICAgY29uc3Qgd2F0Y2hlciA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBzdG9wID0gd2F0Y2goW3IsIHZhbHVlXSwgKFt2MSwgdjJdKSA9PiB7XG4gICAgICAgIGlmIChpc05vdCAhPT0gKHYxID09PSB2MikpIHtcbiAgICAgICAgICBzdG9wID09IG51bGwgPyB2b2lkIDAgOiBzdG9wKCk7XG4gICAgICAgICAgcmVzb2x2ZSh2MSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmx1c2gsXG4gICAgICAgIGRlZXAsXG4gICAgICAgIGltbWVkaWF0ZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgY29uc3QgcHJvbWlzZXMgPSBbd2F0Y2hlcl07XG4gICAgaWYgKHRpbWVvdXQgIT0gbnVsbCkge1xuICAgICAgcHJvbWlzZXMucHVzaChwcm9taXNlVGltZW91dCh0aW1lb3V0LCB0aHJvd09uVGltZW91dCkudGhlbigoKSA9PiByZXNvbHZlVW5yZWYocikpLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBzdG9wID09IG51bGwgPyB2b2lkIDAgOiBzdG9wKCk7XG4gICAgICAgIHJldHVybiByZXNvbHZlVW5yZWYocik7XG4gICAgICB9KSk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJhY2UocHJvbWlzZXMpO1xuICB9XG4gIGZ1bmN0aW9uIHRvQmVUcnV0aHkob3B0aW9ucykge1xuICAgIHJldHVybiB0b01hdGNoKCh2KSA9PiBCb29sZWFuKHYpLCBvcHRpb25zKTtcbiAgfVxuICBmdW5jdGlvbiB0b0JlTnVsbChvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRvQmUobnVsbCwgb3B0aW9ucyk7XG4gIH1cbiAgZnVuY3Rpb24gdG9CZVVuZGVmaW5lZChvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRvQmUodm9pZCAwLCBvcHRpb25zKTtcbiAgfVxuICBmdW5jdGlvbiB0b0JlTmFOKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdG9NYXRjaChOdW1iZXIuaXNOYU4sIG9wdGlvbnMpO1xuICB9XG4gIGZ1bmN0aW9uIHRvQ29udGFpbnModmFsdWUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdG9NYXRjaCgodikgPT4ge1xuICAgICAgY29uc3QgYXJyYXkgPSBBcnJheS5mcm9tKHYpO1xuICAgICAgcmV0dXJuIGFycmF5LmluY2x1ZGVzKHZhbHVlKSB8fCBhcnJheS5pbmNsdWRlcyhyZXNvbHZlVW5yZWYodmFsdWUpKTtcbiAgICB9LCBvcHRpb25zKTtcbiAgfVxuICBmdW5jdGlvbiBjaGFuZ2VkKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gY2hhbmdlZFRpbWVzKDEsIG9wdGlvbnMpO1xuICB9XG4gIGZ1bmN0aW9uIGNoYW5nZWRUaW1lcyhuID0gMSwgb3B0aW9ucykge1xuICAgIGxldCBjb3VudCA9IC0xO1xuICAgIHJldHVybiB0b01hdGNoKCgpID0+IHtcbiAgICAgIGNvdW50ICs9IDE7XG4gICAgICByZXR1cm4gY291bnQgPj0gbjtcbiAgICB9LCBvcHRpb25zKTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShyZXNvbHZlVW5yZWYocikpKSB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSB7XG4gICAgICB0b01hdGNoLFxuICAgICAgdG9Db250YWlucyxcbiAgICAgIGNoYW5nZWQsXG4gICAgICBjaGFuZ2VkVGltZXMsXG4gICAgICBnZXQgbm90KCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlVW50aWwociwgIWlzTm90KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IHtcbiAgICAgIHRvTWF0Y2gsXG4gICAgICB0b0JlLFxuICAgICAgdG9CZVRydXRoeSxcbiAgICAgIHRvQmVOdWxsLFxuICAgICAgdG9CZU5hTixcbiAgICAgIHRvQmVVbmRlZmluZWQsXG4gICAgICBjaGFuZ2VkLFxuICAgICAgY2hhbmdlZFRpbWVzLFxuICAgICAgZ2V0IG5vdCgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVVudGlsKHIsICFpc05vdCk7XG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH1cbn1cbmZ1bmN0aW9uIHVudGlsKHIpIHtcbiAgcmV0dXJuIGNyZWF0ZVVudGlsKHIpO1xufVxuXG5mdW5jdGlvbiB1c2VBcnJheUV2ZXJ5KGxpc3QsIGZuKSB7XG4gIHJldHVybiBjb21wdXRlZCgoKSA9PiByZXNvbHZlVW5yZWYobGlzdCkuZXZlcnkoKGVsZW1lbnQsIGluZGV4LCBhcnJheSkgPT4gZm4ocmVzb2x2ZVVucmVmKGVsZW1lbnQpLCBpbmRleCwgYXJyYXkpKSk7XG59XG5cbmZ1bmN0aW9uIHVzZUFycmF5RmlsdGVyKGxpc3QsIGZuKSB7XG4gIHJldHVybiBjb21wdXRlZCgoKSA9PiByZXNvbHZlVW5yZWYobGlzdCkubWFwKChpKSA9PiByZXNvbHZlVW5yZWYoaSkpLmZpbHRlcihmbikpO1xufVxuXG5mdW5jdGlvbiB1c2VBcnJheUZpbmQobGlzdCwgZm4pIHtcbiAgcmV0dXJuIGNvbXB1dGVkKCgpID0+IHJlc29sdmVVbnJlZihyZXNvbHZlVW5yZWYobGlzdCkuZmluZCgoZWxlbWVudCwgaW5kZXgsIGFycmF5KSA9PiBmbihyZXNvbHZlVW5yZWYoZWxlbWVudCksIGluZGV4LCBhcnJheSkpKSk7XG59XG5cbmZ1bmN0aW9uIHVzZUFycmF5RmluZEluZGV4KGxpc3QsIGZuKSB7XG4gIHJldHVybiBjb21wdXRlZCgoKSA9PiByZXNvbHZlVW5yZWYobGlzdCkuZmluZEluZGV4KChlbGVtZW50LCBpbmRleCwgYXJyYXkpID0+IGZuKHJlc29sdmVVbnJlZihlbGVtZW50KSwgaW5kZXgsIGFycmF5KSkpO1xufVxuXG5mdW5jdGlvbiBmaW5kTGFzdChhcnIsIGNiKSB7XG4gIGxldCBpbmRleCA9IGFyci5sZW5ndGg7XG4gIHdoaWxlIChpbmRleC0tID4gMCkge1xuICAgIGlmIChjYihhcnJbaW5kZXhdLCBpbmRleCwgYXJyKSlcbiAgICAgIHJldHVybiBhcnJbaW5kZXhdO1xuICB9XG4gIHJldHVybiB2b2lkIDA7XG59XG5mdW5jdGlvbiB1c2VBcnJheUZpbmRMYXN0KGxpc3QsIGZuKSB7XG4gIHJldHVybiBjb21wdXRlZCgoKSA9PiByZXNvbHZlVW5yZWYoIUFycmF5LnByb3RvdHlwZS5maW5kTGFzdCA/IGZpbmRMYXN0KHJlc29sdmVVbnJlZihsaXN0KSwgKGVsZW1lbnQsIGluZGV4LCBhcnJheSkgPT4gZm4ocmVzb2x2ZVVucmVmKGVsZW1lbnQpLCBpbmRleCwgYXJyYXkpKSA6IHJlc29sdmVVbnJlZihsaXN0KS5maW5kTGFzdCgoZWxlbWVudCwgaW5kZXgsIGFycmF5KSA9PiBmbihyZXNvbHZlVW5yZWYoZWxlbWVudCksIGluZGV4LCBhcnJheSkpKSk7XG59XG5cbmZ1bmN0aW9uIHVzZUFycmF5Sm9pbihsaXN0LCBzZXBhcmF0b3IpIHtcbiAgcmV0dXJuIGNvbXB1dGVkKCgpID0+IHJlc29sdmVVbnJlZihsaXN0KS5tYXAoKGkpID0+IHJlc29sdmVVbnJlZihpKSkuam9pbihyZXNvbHZlVW5yZWYoc2VwYXJhdG9yKSkpO1xufVxuXG5mdW5jdGlvbiB1c2VBcnJheU1hcChsaXN0LCBmbikge1xuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4gcmVzb2x2ZVVucmVmKGxpc3QpLm1hcCgoaSkgPT4gcmVzb2x2ZVVucmVmKGkpKS5tYXAoZm4pKTtcbn1cblxuZnVuY3Rpb24gdXNlQXJyYXlSZWR1Y2UobGlzdCwgcmVkdWNlciwgLi4uYXJncykge1xuICBjb25zdCByZWR1Y2VDYWxsYmFjayA9IChzdW0sIHZhbHVlLCBpbmRleCkgPT4gcmVkdWNlcihyZXNvbHZlVW5yZWYoc3VtKSwgcmVzb2x2ZVVucmVmKHZhbHVlKSwgaW5kZXgpO1xuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4ge1xuICAgIGNvbnN0IHJlc29sdmVkID0gcmVzb2x2ZVVucmVmKGxpc3QpO1xuICAgIHJldHVybiBhcmdzLmxlbmd0aCA/IHJlc29sdmVkLnJlZHVjZShyZWR1Y2VDYWxsYmFjaywgcmVzb2x2ZVVucmVmKGFyZ3NbMF0pKSA6IHJlc29sdmVkLnJlZHVjZShyZWR1Y2VDYWxsYmFjayk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB1c2VBcnJheVNvbWUobGlzdCwgZm4pIHtcbiAgcmV0dXJuIGNvbXB1dGVkKCgpID0+IHJlc29sdmVVbnJlZihsaXN0KS5zb21lKChlbGVtZW50LCBpbmRleCwgYXJyYXkpID0+IGZuKHJlc29sdmVVbnJlZihlbGVtZW50KSwgaW5kZXgsIGFycmF5KSkpO1xufVxuXG5mdW5jdGlvbiB1c2VBcnJheVVuaXF1ZShsaXN0KSB7XG4gIHJldHVybiBjb21wdXRlZCgoKSA9PiBbLi4ubmV3IFNldChyZXNvbHZlVW5yZWYobGlzdCkubWFwKChlbGVtZW50KSA9PiByZXNvbHZlVW5yZWYoZWxlbWVudCkpKV0pO1xufVxuXG5mdW5jdGlvbiB1c2VDb3VudGVyKGluaXRpYWxWYWx1ZSA9IDAsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBjb3VudCA9IHJlZihpbml0aWFsVmFsdWUpO1xuICBjb25zdCB7XG4gICAgbWF4ID0gSW5maW5pdHksXG4gICAgbWluID0gLUluZmluaXR5XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBpbmMgPSAoZGVsdGEgPSAxKSA9PiBjb3VudC52YWx1ZSA9IE1hdGgubWluKG1heCwgY291bnQudmFsdWUgKyBkZWx0YSk7XG4gIGNvbnN0IGRlYyA9IChkZWx0YSA9IDEpID0+IGNvdW50LnZhbHVlID0gTWF0aC5tYXgobWluLCBjb3VudC52YWx1ZSAtIGRlbHRhKTtcbiAgY29uc3QgZ2V0ID0gKCkgPT4gY291bnQudmFsdWU7XG4gIGNvbnN0IHNldCA9ICh2YWwpID0+IGNvdW50LnZhbHVlID0gTWF0aC5tYXgobWluLCBNYXRoLm1pbihtYXgsIHZhbCkpO1xuICBjb25zdCByZXNldCA9ICh2YWwgPSBpbml0aWFsVmFsdWUpID0+IHtcbiAgICBpbml0aWFsVmFsdWUgPSB2YWw7XG4gICAgcmV0dXJuIHNldCh2YWwpO1xuICB9O1xuICByZXR1cm4geyBjb3VudCwgaW5jLCBkZWMsIGdldCwgc2V0LCByZXNldCB9O1xufVxuXG5jb25zdCBSRUdFWF9QQVJTRSA9IC9eKFxcZHs0fSlbLS9dPyhcXGR7MSwyfSk/Wy0vXT8oXFxkezAsMn0pW1R0XFxzXSooXFxkezEsMn0pPzo/KFxcZHsxLDJ9KT86PyhcXGR7MSwyfSk/Wy46XT8oXFxkKyk/JC87XG5jb25zdCBSRUdFWF9GT1JNQVQgPSAvXFxbKFteXFxdXSspXXxZezEsNH18TXsxLDR9fER7MSwyfXxkezEsNH18SHsxLDJ9fGh7MSwyfXxhezEsMn18QXsxLDJ9fG17MSwyfXxzezEsMn18WnsxLDJ9fFNTUy9nO1xuY29uc3QgZGVmYXVsdE1lcmlkaWVtID0gKGhvdXJzLCBtaW51dGVzLCBpc0xvd2VyY2FzZSwgaGFzUGVyaW9kKSA9PiB7XG4gIGxldCBtID0gaG91cnMgPCAxMiA/IFwiQU1cIiA6IFwiUE1cIjtcbiAgaWYgKGhhc1BlcmlvZClcbiAgICBtID0gbS5zcGxpdChcIlwiKS5yZWR1Y2UoKGFjYywgY3VycikgPT4gYWNjICs9IGAke2N1cnJ9LmAsIFwiXCIpO1xuICByZXR1cm4gaXNMb3dlcmNhc2UgPyBtLnRvTG93ZXJDYXNlKCkgOiBtO1xufTtcbmNvbnN0IGZvcm1hdERhdGUgPSAoZGF0ZSwgZm9ybWF0U3RyLCBvcHRpb25zID0ge30pID0+IHtcbiAgdmFyIF9hO1xuICBjb25zdCB5ZWFycyA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgY29uc3QgbW9udGggPSBkYXRlLmdldE1vbnRoKCk7XG4gIGNvbnN0IGRheXMgPSBkYXRlLmdldERhdGUoKTtcbiAgY29uc3QgaG91cnMgPSBkYXRlLmdldEhvdXJzKCk7XG4gIGNvbnN0IG1pbnV0ZXMgPSBkYXRlLmdldE1pbnV0ZXMoKTtcbiAgY29uc3Qgc2Vjb25kcyA9IGRhdGUuZ2V0U2Vjb25kcygpO1xuICBjb25zdCBtaWxsaXNlY29uZHMgPSBkYXRlLmdldE1pbGxpc2Vjb25kcygpO1xuICBjb25zdCBkYXkgPSBkYXRlLmdldERheSgpO1xuICBjb25zdCBtZXJpZGllbSA9IChfYSA9IG9wdGlvbnMuY3VzdG9tTWVyaWRpZW0pICE9IG51bGwgPyBfYSA6IGRlZmF1bHRNZXJpZGllbTtcbiAgY29uc3QgbWF0Y2hlcyA9IHtcbiAgICBZWTogKCkgPT4gU3RyaW5nKHllYXJzKS5zbGljZSgtMiksXG4gICAgWVlZWTogKCkgPT4geWVhcnMsXG4gICAgTTogKCkgPT4gbW9udGggKyAxLFxuICAgIE1NOiAoKSA9PiBgJHttb250aCArIDF9YC5wYWRTdGFydCgyLCBcIjBcIiksXG4gICAgTU1NOiAoKSA9PiBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZyhvcHRpb25zLmxvY2FsZXMsIHsgbW9udGg6IFwic2hvcnRcIiB9KSxcbiAgICBNTU1NOiAoKSA9PiBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZyhvcHRpb25zLmxvY2FsZXMsIHsgbW9udGg6IFwibG9uZ1wiIH0pLFxuICAgIEQ6ICgpID0+IFN0cmluZyhkYXlzKSxcbiAgICBERDogKCkgPT4gYCR7ZGF5c31gLnBhZFN0YXJ0KDIsIFwiMFwiKSxcbiAgICBIOiAoKSA9PiBTdHJpbmcoaG91cnMpLFxuICAgIEhIOiAoKSA9PiBgJHtob3Vyc31gLnBhZFN0YXJ0KDIsIFwiMFwiKSxcbiAgICBoOiAoKSA9PiBgJHtob3VycyAlIDEyIHx8IDEyfWAucGFkU3RhcnQoMSwgXCIwXCIpLFxuICAgIGhoOiAoKSA9PiBgJHtob3VycyAlIDEyIHx8IDEyfWAucGFkU3RhcnQoMiwgXCIwXCIpLFxuICAgIG06ICgpID0+IFN0cmluZyhtaW51dGVzKSxcbiAgICBtbTogKCkgPT4gYCR7bWludXRlc31gLnBhZFN0YXJ0KDIsIFwiMFwiKSxcbiAgICBzOiAoKSA9PiBTdHJpbmcoc2Vjb25kcyksXG4gICAgc3M6ICgpID0+IGAke3NlY29uZHN9YC5wYWRTdGFydCgyLCBcIjBcIiksXG4gICAgU1NTOiAoKSA9PiBgJHttaWxsaXNlY29uZHN9YC5wYWRTdGFydCgzLCBcIjBcIiksXG4gICAgZDogKCkgPT4gZGF5LFxuICAgIGRkOiAoKSA9PiBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZyhvcHRpb25zLmxvY2FsZXMsIHsgd2Vla2RheTogXCJuYXJyb3dcIiB9KSxcbiAgICBkZGQ6ICgpID0+IGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKG9wdGlvbnMubG9jYWxlcywgeyB3ZWVrZGF5OiBcInNob3J0XCIgfSksXG4gICAgZGRkZDogKCkgPT4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcob3B0aW9ucy5sb2NhbGVzLCB7IHdlZWtkYXk6IFwibG9uZ1wiIH0pLFxuICAgIEE6ICgpID0+IG1lcmlkaWVtKGhvdXJzLCBtaW51dGVzKSxcbiAgICBBQTogKCkgPT4gbWVyaWRpZW0oaG91cnMsIG1pbnV0ZXMsIGZhbHNlLCB0cnVlKSxcbiAgICBhOiAoKSA9PiBtZXJpZGllbShob3VycywgbWludXRlcywgdHJ1ZSksXG4gICAgYWE6ICgpID0+IG1lcmlkaWVtKGhvdXJzLCBtaW51dGVzLCB0cnVlLCB0cnVlKVxuICB9O1xuICByZXR1cm4gZm9ybWF0U3RyLnJlcGxhY2UoUkVHRVhfRk9STUFULCAobWF0Y2gsICQxKSA9PiAkMSB8fCBtYXRjaGVzW21hdGNoXSgpKTtcbn07XG5jb25zdCBub3JtYWxpemVEYXRlID0gKGRhdGUpID0+IHtcbiAgaWYgKGRhdGUgPT09IG51bGwpXG4gICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gIGlmIChkYXRlID09PSB2b2lkIDApXG4gICAgcmV0dXJuIG5ldyBEYXRlKCk7XG4gIGlmIChkYXRlIGluc3RhbmNlb2YgRGF0ZSlcbiAgICByZXR1cm4gbmV3IERhdGUoZGF0ZSk7XG4gIGlmICh0eXBlb2YgZGF0ZSA9PT0gXCJzdHJpbmdcIiAmJiAhL1okL2kudGVzdChkYXRlKSkge1xuICAgIGNvbnN0IGQgPSBkYXRlLm1hdGNoKFJFR0VYX1BBUlNFKTtcbiAgICBpZiAoZCkge1xuICAgICAgY29uc3QgbSA9IGRbMl0gLSAxIHx8IDA7XG4gICAgICBjb25zdCBtcyA9IChkWzddIHx8IFwiMFwiKS5zdWJzdHJpbmcoMCwgMyk7XG4gICAgICByZXR1cm4gbmV3IERhdGUoZFsxXSwgbSwgZFszXSB8fCAxLCBkWzRdIHx8IDAsIGRbNV0gfHwgMCwgZFs2XSB8fCAwLCBtcyk7XG4gICAgfVxuICB9XG4gIHJldHVybiBuZXcgRGF0ZShkYXRlKTtcbn07XG5mdW5jdGlvbiB1c2VEYXRlRm9ybWF0KGRhdGUsIGZvcm1hdFN0ciA9IFwiSEg6bW06c3NcIiwgb3B0aW9ucyA9IHt9KSB7XG4gIHJldHVybiBjb21wdXRlZCgoKSA9PiBmb3JtYXREYXRlKG5vcm1hbGl6ZURhdGUocmVzb2x2ZVVucmVmKGRhdGUpKSwgcmVzb2x2ZVVucmVmKGZvcm1hdFN0ciksIG9wdGlvbnMpKTtcbn1cblxuZnVuY3Rpb24gdXNlSW50ZXJ2YWxGbihjYiwgaW50ZXJ2YWwgPSAxZTMsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgaW1tZWRpYXRlID0gdHJ1ZSxcbiAgICBpbW1lZGlhdGVDYWxsYmFjayA9IGZhbHNlXG4gIH0gPSBvcHRpb25zO1xuICBsZXQgdGltZXIgPSBudWxsO1xuICBjb25zdCBpc0FjdGl2ZSA9IHJlZihmYWxzZSk7XG4gIGZ1bmN0aW9uIGNsZWFuKCkge1xuICAgIGlmICh0aW1lcikge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7XG4gICAgICB0aW1lciA9IG51bGw7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgIGlzQWN0aXZlLnZhbHVlID0gZmFsc2U7XG4gICAgY2xlYW4oKTtcbiAgfVxuICBmdW5jdGlvbiByZXN1bWUoKSB7XG4gICAgY29uc3QgaW50ZXJ2YWxWYWx1ZSA9IHJlc29sdmVVbnJlZihpbnRlcnZhbCk7XG4gICAgaWYgKGludGVydmFsVmFsdWUgPD0gMClcbiAgICAgIHJldHVybjtcbiAgICBpc0FjdGl2ZS52YWx1ZSA9IHRydWU7XG4gICAgaWYgKGltbWVkaWF0ZUNhbGxiYWNrKVxuICAgICAgY2IoKTtcbiAgICBjbGVhbigpO1xuICAgIHRpbWVyID0gc2V0SW50ZXJ2YWwoY2IsIGludGVydmFsVmFsdWUpO1xuICB9XG4gIGlmIChpbW1lZGlhdGUgJiYgaXNDbGllbnQpXG4gICAgcmVzdW1lKCk7XG4gIGlmIChpc1JlZihpbnRlcnZhbCkgfHwgaXNGdW5jdGlvbihpbnRlcnZhbCkpIHtcbiAgICBjb25zdCBzdG9wV2F0Y2ggPSB3YXRjaChpbnRlcnZhbCwgKCkgPT4ge1xuICAgICAgaWYgKGlzQWN0aXZlLnZhbHVlICYmIGlzQ2xpZW50KVxuICAgICAgICByZXN1bWUoKTtcbiAgICB9KTtcbiAgICB0cnlPblNjb3BlRGlzcG9zZShzdG9wV2F0Y2gpO1xuICB9XG4gIHRyeU9uU2NvcGVEaXNwb3NlKHBhdXNlKTtcbiAgcmV0dXJuIHtcbiAgICBpc0FjdGl2ZSxcbiAgICBwYXVzZSxcbiAgICByZXN1bWVcbiAgfTtcbn1cblxudmFyIF9fZGVmUHJvcCQ2ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcFN5bWJvbHMkOCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgX19oYXNPd25Qcm9wJDggPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fcHJvcElzRW51bSQ4ID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBfX2RlZk5vcm1hbFByb3AkNiA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3AkNihvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19zcHJlYWRWYWx1ZXMkNiA9IChhLCBiKSA9PiB7XG4gIGZvciAodmFyIHByb3AgaW4gYiB8fCAoYiA9IHt9KSlcbiAgICBpZiAoX19oYXNPd25Qcm9wJDguY2FsbChiLCBwcm9wKSlcbiAgICAgIF9fZGVmTm9ybWFsUHJvcCQ2KGEsIHByb3AsIGJbcHJvcF0pO1xuICBpZiAoX19nZXRPd25Qcm9wU3ltYm9scyQ4KVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyQ4KGIpKSB7XG4gICAgICBpZiAoX19wcm9wSXNFbnVtJDguY2FsbChiLCBwcm9wKSlcbiAgICAgICAgX19kZWZOb3JtYWxQcm9wJDYoYSwgcHJvcCwgYltwcm9wXSk7XG4gICAgfVxuICByZXR1cm4gYTtcbn07XG5mdW5jdGlvbiB1c2VJbnRlcnZhbChpbnRlcnZhbCA9IDFlMywgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBjb250cm9sczogZXhwb3NlQ29udHJvbHMgPSBmYWxzZSxcbiAgICBpbW1lZGlhdGUgPSB0cnVlLFxuICAgIGNhbGxiYWNrXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBjb3VudGVyID0gcmVmKDApO1xuICBjb25zdCB1cGRhdGUgPSAoKSA9PiBjb3VudGVyLnZhbHVlICs9IDE7XG4gIGNvbnN0IHJlc2V0ID0gKCkgPT4ge1xuICAgIGNvdW50ZXIudmFsdWUgPSAwO1xuICB9O1xuICBjb25zdCBjb250cm9scyA9IHVzZUludGVydmFsRm4oY2FsbGJhY2sgPyAoKSA9PiB7XG4gICAgdXBkYXRlKCk7XG4gICAgY2FsbGJhY2soY291bnRlci52YWx1ZSk7XG4gIH0gOiB1cGRhdGUsIGludGVydmFsLCB7IGltbWVkaWF0ZSB9KTtcbiAgaWYgKGV4cG9zZUNvbnRyb2xzKSB7XG4gICAgcmV0dXJuIF9fc3ByZWFkVmFsdWVzJDYoe1xuICAgICAgY291bnRlcixcbiAgICAgIHJlc2V0XG4gICAgfSwgY29udHJvbHMpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjb3VudGVyO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVzZUxhc3RDaGFuZ2VkKHNvdXJjZSwgb3B0aW9ucyA9IHt9KSB7XG4gIHZhciBfYTtcbiAgY29uc3QgbXMgPSByZWYoKF9hID0gb3B0aW9ucy5pbml0aWFsVmFsdWUpICE9IG51bGwgPyBfYSA6IG51bGwpO1xuICB3YXRjaChzb3VyY2UsICgpID0+IG1zLnZhbHVlID0gdGltZXN0YW1wKCksIG9wdGlvbnMpO1xuICByZXR1cm4gbXM7XG59XG5cbmZ1bmN0aW9uIHVzZVRpbWVvdXRGbihjYiwgaW50ZXJ2YWwsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgaW1tZWRpYXRlID0gdHJ1ZVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgaXNQZW5kaW5nID0gcmVmKGZhbHNlKTtcbiAgbGV0IHRpbWVyID0gbnVsbDtcbiAgZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgaWYgKHRpbWVyKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgdGltZXIgPSBudWxsO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBzdG9wKCkge1xuICAgIGlzUGVuZGluZy52YWx1ZSA9IGZhbHNlO1xuICAgIGNsZWFyKCk7XG4gIH1cbiAgZnVuY3Rpb24gc3RhcnQoLi4uYXJncykge1xuICAgIGNsZWFyKCk7XG4gICAgaXNQZW5kaW5nLnZhbHVlID0gdHJ1ZTtcbiAgICB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaXNQZW5kaW5nLnZhbHVlID0gZmFsc2U7XG4gICAgICB0aW1lciA9IG51bGw7XG4gICAgICBjYiguLi5hcmdzKTtcbiAgICB9LCByZXNvbHZlVW5yZWYoaW50ZXJ2YWwpKTtcbiAgfVxuICBpZiAoaW1tZWRpYXRlKSB7XG4gICAgaXNQZW5kaW5nLnZhbHVlID0gdHJ1ZTtcbiAgICBpZiAoaXNDbGllbnQpXG4gICAgICBzdGFydCgpO1xuICB9XG4gIHRyeU9uU2NvcGVEaXNwb3NlKHN0b3ApO1xuICByZXR1cm4ge1xuICAgIGlzUGVuZGluZzogcmVhZG9ubHkoaXNQZW5kaW5nKSxcbiAgICBzdGFydCxcbiAgICBzdG9wXG4gIH07XG59XG5cbnZhciBfX2RlZlByb3AkNSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BTeW1ib2xzJDcgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIF9faGFzT3duUHJvcCQ3ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfX3Byb3BJc0VudW0kNyA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG52YXIgX19kZWZOb3JtYWxQcm9wJDUgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wJDUob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fc3ByZWFkVmFsdWVzJDUgPSAoYSwgYikgPT4ge1xuICBmb3IgKHZhciBwcm9wIGluIGIgfHwgKGIgPSB7fSkpXG4gICAgaWYgKF9faGFzT3duUHJvcCQ3LmNhbGwoYiwgcHJvcCkpXG4gICAgICBfX2RlZk5vcm1hbFByb3AkNShhLCBwcm9wLCBiW3Byb3BdKTtcbiAgaWYgKF9fZ2V0T3duUHJvcFN5bWJvbHMkNylcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMkNyhiKSkge1xuICAgICAgaWYgKF9fcHJvcElzRW51bSQ3LmNhbGwoYiwgcHJvcCkpXG4gICAgICAgIF9fZGVmTm9ybWFsUHJvcCQ1KGEsIHByb3AsIGJbcHJvcF0pO1xuICAgIH1cbiAgcmV0dXJuIGE7XG59O1xuZnVuY3Rpb24gdXNlVGltZW91dChpbnRlcnZhbCA9IDFlMywgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBjb250cm9sczogZXhwb3NlQ29udHJvbHMgPSBmYWxzZSxcbiAgICBjYWxsYmFja1xuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgY29udHJvbHMgPSB1c2VUaW1lb3V0Rm4oY2FsbGJhY2sgIT0gbnVsbCA/IGNhbGxiYWNrIDogbm9vcCwgaW50ZXJ2YWwsIG9wdGlvbnMpO1xuICBjb25zdCByZWFkeSA9IGNvbXB1dGVkKCgpID0+ICFjb250cm9scy5pc1BlbmRpbmcudmFsdWUpO1xuICBpZiAoZXhwb3NlQ29udHJvbHMpIHtcbiAgICByZXR1cm4gX19zcHJlYWRWYWx1ZXMkNSh7XG4gICAgICByZWFkeVxuICAgIH0sIGNvbnRyb2xzKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcmVhZHk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdXNlVG9OdW1iZXIodmFsdWUsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgbWV0aG9kID0gXCJwYXJzZUZsb2F0XCIsXG4gICAgcmFkaXgsXG4gICAgbmFuVG9aZXJvXG4gIH0gPSBvcHRpb25zO1xuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4ge1xuICAgIGxldCByZXNvbHZlZCA9IHJlc29sdmVVbnJlZih2YWx1ZSk7XG4gICAgaWYgKHR5cGVvZiByZXNvbHZlZCA9PT0gXCJzdHJpbmdcIilcbiAgICAgIHJlc29sdmVkID0gTnVtYmVyW21ldGhvZF0ocmVzb2x2ZWQsIHJhZGl4KTtcbiAgICBpZiAobmFuVG9aZXJvICYmIGlzTmFOKHJlc29sdmVkKSlcbiAgICAgIHJlc29sdmVkID0gMDtcbiAgICByZXR1cm4gcmVzb2x2ZWQ7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB1c2VUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4gYCR7cmVzb2x2ZVVucmVmKHZhbHVlKX1gKTtcbn1cblxuZnVuY3Rpb24gdXNlVG9nZ2xlKGluaXRpYWxWYWx1ZSA9IGZhbHNlLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIHRydXRoeVZhbHVlID0gdHJ1ZSxcbiAgICBmYWxzeVZhbHVlID0gZmFsc2VcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHZhbHVlSXNSZWYgPSBpc1JlZihpbml0aWFsVmFsdWUpO1xuICBjb25zdCBfdmFsdWUgPSByZWYoaW5pdGlhbFZhbHVlKTtcbiAgZnVuY3Rpb24gdG9nZ2xlKHZhbHVlKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIF92YWx1ZS52YWx1ZSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIF92YWx1ZS52YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdHJ1dGh5ID0gcmVzb2x2ZVVucmVmKHRydXRoeVZhbHVlKTtcbiAgICAgIF92YWx1ZS52YWx1ZSA9IF92YWx1ZS52YWx1ZSA9PT0gdHJ1dGh5ID8gcmVzb2x2ZVVucmVmKGZhbHN5VmFsdWUpIDogdHJ1dGh5O1xuICAgICAgcmV0dXJuIF92YWx1ZS52YWx1ZTtcbiAgICB9XG4gIH1cbiAgaWYgKHZhbHVlSXNSZWYpXG4gICAgcmV0dXJuIHRvZ2dsZTtcbiAgZWxzZVxuICAgIHJldHVybiBbX3ZhbHVlLCB0b2dnbGVdO1xufVxuXG5mdW5jdGlvbiB3YXRjaEFycmF5KHNvdXJjZSwgY2IsIG9wdGlvbnMpIHtcbiAgbGV0IG9sZExpc3QgPSAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5pbW1lZGlhdGUpID8gW10gOiBbXG4gICAgLi4uc291cmNlIGluc3RhbmNlb2YgRnVuY3Rpb24gPyBzb3VyY2UoKSA6IEFycmF5LmlzQXJyYXkoc291cmNlKSA/IHNvdXJjZSA6IHVucmVmKHNvdXJjZSlcbiAgXTtcbiAgcmV0dXJuIHdhdGNoKHNvdXJjZSwgKG5ld0xpc3QsIF8sIG9uQ2xlYW51cCkgPT4ge1xuICAgIGNvbnN0IG9sZExpc3RSZW1haW5zID0gbmV3IEFycmF5KG9sZExpc3QubGVuZ3RoKTtcbiAgICBjb25zdCBhZGRlZCA9IFtdO1xuICAgIGZvciAoY29uc3Qgb2JqIG9mIG5ld0xpc3QpIHtcbiAgICAgIGxldCBmb3VuZCA9IGZhbHNlO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvbGRMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghb2xkTGlzdFJlbWFpbnNbaV0gJiYgb2JqID09PSBvbGRMaXN0W2ldKSB7XG4gICAgICAgICAgb2xkTGlzdFJlbWFpbnNbaV0gPSB0cnVlO1xuICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFmb3VuZClcbiAgICAgICAgYWRkZWQucHVzaChvYmopO1xuICAgIH1cbiAgICBjb25zdCByZW1vdmVkID0gb2xkTGlzdC5maWx0ZXIoKF8yLCBpKSA9PiAhb2xkTGlzdFJlbWFpbnNbaV0pO1xuICAgIGNiKG5ld0xpc3QsIG9sZExpc3QsIGFkZGVkLCByZW1vdmVkLCBvbkNsZWFudXApO1xuICAgIG9sZExpc3QgPSBbLi4ubmV3TGlzdF07XG4gIH0sIG9wdGlvbnMpO1xufVxuXG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyQ2ID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBfX2hhc093blByb3AkNiA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19wcm9wSXNFbnVtJDYgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fb2JqUmVzdCQ1ID0gKHNvdXJjZSwgZXhjbHVkZSkgPT4ge1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIGZvciAodmFyIHByb3AgaW4gc291cmNlKVxuICAgIGlmIChfX2hhc093blByb3AkNi5jYWxsKHNvdXJjZSwgcHJvcCkgJiYgZXhjbHVkZS5pbmRleE9mKHByb3ApIDwgMClcbiAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgaWYgKHNvdXJjZSAhPSBudWxsICYmIF9fZ2V0T3duUHJvcFN5bWJvbHMkNilcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMkNihzb3VyY2UpKSB7XG4gICAgICBpZiAoZXhjbHVkZS5pbmRleE9mKHByb3ApIDwgMCAmJiBfX3Byb3BJc0VudW0kNi5jYWxsKHNvdXJjZSwgcHJvcCkpXG4gICAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICB9XG4gIHJldHVybiB0YXJnZXQ7XG59O1xuZnVuY3Rpb24gd2F0Y2hXaXRoRmlsdGVyKHNvdXJjZSwgY2IsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBfYSA9IG9wdGlvbnMsIHtcbiAgICBldmVudEZpbHRlciA9IGJ5cGFzc0ZpbHRlclxuICB9ID0gX2EsIHdhdGNoT3B0aW9ucyA9IF9fb2JqUmVzdCQ1KF9hLCBbXG4gICAgXCJldmVudEZpbHRlclwiXG4gIF0pO1xuICByZXR1cm4gd2F0Y2goc291cmNlLCBjcmVhdGVGaWx0ZXJXcmFwcGVyKGV2ZW50RmlsdGVyLCBjYiksIHdhdGNoT3B0aW9ucyk7XG59XG5cbnZhciBfX2dldE93blByb3BTeW1ib2xzJDUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIF9faGFzT3duUHJvcCQ1ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfX3Byb3BJc0VudW0kNSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG52YXIgX19vYmpSZXN0JDQgPSAoc291cmNlLCBleGNsdWRlKSA9PiB7XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgZm9yICh2YXIgcHJvcCBpbiBzb3VyY2UpXG4gICAgaWYgKF9faGFzT3duUHJvcCQ1LmNhbGwoc291cmNlLCBwcm9wKSAmJiBleGNsdWRlLmluZGV4T2YocHJvcCkgPCAwKVxuICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICBpZiAoc291cmNlICE9IG51bGwgJiYgX19nZXRPd25Qcm9wU3ltYm9scyQ1KVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyQ1KHNvdXJjZSkpIHtcbiAgICAgIGlmIChleGNsdWRlLmluZGV4T2YocHJvcCkgPCAwICYmIF9fcHJvcElzRW51bSQ1LmNhbGwoc291cmNlLCBwcm9wKSlcbiAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgIH1cbiAgcmV0dXJuIHRhcmdldDtcbn07XG5mdW5jdGlvbiB3YXRjaEF0TW9zdChzb3VyY2UsIGNiLCBvcHRpb25zKSB7XG4gIGNvbnN0IF9hID0gb3B0aW9ucywge1xuICAgIGNvdW50XG4gIH0gPSBfYSwgd2F0Y2hPcHRpb25zID0gX19vYmpSZXN0JDQoX2EsIFtcbiAgICBcImNvdW50XCJcbiAgXSk7XG4gIGNvbnN0IGN1cnJlbnQgPSByZWYoMCk7XG4gIGNvbnN0IHN0b3AgPSB3YXRjaFdpdGhGaWx0ZXIoc291cmNlLCAoLi4uYXJncykgPT4ge1xuICAgIGN1cnJlbnQudmFsdWUgKz0gMTtcbiAgICBpZiAoY3VycmVudC52YWx1ZSA+PSByZXNvbHZlVW5yZWYoY291bnQpKVxuICAgICAgbmV4dFRpY2soKCkgPT4gc3RvcCgpKTtcbiAgICBjYiguLi5hcmdzKTtcbiAgfSwgd2F0Y2hPcHRpb25zKTtcbiAgcmV0dXJuIHsgY291bnQ6IGN1cnJlbnQsIHN0b3AgfTtcbn1cblxudmFyIF9fZGVmUHJvcCQ0ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmUHJvcHMkNCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzO1xudmFyIF9fZ2V0T3duUHJvcERlc2NzJDQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycztcbnZhciBfX2dldE93blByb3BTeW1ib2xzJDQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIF9faGFzT3duUHJvcCQ0ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfX3Byb3BJc0VudW0kNCA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG52YXIgX19kZWZOb3JtYWxQcm9wJDQgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wJDQob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fc3ByZWFkVmFsdWVzJDQgPSAoYSwgYikgPT4ge1xuICBmb3IgKHZhciBwcm9wIGluIGIgfHwgKGIgPSB7fSkpXG4gICAgaWYgKF9faGFzT3duUHJvcCQ0LmNhbGwoYiwgcHJvcCkpXG4gICAgICBfX2RlZk5vcm1hbFByb3AkNChhLCBwcm9wLCBiW3Byb3BdKTtcbiAgaWYgKF9fZ2V0T3duUHJvcFN5bWJvbHMkNClcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMkNChiKSkge1xuICAgICAgaWYgKF9fcHJvcElzRW51bSQ0LmNhbGwoYiwgcHJvcCkpXG4gICAgICAgIF9fZGVmTm9ybWFsUHJvcCQ0KGEsIHByb3AsIGJbcHJvcF0pO1xuICAgIH1cbiAgcmV0dXJuIGE7XG59O1xudmFyIF9fc3ByZWFkUHJvcHMkNCA9IChhLCBiKSA9PiBfX2RlZlByb3BzJDQoYSwgX19nZXRPd25Qcm9wRGVzY3MkNChiKSk7XG52YXIgX19vYmpSZXN0JDMgPSAoc291cmNlLCBleGNsdWRlKSA9PiB7XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgZm9yICh2YXIgcHJvcCBpbiBzb3VyY2UpXG4gICAgaWYgKF9faGFzT3duUHJvcCQ0LmNhbGwoc291cmNlLCBwcm9wKSAmJiBleGNsdWRlLmluZGV4T2YocHJvcCkgPCAwKVxuICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICBpZiAoc291cmNlICE9IG51bGwgJiYgX19nZXRPd25Qcm9wU3ltYm9scyQ0KVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyQ0KHNvdXJjZSkpIHtcbiAgICAgIGlmIChleGNsdWRlLmluZGV4T2YocHJvcCkgPCAwICYmIF9fcHJvcElzRW51bSQ0LmNhbGwoc291cmNlLCBwcm9wKSlcbiAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgIH1cbiAgcmV0dXJuIHRhcmdldDtcbn07XG5mdW5jdGlvbiB3YXRjaERlYm91bmNlZChzb3VyY2UsIGNiLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgX2EgPSBvcHRpb25zLCB7XG4gICAgZGVib3VuY2UgPSAwLFxuICAgIG1heFdhaXQgPSB2b2lkIDBcbiAgfSA9IF9hLCB3YXRjaE9wdGlvbnMgPSBfX29ialJlc3QkMyhfYSwgW1xuICAgIFwiZGVib3VuY2VcIixcbiAgICBcIm1heFdhaXRcIlxuICBdKTtcbiAgcmV0dXJuIHdhdGNoV2l0aEZpbHRlcihzb3VyY2UsIGNiLCBfX3NwcmVhZFByb3BzJDQoX19zcHJlYWRWYWx1ZXMkNCh7fSwgd2F0Y2hPcHRpb25zKSwge1xuICAgIGV2ZW50RmlsdGVyOiBkZWJvdW5jZUZpbHRlcihkZWJvdW5jZSwgeyBtYXhXYWl0IH0pXG4gIH0pKTtcbn1cblxudmFyIF9fZGVmUHJvcCQzID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmUHJvcHMkMyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzO1xudmFyIF9fZ2V0T3duUHJvcERlc2NzJDMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycztcbnZhciBfX2dldE93blByb3BTeW1ib2xzJDMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIF9faGFzT3duUHJvcCQzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfX3Byb3BJc0VudW0kMyA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG52YXIgX19kZWZOb3JtYWxQcm9wJDMgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wJDMob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fc3ByZWFkVmFsdWVzJDMgPSAoYSwgYikgPT4ge1xuICBmb3IgKHZhciBwcm9wIGluIGIgfHwgKGIgPSB7fSkpXG4gICAgaWYgKF9faGFzT3duUHJvcCQzLmNhbGwoYiwgcHJvcCkpXG4gICAgICBfX2RlZk5vcm1hbFByb3AkMyhhLCBwcm9wLCBiW3Byb3BdKTtcbiAgaWYgKF9fZ2V0T3duUHJvcFN5bWJvbHMkMylcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMkMyhiKSkge1xuICAgICAgaWYgKF9fcHJvcElzRW51bSQzLmNhbGwoYiwgcHJvcCkpXG4gICAgICAgIF9fZGVmTm9ybWFsUHJvcCQzKGEsIHByb3AsIGJbcHJvcF0pO1xuICAgIH1cbiAgcmV0dXJuIGE7XG59O1xudmFyIF9fc3ByZWFkUHJvcHMkMyA9IChhLCBiKSA9PiBfX2RlZlByb3BzJDMoYSwgX19nZXRPd25Qcm9wRGVzY3MkMyhiKSk7XG52YXIgX19vYmpSZXN0JDIgPSAoc291cmNlLCBleGNsdWRlKSA9PiB7XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgZm9yICh2YXIgcHJvcCBpbiBzb3VyY2UpXG4gICAgaWYgKF9faGFzT3duUHJvcCQzLmNhbGwoc291cmNlLCBwcm9wKSAmJiBleGNsdWRlLmluZGV4T2YocHJvcCkgPCAwKVxuICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICBpZiAoc291cmNlICE9IG51bGwgJiYgX19nZXRPd25Qcm9wU3ltYm9scyQzKVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyQzKHNvdXJjZSkpIHtcbiAgICAgIGlmIChleGNsdWRlLmluZGV4T2YocHJvcCkgPCAwICYmIF9fcHJvcElzRW51bSQzLmNhbGwoc291cmNlLCBwcm9wKSlcbiAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgIH1cbiAgcmV0dXJuIHRhcmdldDtcbn07XG5mdW5jdGlvbiB3YXRjaElnbm9yYWJsZShzb3VyY2UsIGNiLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgX2EgPSBvcHRpb25zLCB7XG4gICAgZXZlbnRGaWx0ZXIgPSBieXBhc3NGaWx0ZXJcbiAgfSA9IF9hLCB3YXRjaE9wdGlvbnMgPSBfX29ialJlc3QkMihfYSwgW1xuICAgIFwiZXZlbnRGaWx0ZXJcIlxuICBdKTtcbiAgY29uc3QgZmlsdGVyZWRDYiA9IGNyZWF0ZUZpbHRlcldyYXBwZXIoZXZlbnRGaWx0ZXIsIGNiKTtcbiAgbGV0IGlnbm9yZVVwZGF0ZXM7XG4gIGxldCBpZ25vcmVQcmV2QXN5bmNVcGRhdGVzO1xuICBsZXQgc3RvcDtcbiAgaWYgKHdhdGNoT3B0aW9ucy5mbHVzaCA9PT0gXCJzeW5jXCIpIHtcbiAgICBjb25zdCBpZ25vcmUgPSByZWYoZmFsc2UpO1xuICAgIGlnbm9yZVByZXZBc3luY1VwZGF0ZXMgPSAoKSA9PiB7XG4gICAgfTtcbiAgICBpZ25vcmVVcGRhdGVzID0gKHVwZGF0ZXIpID0+IHtcbiAgICAgIGlnbm9yZS52YWx1ZSA9IHRydWU7XG4gICAgICB1cGRhdGVyKCk7XG4gICAgICBpZ25vcmUudmFsdWUgPSBmYWxzZTtcbiAgICB9O1xuICAgIHN0b3AgPSB3YXRjaChzb3VyY2UsICguLi5hcmdzKSA9PiB7XG4gICAgICBpZiAoIWlnbm9yZS52YWx1ZSlcbiAgICAgICAgZmlsdGVyZWRDYiguLi5hcmdzKTtcbiAgICB9LCB3YXRjaE9wdGlvbnMpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGRpc3Bvc2FibGVzID0gW107XG4gICAgY29uc3QgaWdub3JlQ291bnRlciA9IHJlZigwKTtcbiAgICBjb25zdCBzeW5jQ291bnRlciA9IHJlZigwKTtcbiAgICBpZ25vcmVQcmV2QXN5bmNVcGRhdGVzID0gKCkgPT4ge1xuICAgICAgaWdub3JlQ291bnRlci52YWx1ZSA9IHN5bmNDb3VudGVyLnZhbHVlO1xuICAgIH07XG4gICAgZGlzcG9zYWJsZXMucHVzaCh3YXRjaChzb3VyY2UsICgpID0+IHtcbiAgICAgIHN5bmNDb3VudGVyLnZhbHVlKys7XG4gICAgfSwgX19zcHJlYWRQcm9wcyQzKF9fc3ByZWFkVmFsdWVzJDMoe30sIHdhdGNoT3B0aW9ucyksIHsgZmx1c2g6IFwic3luY1wiIH0pKSk7XG4gICAgaWdub3JlVXBkYXRlcyA9ICh1cGRhdGVyKSA9PiB7XG4gICAgICBjb25zdCBzeW5jQ291bnRlclByZXYgPSBzeW5jQ291bnRlci52YWx1ZTtcbiAgICAgIHVwZGF0ZXIoKTtcbiAgICAgIGlnbm9yZUNvdW50ZXIudmFsdWUgKz0gc3luY0NvdW50ZXIudmFsdWUgLSBzeW5jQ291bnRlclByZXY7XG4gICAgfTtcbiAgICBkaXNwb3NhYmxlcy5wdXNoKHdhdGNoKHNvdXJjZSwgKC4uLmFyZ3MpID0+IHtcbiAgICAgIGNvbnN0IGlnbm9yZSA9IGlnbm9yZUNvdW50ZXIudmFsdWUgPiAwICYmIGlnbm9yZUNvdW50ZXIudmFsdWUgPT09IHN5bmNDb3VudGVyLnZhbHVlO1xuICAgICAgaWdub3JlQ291bnRlci52YWx1ZSA9IDA7XG4gICAgICBzeW5jQ291bnRlci52YWx1ZSA9IDA7XG4gICAgICBpZiAoaWdub3JlKVxuICAgICAgICByZXR1cm47XG4gICAgICBmaWx0ZXJlZENiKC4uLmFyZ3MpO1xuICAgIH0sIHdhdGNoT3B0aW9ucykpO1xuICAgIHN0b3AgPSAoKSA9PiB7XG4gICAgICBkaXNwb3NhYmxlcy5mb3JFYWNoKChmbikgPT4gZm4oKSk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4geyBzdG9wLCBpZ25vcmVVcGRhdGVzLCBpZ25vcmVQcmV2QXN5bmNVcGRhdGVzIH07XG59XG5cbmZ1bmN0aW9uIHdhdGNoT25jZShzb3VyY2UsIGNiLCBvcHRpb25zKSB7XG4gIGNvbnN0IHN0b3AgPSB3YXRjaChzb3VyY2UsICguLi5hcmdzKSA9PiB7XG4gICAgbmV4dFRpY2soKCkgPT4gc3RvcCgpKTtcbiAgICByZXR1cm4gY2IoLi4uYXJncyk7XG4gIH0sIG9wdGlvbnMpO1xufVxuXG52YXIgX19kZWZQcm9wJDIgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZQcm9wcyQyID0gT2JqZWN0LmRlZmluZVByb3BlcnRpZXM7XG52YXIgX19nZXRPd25Qcm9wRGVzY3MkMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzO1xudmFyIF9fZ2V0T3duUHJvcFN5bWJvbHMkMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgX19oYXNPd25Qcm9wJDIgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fcHJvcElzRW51bSQyID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBfX2RlZk5vcm1hbFByb3AkMiA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3AkMihvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19zcHJlYWRWYWx1ZXMkMiA9IChhLCBiKSA9PiB7XG4gIGZvciAodmFyIHByb3AgaW4gYiB8fCAoYiA9IHt9KSlcbiAgICBpZiAoX19oYXNPd25Qcm9wJDIuY2FsbChiLCBwcm9wKSlcbiAgICAgIF9fZGVmTm9ybWFsUHJvcCQyKGEsIHByb3AsIGJbcHJvcF0pO1xuICBpZiAoX19nZXRPd25Qcm9wU3ltYm9scyQyKVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyQyKGIpKSB7XG4gICAgICBpZiAoX19wcm9wSXNFbnVtJDIuY2FsbChiLCBwcm9wKSlcbiAgICAgICAgX19kZWZOb3JtYWxQcm9wJDIoYSwgcHJvcCwgYltwcm9wXSk7XG4gICAgfVxuICByZXR1cm4gYTtcbn07XG52YXIgX19zcHJlYWRQcm9wcyQyID0gKGEsIGIpID0+IF9fZGVmUHJvcHMkMihhLCBfX2dldE93blByb3BEZXNjcyQyKGIpKTtcbnZhciBfX29ialJlc3QkMSA9IChzb3VyY2UsIGV4Y2x1ZGUpID0+IHtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICBmb3IgKHZhciBwcm9wIGluIHNvdXJjZSlcbiAgICBpZiAoX19oYXNPd25Qcm9wJDIuY2FsbChzb3VyY2UsIHByb3ApICYmIGV4Y2x1ZGUuaW5kZXhPZihwcm9wKSA8IDApXG4gICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gIGlmIChzb3VyY2UgIT0gbnVsbCAmJiBfX2dldE93blByb3BTeW1ib2xzJDIpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzJDIoc291cmNlKSkge1xuICAgICAgaWYgKGV4Y2x1ZGUuaW5kZXhPZihwcm9wKSA8IDAgJiYgX19wcm9wSXNFbnVtJDIuY2FsbChzb3VyY2UsIHByb3ApKVxuICAgICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgfVxuICByZXR1cm4gdGFyZ2V0O1xufTtcbmZ1bmN0aW9uIHdhdGNoUGF1c2FibGUoc291cmNlLCBjYiwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IF9hID0gb3B0aW9ucywge1xuICAgIGV2ZW50RmlsdGVyOiBmaWx0ZXJcbiAgfSA9IF9hLCB3YXRjaE9wdGlvbnMgPSBfX29ialJlc3QkMShfYSwgW1xuICAgIFwiZXZlbnRGaWx0ZXJcIlxuICBdKTtcbiAgY29uc3QgeyBldmVudEZpbHRlciwgcGF1c2UsIHJlc3VtZSwgaXNBY3RpdmUgfSA9IHBhdXNhYmxlRmlsdGVyKGZpbHRlcik7XG4gIGNvbnN0IHN0b3AgPSB3YXRjaFdpdGhGaWx0ZXIoc291cmNlLCBjYiwgX19zcHJlYWRQcm9wcyQyKF9fc3ByZWFkVmFsdWVzJDIoe30sIHdhdGNoT3B0aW9ucyksIHtcbiAgICBldmVudEZpbHRlclxuICB9KSk7XG4gIHJldHVybiB7IHN0b3AsIHBhdXNlLCByZXN1bWUsIGlzQWN0aXZlIH07XG59XG5cbnZhciBfX2RlZlByb3AkMSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZlByb3BzJDEgPSBPYmplY3QuZGVmaW5lUHJvcGVydGllcztcbnZhciBfX2dldE93blByb3BEZXNjcyQxID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM7XG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyQxID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBfX2hhc093blByb3AkMSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19wcm9wSXNFbnVtJDEgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fZGVmTm9ybWFsUHJvcCQxID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcCQxKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3NwcmVhZFZhbHVlcyQxID0gKGEsIGIpID0+IHtcbiAgZm9yICh2YXIgcHJvcCBpbiBiIHx8IChiID0ge30pKVxuICAgIGlmIChfX2hhc093blByb3AkMS5jYWxsKGIsIHByb3ApKVxuICAgICAgX19kZWZOb3JtYWxQcm9wJDEoYSwgcHJvcCwgYltwcm9wXSk7XG4gIGlmIChfX2dldE93blByb3BTeW1ib2xzJDEpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzJDEoYikpIHtcbiAgICAgIGlmIChfX3Byb3BJc0VudW0kMS5jYWxsKGIsIHByb3ApKVxuICAgICAgICBfX2RlZk5vcm1hbFByb3AkMShhLCBwcm9wLCBiW3Byb3BdKTtcbiAgICB9XG4gIHJldHVybiBhO1xufTtcbnZhciBfX3NwcmVhZFByb3BzJDEgPSAoYSwgYikgPT4gX19kZWZQcm9wcyQxKGEsIF9fZ2V0T3duUHJvcERlc2NzJDEoYikpO1xudmFyIF9fb2JqUmVzdCA9IChzb3VyY2UsIGV4Y2x1ZGUpID0+IHtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICBmb3IgKHZhciBwcm9wIGluIHNvdXJjZSlcbiAgICBpZiAoX19oYXNPd25Qcm9wJDEuY2FsbChzb3VyY2UsIHByb3ApICYmIGV4Y2x1ZGUuaW5kZXhPZihwcm9wKSA8IDApXG4gICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gIGlmIChzb3VyY2UgIT0gbnVsbCAmJiBfX2dldE93blByb3BTeW1ib2xzJDEpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzJDEoc291cmNlKSkge1xuICAgICAgaWYgKGV4Y2x1ZGUuaW5kZXhPZihwcm9wKSA8IDAgJiYgX19wcm9wSXNFbnVtJDEuY2FsbChzb3VyY2UsIHByb3ApKVxuICAgICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgfVxuICByZXR1cm4gdGFyZ2V0O1xufTtcbmZ1bmN0aW9uIHdhdGNoVGhyb3R0bGVkKHNvdXJjZSwgY2IsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBfYSA9IG9wdGlvbnMsIHtcbiAgICB0aHJvdHRsZSA9IDAsXG4gICAgdHJhaWxpbmcgPSB0cnVlLFxuICAgIGxlYWRpbmcgPSB0cnVlXG4gIH0gPSBfYSwgd2F0Y2hPcHRpb25zID0gX19vYmpSZXN0KF9hLCBbXG4gICAgXCJ0aHJvdHRsZVwiLFxuICAgIFwidHJhaWxpbmdcIixcbiAgICBcImxlYWRpbmdcIlxuICBdKTtcbiAgcmV0dXJuIHdhdGNoV2l0aEZpbHRlcihzb3VyY2UsIGNiLCBfX3NwcmVhZFByb3BzJDEoX19zcHJlYWRWYWx1ZXMkMSh7fSwgd2F0Y2hPcHRpb25zKSwge1xuICAgIGV2ZW50RmlsdGVyOiB0aHJvdHRsZUZpbHRlcih0aHJvdHRsZSwgdHJhaWxpbmcsIGxlYWRpbmcpXG4gIH0pKTtcbn1cblxudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZlByb3BzID0gT2JqZWN0LmRlZmluZVByb3BlcnRpZXM7XG52YXIgX19nZXRPd25Qcm9wRGVzY3MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycztcbnZhciBfX2dldE93blByb3BTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBfX2hhc093blByb3AgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fcHJvcElzRW51bSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19zcHJlYWRWYWx1ZXMgPSAoYSwgYikgPT4ge1xuICBmb3IgKHZhciBwcm9wIGluIGIgfHwgKGIgPSB7fSkpXG4gICAgaWYgKF9faGFzT3duUHJvcC5jYWxsKGIsIHByb3ApKVxuICAgICAgX19kZWZOb3JtYWxQcm9wKGEsIHByb3AsIGJbcHJvcF0pO1xuICBpZiAoX19nZXRPd25Qcm9wU3ltYm9scylcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMoYikpIHtcbiAgICAgIGlmIChfX3Byb3BJc0VudW0uY2FsbChiLCBwcm9wKSlcbiAgICAgICAgX19kZWZOb3JtYWxQcm9wKGEsIHByb3AsIGJbcHJvcF0pO1xuICAgIH1cbiAgcmV0dXJuIGE7XG59O1xudmFyIF9fc3ByZWFkUHJvcHMgPSAoYSwgYikgPT4gX19kZWZQcm9wcyhhLCBfX2dldE93blByb3BEZXNjcyhiKSk7XG5mdW5jdGlvbiB3YXRjaFRyaWdnZXJhYmxlKHNvdXJjZSwgY2IsIG9wdGlvbnMgPSB7fSkge1xuICBsZXQgY2xlYW51cEZuO1xuICBmdW5jdGlvbiBvbkVmZmVjdCgpIHtcbiAgICBpZiAoIWNsZWFudXBGbilcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBmbiA9IGNsZWFudXBGbjtcbiAgICBjbGVhbnVwRm4gPSB2b2lkIDA7XG4gICAgZm4oKTtcbiAgfVxuICBmdW5jdGlvbiBvbkNsZWFudXAoY2FsbGJhY2spIHtcbiAgICBjbGVhbnVwRm4gPSBjYWxsYmFjaztcbiAgfVxuICBjb25zdCBfY2IgPSAodmFsdWUsIG9sZFZhbHVlKSA9PiB7XG4gICAgb25FZmZlY3QoKTtcbiAgICByZXR1cm4gY2IodmFsdWUsIG9sZFZhbHVlLCBvbkNsZWFudXApO1xuICB9O1xuICBjb25zdCByZXMgPSB3YXRjaElnbm9yYWJsZShzb3VyY2UsIF9jYiwgb3B0aW9ucyk7XG4gIGNvbnN0IHsgaWdub3JlVXBkYXRlcyB9ID0gcmVzO1xuICBjb25zdCB0cmlnZ2VyID0gKCkgPT4ge1xuICAgIGxldCByZXMyO1xuICAgIGlnbm9yZVVwZGF0ZXMoKCkgPT4ge1xuICAgICAgcmVzMiA9IF9jYihnZXRXYXRjaFNvdXJjZXMoc291cmNlKSwgZ2V0T2xkVmFsdWUoc291cmNlKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlczI7XG4gIH07XG4gIHJldHVybiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCByZXMpLCB7XG4gICAgdHJpZ2dlclxuICB9KTtcbn1cbmZ1bmN0aW9uIGdldFdhdGNoU291cmNlcyhzb3VyY2VzKSB7XG4gIGlmIChpc1JlYWN0aXZlKHNvdXJjZXMpKVxuICAgIHJldHVybiBzb3VyY2VzO1xuICBpZiAoQXJyYXkuaXNBcnJheShzb3VyY2VzKSlcbiAgICByZXR1cm4gc291cmNlcy5tYXAoKGl0ZW0pID0+IGdldE9uZVdhdGNoU291cmNlKGl0ZW0pKTtcbiAgcmV0dXJuIGdldE9uZVdhdGNoU291cmNlKHNvdXJjZXMpO1xufVxuZnVuY3Rpb24gZ2V0T25lV2F0Y2hTb3VyY2Uoc291cmNlKSB7XG4gIHJldHVybiB0eXBlb2Ygc291cmNlID09PSBcImZ1bmN0aW9uXCIgPyBzb3VyY2UoKSA6IHVucmVmKHNvdXJjZSk7XG59XG5mdW5jdGlvbiBnZXRPbGRWYWx1ZShzb3VyY2UpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoc291cmNlKSA/IHNvdXJjZS5tYXAoKCkgPT4gdm9pZCAwKSA6IHZvaWQgMDtcbn1cblxuZnVuY3Rpb24gd2hlbmV2ZXIoc291cmNlLCBjYiwgb3B0aW9ucykge1xuICByZXR1cm4gd2F0Y2goc291cmNlLCAodiwgb3YsIG9uSW52YWxpZGF0ZSkgPT4ge1xuICAgIGlmICh2KVxuICAgICAgY2Iodiwgb3YsIG9uSW52YWxpZGF0ZSk7XG4gIH0sIG9wdGlvbnMpO1xufVxuXG5leHBvcnQgeyBfX29ubHlWdWUyN1BsdXMsIF9fb25seVZ1ZTMsIGFzc2VydCwgcmVmQXV0b1Jlc2V0IGFzIGF1dG9SZXNldFJlZiwgYnlwYXNzRmlsdGVyLCBjbGFtcCwgY29tcHV0ZWRFYWdlciwgY29tcHV0ZWRXaXRoQ29udHJvbCwgY29udGFpbnNQcm9wLCBjb21wdXRlZFdpdGhDb250cm9sIGFzIGNvbnRyb2xsZWRDb21wdXRlZCwgY29udHJvbGxlZFJlZiwgY3JlYXRlRXZlbnRIb29rLCBjcmVhdGVGaWx0ZXJXcmFwcGVyLCBjcmVhdGVHbG9iYWxTdGF0ZSwgY3JlYXRlSW5qZWN0aW9uU3RhdGUsIHJlYWN0aWZ5IGFzIGNyZWF0ZVJlYWN0aXZlRm4sIGNyZWF0ZVNoYXJlZENvbXBvc2FibGUsIGNyZWF0ZVNpbmdsZXRvblByb21pc2UsIGRlYm91bmNlRmlsdGVyLCByZWZEZWJvdW5jZWQgYXMgZGVib3VuY2VkUmVmLCB3YXRjaERlYm91bmNlZCBhcyBkZWJvdW5jZWRXYXRjaCwgZGlyZWN0aXZlSG9va3MsIGNvbXB1dGVkRWFnZXIgYXMgZWFnZXJDb21wdXRlZCwgZXh0ZW5kUmVmLCBmb3JtYXREYXRlLCBnZXQsIGhhc093biwgaWRlbnRpdHksIHdhdGNoSWdub3JhYmxlIGFzIGlnbm9yYWJsZVdhdGNoLCBpbmNyZWFzZVdpdGhVbml0LCBpbnZva2UsIGlzQm9vbGVhbiwgaXNDbGllbnQsIGlzRGVmLCBpc0RlZmluZWQsIGlzRnVuY3Rpb24sIGlzSU9TLCBpc051bWJlciwgaXNPYmplY3QsIGlzU3RyaW5nLCBpc1dpbmRvdywgbWFrZURlc3RydWN0dXJhYmxlLCBub29wLCBub3JtYWxpemVEYXRlLCBub3csIG9iamVjdFBpY2ssIHBhdXNhYmxlRmlsdGVyLCB3YXRjaFBhdXNhYmxlIGFzIHBhdXNhYmxlV2F0Y2gsIHByb21pc2VUaW1lb3V0LCByYW5kLCByZWFjdGlmeSwgcmVhY3RpZnlPYmplY3QsIHJlYWN0aXZlQ29tcHV0ZWQsIHJlYWN0aXZlT21pdCwgcmVhY3RpdmVQaWNrLCByZWZBdXRvUmVzZXQsIHJlZkRlYm91bmNlZCwgcmVmRGVmYXVsdCwgcmVmVGhyb3R0bGVkLCByZWZXaXRoQ29udHJvbCwgcmVzb2x2ZVJlZiwgcmVzb2x2ZVVucmVmLCBzZXQsIHN5bmNSZWYsIHN5bmNSZWZzLCB0aHJvdHRsZUZpbHRlciwgcmVmVGhyb3R0bGVkIGFzIHRocm90dGxlZFJlZiwgd2F0Y2hUaHJvdHRsZWQgYXMgdGhyb3R0bGVkV2F0Y2gsIHRpbWVzdGFtcCwgdG9SZWFjdGl2ZSwgdG9SZWZzLCB0cnlPbkJlZm9yZU1vdW50LCB0cnlPbkJlZm9yZVVubW91bnQsIHRyeU9uTW91bnRlZCwgdHJ5T25TY29wZURpc3Bvc2UsIHRyeU9uVW5tb3VudGVkLCB1bnRpbCwgdXNlQXJyYXlFdmVyeSwgdXNlQXJyYXlGaWx0ZXIsIHVzZUFycmF5RmluZCwgdXNlQXJyYXlGaW5kSW5kZXgsIHVzZUFycmF5RmluZExhc3QsIHVzZUFycmF5Sm9pbiwgdXNlQXJyYXlNYXAsIHVzZUFycmF5UmVkdWNlLCB1c2VBcnJheVNvbWUsIHVzZUFycmF5VW5pcXVlLCB1c2VDb3VudGVyLCB1c2VEYXRlRm9ybWF0LCByZWZEZWJvdW5jZWQgYXMgdXNlRGVib3VuY2UsIHVzZURlYm91bmNlRm4sIHVzZUludGVydmFsLCB1c2VJbnRlcnZhbEZuLCB1c2VMYXN0Q2hhbmdlZCwgcmVmVGhyb3R0bGVkIGFzIHVzZVRocm90dGxlLCB1c2VUaHJvdHRsZUZuLCB1c2VUaW1lb3V0LCB1c2VUaW1lb3V0Rm4sIHVzZVRvTnVtYmVyLCB1c2VUb1N0cmluZywgdXNlVG9nZ2xlLCB3YXRjaEFycmF5LCB3YXRjaEF0TW9zdCwgd2F0Y2hEZWJvdW5jZWQsIHdhdGNoSWdub3JhYmxlLCB3YXRjaE9uY2UsIHdhdGNoUGF1c2FibGUsIHdhdGNoVGhyb3R0bGVkLCB3YXRjaFRyaWdnZXJhYmxlLCB3YXRjaFdpdGhGaWx0ZXIsIHdoZW5ldmVyIH07XG4iLCJpbXBvcnQgeyBpc1N0cmluZyB9IGZyb20gJ0B2dWUvc2hhcmVkJztcblxuY2xhc3MgRWxlbWVudFBsdXNFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IobSkge1xuICAgIHN1cGVyKG0pO1xuICAgIHRoaXMubmFtZSA9IFwiRWxlbWVudFBsdXNFcnJvclwiO1xuICB9XG59XG5mdW5jdGlvbiB0aHJvd0Vycm9yKHNjb3BlLCBtKSB7XG4gIHRocm93IG5ldyBFbGVtZW50UGx1c0Vycm9yKGBbJHtzY29wZX1dICR7bX1gKTtcbn1cbmZ1bmN0aW9uIGRlYnVnV2FybihzY29wZSwgbWVzc2FnZSkge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgY29uc3QgZXJyb3IgPSBpc1N0cmluZyhzY29wZSkgPyBuZXcgRWxlbWVudFBsdXNFcnJvcihgWyR7c2NvcGV9XSAke21lc3NhZ2V9YCkgOiBzY29wZTtcbiAgICBjb25zb2xlLndhcm4oZXJyb3IpO1xuICB9XG59XG5cbmV4cG9ydCB7IGRlYnVnV2FybiwgdGhyb3dFcnJvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3IubWpzLm1hcFxuIiwiaW1wb3J0IHsgcmVmLCBnZXRDdXJyZW50SW5zdGFuY2UsIGluamVjdCwgY29tcHV0ZWQsIHVucmVmIH0gZnJvbSAndnVlJztcbmltcG9ydCB7IGlzTnVtYmVyIH0gZnJvbSAnLi4vLi4vdXRpbHMvdHlwZXMubWpzJztcbmltcG9ydCB7IGlzQ2xpZW50IH0gZnJvbSAnQHZ1ZXVzZS9jb3JlJztcbmltcG9ydCB7IGRlYnVnV2FybiB9IGZyb20gJy4uLy4uL3V0aWxzL2Vycm9yLm1qcyc7XG5cbmNvbnN0IGluaXRpYWwgPSB7XG4gIGN1cnJlbnQ6IDBcbn07XG5jb25zdCB6SW5kZXggPSByZWYoMCk7XG5jb25zdCBkZWZhdWx0SW5pdGlhbFpJbmRleCA9IDJlMztcbmNvbnN0IFpJTkRFWF9JTkpFQ1RJT05fS0VZID0gU3ltYm9sKFwiZWxaSW5kZXhDb250ZXh0S2V5XCIpO1xuY29uc3QgekluZGV4Q29udGV4dEtleSA9IFN5bWJvbChcInpJbmRleENvbnRleHRLZXlcIik7XG5jb25zdCB1c2VaSW5kZXggPSAoekluZGV4T3ZlcnJpZGVzKSA9PiB7XG4gIGNvbnN0IGluY3JlYXNpbmdJbmplY3Rpb24gPSBnZXRDdXJyZW50SW5zdGFuY2UoKSA/IGluamVjdChaSU5ERVhfSU5KRUNUSU9OX0tFWSwgaW5pdGlhbCkgOiBpbml0aWFsO1xuICBjb25zdCB6SW5kZXhJbmplY3Rpb24gPSB6SW5kZXhPdmVycmlkZXMgfHwgKGdldEN1cnJlbnRJbnN0YW5jZSgpID8gaW5qZWN0KHpJbmRleENvbnRleHRLZXksIHZvaWQgMCkgOiB2b2lkIDApO1xuICBjb25zdCBpbml0aWFsWkluZGV4ID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIGNvbnN0IHpJbmRleEZyb21JbmplY3Rpb24gPSB1bnJlZih6SW5kZXhJbmplY3Rpb24pO1xuICAgIHJldHVybiBpc051bWJlcih6SW5kZXhGcm9tSW5qZWN0aW9uKSA/IHpJbmRleEZyb21JbmplY3Rpb24gOiBkZWZhdWx0SW5pdGlhbFpJbmRleDtcbiAgfSk7XG4gIGNvbnN0IGN1cnJlbnRaSW5kZXggPSBjb21wdXRlZCgoKSA9PiBpbml0aWFsWkluZGV4LnZhbHVlICsgekluZGV4LnZhbHVlKTtcbiAgY29uc3QgbmV4dFpJbmRleCA9ICgpID0+IHtcbiAgICBpbmNyZWFzaW5nSW5qZWN0aW9uLmN1cnJlbnQrKztcbiAgICB6SW5kZXgudmFsdWUgPSBpbmNyZWFzaW5nSW5qZWN0aW9uLmN1cnJlbnQ7XG4gICAgcmV0dXJuIGN1cnJlbnRaSW5kZXgudmFsdWU7XG4gIH07XG4gIGlmICghaXNDbGllbnQgJiYgIWluamVjdChaSU5ERVhfSU5KRUNUSU9OX0tFWSkpIHtcbiAgICBkZWJ1Z1dhcm4oXCJaSW5kZXhJbmplY3Rpb25cIiwgYExvb2tzIGxpa2UgeW91IGFyZSB1c2luZyBzZXJ2ZXIgcmVuZGVyaW5nLCB5b3UgbXVzdCBwcm92aWRlIGEgei1pbmRleCBwcm92aWRlciB0byBlbnN1cmUgdGhlIGh5ZHJhdGlvbiBwcm9jZXNzIHRvIGJlIHN1Y2NlZWRcbnVzYWdlOiBhcHAucHJvdmlkZShaSU5ERVhfSU5KRUNUSU9OX0tFWSwgeyBjdXJyZW50OiAwIH0pYCk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBpbml0aWFsWkluZGV4LFxuICAgIGN1cnJlbnRaSW5kZXgsXG4gICAgbmV4dFpJbmRleFxuICB9O1xufTtcblxuZXhwb3J0IHsgWklOREVYX0lOSkVDVElPTl9LRVksIGRlZmF1bHRJbml0aWFsWkluZGV4LCB1c2VaSW5kZXgsIHpJbmRleENvbnRleHRLZXkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImltcG9ydCB7IGNvbXB1dGVkLCB1bnJlZiwgaXNSZWYsIHJlZiwgaW5qZWN0IH0gZnJvbSAndnVlJztcbmltcG9ydCB7IGdldCB9IGZyb20gJ2xvZGFzaC11bmlmaWVkJztcbmltcG9ydCBFbmdsaXNoIGZyb20gJy4uLy4uL2xvY2FsZS9sYW5nL2VuLm1qcyc7XG5cbmNvbnN0IGJ1aWxkVHJhbnNsYXRvciA9IChsb2NhbGUpID0+IChwYXRoLCBvcHRpb24pID0+IHRyYW5zbGF0ZShwYXRoLCBvcHRpb24sIHVucmVmKGxvY2FsZSkpO1xuY29uc3QgdHJhbnNsYXRlID0gKHBhdGgsIG9wdGlvbiwgbG9jYWxlKSA9PiBnZXQobG9jYWxlLCBwYXRoLCBwYXRoKS5yZXBsYWNlKC9cXHsoXFx3KylcXH0vZywgKF8sIGtleSkgPT4ge1xuICB2YXIgX2E7XG4gIHJldHVybiBgJHsoX2EgPSBvcHRpb24gPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbltrZXldKSAhPSBudWxsID8gX2EgOiBgeyR7a2V5fX1gfWA7XG59KTtcbmNvbnN0IGJ1aWxkTG9jYWxlQ29udGV4dCA9IChsb2NhbGUpID0+IHtcbiAgY29uc3QgbGFuZyA9IGNvbXB1dGVkKCgpID0+IHVucmVmKGxvY2FsZSkubmFtZSk7XG4gIGNvbnN0IGxvY2FsZVJlZiA9IGlzUmVmKGxvY2FsZSkgPyBsb2NhbGUgOiByZWYobG9jYWxlKTtcbiAgcmV0dXJuIHtcbiAgICBsYW5nLFxuICAgIGxvY2FsZTogbG9jYWxlUmVmLFxuICAgIHQ6IGJ1aWxkVHJhbnNsYXRvcihsb2NhbGUpXG4gIH07XG59O1xuY29uc3QgbG9jYWxlQ29udGV4dEtleSA9IFN5bWJvbChcImxvY2FsZUNvbnRleHRLZXlcIik7XG5jb25zdCB1c2VMb2NhbGUgPSAobG9jYWxlT3ZlcnJpZGVzKSA9PiB7XG4gIGNvbnN0IGxvY2FsZSA9IGxvY2FsZU92ZXJyaWRlcyB8fCBpbmplY3QobG9jYWxlQ29udGV4dEtleSwgcmVmKCkpO1xuICByZXR1cm4gYnVpbGRMb2NhbGVDb250ZXh0KGNvbXB1dGVkKCgpID0+IGxvY2FsZS52YWx1ZSB8fCBFbmdsaXNoKSk7XG59O1xuXG5leHBvcnQgeyBidWlsZExvY2FsZUNvbnRleHQsIGJ1aWxkVHJhbnNsYXRvciwgbG9jYWxlQ29udGV4dEtleSwgdHJhbnNsYXRlLCB1c2VMb2NhbGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImltcG9ydCB7IHdhcm4gfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgZnJvbVBhaXJzIH0gZnJvbSAnbG9kYXNoLXVuaWZpZWQnO1xuaW1wb3J0IHsgaXNPYmplY3QsIGhhc093biB9IGZyb20gJ0B2dWUvc2hhcmVkJztcblxuY29uc3QgZXBQcm9wS2V5ID0gXCJfX2VwUHJvcEtleVwiO1xuY29uc3QgZGVmaW5lUHJvcFR5cGUgPSAodmFsKSA9PiB2YWw7XG5jb25zdCBpc0VwUHJvcCA9ICh2YWwpID0+IGlzT2JqZWN0KHZhbCkgJiYgISF2YWxbZXBQcm9wS2V5XTtcbmNvbnN0IGJ1aWxkUHJvcCA9IChwcm9wLCBrZXkpID0+IHtcbiAgaWYgKCFpc09iamVjdChwcm9wKSB8fCBpc0VwUHJvcChwcm9wKSlcbiAgICByZXR1cm4gcHJvcDtcbiAgY29uc3QgeyB2YWx1ZXMsIHJlcXVpcmVkLCBkZWZhdWx0OiBkZWZhdWx0VmFsdWUsIHR5cGUsIHZhbGlkYXRvciB9ID0gcHJvcDtcbiAgY29uc3QgX3ZhbGlkYXRvciA9IHZhbHVlcyB8fCB2YWxpZGF0b3IgPyAodmFsKSA9PiB7XG4gICAgbGV0IHZhbGlkID0gZmFsc2U7XG4gICAgbGV0IGFsbG93ZWRWYWx1ZXMgPSBbXTtcbiAgICBpZiAodmFsdWVzKSB7XG4gICAgICBhbGxvd2VkVmFsdWVzID0gQXJyYXkuZnJvbSh2YWx1ZXMpO1xuICAgICAgaWYgKGhhc093bihwcm9wLCBcImRlZmF1bHRcIikpIHtcbiAgICAgICAgYWxsb3dlZFZhbHVlcy5wdXNoKGRlZmF1bHRWYWx1ZSk7XG4gICAgICB9XG4gICAgICB2YWxpZCB8fCAodmFsaWQgPSBhbGxvd2VkVmFsdWVzLmluY2x1ZGVzKHZhbCkpO1xuICAgIH1cbiAgICBpZiAodmFsaWRhdG9yKVxuICAgICAgdmFsaWQgfHwgKHZhbGlkID0gdmFsaWRhdG9yKHZhbCkpO1xuICAgIGlmICghdmFsaWQgJiYgYWxsb3dlZFZhbHVlcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBhbGxvd1ZhbHVlc1RleHQgPSBbLi4ubmV3IFNldChhbGxvd2VkVmFsdWVzKV0ubWFwKCh2YWx1ZSkgPT4gSlNPTi5zdHJpbmdpZnkodmFsdWUpKS5qb2luKFwiLCBcIik7XG4gICAgICB3YXJuKGBJbnZhbGlkIHByb3A6IHZhbGlkYXRpb24gZmFpbGVkJHtrZXkgPyBgIGZvciBwcm9wIFwiJHtrZXl9XCJgIDogXCJcIn0uIEV4cGVjdGVkIG9uZSBvZiBbJHthbGxvd1ZhbHVlc1RleHR9XSwgZ290IHZhbHVlICR7SlNPTi5zdHJpbmdpZnkodmFsKX0uYCk7XG4gICAgfVxuICAgIHJldHVybiB2YWxpZDtcbiAgfSA6IHZvaWQgMDtcbiAgY29uc3QgZXBQcm9wID0ge1xuICAgIHR5cGUsXG4gICAgcmVxdWlyZWQ6ICEhcmVxdWlyZWQsXG4gICAgdmFsaWRhdG9yOiBfdmFsaWRhdG9yLFxuICAgIFtlcFByb3BLZXldOiB0cnVlXG4gIH07XG4gIGlmIChoYXNPd24ocHJvcCwgXCJkZWZhdWx0XCIpKVxuICAgIGVwUHJvcC5kZWZhdWx0ID0gZGVmYXVsdFZhbHVlO1xuICByZXR1cm4gZXBQcm9wO1xufTtcbmNvbnN0IGJ1aWxkUHJvcHMgPSAocHJvcHMpID0+IGZyb21QYWlycyhPYmplY3QuZW50cmllcyhwcm9wcykubWFwKChba2V5LCBvcHRpb25dKSA9PiBbXG4gIGtleSxcbiAgYnVpbGRQcm9wKG9wdGlvbiwga2V5KVxuXSkpO1xuXG5leHBvcnQgeyBidWlsZFByb3AsIGJ1aWxkUHJvcHMsIGRlZmluZVByb3BUeXBlLCBlcFByb3BLZXksIGlzRXBQcm9wIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ydW50aW1lLm1qcy5tYXBcbiIsImNvbnN0IGNvbXBvbmVudFNpemVzID0gW1wiXCIsIFwiZGVmYXVsdFwiLCBcInNtYWxsXCIsIFwibGFyZ2VcIl07XG5jb25zdCBjb21wb25lbnRTaXplTWFwID0ge1xuICBsYXJnZTogNDAsXG4gIGRlZmF1bHQ6IDMyLFxuICBzbWFsbDogMjRcbn07XG5cbmV4cG9ydCB7IGNvbXBvbmVudFNpemVNYXAsIGNvbXBvbmVudFNpemVzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaXplLm1qcy5tYXBcbiIsImltcG9ydCB7IGNvbXB1dGVkLCB1bnJlZiwgaW5qZWN0IH0gZnJvbSAndnVlJztcbmltcG9ydCB7IGJ1aWxkUHJvcCB9IGZyb20gJy4uLy4uL3V0aWxzL3Z1ZS9wcm9wcy9ydW50aW1lLm1qcyc7XG5pbXBvcnQgeyBjb21wb25lbnRTaXplcyB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9zaXplLm1qcyc7XG5cbmNvbnN0IHVzZVNpemVQcm9wID0gYnVpbGRQcm9wKHtcbiAgdHlwZTogU3RyaW5nLFxuICB2YWx1ZXM6IGNvbXBvbmVudFNpemVzLFxuICByZXF1aXJlZDogZmFsc2Vcbn0pO1xuY29uc3QgdXNlU2l6ZVByb3BzID0ge1xuICBzaXplOiB1c2VTaXplUHJvcFxufTtcbmNvbnN0IFNJWkVfSU5KRUNUSU9OX0tFWSA9IFN5bWJvbChcInNpemVcIik7XG5jb25zdCB1c2VHbG9iYWxTaXplID0gKCkgPT4ge1xuICBjb25zdCBpbmplY3RlZFNpemUgPSBpbmplY3QoU0laRV9JTkpFQ1RJT05fS0VZLCB7fSk7XG4gIHJldHVybiBjb21wdXRlZCgoKSA9PiB7XG4gICAgcmV0dXJuIHVucmVmKGluamVjdGVkU2l6ZS5zaXplKSB8fCBcIlwiO1xuICB9KTtcbn07XG5cbmV4cG9ydCB7IFNJWkVfSU5KRUNUSU9OX0tFWSwgdXNlR2xvYmFsU2l6ZSwgdXNlU2l6ZVByb3AsIHVzZVNpemVQcm9wcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiaW1wb3J0IHsgZ2V0Q3VycmVudEluc3RhbmNlLCBpbmplY3QsIHJlZiwgY29tcHV0ZWQgfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgYnVpbGRQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL3Z1ZS9wcm9wcy9ydW50aW1lLm1qcyc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnQHZ1ZS9zaGFyZWQnO1xuaW1wb3J0IHsgZGVidWdXYXJuIH0gZnJvbSAnLi4vLi4vdXRpbHMvZXJyb3IubWpzJztcblxuY29uc3QgZW1wdHlWYWx1ZXNDb250ZXh0S2V5ID0gU3ltYm9sKFwiZW1wdHlWYWx1ZXNDb250ZXh0S2V5XCIpO1xuY29uc3QgU0NPUEUgPSBcInVzZS1lbXB0eS12YWx1ZXNcIjtcbmNvbnN0IERFRkFVTFRfRU1QVFlfVkFMVUVTID0gW1wiXCIsIHZvaWQgMCwgbnVsbF07XG5jb25zdCBERUZBVUxUX1ZBTFVFX09OX0NMRUFSID0gdm9pZCAwO1xuY29uc3QgdXNlRW1wdHlWYWx1ZXNQcm9wcyA9IGJ1aWxkUHJvcHMoe1xuICBlbXB0eVZhbHVlczogQXJyYXksXG4gIHZhbHVlT25DbGVhcjoge1xuICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlciwgQm9vbGVhbiwgRnVuY3Rpb25dLFxuICAgIGRlZmF1bHQ6IHZvaWQgMCxcbiAgICB2YWxpZGF0b3I6ICh2YWwpID0+IGlzRnVuY3Rpb24odmFsKSA/ICF2YWwoKSA6ICF2YWxcbiAgfVxufSk7XG5jb25zdCB1c2VFbXB0eVZhbHVlcyA9IChwcm9wcywgZGVmYXVsdFZhbHVlKSA9PiB7XG4gIGNvbnN0IGNvbmZpZyA9IGdldEN1cnJlbnRJbnN0YW5jZSgpID8gaW5qZWN0KGVtcHR5VmFsdWVzQ29udGV4dEtleSwgcmVmKHt9KSkgOiByZWYoe30pO1xuICBjb25zdCBlbXB0eVZhbHVlcyA9IGNvbXB1dGVkKCgpID0+IHByb3BzLmVtcHR5VmFsdWVzIHx8IGNvbmZpZy52YWx1ZS5lbXB0eVZhbHVlcyB8fCBERUZBVUxUX0VNUFRZX1ZBTFVFUyk7XG4gIGNvbnN0IHZhbHVlT25DbGVhciA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICBpZiAoaXNGdW5jdGlvbihwcm9wcy52YWx1ZU9uQ2xlYXIpKSB7XG4gICAgICByZXR1cm4gcHJvcHMudmFsdWVPbkNsZWFyKCk7XG4gICAgfSBlbHNlIGlmIChwcm9wcy52YWx1ZU9uQ2xlYXIgIT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIHByb3BzLnZhbHVlT25DbGVhcjtcbiAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24oY29uZmlnLnZhbHVlLnZhbHVlT25DbGVhcikpIHtcbiAgICAgIHJldHVybiBjb25maWcudmFsdWUudmFsdWVPbkNsZWFyKCk7XG4gICAgfSBlbHNlIGlmIChjb25maWcudmFsdWUudmFsdWVPbkNsZWFyICE9PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiBjb25maWcudmFsdWUudmFsdWVPbkNsZWFyO1xuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdFZhbHVlICE9PSB2b2lkIDAgPyBkZWZhdWx0VmFsdWUgOiBERUZBVUxUX1ZBTFVFX09OX0NMRUFSO1xuICB9KTtcbiAgY29uc3QgaXNFbXB0eVZhbHVlID0gKHZhbHVlKSA9PiB7XG4gICAgcmV0dXJuIGVtcHR5VmFsdWVzLnZhbHVlLmluY2x1ZGVzKHZhbHVlKTtcbiAgfTtcbiAgaWYgKCFlbXB0eVZhbHVlcy52YWx1ZS5pbmNsdWRlcyh2YWx1ZU9uQ2xlYXIudmFsdWUpKSB7XG4gICAgZGVidWdXYXJuKFNDT1BFLCBcInZhbHVlLW9uLWNsZWFyIHNob3VsZCBiZSBhIHZhbHVlIG9mIGVtcHR5LXZhbHVlc1wiKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGVtcHR5VmFsdWVzLFxuICAgIHZhbHVlT25DbGVhcixcbiAgICBpc0VtcHR5VmFsdWVcbiAgfTtcbn07XG5cbmV4cG9ydCB7IERFRkFVTFRfRU1QVFlfVkFMVUVTLCBERUZBVUxUX1ZBTFVFX09OX0NMRUFSLCBTQ09QRSwgZW1wdHlWYWx1ZXNDb250ZXh0S2V5LCB1c2VFbXB0eVZhbHVlcywgdXNlRW1wdHlWYWx1ZXNQcm9wcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiaW1wb3J0IHsgZ2V0LCBzZXQgfSBmcm9tICdsb2Rhc2gtdW5pZmllZCc7XG5leHBvcnQgeyBoYXNPd24gfSBmcm9tICdAdnVlL3NoYXJlZCc7XG5cbmNvbnN0IGtleXNPZiA9IChhcnIpID0+IE9iamVjdC5rZXlzKGFycik7XG5jb25zdCBlbnRyaWVzT2YgPSAoYXJyKSA9PiBPYmplY3QuZW50cmllcyhhcnIpO1xuY29uc3QgZ2V0UHJvcCA9IChvYmosIHBhdGgsIGRlZmF1bHRWYWx1ZSkgPT4ge1xuICByZXR1cm4ge1xuICAgIGdldCB2YWx1ZSgpIHtcbiAgICAgIHJldHVybiBnZXQob2JqLCBwYXRoLCBkZWZhdWx0VmFsdWUpO1xuICAgIH0sXG4gICAgc2V0IHZhbHVlKHZhbCkge1xuICAgICAgc2V0KG9iaiwgcGF0aCwgdmFsKTtcbiAgICB9XG4gIH07XG59O1xuXG5leHBvcnQgeyBlbnRyaWVzT2YsIGdldFByb3AsIGtleXNPZiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JqZWN0cy5tanMubWFwXG4iLCJpbXBvcnQgeyByZWYsIGdldEN1cnJlbnRJbnN0YW5jZSwgaW5qZWN0LCBjb21wdXRlZCwgdW5yZWYsIHByb3ZpZGUgfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgY29uZmlnUHJvdmlkZXJDb250ZXh0S2V5IH0gZnJvbSAnLi4vY29uc3RhbnRzLm1qcyc7XG5pbXBvcnQgeyB1c2VOYW1lc3BhY2UsIGRlZmF1bHROYW1lc3BhY2UsIG5hbWVzcGFjZUNvbnRleHRLZXkgfSBmcm9tICcuLi8uLi8uLi8uLi9ob29rcy91c2UtbmFtZXNwYWNlL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyB1c2VaSW5kZXgsIGRlZmF1bHRJbml0aWFsWkluZGV4LCB6SW5kZXhDb250ZXh0S2V5IH0gZnJvbSAnLi4vLi4vLi4vLi4vaG9va3MvdXNlLXotaW5kZXgvaW5kZXgubWpzJztcbmltcG9ydCB7IHVzZUxvY2FsZSwgbG9jYWxlQ29udGV4dEtleSB9IGZyb20gJy4uLy4uLy4uLy4uL2hvb2tzL3VzZS1sb2NhbGUvaW5kZXgubWpzJztcbmltcG9ydCB7IFNJWkVfSU5KRUNUSU9OX0tFWSB9IGZyb20gJy4uLy4uLy4uLy4uL2hvb2tzL3VzZS1zaXplL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBlbXB0eVZhbHVlc0NvbnRleHRLZXkgfSBmcm9tICcuLi8uLi8uLi8uLi9ob29rcy91c2UtZW1wdHktdmFsdWVzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBkZWJ1Z1dhcm4gfSBmcm9tICcuLi8uLi8uLi8uLi91dGlscy9lcnJvci5tanMnO1xuaW1wb3J0IHsga2V5c09mIH0gZnJvbSAnLi4vLi4vLi4vLi4vdXRpbHMvb2JqZWN0cy5tanMnO1xuXG5jb25zdCBnbG9iYWxDb25maWcgPSByZWYoKTtcbmZ1bmN0aW9uIHVzZUdsb2JhbENvbmZpZyhrZXksIGRlZmF1bHRWYWx1ZSA9IHZvaWQgMCkge1xuICBjb25zdCBjb25maWcgPSBnZXRDdXJyZW50SW5zdGFuY2UoKSA/IGluamVjdChjb25maWdQcm92aWRlckNvbnRleHRLZXksIGdsb2JhbENvbmZpZykgOiBnbG9iYWxDb25maWc7XG4gIGlmIChrZXkpIHtcbiAgICByZXR1cm4gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgdmFyIF9hLCBfYjtcbiAgICAgIHJldHVybiAoX2IgPSAoX2EgPSBjb25maWcudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYVtrZXldKSAhPSBudWxsID8gX2IgOiBkZWZhdWx0VmFsdWU7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNvbmZpZztcbiAgfVxufVxuZnVuY3Rpb24gdXNlR2xvYmFsQ29tcG9uZW50U2V0dGluZ3MoYmxvY2ssIHNpemVGYWxsYmFjaykge1xuICBjb25zdCBjb25maWcgPSB1c2VHbG9iYWxDb25maWcoKTtcbiAgY29uc3QgbnMgPSB1c2VOYW1lc3BhY2UoYmxvY2ssIGNvbXB1dGVkKCgpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuICgoX2EgPSBjb25maWcudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5uYW1lc3BhY2UpIHx8IGRlZmF1bHROYW1lc3BhY2U7XG4gIH0pKTtcbiAgY29uc3QgbG9jYWxlID0gdXNlTG9jYWxlKGNvbXB1dGVkKCgpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIChfYSA9IGNvbmZpZy52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmxvY2FsZTtcbiAgfSkpO1xuICBjb25zdCB6SW5kZXggPSB1c2VaSW5kZXgoY29tcHV0ZWQoKCkgPT4ge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gKChfYSA9IGNvbmZpZy52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnpJbmRleCkgfHwgZGVmYXVsdEluaXRpYWxaSW5kZXg7XG4gIH0pKTtcbiAgY29uc3Qgc2l6ZSA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIHVucmVmKHNpemVGYWxsYmFjaykgfHwgKChfYSA9IGNvbmZpZy52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnNpemUpIHx8IFwiXCI7XG4gIH0pO1xuICBwcm92aWRlR2xvYmFsQ29uZmlnKGNvbXB1dGVkKCgpID0+IHVucmVmKGNvbmZpZykgfHwge30pKTtcbiAgcmV0dXJuIHtcbiAgICBucyxcbiAgICBsb2NhbGUsXG4gICAgekluZGV4LFxuICAgIHNpemVcbiAgfTtcbn1cbmNvbnN0IHByb3ZpZGVHbG9iYWxDb25maWcgPSAoY29uZmlnLCBhcHAsIGdsb2JhbCA9IGZhbHNlKSA9PiB7XG4gIHZhciBfYTtcbiAgY29uc3QgaW5TZXR1cCA9ICEhZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gIGNvbnN0IG9sZENvbmZpZyA9IGluU2V0dXAgPyB1c2VHbG9iYWxDb25maWcoKSA6IHZvaWQgMDtcbiAgY29uc3QgcHJvdmlkZUZuID0gKF9hID0gYXBwID09IG51bGwgPyB2b2lkIDAgOiBhcHAucHJvdmlkZSkgIT0gbnVsbCA/IF9hIDogaW5TZXR1cCA/IHByb3ZpZGUgOiB2b2lkIDA7XG4gIGlmICghcHJvdmlkZUZuKSB7XG4gICAgZGVidWdXYXJuKFwicHJvdmlkZUdsb2JhbENvbmZpZ1wiLCBcInByb3ZpZGVHbG9iYWxDb25maWcoKSBjYW4gb25seSBiZSB1c2VkIGluc2lkZSBzZXR1cCgpLlwiKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgY29udGV4dCA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICBjb25zdCBjZmcgPSB1bnJlZihjb25maWcpO1xuICAgIGlmICghKG9sZENvbmZpZyA9PSBudWxsID8gdm9pZCAwIDogb2xkQ29uZmlnLnZhbHVlKSlcbiAgICAgIHJldHVybiBjZmc7XG4gICAgcmV0dXJuIG1lcmdlQ29uZmlnKG9sZENvbmZpZy52YWx1ZSwgY2ZnKTtcbiAgfSk7XG4gIHByb3ZpZGVGbihjb25maWdQcm92aWRlckNvbnRleHRLZXksIGNvbnRleHQpO1xuICBwcm92aWRlRm4obG9jYWxlQ29udGV4dEtleSwgY29tcHV0ZWQoKCkgPT4gY29udGV4dC52YWx1ZS5sb2NhbGUpKTtcbiAgcHJvdmlkZUZuKG5hbWVzcGFjZUNvbnRleHRLZXksIGNvbXB1dGVkKCgpID0+IGNvbnRleHQudmFsdWUubmFtZXNwYWNlKSk7XG4gIHByb3ZpZGVGbih6SW5kZXhDb250ZXh0S2V5LCBjb21wdXRlZCgoKSA9PiBjb250ZXh0LnZhbHVlLnpJbmRleCkpO1xuICBwcm92aWRlRm4oU0laRV9JTkpFQ1RJT05fS0VZLCB7XG4gICAgc2l6ZTogY29tcHV0ZWQoKCkgPT4gY29udGV4dC52YWx1ZS5zaXplIHx8IFwiXCIpXG4gIH0pO1xuICBwcm92aWRlRm4oZW1wdHlWYWx1ZXNDb250ZXh0S2V5LCBjb21wdXRlZCgoKSA9PiAoe1xuICAgIGVtcHR5VmFsdWVzOiBjb250ZXh0LnZhbHVlLmVtcHR5VmFsdWVzLFxuICAgIHZhbHVlT25DbGVhcjogY29udGV4dC52YWx1ZS52YWx1ZU9uQ2xlYXJcbiAgfSkpKTtcbiAgaWYgKGdsb2JhbCB8fCAhZ2xvYmFsQ29uZmlnLnZhbHVlKSB7XG4gICAgZ2xvYmFsQ29uZmlnLnZhbHVlID0gY29udGV4dC52YWx1ZTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn07XG5jb25zdCBtZXJnZUNvbmZpZyA9IChhLCBiKSA9PiB7XG4gIGNvbnN0IGtleXMgPSBbLi4uLyogQF9fUFVSRV9fICovIG5ldyBTZXQoWy4uLmtleXNPZihhKSwgLi4ua2V5c09mKGIpXSldO1xuICBjb25zdCBvYmogPSB7fTtcbiAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgIG9ialtrZXldID0gYltrZXldICE9PSB2b2lkIDAgPyBiW2tleV0gOiBhW2tleV07XG4gIH1cbiAgcmV0dXJuIG9iajtcbn07XG5cbmV4cG9ydCB7IHByb3ZpZGVHbG9iYWxDb25maWcsIHVzZUdsb2JhbENvbXBvbmVudFNldHRpbmdzLCB1c2VHbG9iYWxDb25maWcgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVzZS1nbG9iYWwtY29uZmlnLm1qcy5tYXBcbiIsImNvbnN0IFVQREFURV9NT0RFTF9FVkVOVCA9IFwidXBkYXRlOm1vZGVsVmFsdWVcIjtcbmNvbnN0IENIQU5HRV9FVkVOVCA9IFwiY2hhbmdlXCI7XG5jb25zdCBJTlBVVF9FVkVOVCA9IFwiaW5wdXRcIjtcblxuZXhwb3J0IHsgQ0hBTkdFX0VWRU5ULCBJTlBVVF9FVkVOVCwgVVBEQVRFX01PREVMX0VWRU5UIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ldmVudC5tanMubWFwXG4iLCJ2YXIgX2V4cG9ydF9zZmMgPSAoc2ZjLCBwcm9wcykgPT4ge1xuICBjb25zdCB0YXJnZXQgPSBzZmMuX192Y2NPcHRzIHx8IHNmYztcbiAgZm9yIChjb25zdCBba2V5LCB2YWxdIG9mIHByb3BzKSB7XG4gICAgdGFyZ2V0W2tleV0gPSB2YWw7XG4gIH1cbiAgcmV0dXJuIHRhcmdldDtcbn07XG5cbmV4cG9ydCB7IF9leHBvcnRfc2ZjIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBsdWdpbi12dWVfZXhwb3J0LWhlbHBlci5tanMubWFwXG4iLCJpbXBvcnQgeyBpc051bWJlciwgaXNTdHJpbmdOdW1iZXIgfSBmcm9tICcuLi90eXBlcy5tanMnO1xuaW1wb3J0IHsgaXNDbGllbnQgfSBmcm9tICdAdnVldXNlL2NvcmUnO1xuaW1wb3J0IHsgZW50cmllc09mLCBrZXlzT2YgfSBmcm9tICcuLi9vYmplY3RzLm1qcyc7XG5pbXBvcnQgeyBkZWJ1Z1dhcm4gfSBmcm9tICcuLi9lcnJvci5tanMnO1xuaW1wb3J0IHsgY2FtZWxpemUsIGlzT2JqZWN0LCBpc1N0cmluZyB9IGZyb20gJ0B2dWUvc2hhcmVkJztcblxuY29uc3QgU0NPUEUgPSBcInV0aWxzL2RvbS9zdHlsZVwiO1xuY29uc3QgY2xhc3NOYW1lVG9BcnJheSA9IChjbHMgPSBcIlwiKSA9PiBjbHMuc3BsaXQoXCIgXCIpLmZpbHRlcigoaXRlbSkgPT4gISFpdGVtLnRyaW0oKSk7XG5jb25zdCBoYXNDbGFzcyA9IChlbCwgY2xzKSA9PiB7XG4gIGlmICghZWwgfHwgIWNscylcbiAgICByZXR1cm4gZmFsc2U7XG4gIGlmIChjbHMuaW5jbHVkZXMoXCIgXCIpKVxuICAgIHRocm93IG5ldyBFcnJvcihcImNsYXNzTmFtZSBzaG91bGQgbm90IGNvbnRhaW4gc3BhY2UuXCIpO1xuICByZXR1cm4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKGNscyk7XG59O1xuY29uc3QgYWRkQ2xhc3MgPSAoZWwsIGNscykgPT4ge1xuICBpZiAoIWVsIHx8ICFjbHMudHJpbSgpKVxuICAgIHJldHVybjtcbiAgZWwuY2xhc3NMaXN0LmFkZCguLi5jbGFzc05hbWVUb0FycmF5KGNscykpO1xufTtcbmNvbnN0IHJlbW92ZUNsYXNzID0gKGVsLCBjbHMpID0+IHtcbiAgaWYgKCFlbCB8fCAhY2xzLnRyaW0oKSlcbiAgICByZXR1cm47XG4gIGVsLmNsYXNzTGlzdC5yZW1vdmUoLi4uY2xhc3NOYW1lVG9BcnJheShjbHMpKTtcbn07XG5jb25zdCBnZXRTdHlsZSA9IChlbGVtZW50LCBzdHlsZU5hbWUpID0+IHtcbiAgdmFyIF9hO1xuICBpZiAoIWlzQ2xpZW50IHx8ICFlbGVtZW50IHx8ICFzdHlsZU5hbWUpXG4gICAgcmV0dXJuIFwiXCI7XG4gIGxldCBrZXkgPSBjYW1lbGl6ZShzdHlsZU5hbWUpO1xuICBpZiAoa2V5ID09PSBcImZsb2F0XCIpXG4gICAga2V5ID0gXCJjc3NGbG9hdFwiO1xuICB0cnkge1xuICAgIGNvbnN0IHN0eWxlID0gZWxlbWVudC5zdHlsZVtrZXldO1xuICAgIGlmIChzdHlsZSlcbiAgICAgIHJldHVybiBzdHlsZTtcbiAgICBjb25zdCBjb21wdXRlZCA9IChfYSA9IGRvY3VtZW50LmRlZmF1bHRWaWV3KSA9PSBudWxsID8gdm9pZCAwIDogX2EuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBcIlwiKTtcbiAgICByZXR1cm4gY29tcHV0ZWQgPyBjb21wdXRlZFtrZXldIDogXCJcIjtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBlbGVtZW50LnN0eWxlW2tleV07XG4gIH1cbn07XG5jb25zdCBzZXRTdHlsZSA9IChlbGVtZW50LCBzdHlsZU5hbWUsIHZhbHVlKSA9PiB7XG4gIGlmICghZWxlbWVudCB8fCAhc3R5bGVOYW1lKVxuICAgIHJldHVybjtcbiAgaWYgKGlzT2JqZWN0KHN0eWxlTmFtZSkpIHtcbiAgICBlbnRyaWVzT2Yoc3R5bGVOYW1lKS5mb3JFYWNoKChbcHJvcCwgdmFsdWUyXSkgPT4gc2V0U3R5bGUoZWxlbWVudCwgcHJvcCwgdmFsdWUyKSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3Qga2V5ID0gY2FtZWxpemUoc3R5bGVOYW1lKTtcbiAgICBlbGVtZW50LnN0eWxlW2tleV0gPSB2YWx1ZTtcbiAgfVxufTtcbmNvbnN0IHJlbW92ZVN0eWxlID0gKGVsZW1lbnQsIHN0eWxlKSA9PiB7XG4gIGlmICghZWxlbWVudCB8fCAhc3R5bGUpXG4gICAgcmV0dXJuO1xuICBpZiAoaXNPYmplY3Qoc3R5bGUpKSB7XG4gICAga2V5c09mKHN0eWxlKS5mb3JFYWNoKChwcm9wKSA9PiByZW1vdmVTdHlsZShlbGVtZW50LCBwcm9wKSk7XG4gIH0gZWxzZSB7XG4gICAgc2V0U3R5bGUoZWxlbWVudCwgc3R5bGUsIFwiXCIpO1xuICB9XG59O1xuZnVuY3Rpb24gYWRkVW5pdCh2YWx1ZSwgZGVmYXVsdFVuaXQgPSBcInB4XCIpIHtcbiAgaWYgKCF2YWx1ZSlcbiAgICByZXR1cm4gXCJcIjtcbiAgaWYgKGlzTnVtYmVyKHZhbHVlKSB8fCBpc1N0cmluZ051bWJlcih2YWx1ZSkpIHtcbiAgICByZXR1cm4gYCR7dmFsdWV9JHtkZWZhdWx0VW5pdH1gO1xuICB9IGVsc2UgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBkZWJ1Z1dhcm4oU0NPUEUsIFwiYmluZGluZyB2YWx1ZSBtdXN0IGJlIGEgc3RyaW5nIG9yIG51bWJlclwiKTtcbn1cblxuZXhwb3J0IHsgYWRkQ2xhc3MsIGFkZFVuaXQsIGNsYXNzTmFtZVRvQXJyYXksIGdldFN0eWxlLCBoYXNDbGFzcywgcmVtb3ZlQ2xhc3MsIHJlbW92ZVN0eWxlLCBzZXRTdHlsZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3R5bGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgTk9PUCB9IGZyb20gJ0B2dWUvc2hhcmVkJztcblxuY29uc3Qgd2l0aEluc3RhbGwgPSAobWFpbiwgZXh0cmEpID0+IHtcbiAgbWFpbi5pbnN0YWxsID0gKGFwcCkgPT4ge1xuICAgIGZvciAoY29uc3QgY29tcCBvZiBbbWFpbiwgLi4uT2JqZWN0LnZhbHVlcyhleHRyYSAhPSBudWxsID8gZXh0cmEgOiB7fSldKSB7XG4gICAgICBhcHAuY29tcG9uZW50KGNvbXAubmFtZSwgY29tcCk7XG4gICAgfVxuICB9O1xuICBpZiAoZXh0cmEpIHtcbiAgICBmb3IgKGNvbnN0IFtrZXksIGNvbXBdIG9mIE9iamVjdC5lbnRyaWVzKGV4dHJhKSkge1xuICAgICAgbWFpbltrZXldID0gY29tcDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1haW47XG59O1xuY29uc3Qgd2l0aEluc3RhbGxGdW5jdGlvbiA9IChmbiwgbmFtZSkgPT4ge1xuICBmbi5pbnN0YWxsID0gKGFwcCkgPT4ge1xuICAgIGZuLl9jb250ZXh0ID0gYXBwLl9jb250ZXh0O1xuICAgIGFwcC5jb25maWcuZ2xvYmFsUHJvcGVydGllc1tuYW1lXSA9IGZuO1xuICB9O1xuICByZXR1cm4gZm47XG59O1xuY29uc3Qgd2l0aEluc3RhbGxEaXJlY3RpdmUgPSAoZGlyZWN0aXZlLCBuYW1lKSA9PiB7XG4gIGRpcmVjdGl2ZS5pbnN0YWxsID0gKGFwcCkgPT4ge1xuICAgIGFwcC5kaXJlY3RpdmUobmFtZSwgZGlyZWN0aXZlKTtcbiAgfTtcbiAgcmV0dXJuIGRpcmVjdGl2ZTtcbn07XG5jb25zdCB3aXRoTm9vcEluc3RhbGwgPSAoY29tcG9uZW50KSA9PiB7XG4gIGNvbXBvbmVudC5pbnN0YWxsID0gTk9PUDtcbiAgcmV0dXJuIGNvbXBvbmVudDtcbn07XG5cbmV4cG9ydCB7IHdpdGhJbnN0YWxsLCB3aXRoSW5zdGFsbERpcmVjdGl2ZSwgd2l0aEluc3RhbGxGdW5jdGlvbiwgd2l0aE5vb3BJbnN0YWxsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnN0YWxsLm1qcy5tYXBcbiIsImltcG9ydCB7IGJ1aWxkUHJvcHMsIGRlZmluZVByb3BUeXBlIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdnVlL3Byb3BzL3J1bnRpbWUubWpzJztcblxuY29uc3QgaWNvblByb3BzID0gYnVpbGRQcm9wcyh7XG4gIHNpemU6IHtcbiAgICB0eXBlOiBkZWZpbmVQcm9wVHlwZShbTnVtYmVyLCBTdHJpbmddKVxuICB9LFxuICBjb2xvcjoge1xuICAgIHR5cGU6IFN0cmluZ1xuICB9XG59KTtcblxuZXhwb3J0IHsgaWNvblByb3BzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pY29uLm1qcy5tYXBcbiIsImltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgY29tcHV0ZWQsIG9wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrLCBtZXJnZVByb3BzLCB1bnJlZiwgcmVuZGVyU2xvdCB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyBpY29uUHJvcHMgfSBmcm9tICcuL2ljb24ubWpzJztcbmltcG9ydCBfZXhwb3J0X3NmYyBmcm9tICcuLi8uLi8uLi9fdmlydHVhbC9wbHVnaW4tdnVlX2V4cG9ydC1oZWxwZXIubWpzJztcbmltcG9ydCB7IHVzZU5hbWVzcGFjZSB9IGZyb20gJy4uLy4uLy4uL2hvb2tzL3VzZS1uYW1lc3BhY2UvaW5kZXgubWpzJztcbmltcG9ydCB7IGlzVW5kZWZpbmVkIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdHlwZXMubWpzJztcbmltcG9ydCB7IGFkZFVuaXQgfSBmcm9tICcuLi8uLi8uLi91dGlscy9kb20vc3R5bGUubWpzJztcblxuY29uc3QgX19kZWZhdWx0X18gPSBkZWZpbmVDb21wb25lbnQoe1xuICBuYW1lOiBcIkVsSWNvblwiLFxuICBpbmhlcml0QXR0cnM6IGZhbHNlXG59KTtcbmNvbnN0IF9zZmNfbWFpbiA9IC8qIEBfX1BVUkVfXyAqLyBkZWZpbmVDb21wb25lbnQoe1xuICAuLi5fX2RlZmF1bHRfXyxcbiAgcHJvcHM6IGljb25Qcm9wcyxcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIGNvbnN0IHByb3BzID0gX19wcm9wcztcbiAgICBjb25zdCBucyA9IHVzZU5hbWVzcGFjZShcImljb25cIik7XG4gICAgY29uc3Qgc3R5bGUgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgICBjb25zdCB7IHNpemUsIGNvbG9yIH0gPSBwcm9wcztcbiAgICAgIGlmICghc2l6ZSAmJiAhY29sb3IpXG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGZvbnRTaXplOiBpc1VuZGVmaW5lZChzaXplKSA/IHZvaWQgMCA6IGFkZFVuaXQoc2l6ZSksXG4gICAgICAgIFwiLS1jb2xvclwiOiBjb2xvclxuICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4ge1xuICAgICAgcmV0dXJuIG9wZW5CbG9jaygpLCBjcmVhdGVFbGVtZW50QmxvY2soXCJpXCIsIG1lcmdlUHJvcHMoe1xuICAgICAgICBjbGFzczogdW5yZWYobnMpLmIoKSxcbiAgICAgICAgc3R5bGU6IHVucmVmKHN0eWxlKVxuICAgICAgfSwgX2N0eC4kYXR0cnMpLCBbXG4gICAgICAgIHJlbmRlclNsb3QoX2N0eC4kc2xvdHMsIFwiZGVmYXVsdFwiKVxuICAgICAgXSwgMTYpO1xuICAgIH07XG4gIH1cbn0pO1xudmFyIEljb24gPSAvKiBAX19QVVJFX18gKi8gX2V4cG9ydF9zZmMoX3NmY19tYWluLCBbW1wiX19maWxlXCIsIFwiaWNvbi52dWVcIl1dKTtcblxuZXhwb3J0IHsgSWNvbiBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pY29uMi5tanMubWFwXG4iLCJpbXBvcnQgSWNvbiBmcm9tICcuL3NyYy9pY29uMi5tanMnO1xuZXhwb3J0IHsgaWNvblByb3BzIH0gZnJvbSAnLi9zcmMvaWNvbi5tanMnO1xuaW1wb3J0IHsgd2l0aEluc3RhbGwgfSBmcm9tICcuLi8uLi91dGlscy92dWUvaW5zdGFsbC5tanMnO1xuXG5jb25zdCBFbEljb24gPSB3aXRoSW5zdGFsbChJY29uKTtcblxuZXhwb3J0IHsgRWxJY29uLCBFbEljb24gYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiLyohIEVsZW1lbnQgUGx1cyBJY29ucyBWdWUgdjIuMy4xICovXG5cblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2FkZC1sb2NhdGlvbi52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGFkZF9sb2NhdGlvbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQoe1xuICBuYW1lOiBcIkFkZExvY2F0aW9uXCIsXG4gIF9fbmFtZTogXCJhZGQtbG9jYXRpb25cIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMjg4IDg5Nmg0NDhxMzIgMCAzMiAzMnQtMzIgMzJIMjg4cS0zMiAwLTMyLTMydDMyLTMyXCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk04MDAgNDE2YTI4OCAyODggMCAxIDAtNTc2IDBjMCAxMTguMTQ0IDk0LjUyOCAyNzIuMTI4IDI4OCA0NTYuNTc2QzcwNS40NzIgNjg4LjEyOCA4MDAgNTM0LjE0NCA4MDAgNDE2TTUxMiA5NjBDMjc3LjMxMiA3NDYuNjg4IDE2MCA1NjUuMzEyIDE2MCA0MTZhMzUyIDM1MiAwIDAgMSA3MDQgMGMwIDE0OS4zMTItMTE3LjMxMiAzMzAuNjg4LTM1MiA1NDRcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTU0NCAzODRoOTZhMzIgMzIgMCAxIDEgMCA2NGgtOTZ2OTZhMzIgMzIgMCAwIDEtNjQgMHYtOTZoLTk2YTMyIDMyIDAgMCAxIDAtNjRoOTZ2LTk2YTMyIDMyIDAgMCAxIDY0IDB6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvYWRkLWxvY2F0aW9uLnZ1ZVxudmFyIGFkZF9sb2NhdGlvbl9kZWZhdWx0ID0gYWRkX2xvY2F0aW9uX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9haW0udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMiwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazIgfSBmcm9tIFwidnVlXCI7XG52YXIgYWltX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDIoe1xuICBuYW1lOiBcIkFpbVwiLFxuICBfX25hbWU6IFwiYWltXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syKCksIF9jcmVhdGVFbGVtZW50QmxvY2syKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiA4OTZhMzg0IDM4NCAwIDEgMCAwLTc2OCAzODQgMzg0IDAgMCAwIDAgNzY4bTAgNjRhNDQ4IDQ0OCAwIDEgMSAwLTg5NiA0NDggNDQ4IDAgMCAxIDAgODk2XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDk2YTMyIDMyIDAgMCAxIDMyIDMydjE5MmEzMiAzMiAwIDAgMS02NCAwVjEyOGEzMiAzMiAwIDAgMSAzMi0zMm0wIDU3NmEzMiAzMiAwIDAgMSAzMiAzMnYxOTJhMzIgMzIgMCAxIDEtNjQgMFY3MDRhMzIgMzIgMCAwIDEgMzItMzJNOTYgNTEyYTMyIDMyIDAgMCAxIDMyLTMyaDE5MmEzMiAzMiAwIDAgMSAwIDY0SDEyOGEzMiAzMiAwIDAgMS0zMi0zMm01NzYgMGEzMiAzMiAwIDAgMSAzMi0zMmgxOTJhMzIgMzIgMCAxIDEgMCA2NEg3MDRhMzIgMzIgMCAwIDEtMzItMzJcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9haW0udnVlXG52YXIgYWltX2RlZmF1bHQgPSBhaW1fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2FsYXJtLWNsb2NrLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDMgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTMsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2szIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGFsYXJtX2Nsb2NrX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDMoe1xuICBuYW1lOiBcIkFsYXJtQ2xvY2tcIixcbiAgX19uYW1lOiBcImFsYXJtLWNsb2NrXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2szKCksIF9jcmVhdGVFbGVtZW50QmxvY2szKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUzKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiA4MzJhMzIwIDMyMCAwIDEgMCAwLTY0MCAzMjAgMzIwIDAgMCAwIDAgNjQwbTAgNjRhMzg0IDM4NCAwIDEgMSAwLTc2OCAzODQgMzg0IDAgMCAxIDAgNzY4XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTMoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJtMjkyLjI4OCA4MjQuNTc2IDU1LjQyNCAzMi00OCA4My4xMzZhMzIgMzIgMCAxIDEtNTUuNDI0LTMyem00MzkuNDI0IDAtNTUuNDI0IDMyIDQ4IDgzLjEzNmEzMiAzMiAwIDEgMCA1NS40MjQtMzJ6TTUxMiA1MTJoMTYwYTMyIDMyIDAgMSAxIDAgNjRINDgwYTMyIDMyIDAgMCAxLTMyLTMyVjMyMGEzMiAzMiAwIDAgMSA2NCAwek05MC40OTYgMzEyLjI1NkExNjAgMTYwIDAgMCAxIDMxMi4zMiA5MC40OTZsLTQ2Ljg0OCA0Ni44NDhhOTYgOTYgMCAwIDAtMTI4IDEyOEw5MC41NiAzMTIuMjU2em04MzUuMjY0IDBBMTYwIDE2MCAwIDAgMCA3MDQgOTAuNDk2bDQ2Ljg0OCA0Ni44NDhhOTYgOTYgMCAwIDEgMTI4IDEyOHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9hbGFybS1jbG9jay52dWVcbnZhciBhbGFybV9jbG9ja19kZWZhdWx0ID0gYWxhcm1fY2xvY2tfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2FwcGxlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDQgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTQsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrNCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s0IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGFwcGxlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDQoe1xuICBuYW1lOiBcIkFwcGxlXCIsXG4gIF9fbmFtZTogXCJhcHBsZVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrNChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01OTkuODcyIDIwMy43NzZhMTg5LjQ0IDE4OS40NCAwIDAgMSA2NC4zODQtNC42NzJsMi42MjQuMTI4YzMxLjE2OCAxLjAyNCA1MS4yIDQuMDk2IDc5LjQ4OCAxNi4zMiAzNy42MzIgMTYuMTI4IDc0LjQ5NiA0NS4wNTYgMTExLjQ4OCA4OS4zNDQgOTYuMzg0IDExNS4yNjQgODIuNzUyIDM3Mi44LTM0Ljc1MiA1MjEuNzI4LTcuNjggOS43MjgtMzIgNDEuNi0zMC43MiAzOS45MzZhNDI2LjYyNCA0MjYuNjI0IDAgMCAxLTMwLjA4IDM1Ljc3NmMtMzEuMjMyIDMyLjU3Ni02NS4yOCA0OS4yMTYtMTEwLjA4IDUwLjA0OC0zMS4zNi42NC01My41NjgtNS4zMTItODQuMjg4LTE4Ljc1MmwtNi41MjgtMi44OGMtMjAuOTkyLTkuMjE2LTMwLjU5Mi0xMS45MDQtNDcuMjk2LTExLjkwNC0xOC4xMTIgMC0yOC42MDggMi44OC01MS4xMzYgMTIuNjcybC02LjQ2NCAyLjgxNmMtMjguNDE2IDEyLjIyNC00OC4zMiAxOC4wNDgtNzYuMTYgMTkuMi03NC4xMTIgMi43NTItMTE2LjkyOC0zOC4wOC0xODAuNjcyLTEzMi4xNi05Ni42NC0xNDIuMDgtMTMyLjYwOC0zNDkuMzEyLTU1LjA0LTQ4Ni40IDQ2LjI3Mi04MS45MiAxMjkuOTItMTMzLjYzMiAyMjAuNjcyLTEzNS4wNCAzMi44MzItLjU3NiA2MC4yODggNi44NDggOTkuNjQ4IDIyLjcyIDI3LjEzNiAxMC44OCAzNC43NTIgMTMuNzYgMzcuMzc2IDE0LjI3MiAxNi4yNTYtMjAuMTYgMjcuNzc2LTM2Ljk5MiAzNC41Ni01MC4yNCAxMy41NjgtMjYuMzA0IDI3LjItNTkuOTY4IDQwLjcwNC0xMDAuOGEzMiAzMiAwIDEgMSA2MC44IDIwLjIyNGMtMTIuNjA4IDM3Ljg4OC0yNS40MDggNzAuNC0zOC41MjggOTcuNjY0em0tNTEuNTIgNzguMDhjLTE0LjUyOCAxNy43OTItMzEuODA4IDM3LjM3Ni01MS45MDQgNTguODE2YTMyIDMyIDAgMSAxLTQ2LjcyLTQzLjc3NmwxMi4yODgtMTMuMjQ4Yy0yOC4wMzItMTEuMi02MS4yNDgtMjYuNjg4LTk1LjY4LTI2LjExMi03MC40IDEuMDg4LTEzNS4yOTYgNDEuNi0xNzEuNjQ4IDEwNS43OTJDMTIxLjYgNDkyLjYwOCAxNzYgNjg0LjE2IDI0Ny4yOTYgNzg4Ljk5MmMzNC44MTYgNTEuMzI4IDc2LjM1MiAxMDguOTkyIDEzMC45NDQgMTA2Ljk0NCA1Mi40OC0yLjExMiA3Mi4zMi0zNC42ODggMTM1Ljg3Mi0zNC42ODggNjMuNTUyIDAgODEuMjggMzQuNjg4IDEzNi45NiAzMy41MzYgNTYuNDQ4LTEuMDg4IDc1Ljc3Ni0zOS4wNCAxMjYuODQ4LTEwMy44NzIgMTA3LjkwNC0xMzYuNzY4IDEwNy45MDQtMzYyLjc1MiAzNS43NzYtNDQ5LjA4OC03Mi4xOTItODYuMjcyLTEyNC42NzItODQuMDk2LTE1MS42OC04NS4xMi00MS40NzItNC4yODgtODEuNiAxMi41NDQtMTEzLjY2NCAyNS4xNTJ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvYXBwbGUudnVlXG52YXIgYXBwbGVfZGVmYXVsdCA9IGFwcGxlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9hcnJvdy1kb3duLWJvbGQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50NSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlNSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s1LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazUgfSBmcm9tIFwidnVlXCI7XG52YXIgYXJyb3dfZG93bl9ib2xkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDUoe1xuICBuYW1lOiBcIkFycm93RG93bkJvbGRcIixcbiAgX19uYW1lOiBcImFycm93LWRvd24tYm9sZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrNShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xMDQuNzA0IDMzOC43NTJhNjQgNjQgMCAwIDEgOTAuNDk2IDBsMzE2LjggMzE2LjggMzE2LjgtMzE2LjhhNjQgNjQgMCAwIDEgOTAuNDk2IDkwLjQ5Nkw1NTcuMjQ4IDc5MS4yOTZhNjQgNjQgMCAwIDEtOTAuNDk2IDBMMTA0LjcwNCA0MjkuMjQ4YTY0IDY0IDAgMCAxIDAtOTAuNDk2elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2Fycm93LWRvd24tYm9sZC52dWVcbnZhciBhcnJvd19kb3duX2JvbGRfZGVmYXVsdCA9IGFycm93X2Rvd25fYm9sZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvYXJyb3ctZG93bi52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ2IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU2LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazYsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrNiB9IGZyb20gXCJ2dWVcIjtcbnZhciBhcnJvd19kb3duX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDYoe1xuICBuYW1lOiBcIkFycm93RG93blwiLFxuICBfX25hbWU6IFwiYXJyb3ctZG93blwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNigpLCBfY3JlYXRlRWxlbWVudEJsb2NrNihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk04MzEuODcyIDM0MC44NjQgNTEyIDY1Mi42NzIgMTkyLjEyOCAzNDAuODY0YTMwLjU5MiAzMC41OTIgMCAwIDAtNDIuNzUyIDAgMjkuMTIgMjkuMTIgMCAwIDAgMCA0MS42TDQ4OS42NjQgNzE0LjI0YTMyIDMyIDAgMCAwIDQ0LjY3MiAwbDM0MC4yODgtMzMxLjcxMmEyOS4xMiAyOS4xMiAwIDAgMCAwLTQxLjcyOCAzMC41OTIgMzAuNTkyIDAgMCAwLTQyLjc1MiAwelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2Fycm93LWRvd24udnVlXG52YXIgYXJyb3dfZG93bl9kZWZhdWx0ID0gYXJyb3dfZG93bl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvYXJyb3ctbGVmdC1ib2xkLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDcgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTcsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrNywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s3IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGFycm93X2xlZnRfYm9sZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ3KHtcbiAgbmFtZTogXCJBcnJvd0xlZnRCb2xkXCIsXG4gIF9fbmFtZTogXCJhcnJvdy1sZWZ0LWJvbGRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazcoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazcoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTcoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNjg1LjI0OCAxMDQuNzA0YTY0IDY0IDAgMCAxIDAgOTAuNDk2TDM2OC40NDggNTEybDMxNi44IDMxNi44YTY0IDY0IDAgMCAxLTkwLjQ5NiA5MC40OTZMMjMyLjcwNCA1NTcuMjQ4YTY0IDY0IDAgMCAxIDAtOTAuNDk2bDM2Mi4wNDgtMzYyLjA0OGE2NCA2NCAwIDAgMSA5MC40OTYgMHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9hcnJvdy1sZWZ0LWJvbGQudnVlXG52YXIgYXJyb3dfbGVmdF9ib2xkX2RlZmF1bHQgPSBhcnJvd19sZWZ0X2JvbGRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2Fycm93LWxlZnQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50OCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlOCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s4LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazggfSBmcm9tIFwidnVlXCI7XG52YXIgYXJyb3dfbGVmdF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ4KHtcbiAgbmFtZTogXCJBcnJvd0xlZnRcIixcbiAgX19uYW1lOiBcImFycm93LWxlZnRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazgoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazgoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTgoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNjA5LjQwOCAxNDkuMzc2IDI3Ny43NiA0ODkuNmEzMiAzMiAwIDAgMCAwIDQ0LjY3MmwzMzEuNjQ4IDM0MC4zNTJhMjkuMTIgMjkuMTIgMCAwIDAgNDEuNzI4IDAgMzAuNTkyIDMwLjU5MiAwIDAgMCAwLTQyLjc1MkwzMzkuMjY0IDUxMS45MzZsMzExLjg3Mi0zMTkuODcyYTMwLjU5MiAzMC41OTIgMCAwIDAgMC00Mi42ODggMjkuMTIgMjkuMTIgMCAwIDAtNDEuNzI4IDB6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvYXJyb3ctbGVmdC52dWVcbnZhciBhcnJvd19sZWZ0X2RlZmF1bHQgPSBhcnJvd19sZWZ0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9hcnJvdy1yaWdodC1ib2xkLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDkgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTksIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrOSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s5IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGFycm93X3JpZ2h0X2JvbGRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50OSh7XG4gIG5hbWU6IFwiQXJyb3dSaWdodEJvbGRcIixcbiAgX19uYW1lOiBcImFycm93LXJpZ2h0LWJvbGRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazkoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazkoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTkoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMzM4Ljc1MiAxMDQuNzA0YTY0IDY0IDAgMCAwIDAgOTAuNDk2bDMxNi44IDMxNi44LTMxNi44IDMxNi44YTY0IDY0IDAgMCAwIDkwLjQ5NiA5MC40OTZsMzYyLjA0OC0zNjIuMDQ4YTY0IDY0IDAgMCAwIDAtOTAuNDk2TDQyOS4yNDggMTA0LjcwNGE2NCA2NCAwIDAgMC05MC40OTYgMHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9hcnJvdy1yaWdodC1ib2xkLnZ1ZVxudmFyIGFycm93X3JpZ2h0X2JvbGRfZGVmYXVsdCA9IGFycm93X3JpZ2h0X2JvbGRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2Fycm93LXJpZ2h0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDEwIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxMCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxMCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMCB9IGZyb20gXCJ2dWVcIjtcbnZhciBhcnJvd19yaWdodF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxMCh7XG4gIG5hbWU6IFwiQXJyb3dSaWdodFwiLFxuICBfX25hbWU6IFwiYXJyb3ctcmlnaHRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazEwKCksIF9jcmVhdGVFbGVtZW50QmxvY2sxMChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTAoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMzQwLjg2NCAxNDkuMzEyYTMwLjU5MiAzMC41OTIgMCAwIDAgMCA0Mi43NTJMNjUyLjczNiA1MTIgMzQwLjg2NCA4MzEuODcyYTMwLjU5MiAzMC41OTIgMCAwIDAgMCA0Mi43NTIgMjkuMTIgMjkuMTIgMCAwIDAgNDEuNzI4IDBMNzE0LjI0IDUzNC4zMzZhMzIgMzIgMCAwIDAgMC00NC42NzJMMzgyLjU5MiAxNDkuMzc2YTI5LjEyIDI5LjEyIDAgMCAwLTQxLjcyOCAwelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2Fycm93LXJpZ2h0LnZ1ZVxudmFyIGFycm93X3JpZ2h0X2RlZmF1bHQgPSBhcnJvd19yaWdodF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvYXJyb3ctdXAtYm9sZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxMSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTEsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTEsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTEgfSBmcm9tIFwidnVlXCI7XG52YXIgYXJyb3dfdXBfYm9sZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxMSh7XG4gIG5hbWU6IFwiQXJyb3dVcEJvbGRcIixcbiAgX19uYW1lOiBcImFycm93LXVwLWJvbGRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazExKCksIF9jcmVhdGVFbGVtZW50QmxvY2sxMShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTEoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMTA0LjcwNCA2ODUuMjQ4YTY0IDY0IDAgMCAwIDkwLjQ5NiAwbDMxNi44LTMxNi44IDMxNi44IDMxNi44YTY0IDY0IDAgMCAwIDkwLjQ5Ni05MC40OTZMNTU3LjI0OCAyMzIuNzA0YTY0IDY0IDAgMCAwLTkwLjQ5NiAwTDEwNC43MDQgNTk0Ljc1MmE2NCA2NCAwIDAgMCAwIDkwLjQ5NnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9hcnJvdy11cC1ib2xkLnZ1ZVxudmFyIGFycm93X3VwX2JvbGRfZGVmYXVsdCA9IGFycm93X3VwX2JvbGRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2Fycm93LXVwLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDEyIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxMiwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxMiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMiB9IGZyb20gXCJ2dWVcIjtcbnZhciBhcnJvd191cF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxMih7XG4gIG5hbWU6IFwiQXJyb3dVcFwiLFxuICBfX25hbWU6IFwiYXJyb3ctdXBcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazEyKCksIF9jcmVhdGVFbGVtZW50QmxvY2sxMihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTIoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJtNDg4LjgzMiAzNDQuMzItMzM5Ljg0IDM1Ni42NzJhMzIgMzIgMCAwIDAgMCA0NC4xNmwuMzg0LjM4NGEyOS40NCAyOS40NCAwIDAgMCA0Mi42ODggMGwzMjAtMzM1Ljg3MiAzMTkuODcyIDMzNS44NzJhMjkuNDQgMjkuNDQgMCAwIDAgNDIuNjg4IDBsLjM4NC0uMzg0YTMyIDMyIDAgMCAwIDAtNDQuMTZMNTM1LjE2OCAzNDQuMzJhMzIgMzIgMCAwIDAtNDYuMzM2IDBcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9hcnJvdy11cC52dWVcbnZhciBhcnJvd191cF9kZWZhdWx0ID0gYXJyb3dfdXBfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2F2YXRhci52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxMyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTMsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTMsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTMgfSBmcm9tIFwidnVlXCI7XG52YXIgYXZhdGFyX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDEzKHtcbiAgbmFtZTogXCJBdmF0YXJcIixcbiAgX19uYW1lOiBcImF2YXRhclwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTMoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazEzKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxMyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk02MjguNzM2IDUyOC44OTZBNDE2IDQxNiAwIDAgMSA5MjggOTI4SDk2YTQxNS44NzIgNDE1Ljg3MiAwIDAgMSAyOTkuMjY0LTM5OS4xMDRMNTEyIDcwNHpNNzIwIDMwNGEyMDggMjA4IDAgMSAxLTQxNiAwIDIwOCAyMDggMCAwIDEgNDE2IDBcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9hdmF0YXIudnVlXG52YXIgYXZhdGFyX2RlZmF1bHQgPSBhdmF0YXJfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2JhY2sudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTQgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE0LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE0LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE0IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGJhY2tfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTQoe1xuICBuYW1lOiBcIkJhY2tcIixcbiAgX19uYW1lOiBcImJhY2tcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE0KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxNChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTQoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMjI0IDQ4MGg2NDBhMzIgMzIgMCAxIDEgMCA2NEgyMjRhMzIgMzIgMCAwIDEgMC02NFwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIm0yMzcuMjQ4IDUxMiAyNjUuNDA4IDI2NS4zNDRhMzIgMzIgMCAwIDEtNDUuMzEyIDQ1LjMxMmwtMjg4LTI4OGEzMiAzMiAwIDAgMSAwLTQ1LjMxMmwyODgtMjg4YTMyIDMyIDAgMSAxIDQ1LjMxMiA0NS4zMTJ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvYmFjay52dWVcbnZhciBiYWNrX2RlZmF1bHQgPSBiYWNrX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9iYXNlYmFsbC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTUsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTUgfSBmcm9tIFwidnVlXCI7XG52YXIgYmFzZWJhbGxfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTUoe1xuICBuYW1lOiBcIkJhc2ViYWxsXCIsXG4gIF9fbmFtZTogXCJiYXNlYmFsbFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTUoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE1KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xOTUuMiA4MjguOGE0NDggNDQ4IDAgMSAxIDYzMy42LTYzMy42IDQ0OCA0NDggMCAwIDEtNjMzLjYgNjMzLjZ6bTQ1LjI0OC00NS4yNDhhMzg0IDM4NCAwIDEgMCA1NDMuMTA0LTU0My4xMDQgMzg0IDM4NCAwIDAgMC01NDMuMTA0IDU0My4xMDRcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTUoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNDk3LjQ3MiA5Ni44OTZjMjIuNzg0IDQuNjcyIDQ0LjQxNiA5LjQ3MiA2NC44OTYgMTQuNTI4YTI1Ni4xMjggMjU2LjEyOCAwIDAgMCAzNTAuMjA4IDM1MC4yMDhjNS4wNTYgMjAuNDggOS44NTYgNDIuMTEyIDE0LjUyOCA2NC44OTZBMzIwLjEyOCAzMjAuMTI4IDAgMCAxIDQ5Ny40NzIgOTYuODk2ek0xMDguNDggNDkxLjkwNGEzMjAuMTI4IDMyMC4xMjggMCAwIDEgNDIzLjYxNiA0MjMuNjhjLTIzLjA0LTMuNjQ4LTQ0Ljk5Mi03LjQyNC02NS43MjgtMTEuNTJhMjU2LjEyOCAyNTYuMTI4IDAgMCAwLTM0Ni40OTYtMzQ2LjQzMiAxNzM2LjY0IDE3MzYuNjQgMCAwIDEtMTEuMzkyLTY1LjcyOHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9iYXNlYmFsbC52dWVcbnZhciBiYXNlYmFsbF9kZWZhdWx0ID0gYmFzZWJhbGxfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2Jhc2tldGJhbGwudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTYgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE2LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE2LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE2IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGJhc2tldGJhbGxfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTYoe1xuICBuYW1lOiBcIkJhc2tldGJhbGxcIixcbiAgX19uYW1lOiBcImJhc2tldGJhbGxcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE2KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxNihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTYoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNzc4Ljc1MiA3ODguMjI0YTM4Mi40NjQgMzgyLjQ2NCAwIDAgMCAxMTYuMDMyLTI0NS42MzIgMjU2LjUxMiAyNTYuNTEyIDAgMCAwLTI0MS43MjgtMTMuOTUyIDc2Mi44OCA3NjIuODggMCAwIDEgMTI1LjY5NiAyNTkuNTg0em0tNTUuMDQgNDQuMjI0YTY5OS42NDggNjk5LjY0OCAwIDAgMC0xMjUuMDU2LTI2OS42MzIgMjU2LjEyOCAyNTYuMTI4IDAgMCAwLTU2LjA2NCAzMzEuOTY4IDM4Mi43MiAzODIuNzIgMCAwIDAgMTgxLjEyLTYyLjMzNm0tMjU0LjA4IDYxLjI0OEEzMjAuMTI4IDMyMC4xMjggMCAwIDEgNTU3Ljc2IDUxMy42YTcxNS44NCA3MTUuODQgMCAwIDAtNDguMTkyLTQ4LjEyOCAzMjAuMTI4IDMyMC4xMjggMCAwIDEtMzc5LjI2NCA4OC4zODQgMzgyLjQgMzgyLjQgMCAwIDAgMTEwLjE0NCAyMjkuNjk2IDM4Mi40IDM4Mi40IDAgMCAwIDIyOS4xODQgMTEwLjA4ek0xMjkuMjggNDgxLjA4OGEyNTYuMTI4IDI1Ni4xMjggMCAwIDAgMzMxLjA3Mi01Ni40NDggNjk5LjY0OCA2OTkuNjQ4IDAgMCAwLTI2OC44LTEyNC4zNTIgMzgyLjY1NiAzODIuNjU2IDAgMCAwLTYyLjI3MiAxODAuOG0xMDYuNTYtMjM1Ljg0YTc2Mi44OCA3NjIuODggMCAwIDEgMjU4LjY4OCAxMjUuMDU2IDI1Ni41MTIgMjU2LjUxMiAwIDAgMC0xMy40NC0yNDEuMDg4QTM4Mi40NjQgMzgyLjQ2NCAwIDAgMCAyMzUuODQgMjQ1LjI0OHptMzE4LjA4LTExNC45NDRjNDAuNTc2IDg5LjUzNiAzNy43NiAxOTMuOTItOC40NDggMjgxLjM0NGE3NzkuODQgNzc5Ljg0IDAgMCAxIDY2LjE3NiA2Ni4xMTIgMzIwLjgzMiAzMjAuODMyIDAgMCAxIDI4Mi4xMTItOC4xMjggMzgyLjQgMzgyLjQgMCAwIDAtMTEwLjE0NC0yMjkuMTIgMzgyLjQgMzgyLjQgMCAwIDAtMjI5LjYzMi0xMTAuMjA4ek04MjguOCA4MjguOGE0NDggNDQ4IDAgMSAxLTYzMy42LTYzMy42IDQ0OCA0NDggMCAwIDEgNjMzLjYgNjMzLjZcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9iYXNrZXRiYWxsLnZ1ZVxudmFyIGJhc2tldGJhbGxfZGVmYXVsdCA9IGJhc2tldGJhbGxfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2JlbGwtZmlsbGVkLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE3IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxNywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxNyB9IGZyb20gXCJ2dWVcIjtcbnZhciBiZWxsX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNyh7XG4gIG5hbWU6IFwiQmVsbEZpbGxlZFwiLFxuICBfX25hbWU6IFwiYmVsbC1maWxsZWRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE3KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxNyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTcoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNjQwIDgzMmExMjggMTI4IDAgMCAxLTI1NiAwem0xOTItNjRIMTM0LjRhMzguNCAzOC40IDAgMCAxIDAtNzYuOEgxOTJWNDQ4YzAtMTU0Ljg4IDExMC4wOC0yODQuMTYgMjU2LjMyLTMxMy42YTY0IDY0IDAgMSAxIDEyNy4zNiAwQTMyMC4xMjggMzIwLjEyOCAwIDAgMSA4MzIgNDQ4djI0My4yaDU3LjZhMzguNCAzOC40IDAgMCAxIDAgNzYuOHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9iZWxsLWZpbGxlZC52dWVcbnZhciBiZWxsX2ZpbGxlZF9kZWZhdWx0ID0gYmVsbF9maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2JlbGwudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTggfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE4LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE4LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE4IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGJlbGxfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTgoe1xuICBuYW1lOiBcIkJlbGxcIixcbiAgX19uYW1lOiBcImJlbGxcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE4KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxOChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTgoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDY0YTY0IDY0IDAgMCAxIDY0IDY0djY0SDQ0OHYtNjRhNjQgNjQgMCAwIDEgNjQtNjRcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTgoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMjU2IDc2OGg1MTJWNDQ4YTI1NiAyNTYgMCAxIDAtNTEyIDB6bTI1Ni02NDBhMzIwIDMyMCAwIDAgMSAzMjAgMzIwdjM4NEgxOTJWNDQ4YTMyMCAzMjAgMCAwIDEgMzIwLTMyMFwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxOChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk05NiA3NjhoODMycTMyIDAgMzIgMzJ0LTMyIDMySDk2cS0zMiAwLTMyLTMydDMyLTMybTM1MiAxMjhoMTI4YTY0IDY0IDAgMCAxLTEyOCAwXCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvYmVsbC52dWVcbnZhciBiZWxsX2RlZmF1bHQgPSBiZWxsX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9iaWN5Y2xlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE5IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxOSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxOSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxOSB9IGZyb20gXCJ2dWVcIjtcbnZhciBiaWN5Y2xlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE5KHtcbiAgbmFtZTogXCJCaWN5Y2xlXCIsXG4gIF9fbmFtZTogXCJiaWN5Y2xlXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxOSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTkoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE5KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTI1NiA4MzJhMTI4IDEyOCAwIDEgMCAwLTI1NiAxMjggMTI4IDAgMCAwIDAgMjU2bTAgNjRhMTkyIDE5MiAwIDEgMSAwLTM4NCAxOTIgMTkyIDAgMCAxIDAgMzg0XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE5KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTI4OCA2NzJoMzIwcTMyIDAgMzIgMzJ0LTMyIDMySDI4OHEtMzIgMC0zMi0zMnQzMi0zMlwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxOShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk03NjggODMyYTEyOCAxMjggMCAxIDAgMC0yNTYgMTI4IDEyOCAwIDAgMCAwIDI1Nm0wIDY0YTE5MiAxOTIgMCAxIDEgMC0zODQgMTkyIDE5MiAwIDAgMSAwIDM4NFwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxOShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk00ODAgMTkyYTMyIDMyIDAgMCAxIDAtNjRoMTYwYTMyIDMyIDAgMCAxIDMxLjA0IDI0LjI1Nmw5NiAzODRhMzIgMzIgMCAwIDEtNjIuMDggMTUuNDg4TDYxNS4wNCAxOTJ6TTk2IDM4NGEzMiAzMiAwIDAgMSAwLTY0aDEyOGEzMiAzMiAwIDAgMSAzMC4zMzYgMjEuODg4bDY0IDE5MmEzMiAzMiAwIDEgMS02MC42NzIgMjAuMjI0TDIwMC45NiAzODR6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE5KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwibTM3My4zNzYgNTk5LjgwOC00Mi43NTItNDcuNjE2IDMyMC0yODggNDIuNzUyIDQ3LjYxNnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9iaWN5Y2xlLnZ1ZVxudmFyIGJpY3ljbGVfZGVmYXVsdCA9IGJpY3ljbGVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2JvdHRvbS1sZWZ0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDIwIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyMCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syMCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syMCB9IGZyb20gXCJ2dWVcIjtcbnZhciBib3R0b21fbGVmdF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyMCh7XG4gIG5hbWU6IFwiQm90dG9tTGVmdFwiLFxuICBfX25hbWU6IFwiYm90dG9tLWxlZnRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazIwKCksIF9jcmVhdGVFbGVtZW50QmxvY2syMChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjAoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMjU2IDc2OGg0MTZhMzIgMzIgMCAxIDEgMCA2NEgyMjRhMzIgMzIgMCAwIDEtMzItMzJWMzUyYTMyIDMyIDAgMCAxIDY0IDB6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIwKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTI0Ni42NTYgODIyLjY1NmEzMiAzMiAwIDAgMS00NS4zMTItNDUuMzEybDU0NC01NDRhMzIgMzIgMCAwIDEgNDUuMzEyIDQ1LjMxMmwtNTQ0IDU0NHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9ib3R0b20tbGVmdC52dWVcbnZhciBib3R0b21fbGVmdF9kZWZhdWx0ID0gYm90dG9tX2xlZnRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2JvdHRvbS1yaWdodC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyMSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjEsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjEsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjEgfSBmcm9tIFwidnVlXCI7XG52YXIgYm90dG9tX3JpZ2h0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDIxKHtcbiAgbmFtZTogXCJCb3R0b21SaWdodFwiLFxuICBfX25hbWU6IFwiYm90dG9tLXJpZ2h0XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syMSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjEoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIxKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTM1MiA3NjhhMzIgMzIgMCAxIDAgMCA2NGg0NDhhMzIgMzIgMCAwIDAgMzItMzJWMzUyYTMyIDMyIDAgMCAwLTY0IDB2NDE2elwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk03NzcuMzQ0IDgyMi42NTZhMzIgMzIgMCAwIDAgNDUuMzEyLTQ1LjMxMmwtNTQ0LTU0NGEzMiAzMiAwIDAgMC00NS4zMTIgNDUuMzEyelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2JvdHRvbS1yaWdodC52dWVcbnZhciBib3R0b21fcmlnaHRfZGVmYXVsdCA9IGJvdHRvbV9yaWdodF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvYm90dG9tLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDIyIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyMiwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syMiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syMiB9IGZyb20gXCJ2dWVcIjtcbnZhciBib3R0b21fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjIoe1xuICBuYW1lOiBcIkJvdHRvbVwiLFxuICBfX25hbWU6IFwiYm90dG9tXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syMigpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjIoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIyKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTU0NCA4MDUuODg4VjE2OGEzMiAzMiAwIDEgMC02NCAwdjYzNy44ODhMMjQ2LjY1NiA1NTcuOTUyYTMwLjcyIDMwLjcyIDAgMCAwLTQ1LjMxMiAwIDM1LjUyIDM1LjUyIDAgMCAwIDAgNDguMDY0bDI4OCAzMDYuMDQ4YTMwLjcyIDMwLjcyIDAgMCAwIDQ1LjMxMiAwbDI4OC0zMDYuMDQ4YTM1LjUyIDM1LjUyIDAgMCAwIDAtNDggMzAuNzIgMzAuNzIgMCAwIDAtNDUuMzEyIDBMNTQ0IDgwNS44MjR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvYm90dG9tLnZ1ZVxudmFyIGJvdHRvbV9kZWZhdWx0ID0gYm90dG9tX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9ib3dsLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDIzIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyMywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syMywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syMyB9IGZyb20gXCJ2dWVcIjtcbnZhciBib3dsX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDIzKHtcbiAgbmFtZTogXCJCb3dsXCIsXG4gIF9fbmFtZTogXCJib3dsXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syMygpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjMoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIzKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTcxNC40MzIgNzA0YTM1MS43NDQgMzUxLjc0NCAwIDAgMCAxNDguMTYtMjU2SDE2MS40MDhhMzUxLjc0NCAzNTEuNzQ0IDAgMCAwIDE0OC4xNiAyNTZ6TTI4OCA3NjYuNTkyQTQxNS42OCA0MTUuNjggMCAwIDEgOTYgNDE2YTMyIDMyIDAgMCAxIDMyLTMyaDc2OGEzMiAzMiAwIDAgMSAzMiAzMiA0MTUuNjggNDE1LjY4IDAgMCAxLTE5MiAzNTAuNTkyVjgzMmE2NCA2NCAwIDAgMS02NCA2NEgzNTJhNjQgNjQgMCAwIDEtNjQtNjR6TTQ5My4yNDggMzIwaC05MC40OTZsMjU0LjQtMjU0LjRhMzIgMzIgMCAxIDEgNDUuMjQ4IDQ1LjI0OHptMTg3LjMyOCAwaC0xMjhsMjY5LjY5Ni0xNTUuNzEyYTMyIDMyIDAgMCAxIDMyIDU1LjQyNHpNMzUyIDc2OHY2NGgzMjB2LTY0elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2Jvd2wudnVlXG52YXIgYm93bF9kZWZhdWx0ID0gYm93bF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvYm94LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI0IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyNCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syNCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syNCB9IGZyb20gXCJ2dWVcIjtcbnZhciBib3hfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjQoe1xuICBuYW1lOiBcIkJveFwiLFxuICBfX25hbWU6IFwiYm94XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syNCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjQoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI0KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTMxNy4wNTYgMTI4IDEyOCAzNDQuMDY0Vjg5Nmg3NjhWMzQ0LjA2NEw3MDYuOTQ0IDEyOHptLTE0LjUyOC02NGg0MTguOTQ0YTMyIDMyIDAgMCAxIDI0LjA2NCAxMC44OGwyMDYuNTI4IDIzNi4wOTZBMzIgMzIgMCAwIDEgOTYwIDMzMi4wMzJWOTI4YTMyIDMyIDAgMCAxLTMyIDMySDk2YTMyIDMyIDAgMCAxLTMyLTMyVjMzMi4wMzJhMzIgMzIgMCAwIDEgNy45MzYtMjEuMTJMMjc4LjQgNzUuMDA4QTMyIDMyIDAgMCAxIDMwMi41MjggNjR6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI0KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTY0IDMyMGg4OTZ2NjRINjR6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI0KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTQ0OCAzMjcuODcyVjY0MGgxMjhWMzI3Ljg3Mkw1MjYuMDggMTI4aC0yOC4xNnpNNDQ4IDY0aDEyOGw2NCAyNTZ2MzUyYTMyIDMyIDAgMCAxLTMyIDMySDQxNmEzMiAzMiAwIDAgMS0zMi0zMlYzMjB6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvYm94LnZ1ZVxudmFyIGJveF9kZWZhdWx0ID0gYm94X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9icmllZmNhc2UudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjUgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI1LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI1LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI1IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGJyaWVmY2FzZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyNSh7XG4gIG5hbWU6IFwiQnJpZWZjYXNlXCIsXG4gIF9fbmFtZTogXCJicmllZmNhc2VcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI1KCksIF9jcmVhdGVFbGVtZW50QmxvY2syNShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjUoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMzIwIDMyMFYxMjhoMzg0djE5MmgxOTJ2MTkySDEyOFYzMjB6TTEyOCA1NzZoNzY4djMyMEgxMjh6bTI1Ni0yNTZoMjU2LjA2NFYxOTJIMzg0elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2JyaWVmY2FzZS52dWVcbnZhciBicmllZmNhc2VfZGVmYXVsdCA9IGJyaWVmY2FzZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvYnJ1c2gtZmlsbGVkLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI2IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyNiwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syNiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syNiB9IGZyb20gXCJ2dWVcIjtcbnZhciBicnVzaF9maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjYoe1xuICBuYW1lOiBcIkJydXNoRmlsbGVkXCIsXG4gIF9fbmFtZTogXCJicnVzaC1maWxsZWRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI2KCksIF9jcmVhdGVFbGVtZW50QmxvY2syNihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjYoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNjA4IDcwNHYxNjBhOTYgOTYgMCAwIDEtMTkyIDBWNzA0aC05NmExMjggMTI4IDAgMCAxLTEyOC0xMjhoNjQwYTEyOCAxMjggMCAwIDEtMTI4IDEyOHpNMTkyIDUxMlYxMjguMDY0aDY0MFY1MTJ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvYnJ1c2gtZmlsbGVkLnZ1ZVxudmFyIGJydXNoX2ZpbGxlZF9kZWZhdWx0ID0gYnJ1c2hfZmlsbGVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9icnVzaC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyNyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjcsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjcsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjcgfSBmcm9tIFwidnVlXCI7XG52YXIgYnJ1c2hfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50Mjcoe1xuICBuYW1lOiBcIkJydXNoXCIsXG4gIF9fbmFtZTogXCJicnVzaFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjcoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI3KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk04OTYgNDQ4SDEyOHYxOTJhNjQgNjQgMCAwIDAgNjQgNjRoMTkydjE5MmgyNTZWNzA0aDE5MmE2NCA2NCAwIDAgMCA2NC02NHptLTc3MC43NTItNjRjMC00Ny41NTIgNS4yNDgtOTAuMjQgMTUuNTUyLTEyOCAxNC43Mi01NC4wMTYgNDIuNDk2LTEwNy4zOTIgODMuMi0xNjBoNDE3LjI4bC0xNS4zNiA3MC4zMzZMNzM2IDk2aDIxMS4yYy0yNC44MzIgNDIuODgtNDEuOTIgOTYuMjU2LTUxLjIgMTYwYTY2My44NzIgNjYzLjg3MiAwIDAgMC02LjE0NCAxMjhIOTYwdjI1NmExMjggMTI4IDAgMCAxLTEyOCAxMjhINzA0djE2MGEzMiAzMiAwIDAgMS0zMiAzMkgzNTJhMzIgMzIgMCAwIDEtMzItMzJWNzY4SDE5MkExMjggMTI4IDAgMCAxIDY0IDY0MFYzODRoNjEuMjQ4em02NCAwaDYzNi41NDRjLTIuMDQ4LTQ1LjgyNC4yNTYtOTEuNTg0IDYuODQ4LTEzNy4yMTYgNC40OC0zMC44NDggMTAuNjg4LTU5Ljc3NiAxOC42ODgtODYuNzg0aC05Ni42NGwtMjIxLjEyIDE0MS4yNDhMNTYxLjkyIDE2MEgyNTYuNTEyYy0yNS44NTYgMzcuODg4LTQzLjc3NiA3NS40NTYtNTMuOTUyIDExMi44MzItOC43NjggMzIuMDY0LTEzLjI0OCA2OS4xMi0xMy4zMTIgMTExLjE2OHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9icnVzaC52dWVcbnZhciBicnVzaF9kZWZhdWx0ID0gYnJ1c2hfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2J1cmdlci52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyOCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjgsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjgsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjggfSBmcm9tIFwidnVlXCI7XG52YXIgYnVyZ2VyX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI4KHtcbiAgbmFtZTogXCJCdXJnZXJcIixcbiAgX19uYW1lOiBcImJ1cmdlclwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjgoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI4KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyOChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xNjAgNTEyYTMyIDMyIDAgMCAwLTMyIDMydjY0YTMyIDMyIDAgMCAwIDMwLjA4IDMySDg2NGEzMiAzMiAwIDAgMCAzMi0zMnYtNjRhMzIgMzIgMCAwIDAtMzItMzJ6bTczNi01OC41NkE5NiA5NiAwIDAgMSA5NjAgNTQ0djY0YTk2IDk2IDAgMCAxLTUxLjk2OCA4NS4zMTJMODU1LjM2IDgzMy42YTk2IDk2IDAgMCAxLTg5Ljg1NiA2Mi4yNzJIMjU4LjQ5NkE5NiA5NiAwIDAgMSAxNjguNjQgODMzLjZsLTUyLjYwOC0xNDAuMjI0QTk2IDk2IDAgMCAxIDY0IDYwOHYtNjRhOTYgOTYgMCAwIDEgNjQtOTAuNTZWNDQ4YTM4NCAzODQgMCAxIDEgNzY4IDUuNDRNODMyIDQ0OGEzMjAgMzIwIDAgMCAwLTY0MCAwek01MTIgNzA0SDE4OC4zNTJsNDAuMTkyIDEwNy4xMzZhMzIgMzIgMCAwIDAgMjkuOTUyIDIwLjczNmg1MDcuMDA4YTMyIDMyIDAgMCAwIDI5Ljk1Mi0yMC43MzZMODM1LjY0OCA3MDR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvYnVyZ2VyLnZ1ZVxudmFyIGJ1cmdlcl9kZWZhdWx0ID0gYnVyZ2VyX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9jYWxlbmRhci52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyOSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjksIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjksIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjkgfSBmcm9tIFwidnVlXCI7XG52YXIgY2FsZW5kYXJfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50Mjkoe1xuICBuYW1lOiBcIkNhbGVuZGFyXCIsXG4gIF9fbmFtZTogXCJjYWxlbmRhclwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjkoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI5KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyOShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xMjggMzg0djUxMmg3NjhWMTkySDc2OHYzMmEzMiAzMiAwIDEgMS02NCAwdi0zMkgzMjB2MzJhMzIgMzIgMCAwIDEtNjQgMHYtMzJIMTI4djEyOGg3Njh2NjR6bTE5Mi0yNTZoMzg0Vjk2YTMyIDMyIDAgMSAxIDY0IDB2MzJoMTYwYTMyIDMyIDAgMCAxIDMyIDMydjc2OGEzMiAzMiAwIDAgMS0zMiAzMkg5NmEzMiAzMiAwIDAgMS0zMi0zMlYxNjBhMzIgMzIgMCAwIDEgMzItMzJoMTYwVjk2YTMyIDMyIDAgMCAxIDY0IDB6bS0zMiAzODRoNjRhMzIgMzIgMCAwIDEgMCA2NGgtNjRhMzIgMzIgMCAwIDEgMC02NG0wIDE5Mmg2NGEzMiAzMiAwIDEgMSAwIDY0aC02NGEzMiAzMiAwIDEgMSAwLTY0bTE5Mi0xOTJoNjRhMzIgMzIgMCAwIDEgMCA2NGgtNjRhMzIgMzIgMCAwIDEgMC02NG0wIDE5Mmg2NGEzMiAzMiAwIDEgMSAwIDY0aC02NGEzMiAzMiAwIDEgMSAwLTY0bTE5Mi0xOTJoNjRhMzIgMzIgMCAxIDEgMCA2NGgtNjRhMzIgMzIgMCAxIDEgMC02NG0wIDE5Mmg2NGEzMiAzMiAwIDEgMSAwIDY0aC02NGEzMiAzMiAwIDEgMSAwLTY0XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvY2FsZW5kYXIudnVlXG52YXIgY2FsZW5kYXJfZGVmYXVsdCA9IGNhbGVuZGFyX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9jYW1lcmEtZmlsbGVkLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDMwIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUzMCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2szMCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2szMCB9IGZyb20gXCJ2dWVcIjtcbnZhciBjYW1lcmFfZmlsbGVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDMwKHtcbiAgbmFtZTogXCJDYW1lcmFGaWxsZWRcIixcbiAgX19uYW1lOiBcImNhbWVyYS1maWxsZWRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazMwKCksIF9jcmVhdGVFbGVtZW50QmxvY2szMChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMzAoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMTYwIDIyNGE2NCA2NCAwIDAgMC02NCA2NHY1MTJhNjQgNjQgMCAwIDAgNjQgNjRoNzA0YTY0IDY0IDAgMCAwIDY0LTY0VjI4OGE2NCA2NCAwIDAgMC02NC02NEg3NDguNDE2bC00Ni40NjQtOTIuNjcyQTY0IDY0IDAgMCAwIDY0NC43MzYgOTZIMzc5LjMyOGE2NCA2NCAwIDAgMC01Ny4yMTYgMzUuMzkyTDI3NS43NzYgMjI0em0zNTIgNDM1LjJhMTE1LjIgMTE1LjIgMCAxIDAgMC0yMzAuNCAxMTUuMiAxMTUuMiAwIDAgMCAwIDIzMC40bTAgMTQwLjhhMjU2IDI1NiAwIDEgMSAwLTUxMiAyNTYgMjU2IDAgMCAxIDAgNTEyXCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvY2FtZXJhLWZpbGxlZC52dWVcbnZhciBjYW1lcmFfZmlsbGVkX2RlZmF1bHQgPSBjYW1lcmFfZmlsbGVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9jYW1lcmEudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MzEgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTMxLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazMxLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazMxIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGNhbWVyYV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQzMSh7XG4gIG5hbWU6IFwiQ2FtZXJhXCIsXG4gIF9fbmFtZTogXCJjYW1lcmFcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazMxKCksIF9jcmVhdGVFbGVtZW50QmxvY2szMShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMzEoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNODk2IDI1NkgxMjh2NTc2aDc2OHptLTE5OS40MjQtNjQtMzIuMDY0LTY0aC0zMDQuOTZsLTMyIDY0ek05NiAxOTJoMTYwbDQ2LjMzNi05Mi42MDhBNjQgNjQgMCAwIDEgMzU5LjU1MiA2NGgzMDQuOTZhNjQgNjQgMCAwIDEgNTcuMjE2IDM1LjMyOEw3NjguMTkyIDE5Mkg5MjhhMzIgMzIgMCAwIDEgMzIgMzJ2NjQwYTMyIDMyIDAgMCAxLTMyIDMySDk2YTMyIDMyIDAgMCAxLTMyLTMyVjIyNGEzMiAzMiAwIDAgMSAzMi0zMm00MTYgNTEyYTE2MCAxNjAgMCAxIDAgMC0zMjAgMTYwIDE2MCAwIDAgMCAwIDMyMG0wIDY0YTIyNCAyMjQgMCAxIDEgMC00NDggMjI0IDIyNCAwIDAgMSAwIDQ0OFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2NhbWVyYS52dWVcbnZhciBjYW1lcmFfZGVmYXVsdCA9IGNhbWVyYV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvY2FyZXQtYm90dG9tLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDMyIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUzMiwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2szMiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2szMiB9IGZyb20gXCJ2dWVcIjtcbnZhciBjYXJldF9ib3R0b21fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MzIoe1xuICBuYW1lOiBcIkNhcmV0Qm90dG9tXCIsXG4gIF9fbmFtZTogXCJjYXJldC1ib3R0b21cIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazMyKCksIF9jcmVhdGVFbGVtZW50QmxvY2szMihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMzIoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJtMTkyIDM4NCAzMjAgMzg0IDMyMC0zODR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvY2FyZXQtYm90dG9tLnZ1ZVxudmFyIGNhcmV0X2JvdHRvbV9kZWZhdWx0ID0gY2FyZXRfYm90dG9tX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9jYXJldC1sZWZ0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDMzIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUzMywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2szMywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2szMyB9IGZyb20gXCJ2dWVcIjtcbnZhciBjYXJldF9sZWZ0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDMzKHtcbiAgbmFtZTogXCJDYXJldExlZnRcIixcbiAgX19uYW1lOiBcImNhcmV0LWxlZnRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazMzKCksIF9jcmVhdGVFbGVtZW50QmxvY2szMyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMzMoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNjcyIDE5MiAyODggNTExLjkzNiA2NzIgODMyelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2NhcmV0LWxlZnQudnVlXG52YXIgY2FyZXRfbGVmdF9kZWZhdWx0ID0gY2FyZXRfbGVmdF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvY2FyZXQtcmlnaHQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MzQgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTM0LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazM0LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazM0IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGNhcmV0X3JpZ2h0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDM0KHtcbiAgbmFtZTogXCJDYXJldFJpZ2h0XCIsXG4gIF9fbmFtZTogXCJjYXJldC1yaWdodFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMzQoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazM0KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUzNChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0zODQgMTkydjY0MGwzODQtMzIwLjA2NHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jYXJldC1yaWdodC52dWVcbnZhciBjYXJldF9yaWdodF9kZWZhdWx0ID0gY2FyZXRfcmlnaHRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2NhcmV0LXRvcC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQzNSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMzUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMzUsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMzUgfSBmcm9tIFwidnVlXCI7XG52YXIgY2FyZXRfdG9wX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDM1KHtcbiAgbmFtZTogXCJDYXJldFRvcFwiLFxuICBfX25hbWU6IFwiY2FyZXQtdG9wXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2szNSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMzUoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTM1KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiAzMjAgMTkyIDcwNGg2MzkuOTM2elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2NhcmV0LXRvcC52dWVcbnZhciBjYXJldF90b3BfZGVmYXVsdCA9IGNhcmV0X3RvcF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvY2VsbHBob25lLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDM2IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUzNiwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2szNiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2szNiB9IGZyb20gXCJ2dWVcIjtcbnZhciBjZWxscGhvbmVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MzYoe1xuICBuYW1lOiBcIkNlbGxwaG9uZVwiLFxuICBfX25hbWU6IFwiY2VsbHBob25lXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2szNigpLCBfY3JlYXRlRWxlbWVudEJsb2NrMzYoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTM2KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTI1NiAxMjhhNjQgNjQgMCAwIDAtNjQgNjR2NjQwYTY0IDY0IDAgMCAwIDY0IDY0aDUxMmE2NCA2NCAwIDAgMCA2NC02NFYxOTJhNjQgNjQgMCAwIDAtNjQtNjR6bTAtNjRoNTEyYTEyOCAxMjggMCAwIDEgMTI4IDEyOHY2NDBhMTI4IDEyOCAwIDAgMS0xMjggMTI4SDI1NmExMjggMTI4IDAgMCAxLTEyOC0xMjhWMTkyQTEyOCAxMjggMCAwIDEgMjU2IDY0bTEyOCAxMjhoMjU2YTMyIDMyIDAgMSAxIDAgNjRIMzg0YTMyIDMyIDAgMCAxIDAtNjRtMTI4IDY0MGE2NCA2NCAwIDEgMSAwLTEyOCA2NCA2NCAwIDAgMSAwIDEyOFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2NlbGxwaG9uZS52dWVcbnZhciBjZWxscGhvbmVfZGVmYXVsdCA9IGNlbGxwaG9uZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvY2hhdC1kb3Qtcm91bmQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MzcgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTM3LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazM3LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazM3IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGNoYXRfZG90X3JvdW5kX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDM3KHtcbiAgbmFtZTogXCJDaGF0RG90Um91bmRcIixcbiAgX19uYW1lOiBcImNoYXQtZG90LXJvdW5kXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2szNygpLCBfY3JlYXRlRWxlbWVudEJsb2NrMzcoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTM3KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwibTE3NC43MiA4NTUuNjggMTM1LjI5Ni00NS4xMiAyMy42OCAxMS44NEMzODguMDk2IDg0OS41MzYgNDQ4LjU3NiA4NjQgNTEyIDg2NGMyMTEuODQgMCAzODQtMTY2Ljc4NCAzODQtMzUyUzcyMy44NCAxNjAgNTEyIDE2MCAxMjggMzI2Ljc4NCAxMjggNTEyYzAgNjkuMTIgMjQuOTYgMTM5LjI2NCA3MC44NDggMTk5LjIzMmwyMi4wOCAyOC44LTQ2LjI3MiAxMTUuNTg0em0tNDUuMjQ4IDgyLjU2QTMyIDMyIDAgMCAxIDg5LjYgODk2bDU4LjM2OC0xNDUuOTJDOTQuNzIgNjgwLjMyIDY0IDU5Ni44NjQgNjQgNTEyIDY0IDI5OS45MDQgMjU2IDk2IDUxMiA5NnM0NDggMjAzLjkwNCA0NDggNDE2LTE5MiA0MTYtNDQ4IDQxNmE0NjEuMDU2IDQ2MS4wNTYgMCAwIDEtMjA2LjkxMi00OC4zODRsLTE3NS42MTYgNTguNTZ6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTM3KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiA1NjMuMmE1MS4yIDUxLjIgMCAxIDEgMC0xMDIuNCA1MS4yIDUxLjIgMCAwIDEgMCAxMDIuNG0xOTIgMGE1MS4yIDUxLjIgMCAxIDEgMC0xMDIuNCA1MS4yIDUxLjIgMCAwIDEgMCAxMDIuNG0tMzg0IDBhNTEuMiA1MS4yIDAgMSAxIDAtMTAyLjQgNTEuMiA1MS4yIDAgMCAxIDAgMTAyLjRcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jaGF0LWRvdC1yb3VuZC52dWVcbnZhciBjaGF0X2RvdF9yb3VuZF9kZWZhdWx0ID0gY2hhdF9kb3Rfcm91bmRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2NoYXQtZG90LXNxdWFyZS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQzOCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMzgsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMzgsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMzggfSBmcm9tIFwidnVlXCI7XG52YXIgY2hhdF9kb3Rfc3F1YXJlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDM4KHtcbiAgbmFtZTogXCJDaGF0RG90U3F1YXJlXCIsXG4gIF9fbmFtZTogXCJjaGF0LWRvdC1zcXVhcmVcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazM4KCksIF9jcmVhdGVFbGVtZW50QmxvY2szOChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMzgoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMjczLjUzNiA3MzZIODAwYTY0IDY0IDAgMCAwIDY0LTY0VjI1NmE2NCA2NCAwIDAgMC02NC02NEgyMjRhNjQgNjQgMCAwIDAtNjQgNjR2NTcwLjg4ek0yOTYgODAwIDE0Ny45NjggOTE4LjRBMzIgMzIgMCAwIDEgOTYgODkzLjQ0VjI1NmExMjggMTI4IDAgMCAxIDEyOC0xMjhoNTc2YTEyOCAxMjggMCAwIDEgMTI4IDEyOHY0MTZhMTI4IDEyOCAwIDAgMS0xMjggMTI4elwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUzOChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTIgNDk5LjJhNTEuMiA1MS4yIDAgMSAxIDAtMTAyLjQgNTEuMiA1MS4yIDAgMCAxIDAgMTAyLjR6bTE5MiAwYTUxLjIgNTEuMiAwIDEgMSAwLTEwMi40IDUxLjIgNTEuMiAwIDAgMSAwIDEwMi40em0tMzg0IDBhNTEuMiA1MS4yIDAgMSAxIDAtMTAyLjQgNTEuMiA1MS4yIDAgMCAxIDAgMTAyLjR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvY2hhdC1kb3Qtc3F1YXJlLnZ1ZVxudmFyIGNoYXRfZG90X3NxdWFyZV9kZWZhdWx0ID0gY2hhdF9kb3Rfc3F1YXJlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9jaGF0LWxpbmUtcm91bmQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MzkgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTM5LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazM5LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazM5IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGNoYXRfbGluZV9yb3VuZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQzOSh7XG4gIG5hbWU6IFwiQ2hhdExpbmVSb3VuZFwiLFxuICBfX25hbWU6IFwiY2hhdC1saW5lLXJvdW5kXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2szOSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMzkoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTM5KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwibTE3NC43MiA4NTUuNjggMTM1LjI5Ni00NS4xMiAyMy42OCAxMS44NEMzODguMDk2IDg0OS41MzYgNDQ4LjU3NiA4NjQgNTEyIDg2NGMyMTEuODQgMCAzODQtMTY2Ljc4NCAzODQtMzUyUzcyMy44NCAxNjAgNTEyIDE2MCAxMjggMzI2Ljc4NCAxMjggNTEyYzAgNjkuMTIgMjQuOTYgMTM5LjI2NCA3MC44NDggMTk5LjIzMmwyMi4wOCAyOC44LTQ2LjI3MiAxMTUuNTg0em0tNDUuMjQ4IDgyLjU2QTMyIDMyIDAgMCAxIDg5LjYgODk2bDU4LjM2OC0xNDUuOTJDOTQuNzIgNjgwLjMyIDY0IDU5Ni44NjQgNjQgNTEyIDY0IDI5OS45MDQgMjU2IDk2IDUxMiA5NnM0NDggMjAzLjkwNCA0NDggNDE2LTE5MiA0MTYtNDQ4IDQxNmE0NjEuMDU2IDQ2MS4wNTYgMCAwIDEtMjA2LjkxMi00OC4zODRsLTE3NS42MTYgNTguNTZ6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTM5KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTM1MiA1NzZoMzIwcTMyIDAgMzIgMzJ0LTMyIDMySDM1MnEtMzIgMC0zMi0zMnQzMi0zMm0zMi0xOTJoMjU2cTMyIDAgMzIgMzJ0LTMyIDMySDM4NHEtMzIgMC0zMi0zMnQzMi0zMlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2NoYXQtbGluZS1yb3VuZC52dWVcbnZhciBjaGF0X2xpbmVfcm91bmRfZGVmYXVsdCA9IGNoYXRfbGluZV9yb3VuZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvY2hhdC1saW5lLXNxdWFyZS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ0MCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlNDAsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrNDAsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrNDAgfSBmcm9tIFwidnVlXCI7XG52YXIgY2hhdF9saW5lX3NxdWFyZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ0MCh7XG4gIG5hbWU6IFwiQ2hhdExpbmVTcXVhcmVcIixcbiAgX19uYW1lOiBcImNoYXQtbGluZS1zcXVhcmVcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazQwKCksIF9jcmVhdGVFbGVtZW50QmxvY2s0MChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNDAoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMTYwIDgyNi44OCAyNzMuNTM2IDczNkg4MDBhNjQgNjQgMCAwIDAgNjQtNjRWMjU2YTY0IDY0IDAgMCAwLTY0LTY0SDIyNGE2NCA2NCAwIDAgMC02NCA2NHpNMjk2IDgwMCAxNDcuOTY4IDkxOC40QTMyIDMyIDAgMCAxIDk2IDg5My40NFYyNTZhMTI4IDEyOCAwIDAgMSAxMjgtMTI4aDU3NmExMjggMTI4IDAgMCAxIDEyOCAxMjh2NDE2YTEyOCAxMjggMCAwIDEtMTI4IDEyOHpcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNDAoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMzUyIDUxMmgzMjBxMzIgMCAzMiAzMnQtMzIgMzJIMzUycS0zMiAwLTMyLTMydDMyLTMybTAtMTkyaDMyMHEzMiAwIDMyIDMydC0zMiAzMkgzNTJxLTMyIDAtMzItMzJ0MzItMzJcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jaGF0LWxpbmUtc3F1YXJlLnZ1ZVxudmFyIGNoYXRfbGluZV9zcXVhcmVfZGVmYXVsdCA9IGNoYXRfbGluZV9zcXVhcmVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2NoYXQtcm91bmQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50NDEgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTQxLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazQxLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazQxIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGNoYXRfcm91bmRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50NDEoe1xuICBuYW1lOiBcIkNoYXRSb3VuZFwiLFxuICBfX25hbWU6IFwiY2hhdC1yb3VuZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNDEoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazQxKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU0MShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIm0xNzQuNzIgODU1LjY4IDEzMC4wNDgtNDMuMzkyIDIzLjQyNCAxMS4zOTJDMzgyLjQgODQ5Ljk4NCA0NDQuMzUyIDg2NCA1MTIgODY0YzIyMy43NDQgMCAzODQtMTU5Ljg3MiAzODQtMzUyIDAtMTkyLjgzMi0xNTkuMTA0LTM1Mi0zODQtMzUyUzEyOCAzMTkuMTY4IDEyOCA1MTJhMzQxLjEyIDM0MS4xMiAwIDAgMCA2OS4yNDggMjA0LjI4OGwyMS42MzIgMjguOC00NC4xNiAxMTAuNTI4em0tNDUuMjQ4IDgyLjU2QTMyIDMyIDAgMCAxIDg5LjYgODk2bDU2LjUxMi0xNDEuMjQ4QTQwNS4xMiA0MDUuMTIgMCAwIDEgNjQgNTEyQzY0IDI5OS45MDQgMjM1LjY0OCA5NiA1MTIgOTZzNDQ4IDIwMy45MDQgNDQ4IDQxNi0xNzMuNDQgNDE2LTQ0OCA0MTZjLTc5LjY4IDAtMTUwLjg0OC0xNy4xNTItMjExLjcxMi00Ni43MmwtMTcwLjg4IDU2Ljk2elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2NoYXQtcm91bmQudnVlXG52YXIgY2hhdF9yb3VuZF9kZWZhdWx0ID0gY2hhdF9yb3VuZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvY2hhdC1zcXVhcmUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50NDIgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTQyLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazQyLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazQyIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGNoYXRfc3F1YXJlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDQyKHtcbiAgbmFtZTogXCJDaGF0U3F1YXJlXCIsXG4gIF9fbmFtZTogXCJjaGF0LXNxdWFyZVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNDIoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazQyKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU0MihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0yNzMuNTM2IDczNkg4MDBhNjQgNjQgMCAwIDAgNjQtNjRWMjU2YTY0IDY0IDAgMCAwLTY0LTY0SDIyNGE2NCA2NCAwIDAgMC02NCA2NHY1NzAuODh6TTI5NiA4MDAgMTQ3Ljk2OCA5MTguNEEzMiAzMiAwIDAgMSA5NiA4OTMuNDRWMjU2YTEyOCAxMjggMCAwIDEgMTI4LTEyOGg1NzZhMTI4IDEyOCAwIDAgMSAxMjggMTI4djQxNmExMjggMTI4IDAgMCAxLTEyOCAxMjh6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvY2hhdC1zcXVhcmUudnVlXG52YXIgY2hhdF9zcXVhcmVfZGVmYXVsdCA9IGNoYXRfc3F1YXJlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9jaGVjay52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ0MyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlNDMsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrNDMsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrNDMgfSBmcm9tIFwidnVlXCI7XG52YXIgY2hlY2tfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50NDMoe1xuICBuYW1lOiBcIkNoZWNrXCIsXG4gIF9fbmFtZTogXCJjaGVja1wiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNDMoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazQzKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU0MyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk00MDYuNjU2IDcwNi45NDQgMTk1Ljg0IDQ5Ni4yNTZhMzIgMzIgMCAxIDAtNDUuMjQ4IDQ1LjI0OGwyNTYgMjU2IDUxMi01MTJhMzIgMzIgMCAwIDAtNDUuMjQ4LTQ1LjI0OEw0MDYuNTkyIDcwNi45NDR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvY2hlY2sudnVlXG52YXIgY2hlY2tfZGVmYXVsdCA9IGNoZWNrX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9jaGVja2VkLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDQ0IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU0NCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s0NCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s0NCB9IGZyb20gXCJ2dWVcIjtcbnZhciBjaGVja2VkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDQ0KHtcbiAgbmFtZTogXCJDaGVja2VkXCIsXG4gIF9fbmFtZTogXCJjaGVja2VkXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s0NCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrNDQoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTQ0KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTcwNCAxOTJoMTYwdjczNkgxNjBWMTkyaDE2MC4wNjR2NjRINzA0ek0zMTEuNjE2IDUzNy4yOGwtNDUuMzEyIDQ1LjI0OEw0NDcuMzYgNzYzLjUybDMxNi44LTMxNi44LTQ1LjMxMi00NS4xODRMNDQ3LjM2IDY3My4wMjR6TTM4NCAxOTJWOTZoMjU2djk2elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2NoZWNrZWQudnVlXG52YXIgY2hlY2tlZF9kZWZhdWx0ID0gY2hlY2tlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvY2hlcnJ5LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDQ1IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU0NSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s0NSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s0NSB9IGZyb20gXCJ2dWVcIjtcbnZhciBjaGVycnlfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50NDUoe1xuICBuYW1lOiBcIkNoZXJyeVwiLFxuICBfX25hbWU6IFwiY2hlcnJ5XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s0NSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrNDUoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTQ1KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTI2MS4wNTYgNDQ5LjZjMTMuODI0LTY5LjY5NiAzNC44OC0xMjguOTYgNjMuMzYtMTc3LjcyOCAyMy43NDQtNDAuODMyIDYxLjEyLTg4LjY0IDExMi4yNTYtMTQzLjg3MkgzMjBhMzIgMzIgMCAwIDEgMC02NGgzODRhMzIgMzIgMCAxIDEgMCA2NEg1NTQuNzUyYzE0LjkxMiAzOS4xNjggNDEuMzQ0IDg2LjU5MiA3OS41NTIgMTQxLjc2IDQ3LjM2IDY4LjQ4IDg0LjggMTA2Ljc1MiAxMDYuMzA0IDExNC4zMDRhMjI0IDIyNCAwIDEgMS04NC45OTIgMTQuNzg0Yy0yMi42NTYtMjIuOTEyLTQ3LjA0LTUzLjc2LTczLjkyLTkyLjYwOC0zOC44NDgtNTYuMTI4LTY3LjAwOC0xMDUuNzkyLTg0LjM1Mi0xNDkuMzEyLTU1LjI5NiA1OC4yNC05NC41MjggMTA3LjUyLTExNy43NiAxNDcuMi0yMy4xNjggMzkuNzQ0LTQxLjA4OCA4OC43NjgtNTMuNTY4IDE0Ny4wNzJhMjI0LjA2NCAyMjQuMDY0IDAgMSAxLTY0Ljk2LTEuNnpNMjg4IDgzMmExNjAgMTYwIDAgMSAwIDAtMzIwIDE2MCAxNjAgMCAwIDAgMCAzMjBtNDQ4LTY0YTE2MCAxNjAgMCAxIDAgMC0zMjAgMTYwIDE2MCAwIDAgMCAwIDMyMFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2NoZXJyeS52dWVcbnZhciBjaGVycnlfZGVmYXVsdCA9IGNoZXJyeV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvY2hpY2tlbi52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ0NiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlNDYsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrNDYsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrNDYgfSBmcm9tIFwidnVlXCI7XG52YXIgY2hpY2tlbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ0Nih7XG4gIG5hbWU6IFwiQ2hpY2tlblwiLFxuICBfX25hbWU6IFwiY2hpY2tlblwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNDYoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazQ2KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU0NihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0zNDkuOTUyIDcxNi45OTIgNDc4LjcyIDU4OC4xNmExMDYuNjg4IDEwNi42ODggMCAwIDEtMjYuMTc2LTE5LjA3MiAxMDYuNjg4IDEwNi42ODggMCAwIDEtMTkuMDcyLTI2LjE3NkwzMDQuNzA0IDY3MS43NDRjLjc2OCAzLjA3MiAxLjQ3MiA2LjE0NCAyLjA0OCA5LjIxNmwyLjA0OCAzMS45MzYgMzEuODcyIDEuOTg0YzMuMTM2LjY0IDYuMjA4IDEuMjggOS4yOCAyLjExMnptNTcuMzQ0IDMzLjE1MmExMjggMTI4IDAgMSAxLTIxNi4zMiAxMTQuNDMybC0xLjkyLTMyLTMyLTEuOTJhMTI4IDEyOCAwIDEgMSAxMTQuNDMyLTIxNi4zMkw0MTYuNjQgNDY5LjI0OGMtMi40MzItMTAxLjQ0IDU4LjExMi0yMzkuMTA0IDE0OS4wNTYtMzMwLjA0OCAxMDcuMzI4LTEwNy4zMjggMjMxLjI5Ni04NS41MDQgMzE2LjggMCA4NS40NCA4NS40NCAxMDcuMzI4IDIwOS40MDggMCAzMTYuOC05MS4wMDggOTAuODgtMjI4LjY3MiAxNTEuNDI0LTMzMC4xMTIgMTQ5LjA1Nkw0MDcuMjk2IDc1MC4wOHptOTAuNDk2LTIyNi4zMDRjNDkuNTM2IDQ5LjUzNiAyMzMuMzQ0LTcuMDQgMzM5LjM5Mi0xMTMuMDg4IDc4LjIwOC03OC4yMDggNjMuMjMyLTE2My4wNzIgMC0yMjYuMzA0LTYzLjE2OC02My4yMzItMTQ4LjAzMi03OC4yMDgtMjI2LjI0IDBDNTA0Ljg5NiAyOTAuNDk2IDQ0OC4zMiA0NzQuMzY4IDQ5Ny43OTIgNTIzLjg0TTI0NC44NjQgNzA4LjkyOGE2NCA2NCAwIDEgMC01OS44NCA1OS44NGw1Ni4zMi0zLjUyem04LjA2NCAxMjcuNjhhNjQgNjQgMCAxIDAgNTkuODQtNTkuODRsLTU2LjMyIDMuNTItMy41MiA1Ni4zMnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jaGlja2VuLnZ1ZVxudmFyIGNoaWNrZW5fZGVmYXVsdCA9IGNoaWNrZW5fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2Nocm9tZS1maWxsZWQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50NDcgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTQ3LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazQ3LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazQ3IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGNocm9tZV9maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50NDcoe1xuICBuYW1lOiBcIkNocm9tZUZpbGxlZFwiLFxuICBfX25hbWU6IFwiY2hyb21lLWZpbGxlZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNDcoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazQ3KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICBcInhtbDpzcGFjZVwiOiBcInByZXNlcnZlXCIsXG4gICAgICBzdHlsZTogeyBcImVuYWJsZS1iYWNrZ3JvdW5kXCI6IFwibmV3IDAgMCAxMDI0IDEwMjRcIiB9LFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNDcoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNOTM4LjY3IDUxMi4wMWMwLTQ0LjU5LTYuODItODcuNi0xOS41NC0xMjhINjgyLjY3YTIxMi4zNzIgMjEyLjM3MiAwIDAgMSA0Mi42NyAxMjhjLjA2IDM4LjcxLTEwLjQ1IDc2LjctMzAuNDIgMTA5Ljg3bC0xODIuOTEgMzE2LjhjMjM1LjY1LS4wMSA0MjYuNjYtMTkxLjAyIDQyNi42Ni00MjYuNjd6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTQ3KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTU3Ni43OSA0MDEuNjNhMTI3LjkyIDEyNy45MiAwIDAgMC02My41Ni0xNy42Yy0yMi4zNi0uMjItNDQuMzkgNS40My02My44OSAxNi4zOHMtMzUuNzkgMjYuODItNDcuMjUgNDYuMDJhMTI4LjAwNSAxMjguMDA1IDAgMCAwLTIuMTYgMTI3LjQ0bDEuMjQgMi4xM2ExMjcuOTA2IDEyNy45MDYgMCAwIDAgNDYuMzYgNDYuNjEgMTI3LjkwNyAxMjcuOTA3IDAgMCAwIDYzLjM4IDE3LjQ0YzIyLjI5LjIgNDQuMjQtNS40MyA2My42OC0xNi4zM2ExMjcuOTQgMTI3Ljk0IDAgMCAwIDQ3LjE2LTQ1Ljc5di0uMDFsMS4xMS0xLjkyYTEyNy45ODQgMTI3Ljk4NCAwIDAgMCAuMjktMTI3LjQ2IDEyNy45NTcgMTI3Ljk1NyAwIDAgMC00Ni4zNi00Ni45MVwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU0NyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0zOTQuNDUgMzMzLjk2QTIxMy4zMzYgMjEzLjMzNiAwIDAgMSA1MTIgMjk4LjY3aDM2OS41OEE0MjYuNTAzIDQyNi41MDMgMCAwIDAgNTEyIDg1LjM0YTQyNS41OTggNDI1LjU5OCAwIDAgMC0xNzEuNzQgMzUuOTggNDI1LjY0NCA0MjUuNjQ0IDAgMCAwLTE0Mi42MiAxMDIuMjJsMTE4LjE0IDIwNC42M2EyMTMuMzk3IDIxMy4zOTcgMCAwIDEgNzguNjctOTQuMjFtMTE3LjU2IDYwNC43Mkg1MTJ6bS05Ny4yNS0yMzYuNzNhMjEzLjI4NCAyMTMuMjg0IDAgMCAxLTg5LjU0LTg2LjgxTDE0Mi40OCAyOTguNmMtMzYuMzUgNjIuODEtNTcuMTMgMTM1LjY4LTU3LjEzIDIxMy40MiAwIDIwMy44MSAxNDIuOTMgMzc0LjIyIDMzMy45NSA0MTYuNTVoLjA0bDExOC4xOS0yMDQuNzFhMjEzLjMxNSAyMTMuMzE1IDAgMCAxLTEyMi43Ny0yMS45MXpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jaHJvbWUtZmlsbGVkLnZ1ZVxudmFyIGNocm9tZV9maWxsZWRfZGVmYXVsdCA9IGNocm9tZV9maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2NpcmNsZS1jaGVjay1maWxsZWQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50NDggfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTQ4LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazQ4LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazQ4IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGNpcmNsZV9jaGVja19maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50NDgoe1xuICBuYW1lOiBcIkNpcmNsZUNoZWNrRmlsbGVkXCIsXG4gIF9fbmFtZTogXCJjaXJjbGUtY2hlY2stZmlsbGVkXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s0OCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrNDgoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTQ4KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiA2NGE0NDggNDQ4IDAgMSAxIDAgODk2IDQ0OCA0NDggMCAwIDEgMC04OTZtLTU1LjgwOCA1MzYuMzg0LTk5LjUyLTk5LjU4NGEzOC40IDM4LjQgMCAxIDAtNTQuMzM2IDU0LjMzNmwxMjYuNzIgMTI2LjcyYTM4LjI3MiAzOC4yNzIgMCAwIDAgNTQuMzM2IDBsMjYyLjQtMjYyLjQ2NGEzOC40IDM4LjQgMCAxIDAtNTQuMjcyLTU0LjMzNnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jaXJjbGUtY2hlY2stZmlsbGVkLnZ1ZVxudmFyIGNpcmNsZV9jaGVja19maWxsZWRfZGVmYXVsdCA9IGNpcmNsZV9jaGVja19maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2NpcmNsZS1jaGVjay52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ0OSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlNDksIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrNDksIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrNDkgfSBmcm9tIFwidnVlXCI7XG52YXIgY2lyY2xlX2NoZWNrX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDQ5KHtcbiAgbmFtZTogXCJDaXJjbGVDaGVja1wiLFxuICBfX25hbWU6IFwiY2lyY2xlLWNoZWNrXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s0OSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrNDkoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTQ5KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiA4OTZhMzg0IDM4NCAwIDEgMCAwLTc2OCAzODQgMzg0IDAgMCAwIDAgNzY4bTAgNjRhNDQ4IDQ0OCAwIDEgMSAwLTg5NiA0NDggNDQ4IDAgMCAxIDAgODk2XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTQ5KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTc0NS4zNDQgMzYxLjM0NGEzMiAzMiAwIDAgMSA0NS4zMTIgNDUuMzEybC0yODggMjg4YTMyIDMyIDAgMCAxLTQ1LjMxMiAwbC0xNjAtMTYwYTMyIDMyIDAgMSAxIDQ1LjMxMi00NS4zMTJMNDgwIDYyNi43NTJsMjY1LjM0NC0yNjUuNDA4elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2NpcmNsZS1jaGVjay52dWVcbnZhciBjaXJjbGVfY2hlY2tfZGVmYXVsdCA9IGNpcmNsZV9jaGVja192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvY2lyY2xlLWNsb3NlLWZpbGxlZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ1MCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlNTAsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrNTAsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrNTAgfSBmcm9tIFwidnVlXCI7XG52YXIgY2lyY2xlX2Nsb3NlX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ1MCh7XG4gIG5hbWU6IFwiQ2lyY2xlQ2xvc2VGaWxsZWRcIixcbiAgX19uYW1lOiBcImNpcmNsZS1jbG9zZS1maWxsZWRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazUwKCksIF9jcmVhdGVFbGVtZW50QmxvY2s1MChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNTAoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDY0YTQ0OCA0NDggMCAxIDEgMCA4OTYgNDQ4IDQ0OCAwIDAgMSAwLTg5Nm0wIDM5My42NjRMNDA3LjkzNiAzNTMuNmEzOC40IDM4LjQgMCAxIDAtNTQuMzM2IDU0LjMzNkw0NTcuNjY0IDUxMiAzNTMuNiA2MTYuMDY0YTM4LjQgMzguNCAwIDEgMCA1NC4zMzYgNTQuMzM2TDUxMiA1NjYuMzM2IDYxNi4wNjQgNjcwLjRhMzguNCAzOC40IDAgMSAwIDU0LjMzNi01NC4zMzZMNTY2LjMzNiA1MTIgNjcwLjQgNDA3LjkzNmEzOC40IDM4LjQgMCAxIDAtNTQuMzM2LTU0LjMzNnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jaXJjbGUtY2xvc2UtZmlsbGVkLnZ1ZVxudmFyIGNpcmNsZV9jbG9zZV9maWxsZWRfZGVmYXVsdCA9IGNpcmNsZV9jbG9zZV9maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2NpcmNsZS1jbG9zZS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ1MSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlNTEsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrNTEsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrNTEgfSBmcm9tIFwidnVlXCI7XG52YXIgY2lyY2xlX2Nsb3NlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDUxKHtcbiAgbmFtZTogXCJDaXJjbGVDbG9zZVwiLFxuICBfX25hbWU6IFwiY2lyY2xlLWNsb3NlXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s1MSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrNTEoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTUxKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwibTQ2Ni43NTIgNTEyLTkwLjQ5Ni05MC40OTZhMzIgMzIgMCAwIDEgNDUuMjQ4LTQ1LjI0OEw1MTIgNDY2Ljc1Mmw5MC40OTYtOTAuNDk2YTMyIDMyIDAgMSAxIDQ1LjI0OCA0NS4yNDhMNTU3LjI0OCA1MTJsOTAuNDk2IDkwLjQ5NmEzMiAzMiAwIDEgMS00NS4yNDggNDUuMjQ4TDUxMiA1NTcuMjQ4bC05MC40OTYgOTAuNDk2YTMyIDMyIDAgMCAxLTQ1LjI0OC00NS4yNDh6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTUxKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiA4OTZhMzg0IDM4NCAwIDEgMCAwLTc2OCAzODQgMzg0IDAgMCAwIDAgNzY4bTAgNjRhNDQ4IDQ0OCAwIDEgMSAwLTg5NiA0NDggNDQ4IDAgMCAxIDAgODk2XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvY2lyY2xlLWNsb3NlLnZ1ZVxudmFyIGNpcmNsZV9jbG9zZV9kZWZhdWx0ID0gY2lyY2xlX2Nsb3NlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9jaXJjbGUtcGx1cy1maWxsZWQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50NTIgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTUyLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazUyLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazUyIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGNpcmNsZV9wbHVzX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ1Mih7XG4gIG5hbWU6IFwiQ2lyY2xlUGx1c0ZpbGxlZFwiLFxuICBfX25hbWU6IFwiY2lyY2xlLXBsdXMtZmlsbGVkXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s1MigpLCBfY3JlYXRlRWxlbWVudEJsb2NrNTIoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTUyKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiA2NGE0NDggNDQ4IDAgMSAxIDAgODk2IDQ0OCA0NDggMCAwIDEgMC04OTZtLTM4LjQgNDA5LjZIMzI2LjRhMzguNCAzOC40IDAgMSAwIDAgNzYuOGgxNDcuMnYxNDcuMmEzOC40IDM4LjQgMCAwIDAgNzYuOCAwVjU1MC40aDE0Ny4yYTM4LjQgMzguNCAwIDAgMCAwLTc2LjhINTUwLjRWMzI2LjRhMzguNCAzOC40IDAgMSAwLTc2LjggMHYxNDcuMnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jaXJjbGUtcGx1cy1maWxsZWQudnVlXG52YXIgY2lyY2xlX3BsdXNfZmlsbGVkX2RlZmF1bHQgPSBjaXJjbGVfcGx1c19maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2NpcmNsZS1wbHVzLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDUzIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU1Mywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s1MywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s1MyB9IGZyb20gXCJ2dWVcIjtcbnZhciBjaXJjbGVfcGx1c192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ1Myh7XG4gIG5hbWU6IFwiQ2lyY2xlUGx1c1wiLFxuICBfX25hbWU6IFwiY2lyY2xlLXBsdXNcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazUzKCksIF9jcmVhdGVFbGVtZW50QmxvY2s1MyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNTMoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMzUyIDQ4MGgzMjBhMzIgMzIgMCAxIDEgMCA2NEgzNTJhMzIgMzIgMCAwIDEgMC02NFwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU1MyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk00ODAgNjcyVjM1MmEzMiAzMiAwIDEgMSA2NCAwdjMyMGEzMiAzMiAwIDAgMS02NCAwXCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTUzKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiA4OTZhMzg0IDM4NCAwIDEgMCAwLTc2OCAzODQgMzg0IDAgMCAwIDAgNzY4bTAgNjRhNDQ4IDQ0OCAwIDEgMSAwLTg5NiA0NDggNDQ4IDAgMCAxIDAgODk2XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvY2lyY2xlLXBsdXMudnVlXG52YXIgY2lyY2xlX3BsdXNfZGVmYXVsdCA9IGNpcmNsZV9wbHVzX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9jbG9jay52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ1NCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlNTQsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrNTQsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrNTQgfSBmcm9tIFwidnVlXCI7XG52YXIgY2xvY2tfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50NTQoe1xuICBuYW1lOiBcIkNsb2NrXCIsXG4gIF9fbmFtZTogXCJjbG9ja1wiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNTQoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazU0KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU1NChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTIgODk2YTM4NCAzODQgMCAxIDAgMC03NjggMzg0IDM4NCAwIDAgMCAwIDc2OG0wIDY0YTQ0OCA0NDggMCAxIDEgMC04OTYgNDQ4IDQ0OCAwIDAgMSAwIDg5NlwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU1NChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk00ODAgMjU2YTMyIDMyIDAgMCAxIDMyIDMydjI1NmEzMiAzMiAwIDAgMS02NCAwVjI4OGEzMiAzMiAwIDAgMSAzMi0zMlwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU1NChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk00ODAgNTEyaDI1NnEzMiAwIDMyIDMydC0zMiAzMkg0ODBxLTMyIDAtMzItMzJ0MzItMzJcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jbG9jay52dWVcbnZhciBjbG9ja19kZWZhdWx0ID0gY2xvY2tfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2Nsb3NlLWJvbGQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50NTUgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTU1LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazU1LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazU1IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGNsb3NlX2JvbGRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50NTUoe1xuICBuYW1lOiBcIkNsb3NlQm9sZFwiLFxuICBfX25hbWU6IFwiY2xvc2UtYm9sZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNTUoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazU1KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU1NShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xOTUuMiAxOTUuMmE2NCA2NCAwIDAgMSA5MC40OTYgMEw1MTIgNDIxLjUwNCA3MzguMzA0IDE5NS4yYTY0IDY0IDAgMCAxIDkwLjQ5NiA5MC40OTZMNjAyLjQ5NiA1MTIgODI4LjggNzM4LjMwNGE2NCA2NCAwIDAgMS05MC40OTYgOTAuNDk2TDUxMiA2MDIuNDk2IDI4NS42OTYgODI4LjhhNjQgNjQgMCAwIDEtOTAuNDk2LTkwLjQ5Nkw0MjEuNTA0IDUxMiAxOTUuMiAyODUuNjk2YTY0IDY0IDAgMCAxIDAtOTAuNDk2elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2Nsb3NlLWJvbGQudnVlXG52YXIgY2xvc2VfYm9sZF9kZWZhdWx0ID0gY2xvc2VfYm9sZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvY2xvc2UudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50NTYgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTU2LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazU2LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazU2IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGNsb3NlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDU2KHtcbiAgbmFtZTogXCJDbG9zZVwiLFxuICBfX25hbWU6IFwiY2xvc2VcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazU2KCksIF9jcmVhdGVFbGVtZW50QmxvY2s1NihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNTYoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNzY0LjI4OCAyMTQuNTkyIDUxMiA0NjYuODggMjU5LjcxMiAyMTQuNTkyYTMxLjkzNiAzMS45MzYgMCAwIDAtNDUuMTIgNDUuMTJMNDY2Ljc1MiA1MTIgMjE0LjUyOCA3NjQuMjI0YTMxLjkzNiAzMS45MzYgMCAxIDAgNDUuMTIgNDUuMTg0TDUxMiA1NTcuMTg0bDI1Mi4yODggMjUyLjI4OGEzMS45MzYgMzEuOTM2IDAgMCAwIDQ1LjEyLTQ1LjEyTDU1Ny4xMiA1MTIuMDY0bDI1Mi4yODgtMjUyLjM1MmEzMS45MzYgMzEuOTM2IDAgMSAwLTQ1LjEyLTQ1LjE4NHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jbG9zZS52dWVcbnZhciBjbG9zZV9kZWZhdWx0ID0gY2xvc2VfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2Nsb3VkeS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ1NyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlNTcsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrNTcsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrNTcgfSBmcm9tIFwidnVlXCI7XG52YXIgY2xvdWR5X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDU3KHtcbiAgbmFtZTogXCJDbG91ZHlcIixcbiAgX19uYW1lOiBcImNsb3VkeVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNTcoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazU3KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU1NyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01OTguNCA4MzEuODcySDMyOC4xOTJhMjU2IDI1NiAwIDAgMS0zNC40OTYtNTEwLjUyOEEzNTIgMzUyIDAgMSAxIDU5OC40IDgzMS44NzJtLTI3MS4zNi02NGgyNzIuMjU2YTI4OCAyODggMCAxIDAtMjQ4LjUxMi00MTcuNjY0TDMzNS4wNCAzODEuNDRsLTM0LjgxNiAzLjU4NGExOTIgMTkyIDAgMCAwIDI2Ljg4IDM4Mi44NDh6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvY2xvdWR5LnZ1ZVxudmFyIGNsb3VkeV9kZWZhdWx0ID0gY2xvdWR5X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9jb2ZmZWUtY3VwLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDU4IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU1OCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s1OCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s1OCB9IGZyb20gXCJ2dWVcIjtcbnZhciBjb2ZmZWVfY3VwX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDU4KHtcbiAgbmFtZTogXCJDb2ZmZWVDdXBcIixcbiAgX19uYW1lOiBcImNvZmZlZS1jdXBcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazU4KCksIF9jcmVhdGVFbGVtZW50QmxvY2s1OChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNTgoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNzY4IDE5MmExOTIgMTkyIDAgMSAxLTggMzgzLjgwOEEyNTYuMTI4IDI1Ni4xMjggMCAwIDEgNTEyIDc2OEgzMjBBMjU2IDI1NiAwIDAgMSA2NCA1MTJWMTYwYTMyIDMyIDAgMCAxIDMyLTMyaDY0MGEzMiAzMiAwIDAgMSAzMiAzMnptMCA2NHYyNTZhMTI4IDEyOCAwIDEgMCAwLTI1Nk05NiA4MzJoNjQwYTMyIDMyIDAgMSAxIDAgNjRIOTZhMzIgMzIgMCAxIDEgMC02NG0zMi02NDB2MzIwYTE5MiAxOTIgMCAwIDAgMTkyIDE5MmgxOTJhMTkyIDE5MiAwIDAgMCAxOTItMTkyVjE5MnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jb2ZmZWUtY3VwLnZ1ZVxudmFyIGNvZmZlZV9jdXBfZGVmYXVsdCA9IGNvZmZlZV9jdXBfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2NvZmZlZS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ1OSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlNTksIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrNTksIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrNTkgfSBmcm9tIFwidnVlXCI7XG52YXIgY29mZmVlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDU5KHtcbiAgbmFtZTogXCJDb2ZmZWVcIixcbiAgX19uYW1lOiBcImNvZmZlZVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNTkoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazU5KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU1OShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk04MjIuNTkyIDE5MmgxNC4yNzJhMzIgMzIgMCAwIDEgMzEuNjE2IDI2Ljc1MmwyMS4zMTIgMTI4QTMyIDMyIDAgMCAxIDg1OC4yNCAzODRoLTQ5LjM0NGwtMzkuMDQgNTQ2LjMwNEEzMiAzMiAwIDAgMSA3MzcuOTIgOTYwSDI4NS44MjRhMzIgMzIgMCAwIDEtMzItMjkuNjk2TDIxNC45MTIgMzg0SDE2NS43NmEzMiAzMiAwIDAgMS0zMS41NTItMzcuMjQ4bDIxLjMxMi0xMjhBMzIgMzIgMCAwIDEgMTg3LjEzNiAxOTJoMTQuMDE2bC02LjcyLTkzLjY5NkEzMiAzMiAwIDAgMSAyMjYuMzY4IDY0aDU3MS4wMDhhMzIgMzIgMCAwIDEgMzEuOTM2IDM0LjMwNHptLTY0LjEyOCAwIDQuNTQ0LTY0SDI2MC43MzZsNC41NDQgNjRoNDkzLjE4NG0tNTQ4LjE2IDEyOEg4MjAuNDhsLTEwLjY4OC02NEgyMTQuMjA4bC0xMC42ODggNjRoNi43ODRtNjguNzM2IDY0IDM2LjU0NCA1MTJINzA4LjE2bDM2LjU0NC01MTJ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvY29mZmVlLnZ1ZVxudmFyIGNvZmZlZV9kZWZhdWx0ID0gY29mZmVlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9jb2luLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDYwIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU2MCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s2MCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s2MCB9IGZyb20gXCJ2dWVcIjtcbnZhciBjb2luX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDYwKHtcbiAgbmFtZTogXCJDb2luXCIsXG4gIF9fbmFtZTogXCJjb2luXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s2MCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrNjAoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTYwKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwibTE2MS45MiA1ODAuNzM2IDI5Ljg4OCA1OC44OEMxNzEuMzI4IDY1OS43NzYgMTYwIDY4MS43MjggMTYwIDcwNGMwIDgyLjMwNCAxNTUuMzI4IDE2MCAzNTIgMTYwczM1Mi03Ny42OTYgMzUyLTE2MGMwLTIyLjI3Mi0xMS4zOTItNDQuMTYtMzEuODA4LTY0LjMybDMwLjQ2NC01OC40MzJDOTAzLjkzNiA2MTUuODA4IDkyOCA2NTcuNjY0IDkyOCA3MDRjMCAxMjkuNzI4LTE4OC41NDQgMjI0LTQxNiAyMjRTOTYgODMzLjcyOCA5NiA3MDRjMC00Ni41OTIgMjQuMzItODguNTc2IDY1LjkyLTEyMy4yNjR6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTYwKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwibTE2MS45MiAzODguNzM2IDI5Ljg4OCA1OC44OEMxNzEuMzI4IDQ2Ny44NCAxNjAgNDg5Ljc5MiAxNjAgNTEyYzAgODIuMzA0IDE1NS4zMjggMTYwIDM1MiAxNjBzMzUyLTc3LjY5NiAzNTItMTYwYzAtMjIuMjcyLTExLjM5Mi00NC4xNi0zMS44MDgtNjQuMzJsMzAuNDY0LTU4LjQzMkM5MDMuOTM2IDQyMy44MDggOTI4IDQ2NS42NjQgOTI4IDUxMmMwIDEyOS43MjgtMTg4LjU0NCAyMjQtNDE2IDIyNFM5NiA2NDEuNzI4IDk2IDUxMmMwLTQ2LjU5MiAyNC4zMi04OC41NzYgNjUuOTItMTIzLjI2NHpcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNjAoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDU0NGMtMjI3LjQ1NiAwLTQxNi05NC4yNzItNDE2LTIyNFMyODQuNTQ0IDk2IDUxMiA5NnM0MTYgOTQuMjcyIDQxNiAyMjQtMTg4LjU0NCAyMjQtNDE2IDIyNG0wLTY0YzE5Ni42NzIgMCAzNTItNzcuNjk2IDM1Mi0xNjBTNzA4LjY3MiAxNjAgNTEyIDE2MHMtMzUyIDc3LjY5Ni0zNTIgMTYwIDE1NS4zMjggMTYwIDM1MiAxNjBcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jb2luLnZ1ZVxudmFyIGNvaW5fZGVmYXVsdCA9IGNvaW5fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2NvbGQtZHJpbmsudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50NjEgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTYxLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazYxLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazYxIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGNvbGRfZHJpbmtfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50NjEoe1xuICBuYW1lOiBcIkNvbGREcmlua1wiLFxuICBfX25hbWU6IFwiY29sZC1kcmlua1wiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNjEoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazYxKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU2MShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk03NjggNjRhMTkyIDE5MiAwIDEgMS02OS45NTIgMzcwLjg4TDQ4MCA3MjUuMzc2Vjg5Nmg5NmEzMiAzMiAwIDEgMSAwIDY0SDMyMGEzMiAzMiAwIDEgMSAwLTY0aDk2VjcyNS4zNzZMNzYuOCAyNzMuNTM2YTY0IDY0IDAgMCAxLTEyLjgtMzguNHYtMTAuNjg4YTMyIDMyIDAgMCAxIDMyLTMyaDcxLjgwOGwtNjUuNTM2LTgzLjg0YTMyIDMyIDAgMCAxIDUwLjQzMi0zOS40MjRsOTYuMjU2IDEyMy4yNjRoMzM3LjcyOEExOTIuMDY0IDE5Mi4wNjQgMCAwIDEgNzY4IDY0TTY1Ni44OTYgMTkyLjQ0OEg4MDBhMzIgMzIgMCAwIDEgMzIgMzJ2MTAuNjI0YTY0IDY0IDAgMCAxLTEyLjggMzguNGwtODAuNDQ4IDEwNy4yYTEyOCAxMjggMCAxIDAtODEuOTItMTg4LjE2di0uMDY0em0tMzU3Ljg4OCA2NCAxMjkuNDcyIDE2NS43NmEzMiAzMiAwIDAgMS01MC40MzIgMzkuMzZsLTE2MC4yNTYtMjA1LjEySDE0NGwzMDQgNDA0LjkyOCAzMDQtNDA0LjkyOHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jb2xkLWRyaW5rLnZ1ZVxudmFyIGNvbGRfZHJpbmtfZGVmYXVsdCA9IGNvbGRfZHJpbmtfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2NvbGxlY3Rpb24tdGFnLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDYyIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU2Miwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s2MiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s2MiB9IGZyb20gXCJ2dWVcIjtcbnZhciBjb2xsZWN0aW9uX3RhZ192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ2Mih7XG4gIG5hbWU6IFwiQ29sbGVjdGlvblRhZ1wiLFxuICBfX25hbWU6IFwiY29sbGVjdGlvbi10YWdcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazYyKCksIF9jcmVhdGVFbGVtZW50QmxvY2s2MihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNjIoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMjU2IDEyOHY2OTguODhsMTk2LjAzMi0xNTYuODY0YTk2IDk2IDAgMCAxIDExOS45MzYgMEw3NjggODI2LjgxNlYxMjh6bS0zMi02NGg1NzZhMzIgMzIgMCAwIDEgMzIgMzJ2Nzk3LjQ0YTMyIDMyIDAgMCAxLTUxLjk2OCAyNC45Nkw1MzEuOTY4IDcyMGEzMiAzMiAwIDAgMC0zOS45MzYgMEwyNDMuOTY4IDkxOC40QTMyIDMyIDAgMCAxIDE5MiA4OTMuNDRWOTZhMzIgMzIgMCAwIDEgMzItMzJcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jb2xsZWN0aW9uLXRhZy52dWVcbnZhciBjb2xsZWN0aW9uX3RhZ19kZWZhdWx0ID0gY29sbGVjdGlvbl90YWdfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2NvbGxlY3Rpb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50NjMgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTYzLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazYzLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazYzIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGNvbGxlY3Rpb25fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50NjMoe1xuICBuYW1lOiBcIkNvbGxlY3Rpb25cIixcbiAgX19uYW1lOiBcImNvbGxlY3Rpb25cIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazYzKCksIF9jcmVhdGVFbGVtZW50QmxvY2s2MyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNjMoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMTkyIDczNmg2NDBWMTI4SDI1NmE2NCA2NCAwIDAgMC02NCA2NHptNjQtNjcyaDYwOGEzMiAzMiAwIDAgMSAzMiAzMnY2NzJhMzIgMzIgMCAwIDEtMzIgMzJIMTYwbC0zMiA1Ny41MzZWMTkyQTEyOCAxMjggMCAwIDEgMjU2IDY0XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTYzKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTI0MCA4MDBhNDggNDggMCAxIDAgMCA5Nmg1OTJ2LTk2em0wLTY0aDY1NnYxNjBhNjQgNjQgMCAwIDEtNjQgNjRIMjQwYTExMiAxMTIgMCAwIDEgMC0yMjRtMTQ0LTYwOHYyNTAuODhsOTYtNzYuOCA5NiA3Ni44VjEyOHptLTY0LTY0aDMyMHYzODEuNDRhMzIgMzIgMCAwIDEtNTEuOTY4IDI0Ljk2TDQ4MCAzODRsLTEwOC4wMzIgODYuNEEzMiAzMiAwIDAgMSAzMjAgNDQ1LjQ0elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2NvbGxlY3Rpb24udnVlXG52YXIgY29sbGVjdGlvbl9kZWZhdWx0ID0gY29sbGVjdGlvbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvY29tbWVudC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ2NCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlNjQsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrNjQsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrNjQgfSBmcm9tIFwidnVlXCI7XG52YXIgY29tbWVudF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ2NCh7XG4gIG5hbWU6IFwiQ29tbWVudFwiLFxuICBfX25hbWU6IFwiY29tbWVudFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNjQoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazY0KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU2NChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk03MzYgNTA0YTU2IDU2IDAgMSAxIDAtMTEyIDU2IDU2IDAgMCAxIDAgMTEybS0yMjQgMGE1NiA1NiAwIDEgMSAwLTExMiA1NiA1NiAwIDAgMSAwIDExMm0tMjI0IDBhNTYgNTYgMCAxIDEgMC0xMTIgNTYgNTYgMCAwIDEgMCAxMTJNMTI4IDEyOHY2NDBoMTkydjE2MGwyMjQtMTYwaDM1MlYxMjh6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvY29tbWVudC52dWVcbnZhciBjb21tZW50X2RlZmF1bHQgPSBjb21tZW50X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9jb21wYXNzLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDY1IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU2NSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s2NSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s2NSB9IGZyb20gXCJ2dWVcIjtcbnZhciBjb21wYXNzX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDY1KHtcbiAgbmFtZTogXCJDb21wYXNzXCIsXG4gIF9fbmFtZTogXCJjb21wYXNzXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s2NSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrNjUoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTY1KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiA4OTZhMzg0IDM4NCAwIDEgMCAwLTc2OCAzODQgMzg0IDAgMCAwIDAgNzY4bTAgNjRhNDQ4IDQ0OCAwIDEgMSAwLTg5NiA0NDggNDQ4IDAgMCAxIDAgODk2XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTY1KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTcyNS44ODggMzE1LjAwOEM2NzYuNDggNDI4LjY3MiA2MjQgNTEzLjI4IDU2OC41NzYgNTY4LjY0Yy01NS40MjQgNTUuNDI0LTEzOS45NjggMTA3LjkwNC0yNTMuNTY4IDE1Ny4zMTJhMTIuOCAxMi44IDAgMCAxLTE2Ljg5Ni0xNi44MzJjNDkuNTM2LTExMy43MjggMTAyLjAxNi0xOTguMjcyIDE1Ny4zMTItMjUzLjYzMiA1NS4zNi01NS4yOTYgMTM5LjkwNC0xMDcuNzc2IDI1My42MzItMTU3LjMxMmExMi44IDEyLjggMCAwIDEgMTYuODMyIDE2LjgzMlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2NvbXBhc3MudnVlXG52YXIgY29tcGFzc19kZWZhdWx0ID0gY29tcGFzc192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvY29ubmVjdGlvbi52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ2NiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlNjYsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrNjYsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrNjYgfSBmcm9tIFwidnVlXCI7XG52YXIgY29ubmVjdGlvbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ2Nih7XG4gIG5hbWU6IFwiQ29ubmVjdGlvblwiLFxuICBfX25hbWU6IFwiY29ubmVjdGlvblwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNjYoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazY2KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU2NihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk02NDAgMzg0djY0SDQ0OGExMjggMTI4IDAgMCAwLTEyOCAxMjh2MTI4YTEyOCAxMjggMCAwIDAgMTI4IDEyOGgzMjBhMTI4IDEyOCAwIDAgMCAxMjgtMTI4VjU3NmExMjggMTI4IDAgMCAwLTY0LTExMC44NDhWMzk0Ljg4Yzc0LjU2IDI2LjM2OCAxMjggOTcuNDcyIDEyOCAxODEuMDU2djEyOGExOTIgMTkyIDAgMCAxLTE5MiAxOTJINDQ4YTE5MiAxOTIgMCAwIDEtMTkyLTE5MlY1NzZhMTkyIDE5MiAwIDAgMSAxOTItMTkyelwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU2NihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0zODQgNjQwdi02NGgxOTJhMTI4IDEyOCAwIDAgMCAxMjgtMTI4VjMyMGExMjggMTI4IDAgMCAwLTEyOC0xMjhIMjU2YTEyOCAxMjggMCAwIDAtMTI4IDEyOHYxMjhhMTI4IDEyOCAwIDAgMCA2NCAxMTAuODQ4djcwLjI3MkExOTIuMDY0IDE5Mi4wNjQgMCAwIDEgNjQgNDQ4VjMyMGExOTIgMTkyIDAgMCAxIDE5Mi0xOTJoMzIwYTE5MiAxOTIgMCAwIDEgMTkyIDE5MnYxMjhhMTkyIDE5MiAwIDAgMS0xOTIgMTkyelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2Nvbm5lY3Rpb24udnVlXG52YXIgY29ubmVjdGlvbl9kZWZhdWx0ID0gY29ubmVjdGlvbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvY29vcmRpbmF0ZS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ2NyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlNjcsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrNjcsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrNjcgfSBmcm9tIFwidnVlXCI7XG52YXIgY29vcmRpbmF0ZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ2Nyh7XG4gIG5hbWU6IFwiQ29vcmRpbmF0ZVwiLFxuICBfX25hbWU6IFwiY29vcmRpbmF0ZVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNjcoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazY3KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU2NyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk00ODAgNTEyaDY0djMyMGgtNjR6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTY3KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTE5MiA4OTZoNjQwYTY0IDY0IDAgMCAwLTY0LTY0SDI1NmE2NCA2NCAwIDAgMC02NCA2NG02NC0xMjhoNTEyYTEyOCAxMjggMCAwIDEgMTI4IDEyOHY2NEgxMjh2LTY0YTEyOCAxMjggMCAwIDEgMTI4LTEyOG0yNTYtMjU2YTE5MiAxOTIgMCAxIDAgMC0zODQgMTkyIDE5MiAwIDAgMCAwIDM4NG0wIDY0YTI1NiAyNTYgMCAxIDEgMC01MTIgMjU2IDI1NiAwIDAgMSAwIDUxMlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2Nvb3JkaW5hdGUudnVlXG52YXIgY29vcmRpbmF0ZV9kZWZhdWx0ID0gY29vcmRpbmF0ZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvY29weS1kb2N1bWVudC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ2OCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlNjgsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrNjgsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrNjggfSBmcm9tIFwidnVlXCI7XG52YXIgY29weV9kb2N1bWVudF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ2OCh7XG4gIG5hbWU6IFwiQ29weURvY3VtZW50XCIsXG4gIF9fbmFtZTogXCJjb3B5LWRvY3VtZW50XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s2OCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrNjgoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTY4KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTc2OCA4MzJhMTI4IDEyOCAwIDAgMS0xMjggMTI4SDE5MkExMjggMTI4IDAgMCAxIDY0IDgzMlYzODRhMTI4IDEyOCAwIDAgMSAxMjgtMTI4djY0YTY0IDY0IDAgMCAwLTY0IDY0djQ0OGE2NCA2NCAwIDAgMCA2NCA2NGg0NDhhNjQgNjQgMCAwIDAgNjQtNjR6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTY4KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTM4NCAxMjhhNjQgNjQgMCAwIDAtNjQgNjR2NDQ4YTY0IDY0IDAgMCAwIDY0IDY0aDQ0OGE2NCA2NCAwIDAgMCA2NC02NFYxOTJhNjQgNjQgMCAwIDAtNjQtNjR6bTAtNjRoNDQ4YTEyOCAxMjggMCAwIDEgMTI4IDEyOHY0NDhhMTI4IDEyOCAwIDAgMS0xMjggMTI4SDM4NGExMjggMTI4IDAgMCAxLTEyOC0xMjhWMTkyQTEyOCAxMjggMCAwIDEgMzg0IDY0XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvY29weS1kb2N1bWVudC52dWVcbnZhciBjb3B5X2RvY3VtZW50X2RlZmF1bHQgPSBjb3B5X2RvY3VtZW50X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9jcHUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50NjkgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTY5LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazY5LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazY5IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGNwdV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ2OSh7XG4gIG5hbWU6IFwiQ3B1XCIsXG4gIF9fbmFtZTogXCJjcHVcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazY5KCksIF9jcmVhdGVFbGVtZW50QmxvY2s2OShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNjkoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMzIwIDI1NmE2NCA2NCAwIDAgMC02NCA2NHYzODRhNjQgNjQgMCAwIDAgNjQgNjRoMzg0YTY0IDY0IDAgMCAwIDY0LTY0VjMyMGE2NCA2NCAwIDAgMC02NC02NHptMC02NGgzODRhMTI4IDEyOCAwIDAgMSAxMjggMTI4djM4NGExMjggMTI4IDAgMCAxLTEyOCAxMjhIMzIwYTEyOCAxMjggMCAwIDEtMTI4LTEyOFYzMjBhMTI4IDEyOCAwIDAgMSAxMjgtMTI4XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTY5KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiA2NGEzMiAzMiAwIDAgMSAzMiAzMnYxMjhoLTY0Vjk2YTMyIDMyIDAgMCAxIDMyLTMybTE2MCAwYTMyIDMyIDAgMCAxIDMyIDMydjEyOGgtNjRWOTZhMzIgMzIgMCAwIDEgMzItMzJtLTMyMCAwYTMyIDMyIDAgMCAxIDMyIDMydjEyOGgtNjRWOTZhMzIgMzIgMCAwIDEgMzItMzJtMTYwIDg5NmEzMiAzMiAwIDAgMS0zMi0zMlY4MDBoNjR2MTI4YTMyIDMyIDAgMCAxLTMyIDMybTE2MCAwYTMyIDMyIDAgMCAxLTMyLTMyVjgwMGg2NHYxMjhhMzIgMzIgMCAwIDEtMzIgMzJtLTMyMCAwYTMyIDMyIDAgMCAxLTMyLTMyVjgwMGg2NHYxMjhhMzIgMzIgMCAwIDEtMzIgMzJNNjQgNTEyYTMyIDMyIDAgMCAxIDMyLTMyaDEyOHY2NEg5NmEzMiAzMiAwIDAgMS0zMi0zMm0wLTE2MGEzMiAzMiAwIDAgMSAzMi0zMmgxMjh2NjRIOTZhMzIgMzIgMCAwIDEtMzItMzJtMCAzMjBhMzIgMzIgMCAwIDEgMzItMzJoMTI4djY0SDk2YTMyIDMyIDAgMCAxLTMyLTMybTg5Ni0xNjBhMzIgMzIgMCAwIDEtMzIgMzJIODAwdi02NGgxMjhhMzIgMzIgMCAwIDEgMzIgMzJtMC0xNjBhMzIgMzIgMCAwIDEtMzIgMzJIODAwdi02NGgxMjhhMzIgMzIgMCAwIDEgMzIgMzJtMCAzMjBhMzIgMzIgMCAwIDEtMzIgMzJIODAwdi02NGgxMjhhMzIgMzIgMCAwIDEgMzIgMzJcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jcHUudnVlXG52YXIgY3B1X2RlZmF1bHQgPSBjcHVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2NyZWRpdC1jYXJkLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDcwIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU3MCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s3MCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s3MCB9IGZyb20gXCJ2dWVcIjtcbnZhciBjcmVkaXRfY2FyZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ3MCh7XG4gIG5hbWU6IFwiQ3JlZGl0Q2FyZFwiLFxuICBfX25hbWU6IFwiY3JlZGl0LWNhcmRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazcwKCksIF9jcmVhdGVFbGVtZW50QmxvY2s3MChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNzAoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNODk2IDMyNC4wOTZjMC00Mi4zNjgtMi40OTYtNTUuMjk2LTkuNTM2LTY4LjQ4YTUyLjM1MiA1Mi4zNTIgMCAwIDAtMjIuMTQ0LTIyLjA4Yy0xMy4xMi03LjA0LTI2LjA0OC05LjUzNi02OC40MTYtOS41MzZIMjI4LjA5NmMtNDIuMzY4IDAtNTUuMjk2IDIuNDk2LTY4LjQ4IDkuNTM2YTUyLjM1MiA1Mi4zNTIgMCAwIDAtMjIuMDggMjIuMTQ0Yy03LjA0IDEzLjEyLTkuNTM2IDI2LjA0OC05LjUzNiA2OC40MTZ2Mzc1LjgwOGMwIDQyLjM2OCAyLjQ5NiA1NS4yOTYgOS41MzYgNjguNDhhNTIuMzUyIDUyLjM1MiAwIDAgMCAyMi4xNDQgMjIuMDhjMTMuMTIgNy4wNCAyNi4wNDggOS41MzYgNjguNDE2IDkuNTM2aDU2Ny44MDhjNDIuMzY4IDAgNTUuMjk2LTIuNDk2IDY4LjQ4LTkuNTM2YTUyLjM1MiA1Mi4zNTIgMCAwIDAgMjIuMDgtMjIuMTQ0YzcuMDQtMTMuMTIgOS41MzYtMjYuMDQ4IDkuNTM2LTY4LjQxNnptNjQgMHYzNzUuODA4YzAgNTcuMDg4LTUuOTUyIDc3Ljc2LTE3LjA4OCA5OC41Ni0xMS4xMzYgMjAuOTI4LTI3LjUyIDM3LjMxMi00OC4zODQgNDguNDQ4LTIwLjg2NCAxMS4xMzYtNDEuNiAxNy4wODgtOTguNTYgMTcuMDg4SDIyOC4wMzJjLTU3LjA4OCAwLTc3Ljc2LTUuOTUyLTk4LjU2LTE3LjA4OGExMTYuMjg4IDExNi4yODggMCAwIDEtNDguNDQ4LTQ4LjM4NGMtMTEuMTM2LTIwLjg2NC0xNy4wODgtNDEuNi0xNy4wODgtOTguNTZWMzI0LjAzMmMwLTU3LjA4OCA1Ljk1Mi03Ny43NiAxNy4wODgtOTguNTYgMTEuMTM2LTIwLjkyOCAyNy41Mi0zNy4zMTIgNDguMzg0LTQ4LjQ0OCAyMC44NjQtMTEuMTM2IDQxLjYtMTcuMDg4IDk4LjU2LTE3LjA4OEg3OTUuODRjNTcuMDg4IDAgNzcuNzYgNS45NTIgOTguNTYgMTcuMDg4IDIwLjkyOCAxMS4xMzYgMzcuMzEyIDI3LjUyIDQ4LjQ0OCA0OC4zODQgMTEuMTM2IDIwLjg2NCAxNy4wODggNDEuNiAxNy4wODggOTguNTZ6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTcwKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTY0IDMyMGg4OTZ2NjRINjR6bTAgMTI4aDg5NnY2NEg2NHptMTI4IDE5MmgyNTZ2NjRIMTkyelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2NyZWRpdC1jYXJkLnZ1ZVxudmFyIGNyZWRpdF9jYXJkX2RlZmF1bHQgPSBjcmVkaXRfY2FyZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvY3JvcC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ3MSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlNzEsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrNzEsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrNzEgfSBmcm9tIFwidnVlXCI7XG52YXIgY3JvcF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ3MSh7XG4gIG5hbWU6IFwiQ3JvcFwiLFxuICBfX25hbWU6IFwiY3JvcFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNzEoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazcxKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU3MShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0yNTYgNzY4aDY3MmEzMiAzMiAwIDEgMSAwIDY0SDIyNGEzMiAzMiAwIDAgMS0zMi0zMlY5NmEzMiAzMiAwIDAgMSA2NCAwelwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU3MShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk04MzIgMjI0djcwNGEzMiAzMiAwIDEgMS02NCAwVjI1Nkg5NmEzMiAzMiAwIDAgMSAwLTY0aDcwNGEzMiAzMiAwIDAgMSAzMiAzMlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2Nyb3AudnVlXG52YXIgY3JvcF9kZWZhdWx0ID0gY3JvcF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZC1hcnJvdy1sZWZ0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDcyIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU3Miwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s3MiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s3MiB9IGZyb20gXCJ2dWVcIjtcbnZhciBkX2Fycm93X2xlZnRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50NzIoe1xuICBuYW1lOiBcIkRBcnJvd0xlZnRcIixcbiAgX19uYW1lOiBcImQtYXJyb3ctbGVmdFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNzIoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazcyKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU3MihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MjkuNDA4IDE0OS4zNzZhMjkuMTIgMjkuMTIgMCAwIDEgNDEuNzI4IDAgMzAuNTkyIDMwLjU5MiAwIDAgMSAwIDQyLjY4OEwyNTkuMjY0IDUxMS45MzZsMzExLjg3MiAzMTkuOTM2YTMwLjU5MiAzMC41OTIgMCAwIDEtLjUxMiA0My4yNjQgMjkuMTIgMjkuMTIgMCAwIDEtNDEuMjE2LS41MTJMMTk3Ljc2IDUzNC4yNzJhMzIgMzIgMCAwIDEgMC00NC42NzJsMzMxLjY0OC0zNDAuMjI0em0yNTYgMGEyOS4xMiAyOS4xMiAwIDAgMSA0MS43MjggMCAzMC41OTIgMzAuNTkyIDAgMCAxIDAgNDIuNjg4TDUxNS4yNjQgNTExLjkzNmwzMTEuODcyIDMxOS45MzZhMzAuNTkyIDMwLjU5MiAwIDAgMS0uNTEyIDQzLjI2NCAyOS4xMiAyOS4xMiAwIDAgMS00MS4yMTYtLjUxMkw0NTMuNzYgNTM0LjI3MmEzMiAzMiAwIDAgMSAwLTQ0LjY3MmwzMzEuNjQ4LTM0MC4yMjR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZC1hcnJvdy1sZWZ0LnZ1ZVxudmFyIGRfYXJyb3dfbGVmdF9kZWZhdWx0ID0gZF9hcnJvd19sZWZ0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9kLWFycm93LXJpZ2h0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDczIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU3Mywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s3MywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s3MyB9IGZyb20gXCJ2dWVcIjtcbnZhciBkX2Fycm93X3JpZ2h0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDczKHtcbiAgbmFtZTogXCJEQXJyb3dSaWdodFwiLFxuICBfX25hbWU6IFwiZC1hcnJvdy1yaWdodFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNzMoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazczKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU3MyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk00NTIuODY0IDE0OS4zMTJhMjkuMTIgMjkuMTIgMCAwIDEgNDEuNzI4LjA2NEw4MjYuMjQgNDg5LjY2NGEzMiAzMiAwIDAgMSAwIDQ0LjY3Mkw0OTQuNTkyIDg3NC42MjRhMjkuMTIgMjkuMTIgMCAwIDEtNDEuNzI4IDAgMzAuNTkyIDMwLjU5MiAwIDAgMSAwLTQyLjc1Mkw3NjQuNzM2IDUxMiA0NTIuODY0IDE5MmEzMC41OTIgMzAuNTkyIDAgMCAxIDAtNDIuNjg4bS0yNTYgMGEyOS4xMiAyOS4xMiAwIDAgMSA0MS43MjguMDY0TDU3MC4yNCA0ODkuNjY0YTMyIDMyIDAgMCAxIDAgNDQuNjcyTDIzOC41OTIgODc0LjYyNGEyOS4xMiAyOS4xMiAwIDAgMS00MS43MjggMCAzMC41OTIgMzAuNTkyIDAgMCAxIDAtNDIuNzUyTDUwOC43MzYgNTEyIDE5Ni44NjQgMTkyYTMwLjU5MiAzMC41OTIgMCAwIDEgMC00Mi42ODh6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZC1hcnJvdy1yaWdodC52dWVcbnZhciBkX2Fycm93X3JpZ2h0X2RlZmF1bHQgPSBkX2Fycm93X3JpZ2h0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9kLWNhcmV0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDc0IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU3NCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s3NCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s3NCB9IGZyb20gXCJ2dWVcIjtcbnZhciBkX2NhcmV0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDc0KHtcbiAgbmFtZTogXCJEQ2FyZXRcIixcbiAgX19uYW1lOiBcImQtY2FyZXRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazc0KCksIF9jcmVhdGVFbGVtZW50QmxvY2s3NChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNzQoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJtNTEyIDEyOCAyODggMzIwSDIyNHpNMjI0IDU3Nmg1NzZMNTEyIDg5NnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9kLWNhcmV0LnZ1ZVxudmFyIGRfY2FyZXRfZGVmYXVsdCA9IGRfY2FyZXRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2RhdGEtYW5hbHlzaXMudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50NzUgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTc1LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazc1LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazc1IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGRhdGFfYW5hbHlzaXNfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50NzUoe1xuICBuYW1lOiBcIkRhdGFBbmFseXNpc1wiLFxuICBfX25hbWU6IFwiZGF0YS1hbmFseXNpc1wiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNzUoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazc1KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU3NShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIm02NjUuMjE2IDc2OCAxMTAuODQ4IDE5MmgtNzMuODU2TDU5MS4zNiA3NjhINDMzLjAyNEwzMjIuMTc2IDk2MEgyNDguMzJsMTEwLjg0OC0xOTJIMTYwYTMyIDMyIDAgMCAxLTMyLTMyVjE5Mkg2NGEzMiAzMiAwIDAgMSAwLTY0aDg5NmEzMiAzMiAwIDEgMSAwIDY0aC02NHY1NDRhMzIgMzIgMCAwIDEtMzIgMzJ6TTgzMiAxOTJIMTkydjUxMmg2NDB6TTM1MiA0NDhhMzIgMzIgMCAwIDEgMzIgMzJ2NjRhMzIgMzIgMCAwIDEtNjQgMHYtNjRhMzIgMzIgMCAwIDEgMzItMzJtMTYwLTY0YTMyIDMyIDAgMCAxIDMyIDMydjEyOGEzMiAzMiAwIDAgMS02NCAwVjQxNmEzMiAzMiAwIDAgMSAzMi0zMm0xNjAtNjRhMzIgMzIgMCAwIDEgMzIgMzJ2MTkyYTMyIDMyIDAgMSAxLTY0IDBWMzUyYTMyIDMyIDAgMCAxIDMyLTMyXCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZGF0YS1hbmFseXNpcy52dWVcbnZhciBkYXRhX2FuYWx5c2lzX2RlZmF1bHQgPSBkYXRhX2FuYWx5c2lzX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9kYXRhLWJvYXJkLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDc2IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU3Niwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s3NiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s3NiB9IGZyb20gXCJ2dWVcIjtcbnZhciBkYXRhX2JvYXJkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDc2KHtcbiAgbmFtZTogXCJEYXRhQm9hcmRcIixcbiAgX19uYW1lOiBcImRhdGEtYm9hcmRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazc2KCksIF9jcmVhdGVFbGVtZW50QmxvY2s3NihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNzYoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMzIgMTI4aDk2MHY2NEgzMnpcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNzYoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMTkyIDE5MnY1MTJoNjQwVjE5MnptLTY0LTY0aDc2OHY2MDhhMzIgMzIgMCAwIDEtMzIgMzJIMTYwYTMyIDMyIDAgMCAxLTMyLTMyelwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU3NihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0zMjIuMTc2IDk2MEgyNDguMzJsMTQ0LjY0LTI1MC41NiA1NS40MjQgMzJ6bTQ1My44ODggMGgtNzMuODU2TDU3NiA3NDEuNDRsNTUuNDI0LTMyelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2RhdGEtYm9hcmQudnVlXG52YXIgZGF0YV9ib2FyZF9kZWZhdWx0ID0gZGF0YV9ib2FyZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZGF0YS1saW5lLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDc3IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU3Nywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s3NywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s3NyB9IGZyb20gXCJ2dWVcIjtcbnZhciBkYXRhX2xpbmVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50Nzcoe1xuICBuYW1lOiBcIkRhdGFMaW5lXCIsXG4gIF9fbmFtZTogXCJkYXRhLWxpbmVcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazc3KCksIF9jcmVhdGVFbGVtZW50QmxvY2s3NyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNzcoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMzU5LjE2OCA3NjhIMTYwYTMyIDMyIDAgMCAxLTMyLTMyVjE5Mkg2NGEzMiAzMiAwIDAgMSAwLTY0aDg5NmEzMiAzMiAwIDEgMSAwIDY0aC02NHY1NDRhMzIgMzIgMCAwIDEtMzIgMzJINjY1LjIxNmwxMTAuODQ4IDE5MmgtNzMuODU2TDU5MS4zNiA3NjhINDMzLjAyNEwzMjIuMTc2IDk2MEgyNDguMzJ6TTgzMiAxOTJIMTkydjUxMmg2NDB6TTM0Mi42NTYgNTM0LjY1NmEzMiAzMiAwIDEgMS00NS4zMTItNDUuMzEyTDQ0NC45OTIgMzQxLjc2bDEyNS40NCA5NC4wOEw2NzkuMDQgMzAwLjAzMmEzMiAzMiAwIDEgMSA0OS45MiAzOS45MzZMNTgxLjYzMiA1MjQuMjI0IDQ1MS4wMDggNDI2LjI0IDM0Mi42NTYgNTM0LjU5MnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9kYXRhLWxpbmUudnVlXG52YXIgZGF0YV9saW5lX2RlZmF1bHQgPSBkYXRhX2xpbmVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2RlbGV0ZS1maWxsZWQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50NzggfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTc4LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazc4LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazc4IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGRlbGV0ZV9maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50Nzgoe1xuICBuYW1lOiBcIkRlbGV0ZUZpbGxlZFwiLFxuICBfX25hbWU6IFwiZGVsZXRlLWZpbGxlZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrNzgoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazc4KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU3OChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0zNTIgMTkyVjk1LjkzNmEzMiAzMiAwIDAgMSAzMi0zMmgyNTZhMzIgMzIgMCAwIDEgMzIgMzJWMTkyaDI1NmEzMiAzMiAwIDEgMSAwIDY0SDk2YTMyIDMyIDAgMCAxIDAtNjR6bTY0IDBoMTkydi02NEg0MTZ6TTE5MiA5NjBhMzIgMzIgMCAwIDEtMzItMzJWMjU2aDcwNHY2NzJhMzIgMzIgMCAwIDEtMzIgMzJ6bTIyNC0xOTJhMzIgMzIgMCAwIDAgMzItMzJWNDE2YTMyIDMyIDAgMCAwLTY0IDB2MzIwYTMyIDMyIDAgMCAwIDMyIDMybTE5MiAwYTMyIDMyIDAgMCAwIDMyLTMyVjQxNmEzMiAzMiAwIDAgMC02NCAwdjMyMGEzMiAzMiAwIDAgMCAzMiAzMlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2RlbGV0ZS1maWxsZWQudnVlXG52YXIgZGVsZXRlX2ZpbGxlZF9kZWZhdWx0ID0gZGVsZXRlX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZGVsZXRlLWxvY2F0aW9uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDc5IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU3OSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s3OSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s3OSB9IGZyb20gXCJ2dWVcIjtcbnZhciBkZWxldGVfbG9jYXRpb25fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50Nzkoe1xuICBuYW1lOiBcIkRlbGV0ZUxvY2F0aW9uXCIsXG4gIF9fbmFtZTogXCJkZWxldGUtbG9jYXRpb25cIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazc5KCksIF9jcmVhdGVFbGVtZW50QmxvY2s3OShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlNzkoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMjg4IDg5Nmg0NDhxMzIgMCAzMiAzMnQtMzIgMzJIMjg4cS0zMiAwLTMyLTMydDMyLTMyXCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTc5KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTgwMCA0MTZhMjg4IDI4OCAwIDEgMC01NzYgMGMwIDExOC4xNDQgOTQuNTI4IDI3Mi4xMjggMjg4IDQ1Ni41NzZDNzA1LjQ3MiA2ODguMTI4IDgwMCA1MzQuMTQ0IDgwMCA0MTZNNTEyIDk2MEMyNzcuMzEyIDc0Ni42ODggMTYwIDU2NS4zMTIgMTYwIDQxNmEzNTIgMzUyIDAgMCAxIDcwNCAwYzAgMTQ5LjMxMi0xMTcuMzEyIDMzMC42ODgtMzUyIDU0NFwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU3OShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0zODQgMzg0aDI1NnEzMiAwIDMyIDMydC0zMiAzMkgzODRxLTMyIDAtMzItMzJ0MzItMzJcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9kZWxldGUtbG9jYXRpb24udnVlXG52YXIgZGVsZXRlX2xvY2F0aW9uX2RlZmF1bHQgPSBkZWxldGVfbG9jYXRpb25fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2RlbGV0ZS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ4MCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlODAsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrODAsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrODAgfSBmcm9tIFwidnVlXCI7XG52YXIgZGVsZXRlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDgwKHtcbiAgbmFtZTogXCJEZWxldGVcIixcbiAgX19uYW1lOiBcImRlbGV0ZVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrODAoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazgwKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU4MChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xNjAgMjU2SDk2YTMyIDMyIDAgMCAxIDAtNjRoMjU2Vjk1LjkzNmEzMiAzMiAwIDAgMSAzMi0zMmgyNTZhMzIgMzIgMCAwIDEgMzIgMzJWMTkyaDI1NmEzMiAzMiAwIDEgMSAwIDY0aC02NHY2NzJhMzIgMzIgMCAwIDEtMzIgMzJIMTkyYTMyIDMyIDAgMCAxLTMyLTMyem00NDgtNjR2LTY0SDQxNnY2NHpNMjI0IDg5Nmg1NzZWMjU2SDIyNHptMTkyLTEyOGEzMiAzMiAwIDAgMS0zMi0zMlY0MTZhMzIgMzIgMCAwIDEgNjQgMHYzMjBhMzIgMzIgMCAwIDEtMzIgMzJtMTkyIDBhMzIgMzIgMCAwIDEtMzItMzJWNDE2YTMyIDMyIDAgMCAxIDY0IDB2MzIwYTMyIDMyIDAgMCAxLTMyIDMyXCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZGVsZXRlLnZ1ZVxudmFyIGRlbGV0ZV9kZWZhdWx0ID0gZGVsZXRlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9kZXNzZXJ0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDgxIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU4MSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s4MSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s4MSB9IGZyb20gXCJ2dWVcIjtcbnZhciBkZXNzZXJ0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDgxKHtcbiAgbmFtZTogXCJEZXNzZXJ0XCIsXG4gIF9fbmFtZTogXCJkZXNzZXJ0XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s4MSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrODEoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTgxKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTEyOCA0MTZ2LTQ4YTE0NCAxNDQgMCAwIDEgMTY4LjY0LTE0MS44ODggMjI0LjEyOCAyMjQuMTI4IDAgMCAxIDQzMC43MiAwQTE0NCAxNDQgMCAwIDEgODk2IDM2OHY0OGEzODQgMzg0IDAgMCAxLTM1MiAzODIuNzJWODk2aC02NHYtOTcuMjhBMzg0IDM4NCAwIDAgMSAxMjggNDE2bTI4Ny4xMDQtMzIuMDY0aDE5My43OTJhMTQzLjgwOCAxNDMuODA4IDAgMCAxIDU4Ljg4LTEzMi43MzYgMTYwLjA2NCAxNjAuMDY0IDAgMCAwLTMxMS41NTIgMCAxNDMuODA4IDE0My44MDggMCAwIDEgNTguODggMTMyLjh6bS03Mi44OTYgMGE3MiA3MiAwIDEgMC0xNDAuNDggMGgxNDAuNDhtMzM5LjU4NCAwaDE0MC40MTZhNzIgNzIgMCAxIDAtMTQwLjQ4IDB6TTUxMiA3MzZhMzIwIDMyMCAwIDAgMCAzMTguNC0yODguMDY0SDE5My42QTMyMCAzMjAgMCAwIDAgNTEyIDczNk0zODQgODk2LjA2NGgyNTZhMzIgMzIgMCAxIDEgMCA2NEgzODRhMzIgMzIgMCAxIDEgMC02NFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2Rlc3NlcnQudnVlXG52YXIgZGVzc2VydF9kZWZhdWx0ID0gZGVzc2VydF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZGlzY291bnQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50ODIgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTgyLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazgyLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazgyIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGRpc2NvdW50X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDgyKHtcbiAgbmFtZTogXCJEaXNjb3VudFwiLFxuICBfX25hbWU6IFwiZGlzY291bnRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazgyKCksIF9jcmVhdGVFbGVtZW50QmxvY2s4MihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlODIoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMjI0IDcwNGg1NzZWMzE4LjMzNkw1NTIuNTEyIDExNS44NGE2NCA2NCAwIDAgMC04MS4wMjQgMEwyMjQgMzE4LjMzNnptMCA2NHYxMjhoNTc2Vjc2OHpNNTkzLjAyNCA2Ni4zMDRsMjU5LjIgMjEyLjA5NkEzMiAzMiAwIDAgMSA4NjQgMzAzLjE2OFY5MjhhMzIgMzIgMCAwIDEtMzIgMzJIMTkyYTMyIDMyIDAgMCAxLTMyLTMyVjMwMy4xNjhhMzIgMzIgMCAwIDEgMTEuNzEyLTI0Ljc2OGwyNTkuMi0yMTIuMDk2YTEyOCAxMjggMCAwIDEgMTYyLjExMiAwXCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTgyKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiA0NDhhNjQgNjQgMCAxIDAgMC0xMjggNjQgNjQgMCAwIDAgMCAxMjhtMCA2NGExMjggMTI4IDAgMSAxIDAtMjU2IDEyOCAxMjggMCAwIDEgMCAyNTZcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9kaXNjb3VudC52dWVcbnZhciBkaXNjb3VudF9kZWZhdWx0ID0gZGlzY291bnRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2Rpc2gtZG90LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDgzIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU4Mywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s4MywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s4MyB9IGZyb20gXCJ2dWVcIjtcbnZhciBkaXNoX2RvdF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ4Myh7XG4gIG5hbWU6IFwiRGlzaERvdFwiLFxuICBfX25hbWU6IFwiZGlzaC1kb3RcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazgzKCksIF9jcmVhdGVFbGVtZW50QmxvY2s4MyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlODMoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJtMzg0LjA2NCAyNzQuNTYuMDY0LTUwLjY4OEExMjggMTI4IDAgMCAxIDUxMi4xMjggOTZjNzAuNTI4IDAgMTI3LjY4IDU3LjE1MiAxMjcuNjggMTI3LjY4djUwLjc1MkE0NDguMTkyIDQ0OC4xOTIgMCAwIDEgOTU1LjM5MiA3NjhINjguNTQ0QTQ0OC4xOTIgNDQ4LjE5MiAwIDAgMSAzODQgMjc0LjU2ek05NiA4MzJoODMyYTMyIDMyIDAgMSAxIDAgNjRIOTZhMzIgMzIgMCAxIDEgMC02NG0zMi0xMjhoNzY4YTM4NCAzODQgMCAxIDAtNzY4IDBtNDQ3LjgwOC00NDh2LTMyLjMyYTYzLjY4IDYzLjY4IDAgMCAwLTYzLjY4LTYzLjY4IDY0IDY0IDAgMCAwLTY0IDYzLjkzNlYyNTZ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZGlzaC1kb3QudnVlXG52YXIgZGlzaF9kb3RfZGVmYXVsdCA9IGRpc2hfZG90X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9kaXNoLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDg0IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU4NCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s4NCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s4NCB9IGZyb20gXCJ2dWVcIjtcbnZhciBkaXNoX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDg0KHtcbiAgbmFtZTogXCJEaXNoXCIsXG4gIF9fbmFtZTogXCJkaXNoXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s4NCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrODQoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTg0KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTQ4MCAyNTcuMTUyVjE5MmgtOTZhMzIgMzIgMCAwIDEgMC02NGgyNTZhMzIgMzIgMCAxIDEgMCA2NGgtOTZ2NjUuMTUyQTQ0OCA0NDggMCAwIDEgOTU1LjUyIDc2OEg2OC40OEE0NDggNDQ4IDAgMCAxIDQ4MCAyNTcuMTUyTTEyOCA3MDRoNzY4YTM4NCAzODQgMCAxIDAtNzY4IDBNOTYgODMyaDgzMmEzMiAzMiAwIDEgMSAwIDY0SDk2YTMyIDMyIDAgMSAxIDAtNjRcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9kaXNoLnZ1ZVxudmFyIGRpc2hfZGVmYXVsdCA9IGRpc2hfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2RvY3VtZW50LWFkZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ4NSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlODUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrODUsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrODUgfSBmcm9tIFwidnVlXCI7XG52YXIgZG9jdW1lbnRfYWRkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDg1KHtcbiAgbmFtZTogXCJEb2N1bWVudEFkZFwiLFxuICBfX25hbWU6IFwiZG9jdW1lbnQtYWRkXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s4NSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrODUoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTg1KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTgzMiAzODRINTc2VjEyOEgxOTJ2NzY4aDY0MHptLTI2LjQ5Ni02NEw2NDAgMTU0LjQ5NlYzMjB6TTE2MCA2NGg0ODBsMjU2IDI1NnY2MDhhMzIgMzIgMCAwIDEtMzIgMzJIMTYwYTMyIDMyIDAgMCAxLTMyLTMyVjk2YTMyIDMyIDAgMCAxIDMyLTMybTMyMCA1MTJWNDQ4aDY0djEyOGgxMjh2NjRINTQ0djEyOGgtNjRWNjQwSDM1MnYtNjR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZG9jdW1lbnQtYWRkLnZ1ZVxudmFyIGRvY3VtZW50X2FkZF9kZWZhdWx0ID0gZG9jdW1lbnRfYWRkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9kb2N1bWVudC1jaGVja2VkLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDg2IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU4Niwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s4NiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s4NiB9IGZyb20gXCJ2dWVcIjtcbnZhciBkb2N1bWVudF9jaGVja2VkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDg2KHtcbiAgbmFtZTogXCJEb2N1bWVudENoZWNrZWRcIixcbiAgX19uYW1lOiBcImRvY3VtZW50LWNoZWNrZWRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazg2KCksIF9jcmVhdGVFbGVtZW50QmxvY2s4NihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlODYoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNODA1LjUwNCAzMjAgNjQwIDE1NC40OTZWMzIwek04MzIgMzg0SDU3NlYxMjhIMTkydjc2OGg2NDB6TTE2MCA2NGg0ODBsMjU2IDI1NnY2MDhhMzIgMzIgMCAwIDEtMzIgMzJIMTYwYTMyIDMyIDAgMCAxLTMyLTMyVjk2YTMyIDMyIDAgMCAxIDMyLTMybTMxOC40IDU4Mi4xNDQgMTgwLjk5Mi0xODAuOTkyTDcwNC42NCA1MTAuNCA0NzguNCA3MzYuNjQgMzIwIDU3OC4zMDRsNDUuMjQ4LTQ1LjMxMnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9kb2N1bWVudC1jaGVja2VkLnZ1ZVxudmFyIGRvY3VtZW50X2NoZWNrZWRfZGVmYXVsdCA9IGRvY3VtZW50X2NoZWNrZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2RvY3VtZW50LWNvcHkudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50ODcgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTg3LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazg3LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazg3IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGRvY3VtZW50X2NvcHlfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50ODcoe1xuICBuYW1lOiBcIkRvY3VtZW50Q29weVwiLFxuICBfX25hbWU6IFwiZG9jdW1lbnQtY29weVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrODcoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazg3KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU4NyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xMjggMzIwdjU3Nmg1NzZWMzIwem0tMzItNjRoNjQwYTMyIDMyIDAgMCAxIDMyIDMydjY0MGEzMiAzMiAwIDAgMS0zMiAzMkg5NmEzMiAzMiAwIDAgMS0zMi0zMlYyODhhMzIgMzIgMCAwIDEgMzItMzJNOTYwIDk2djcwNGEzMiAzMiAwIDAgMS0zMiAzMmgtOTZ2LTY0aDY0VjEyOEgzODR2NjRoLTY0Vjk2YTMyIDMyIDAgMCAxIDMyLTMyaDU3NmEzMiAzMiAwIDAgMSAzMiAzMk0yNTYgNjcyaDMyMHY2NEgyNTZ6bTAtMTkyaDMyMHY2NEgyNTZ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZG9jdW1lbnQtY29weS52dWVcbnZhciBkb2N1bWVudF9jb3B5X2RlZmF1bHQgPSBkb2N1bWVudF9jb3B5X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9kb2N1bWVudC1kZWxldGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50ODggfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTg4LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazg4LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazg4IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGRvY3VtZW50X2RlbGV0ZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ4OCh7XG4gIG5hbWU6IFwiRG9jdW1lbnREZWxldGVcIixcbiAgX19uYW1lOiBcImRvY3VtZW50LWRlbGV0ZVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrODgoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazg4KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU4OChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk04MDUuNTA0IDMyMCA2NDAgMTU0LjQ5NlYzMjB6TTgzMiAzODRINTc2VjEyOEgxOTJ2NzY4aDY0MHpNMTYwIDY0aDQ4MGwyNTYgMjU2djYwOGEzMiAzMiAwIDAgMS0zMiAzMkgxNjBhMzIgMzIgMCAwIDEtMzItMzJWOTZhMzIgMzIgMCAwIDEgMzItMzJtMzA4Ljk5MiA1NDYuMzA0LTkwLjQ5Ni05MC42MjQgNDUuMjQ4LTQ1LjI0OCA5MC41NiA5MC40OTYgOTAuNDk2LTkwLjQzMiA0NS4yNDggNDUuMjQ4LTkwLjQ5NiA5MC41NiA5MC40OTYgOTAuNDk2LTQ1LjI0OCA0NS4yNDgtOTAuNDk2LTkwLjQ5Ni05MC41NiA5MC40OTYtNDUuMjQ4LTQ1LjI0OCA5MC40OTYtOTAuNDk2elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2RvY3VtZW50LWRlbGV0ZS52dWVcbnZhciBkb2N1bWVudF9kZWxldGVfZGVmYXVsdCA9IGRvY3VtZW50X2RlbGV0ZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZG9jdW1lbnQtcmVtb3ZlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDg5IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU4OSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s4OSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s4OSB9IGZyb20gXCJ2dWVcIjtcbnZhciBkb2N1bWVudF9yZW1vdmVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50ODkoe1xuICBuYW1lOiBcIkRvY3VtZW50UmVtb3ZlXCIsXG4gIF9fbmFtZTogXCJkb2N1bWVudC1yZW1vdmVcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazg5KCksIF9jcmVhdGVFbGVtZW50QmxvY2s4OShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlODkoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNODA1LjUwNCAzMjAgNjQwIDE1NC40OTZWMzIwek04MzIgMzg0SDU3NlYxMjhIMTkydjc2OGg2NDB6TTE2MCA2NGg0ODBsMjU2IDI1NnY2MDhhMzIgMzIgMCAwIDEtMzIgMzJIMTYwYTMyIDMyIDAgMCAxLTMyLTMyVjk2YTMyIDMyIDAgMCAxIDMyLTMybTE5MiA1MTJoMzIwdjY0SDM1MnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9kb2N1bWVudC1yZW1vdmUudnVlXG52YXIgZG9jdW1lbnRfcmVtb3ZlX2RlZmF1bHQgPSBkb2N1bWVudF9yZW1vdmVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2RvY3VtZW50LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDkwIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU5MCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s5MCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s5MCB9IGZyb20gXCJ2dWVcIjtcbnZhciBkb2N1bWVudF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ5MCh7XG4gIG5hbWU6IFwiRG9jdW1lbnRcIixcbiAgX19uYW1lOiBcImRvY3VtZW50XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s5MCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrOTAoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTkwKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTgzMiAzODRINTc2VjEyOEgxOTJ2NzY4aDY0MHptLTI2LjQ5Ni02NEw2NDAgMTU0LjQ5NlYzMjB6TTE2MCA2NGg0ODBsMjU2IDI1NnY2MDhhMzIgMzIgMCAwIDEtMzIgMzJIMTYwYTMyIDMyIDAgMCAxLTMyLTMyVjk2YTMyIDMyIDAgMCAxIDMyLTMybTE2MCA0NDhoMzg0djY0SDMyMHptMC0xOTJoMTYwdjY0SDMyMHptMCAzODRoMzg0djY0SDMyMHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9kb2N1bWVudC52dWVcbnZhciBkb2N1bWVudF9kZWZhdWx0ID0gZG9jdW1lbnRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2Rvd25sb2FkLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDkxIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU5MSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s5MSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s5MSB9IGZyb20gXCJ2dWVcIjtcbnZhciBkb3dubG9hZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ5MSh7XG4gIG5hbWU6IFwiRG93bmxvYWRcIixcbiAgX19uYW1lOiBcImRvd25sb2FkXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s5MSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrOTEoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTkxKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTE2MCA4MzJoNzA0YTMyIDMyIDAgMSAxIDAgNjRIMTYwYTMyIDMyIDAgMSAxIDAtNjRtMzg0LTI1My42OTYgMjM2LjI4OC0yMzYuMzUyIDQ1LjI0OCA0NS4yNDhMNTA4LjggNzA0IDE5MiAzODcuMmw0NS4yNDgtNDUuMjQ4TDQ4MCA1ODQuNzA0VjEyOGg2NHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9kb3dubG9hZC52dWVcbnZhciBkb3dubG9hZF9kZWZhdWx0ID0gZG93bmxvYWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2RyaXp6bGluZy52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ5MiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlOTIsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrOTIsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrOTIgfSBmcm9tIFwidnVlXCI7XG52YXIgZHJpenpsaW5nX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDkyKHtcbiAgbmFtZTogXCJEcml6emxpbmdcIixcbiAgX19uYW1lOiBcImRyaXp6bGluZ1wiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrOTIoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazkyKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU5MihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIm03MzkuMzI4IDI5MS4zMjgtMzUuMi02LjU5Mi0xMi44LTMzLjQwOGExOTIuMDY0IDE5Mi4wNjQgMCAwIDAtMzY1Ljk1MiAyMy4yMzJsLTkuOTIgNDAuODk2LTQxLjQ3MiA3LjA0YTE3Ni4zMiAxNzYuMzIgMCAwIDAtMTQ2LjI0IDE3My41NjhjMCA5Ny4yOCA3OC43MiAxNzUuOTM2IDE3NS44MDggMTc1LjkzNmg0MDBhMTkyIDE5MiAwIDAgMCAzNS43NzYtMzgwLjY3MnpNOTU5LjU1MiA0ODBhMjU2IDI1NiAwIDAgMS0yNTYgMjU2aC00MDBBMjM5LjgwOCAyMzkuODA4IDAgMCAxIDYzLjc0NCA0OTYuMTkyYTI0MC4zMiAyNDAuMzIgMCAwIDEgMTk5LjQ4OC0yMzYuOCAyNTYuMTI4IDI1Ni4xMjggMCAwIDEgNDg3Ljg3Mi0zMC45NzZBMjU2LjA2NCAyNTYuMDY0IDAgMCAxIDk1OS41NTIgNDgwTTI4OCA4MDBoNjR2NjRoLTY0em0xOTIgMGg2NHY2NGgtNjR6bS05NiA5Nmg2NHY2NGgtNjR6bTE5MiAwaDY0djY0aC02NHptOTYtOTZoNjR2NjRoLTY0elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2RyaXp6bGluZy52dWVcbnZhciBkcml6emxpbmdfZGVmYXVsdCA9IGRyaXp6bGluZ192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZWRpdC1wZW4udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50OTMgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTkzLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazkzLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazkzIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGVkaXRfcGVuX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDkzKHtcbiAgbmFtZTogXCJFZGl0UGVuXCIsXG4gIF9fbmFtZTogXCJlZGl0LXBlblwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrOTMoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazkzKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU5MyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIm0xOTkuMDQgNjcyLjY0IDE5My45ODQgMTEyIDIyNC0zODcuOTY4LTE5My45Mi0xMTItMjI0IDM4OC4wMzJ6bS0yMy44NzIgNjAuMTYgMzIuODk2IDE0OC4yODggMTQ0Ljg5Ni00NS42OTZ6TTQ1NS4wNCAyMjkuMjQ4bDE5My45MiAxMTIgNTYuNzA0LTk4LjExMi0xOTMuOTg0LTExMi01Ni42NCA5OC4xMTJ6TTEwNC4zMiA3MDguOGwzODQtNjY1LjAyNCAzMDQuNzY4IDE3NS45MzZMNDA5LjE1MiA4ODQuOGguMDY0bC0yNDguNDQ4IDc4LjMzNnptMzg0IDI1NC4yNzJ2LTY0aDQ0OHY2NGgtNDQ4elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2VkaXQtcGVuLnZ1ZVxudmFyIGVkaXRfcGVuX2RlZmF1bHQgPSBlZGl0X3Blbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZWRpdC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ5NCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlOTQsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrOTQsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrOTQgfSBmcm9tIFwidnVlXCI7XG52YXIgZWRpdF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ5NCh7XG4gIG5hbWU6IFwiRWRpdFwiLFxuICBfX25hbWU6IFwiZWRpdFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrOTQoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazk0KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU5NChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk04MzIgNTEyYTMyIDMyIDAgMSAxIDY0IDB2MzUyYTMyIDMyIDAgMCAxLTMyIDMySDE2MGEzMiAzMiAwIDAgMS0zMi0zMlYxNjBhMzIgMzIgMCAwIDEgMzItMzJoMzUyYTMyIDMyIDAgMCAxIDAgNjRIMTkydjY0MGg2NDB6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTk0KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwibTQ2OS45NTIgNTU0LjI0IDUyLjgtNy41NTJMODQ3LjEwNCAyMjIuNGEzMiAzMiAwIDEgMC00NS4yNDgtNDUuMjQ4TDQ3Ny40NCA1MDEuNDRsLTcuNTUyIDUyLjh6bTQyMi40LTQyMi40YTk2IDk2IDAgMCAxIDAgMTM1LjgwOGwtMzMxLjg0IDMzMS44NGEzMiAzMiAwIDAgMS0xOC4xMTIgOS4wODhMNDM2LjggNjIzLjY4YTMyIDMyIDAgMCAxLTM2LjIyNC0zNi4yMjRsMTUuMTA0LTEwNS42YTMyIDMyIDAgMCAxIDkuMDI0LTE4LjExMmwzMzEuOTA0LTMzMS44NGE5NiA5NiAwIDAgMSAxMzUuNzQ0IDB6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZWRpdC52dWVcbnZhciBlZGl0X2RlZmF1bHQgPSBlZGl0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9lbGVtZS1maWxsZWQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50OTUgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTk1LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazk1LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazk1IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGVsZW1lX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQ5NSh7XG4gIG5hbWU6IFwiRWxlbWVGaWxsZWRcIixcbiAgX19uYW1lOiBcImVsZW1lLWZpbGxlZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrOTUoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazk1KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU5NShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xNzYgNjRoNjcyYzYxLjgyNCAwIDExMiA1MC4xNzYgMTEyIDExMnY2NzJhMTEyIDExMiAwIDAgMS0xMTIgMTEySDE3NkExMTIgMTEyIDAgMCAxIDY0IDg0OFYxNzZjMC02MS44MjQgNTAuMTc2LTExMiAxMTItMTEybTE1MC41MjggMTczLjU2OGMtMTUyLjg5NiA5OS45NjgtMTk2LjU0NCAzMDQuMDY0LTk3LjQwOCA0NTYuOTZhMzMwLjY4OCAzMzAuNjg4IDAgMCAwIDQ1Ni45NiA5Ni42NGM5LjIxNi01Ljg4OCAxNy42LTExLjc3NiAyNS4xNTItMTguNTZhMTguMjQgMTguMjQgMCAwIDAgNC4yMjQtMjQuMzJMNzAwLjM1MiA3MjQuOGE0Ny41NTIgNDcuNTUyIDAgMCAwLTY1LjUzNi0xNC4yNzJBMjM0LjU2IDIzNC41NiAwIDAgMSAzMTAuNTkyIDY0MS42QzI0MCA1MzMuMjQ4IDI3MS4xMDQgMzg3Ljk2OCAzNzkuNDU2IDMxNi40OGEyMzQuMzA0IDIzNC4zMDQgMCAwIDEgMjc2LjM1MiAxNS4xNjhjMS42NjQuODMyIDIuNTYgMi41NiAzLjM5MiA0LjIyNCA1Ljg4OCA4LjM4NCAzLjMyOCAxOS4zMjgtNS4xMiAyNS4yMTZMNDU2LjgzMiA0ODkuNmE0Ny41NTIgNDcuNTUyIDAgMCAwLTE0LjMzNiA2NS40NzJsMTYgMjQuMzg0YzUuODg4IDguMzg0IDE2Ljc2OCAxMC44OCAyNS4yMTYgNS4wNTZsMzA4LjIyNC0xOTkuOTM2YTE5LjU4NCAxOS41ODQgMCAwIDAgNi43Mi0yMy40ODh2LS44OTZjLTQuOTkyLTkuMjE2LTEwLjA0OC0xNy42LTE1LjEwNC0yNi44OC05OS45NjgtMTUxLjE2OC0zMDQuMDY0LTE5NC44OC00NTYuOTYtOTUuNzQ0ek03ODYuODggNTA0LjcwNGwtNjIuMjA4IDQwLjMyYy04LjMyIDUuODg4LTEwLjg4IDE2Ljc2OC00Ljk5MiAyNS4yMTZMNzYwIDYzMi4zMmM1Ljg4OCA4LjQ0OCAxNi43NjggMTEuMDA4IDI1LjE1MiA1LjEybDMxLjEwNC0yMC4xNmE1NS4zNiA1NS4zNiAwIDAgMCAxNi03Ni40OGwtMjAuMjI0LTMxLjA0YTE5LjUyIDE5LjUyIDAgMCAwLTI1LjE1Mi01LjEyelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2VsZW1lLWZpbGxlZC52dWVcbnZhciBlbGVtZV9maWxsZWRfZGVmYXVsdCA9IGVsZW1lX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZWxlbWUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50OTYgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTk2LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazk2LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazk2IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGVsZW1lX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDk2KHtcbiAgbmFtZTogXCJFbGVtZVwiLFxuICBfX25hbWU6IFwiZWxlbWVcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazk2KCksIF9jcmVhdGVFbGVtZW50QmxvY2s5NihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlOTYoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMzAwLjAzMiAxODguOGMxNzQuNzItMTEzLjI4IDQwOC02My4zNiA1MjIuMjQgMTA5LjQ0IDUuNzYgMTAuNTYgMTEuNTIgMjAuMTYgMTcuMjggMzAuNzJ2Ljk2YTIyLjQgMjIuNCAwIDAgMS03LjY4IDI2Ljg4bC0zNTIuMzIgMjI4LjQ4Yy05LjYgNi43Mi0yMi4wOCAzLjg0LTI4LjgtNS43NmwtMTguMjQtMjcuODRhNTQuMzM2IDU0LjMzNiAwIDAgMSAxNi4zMi03NC44OGwyMjUuNi0xNDYuODhjOS42LTYuNzIgMTIuNDgtMTkuMiA1Ljc2LTI4LjgtLjk2LTEuOTItMS45Mi0zLjg0LTMuODQtNC44YTI2Ny44NCAyNjcuODQgMCAwIDAtMzE1Ljg0LTE3LjI4Yy0xMjMuODQgODEuNi0xNTkuMzYgMjQ3LjY4LTc4LjcyIDM3MS41MmEyNjguMDk2IDI2OC4wOTYgMCAwIDAgMzcwLjU2IDc4LjcyIDU0LjMzNiA1NC4zMzYgMCAwIDEgNzQuODggMTYuMzJsMTcuMjggMjYuODhjNS43NiA5LjYgMy44NCAyMS4xMi00LjggMjcuODQtOC42NCA3LjY4LTE4LjI0IDE0LjQtMjguOCAyMS4xMmEzNzcuOTIgMzc3LjkyIDAgMCAxLTUyMi4yNC0xMTAuNGMtMTEzLjI4LTE3NC43Mi02My4zNi00MDggMTExLjM2LTUyMi4yNHptNTI2LjA4IDMwNS4yOGEyMi4zMzYgMjIuMzM2IDAgMCAxIDI4LjggNS43NmwyMy4wNCAzNS41MmE2My4yMzIgNjMuMjMyIDAgMCAxLTE4LjI0IDg3LjM2bC0zNS41MiAyMy4wNGMtOS42IDYuNzItMjIuMDggMy44NC0yOC44LTUuNzZsLTQ2LjA4LTcxLjA0Yy02LjcyLTkuNi0zLjg0LTIyLjA4IDUuNzYtMjguOGw3MS4wNC00Ni4wOHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9lbGVtZS52dWVcbnZhciBlbGVtZV9kZWZhdWx0ID0gZWxlbWVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2VsZW1lbnQtcGx1cy52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ5NyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlOTcsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrOTcsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrOTcgfSBmcm9tIFwidnVlXCI7XG52YXIgZWxlbWVudF9wbHVzX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDk3KHtcbiAgbmFtZTogXCJFbGVtZW50UGx1c1wiLFxuICBfX25hbWU6IFwiZWxlbWVudC1wbHVzXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s5NygpLCBfY3JlYXRlRWxlbWVudEJsb2NrOTcoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTk3KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTgzOS43IDczNC43YzAgMzMuMy0xNy45IDQxLTE3LjkgNDFTNTE5LjcgOTQ5LjggNDk5LjIgOTYwYy0xMC4yIDUuMS0yMC41IDUuMS0zMC43IDAgMCAwLTMxNC45LTE4NC4zLTMyNS4xLTE5Mi01LjEtNS4xLTEwLjItMTIuOC0xMi44LTIwLjVWMzY4LjZjMC0xNy45IDIwLjUtMjguMiAyMC41LTI4LjJMNDY2IDE1OC42YzEyLjgtNS4xIDI1LjYtNS4xIDM4LjQgMCAwIDAgMjc5IDE2MS4zIDMwOS44IDE3OS4yIDE3LjkgNy43IDI4LjIgMjUuNiAyNS42IDQ2LjEtLjEtNS0uMSAzMTcuNS0uMSAzNTAuOE03MTQuMiAzNzEuMmMtNjQtMzUuOC0yMTcuNi0xMjUuNC0yMTcuNi0xMjUuNC03LjctNS4xLTIwLjUtNS4xLTMwLjcgMEwyMTcuNiAzODkuMXMtMTcuOSAxMC4yLTE3LjkgMjN2Mjk3YzAgNS4xIDUuMSAxMi44IDcuNyAxNy45IDcuNyA1LjEgMjU2IDE0OC41IDI1NiAxNDguNSA3LjcgNS4xIDE3LjkgNS4xIDI1LjYgMCAxNS40LTcuNyAyNTAuOS0xNDUuOSAyNTAuOS0xNDUuOXMxMi44LTUuMSAxMi44LTMwLjd2LTc0LjJsLTI3Ni41IDE2OXYtNjRjMC0xNy45IDcuNy0zMC43IDIwLjUtNDYuMUw3NDUgNTM1YzUuMS03LjcgMTAuMi0yMC41IDEwLjItMzAuN3YtNjYuNmwtMjc5IDE2OXYtNjkuMWMwLTE1LjQgNS4xLTMwLjcgMTcuOS0zOC40bDIyMC4xLTEyOHpNOTE5IDEzNS43YzAtNS4xLTUuMS03LjctNy43LTcuN2gtNTguOVY2Ni42YzAtNS4xLTUuMS01LjEtMTAuMi01LjFsLTMwLjcgNS4xYy01LjEgMC01LjEgMi42LTUuMSA1LjFWMTI4aC01Ni4zYy01LjEgMC01LjEgNS4xLTcuNyA1LjF2MzguNGg2OS4xdjY0YzAgNS4xIDUuMSA1LjEgMTAuMiA1LjFsMzAuNy01LjFjNS4xIDAgNS4xLTIuNiA1LjEtNS4xdi01Ni4zaDY0bC0yLjUtMzguNHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9lbGVtZW50LXBsdXMudnVlXG52YXIgZWxlbWVudF9wbHVzX2RlZmF1bHQgPSBlbGVtZW50X3BsdXNfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2V4cGFuZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQ5OCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlOTgsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrOTgsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrOTggfSBmcm9tIFwidnVlXCI7XG52YXIgZXhwYW5kX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDk4KHtcbiAgbmFtZTogXCJFeHBhbmRcIixcbiAgX19uYW1lOiBcImV4cGFuZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrOTgoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazk4KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGU5OChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xMjggMTkyaDc2OHYxMjhIMTI4em0wIDI1Nmg1MTJ2MTI4SDEyOHptMCAyNTZoNzY4djEyOEgxMjh6bTU3Ni0zNTIgMTkyIDE2MC0xOTIgMTI4elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2V4cGFuZC52dWVcbnZhciBleHBhbmRfZGVmYXVsdCA9IGV4cGFuZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZmFpbGVkLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDk5IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGU5OSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2s5OSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2s5OSB9IGZyb20gXCJ2dWVcIjtcbnZhciBmYWlsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50OTkoe1xuICBuYW1lOiBcIkZhaWxlZFwiLFxuICBfX25hbWU6IFwiZmFpbGVkXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2s5OSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrOTkoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTk5KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwibTU1Ny4yNDggNjA4IDEzNS43NDQtMTM1Ljc0NC00NS4yNDgtNDUuMjQ4LTEzNS42OCAxMzUuNzQ0LTEzNS44MDgtMTM1LjY4LTQ1LjI0OCA0NS4xODRMNDY2Ljc1MiA2MDhsLTEzNS42OCAxMzUuNjggNDUuMTg0IDQ1LjMxMkw1MTIgNjUzLjI0OGwxMzUuNzQ0IDEzNS43NDQgNDUuMjQ4LTQ1LjI0OEw1NTcuMzEyIDYwOHpNNzA0IDE5MmgxNjB2NzM2SDE2MFYxOTJoMTYwdjY0aDM4NHptLTMyMCAwVjk2aDI1NnY5NnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9mYWlsZWQudnVlXG52YXIgZmFpbGVkX2RlZmF1bHQgPSBmYWlsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2ZlbWFsZS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxMDAgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTEwMCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxMDAsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTAwIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGZlbWFsZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxMDAoe1xuICBuYW1lOiBcIkZlbWFsZVwiLFxuICBfX25hbWU6IFwiZmVtYWxlXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxMDAoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazEwMChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTAwKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiA2NDBhMjU2IDI1NiAwIDEgMCAwLTUxMiAyNTYgMjU2IDAgMCAwIDAgNTEybTAgNjRhMzIwIDMyMCAwIDEgMSAwLTY0MCAzMjAgMzIwIDAgMCAxIDAgNjQwXCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTEwMChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTIgNjQwcTMyIDAgMzIgMzJ2MjU2cTAgMzItMzIgMzJ0LTMyLTMyVjY3MnEwLTMyIDMyLTMyXCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTEwMChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0zNTIgODAwaDMyMHEzMiAwIDMyIDMydC0zMiAzMkgzNTJxLTMyIDAtMzItMzJ0MzItMzJcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9mZW1hbGUudnVlXG52YXIgZmVtYWxlX2RlZmF1bHQgPSBmZW1hbGVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2ZpbGVzLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDEwMSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTAxLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazEwMSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMDEgfSBmcm9tIFwidnVlXCI7XG52YXIgZmlsZXNfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTAxKHtcbiAgbmFtZTogXCJGaWxlc1wiLFxuICBfX25hbWU6IFwiZmlsZXNcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazEwMSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTAxKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxMDEoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMTI4IDM4NHY0NDhoNzY4VjM4NHptLTMyLTY0aDgzMmEzMiAzMiAwIDAgMSAzMiAzMnY1MTJhMzIgMzIgMCAwIDEtMzIgMzJIOTZhMzIgMzIgMCAwIDEtMzItMzJWMzUyYTMyIDMyIDAgMCAxIDMyLTMybTY0LTEyOGg3MDR2NjRIMTYwem05Ni0xMjhoNTEydjY0SDI1NnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9maWxlcy52dWVcbnZhciBmaWxlc19kZWZhdWx0ID0gZmlsZXNfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2ZpbG0udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTAyIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxMDIsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTAyLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazEwMiB9IGZyb20gXCJ2dWVcIjtcbnZhciBmaWxtX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDEwMih7XG4gIG5hbWU6IFwiRmlsbVwiLFxuICBfX25hbWU6IFwiZmlsbVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTAyKCksIF9jcmVhdGVFbGVtZW50QmxvY2sxMDIoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTEwMihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xNjAgMTYwdjcwNGg3MDRWMTYwem0tMzItNjRoNzY4YTMyIDMyIDAgMCAxIDMyIDMydjc2OGEzMiAzMiAwIDAgMS0zMiAzMkgxMjhhMzIgMzIgMCAwIDEtMzItMzJWMTI4YTMyIDMyIDAgMCAxIDMyLTMyXCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTEwMihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0zMjAgMjg4VjEyOGg2NHYzNTJoMjU2VjEyOGg2NHYxNjBoMTYwdjY0SDcwNHYxMjhoMTYwdjY0SDcwNHYxMjhoMTYwdjY0SDcwNHYxNjBoLTY0VjU0NEgzODR2MzUyaC02NFY3MzZIMTI4di02NGgxOTJWNTQ0SDEyOHYtNjRoMTkyVjM1MkgxMjh2LTY0elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2ZpbG0udnVlXG52YXIgZmlsbV9kZWZhdWx0ID0gZmlsbV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZmlsdGVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDEwMyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTAzLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazEwMywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMDMgfSBmcm9tIFwidnVlXCI7XG52YXIgZmlsdGVyX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDEwMyh7XG4gIG5hbWU6IFwiRmlsdGVyXCIsXG4gIF9fbmFtZTogXCJmaWx0ZXJcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazEwMygpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTAzKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxMDMoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMzg0IDUyMy4zOTJWOTI4YTMyIDMyIDAgMCAwIDQ2LjMzNiAyOC42MDhsMTkyLTk2QTMyIDMyIDAgMCAwIDY0MCA4MzJWNTIzLjM5MmwyODAuNzY4LTM0My4xMDRhMzIgMzIgMCAxIDAtNDkuNTM2LTQwLjU3NmwtMjg4IDM1MkEzMiAzMiAwIDAgMCA1NzYgNTEydjMwMC4yMjRsLTEyOCA2NFY1MTJhMzIgMzIgMCAwIDAtNy4yMzItMjAuMjg4TDE5NS41MiAxOTJINzA0YTMyIDMyIDAgMSAwIDAtNjRIMTI4YTMyIDMyIDAgMCAwLTI0Ljc2OCA1Mi4yODh6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZmlsdGVyLnZ1ZVxudmFyIGZpbHRlcl9kZWZhdWx0ID0gZmlsdGVyX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9maW5pc2hlZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxMDQgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTEwNCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxMDQsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTA0IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGZpbmlzaGVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDEwNCh7XG4gIG5hbWU6IFwiRmluaXNoZWRcIixcbiAgX19uYW1lOiBcImZpbmlzaGVkXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxMDQoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazEwNChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTA0KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTI4MC43NjggNzUzLjcyOCA2OTEuNDU2IDE2Ny4wNGEzMiAzMiAwIDEgMSA1Mi40MTYgMzYuNjcyTDMxNC4yNCA4MTcuNDcyYTMyIDMyIDAgMCAxLTQ1LjQ0IDcuMjk2bC0yMzAuNC0xNzIuOGEzMiAzMiAwIDAgMSAzOC40LTUxLjJsMjAzLjk2OCAxNTIuOTZ6TTczNiA0NDhhMzIgMzIgMCAxIDEgMC02NGgxOTJhMzIgMzIgMCAxIDEgMCA2NHpNNjA4IDY0MGEzMiAzMiAwIDAgMSAwLTY0aDMxOS45MzZhMzIgMzIgMCAxIDEgMCA2NHpNNDgwIDgzMmEzMiAzMiAwIDEgMSAwLTY0aDQ0Ny45MzZhMzIgMzIgMCAxIDEgMCA2NHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9maW5pc2hlZC52dWVcbnZhciBmaW5pc2hlZF9kZWZhdWx0ID0gZmluaXNoZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2ZpcnN0LWFpZC1raXQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTA1IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxMDUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTA1LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazEwNSB9IGZyb20gXCJ2dWVcIjtcbnZhciBmaXJzdF9haWRfa2l0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDEwNSh7XG4gIG5hbWU6IFwiRmlyc3RBaWRLaXRcIixcbiAgX19uYW1lOiBcImZpcnN0LWFpZC1raXRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazEwNSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTA1KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxMDUoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMTkyIDI1NmE2NCA2NCAwIDAgMC02NCA2NHY0NDhhNjQgNjQgMCAwIDAgNjQgNjRoNjQwYTY0IDY0IDAgMCAwIDY0LTY0VjMyMGE2NCA2NCAwIDAgMC02NC02NHptMC02NGg2NDBhMTI4IDEyOCAwIDAgMSAxMjggMTI4djQ0OGExMjggMTI4IDAgMCAxLTEyOCAxMjhIMTkyQTEyOCAxMjggMCAwIDEgNjQgNzY4VjMyMGExMjggMTI4IDAgMCAxIDEyOC0xMjhcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTA1KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTU0NCA1MTJoOTZhMzIgMzIgMCAwIDEgMCA2NGgtOTZ2OTZhMzIgMzIgMCAwIDEtNjQgMHYtOTZoLTk2YTMyIDMyIDAgMCAxIDAtNjRoOTZ2LTk2YTMyIDMyIDAgMCAxIDY0IDB6TTM1MiAxMjh2NjRoMzIwdi02NHptLTMyLTY0aDM4NGEzMiAzMiAwIDAgMSAzMiAzMnYxMjhhMzIgMzIgMCAwIDEtMzIgMzJIMzIwYTMyIDMyIDAgMCAxLTMyLTMyVjk2YTMyIDMyIDAgMCAxIDMyLTMyXCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZmlyc3QtYWlkLWtpdC52dWVcbnZhciBmaXJzdF9haWRfa2l0X2RlZmF1bHQgPSBmaXJzdF9haWRfa2l0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9mbGFnLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDEwNiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTA2LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazEwNiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMDYgfSBmcm9tIFwidnVlXCI7XG52YXIgZmxhZ192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxMDYoe1xuICBuYW1lOiBcIkZsYWdcIixcbiAgX19uYW1lOiBcImZsYWdcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazEwNigpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTA2KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxMDYoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMjg4IDEyOGg2MDhMNzM2IDM4NGwxNjAgMjU2SDI4OHYzMjBoLTk2VjY0aDk2elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2ZsYWcudnVlXG52YXIgZmxhZ19kZWZhdWx0ID0gZmxhZ192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZm9sZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxMDcgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTEwNywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxMDcsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTA3IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGZvbGRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTA3KHtcbiAgbmFtZTogXCJGb2xkXCIsXG4gIF9fbmFtZTogXCJmb2xkXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxMDcoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazEwNyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTA3KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTg5NiAxOTJIMTI4djEyOGg3Njh6bTAgMjU2SDM4NHYxMjhoNTEyem0wIDI1NkgxMjh2MTI4aDc2OHpNMzIwIDM4NCAxMjggNTEybDE5MiAxMjh6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZm9sZC52dWVcbnZhciBmb2xkX2RlZmF1bHQgPSBmb2xkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9mb2xkZXItYWRkLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDEwOCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTA4LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazEwOCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMDggfSBmcm9tIFwidnVlXCI7XG52YXIgZm9sZGVyX2FkZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxMDgoe1xuICBuYW1lOiBcIkZvbGRlckFkZFwiLFxuICBfX25hbWU6IFwiZm9sZGVyLWFkZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTA4KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxMDgoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTEwOChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xMjggMTkydjY0MGg3NjhWMzIwSDQ4NS43NkwzNTcuNTA0IDE5MnptLTMyLTY0aDI4Ny44NzJsMTI4LjM4NCAxMjhIOTI4YTMyIDMyIDAgMCAxIDMyIDMydjU3NmEzMiAzMiAwIDAgMS0zMiAzMkg5NmEzMiAzMiAwIDAgMS0zMi0zMlYxNjBhMzIgMzIgMCAwIDEgMzItMzJtMzg0IDQxNlY0MTZoNjR2MTI4aDEyOHY2NEg1NDR2MTI4aC02NFY2MDhIMzUydi02NHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9mb2xkZXItYWRkLnZ1ZVxudmFyIGZvbGRlcl9hZGRfZGVmYXVsdCA9IGZvbGRlcl9hZGRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2ZvbGRlci1jaGVja2VkLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDEwOSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTA5LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazEwOSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMDkgfSBmcm9tIFwidnVlXCI7XG52YXIgZm9sZGVyX2NoZWNrZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTA5KHtcbiAgbmFtZTogXCJGb2xkZXJDaGVja2VkXCIsXG4gIF9fbmFtZTogXCJmb2xkZXItY2hlY2tlZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTA5KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxMDkoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTEwOShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xMjggMTkydjY0MGg3NjhWMzIwSDQ4NS43NkwzNTcuNTA0IDE5MnptLTMyLTY0aDI4Ny44NzJsMTI4LjM4NCAxMjhIOTI4YTMyIDMyIDAgMCAxIDMyIDMydjU3NmEzMiAzMiAwIDAgMS0zMiAzMkg5NmEzMiAzMiAwIDAgMS0zMi0zMlYxNjBhMzIgMzIgMCAwIDEgMzItMzJtNDE0LjA4IDUwMi4xNDQgMTgwLjk5Mi0xODAuOTkyTDczNi4zMiA0OTQuNCA1MTAuMDggNzIwLjY0bC0xNTguNC0xNTguMzM2IDQ1LjI0OC00NS4zMTJ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZm9sZGVyLWNoZWNrZWQudnVlXG52YXIgZm9sZGVyX2NoZWNrZWRfZGVmYXVsdCA9IGZvbGRlcl9jaGVja2VkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9mb2xkZXItZGVsZXRlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDExMCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTEwLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazExMCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMTAgfSBmcm9tIFwidnVlXCI7XG52YXIgZm9sZGVyX2RlbGV0ZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxMTAoe1xuICBuYW1lOiBcIkZvbGRlckRlbGV0ZVwiLFxuICBfX25hbWU6IFwiZm9sZGVyLWRlbGV0ZVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTEwKCksIF9jcmVhdGVFbGVtZW50QmxvY2sxMTAoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTExMChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xMjggMTkydjY0MGg3NjhWMzIwSDQ4NS43NkwzNTcuNTA0IDE5MnptLTMyLTY0aDI4Ny44NzJsMTI4LjM4NCAxMjhIOTI4YTMyIDMyIDAgMCAxIDMyIDMydjU3NmEzMiAzMiAwIDAgMS0zMiAzMkg5NmEzMiAzMiAwIDAgMS0zMi0zMlYxNjBhMzIgMzIgMCAwIDEgMzItMzJtMzcwLjc1MiA0NDgtOTAuNDk2LTkwLjQ5NiA0NS4yNDgtNDUuMjQ4TDUxMiA1MzAuNzUybDkwLjQ5Ni05MC40OTYgNDUuMjQ4IDQ1LjI0OEw1NTcuMjQ4IDU3Nmw5MC40OTYgOTAuNDk2LTQ1LjI0OCA0NS4yNDhMNTEyIDYyMS4yNDhsLTkwLjQ5NiA5MC40OTYtNDUuMjQ4LTQ1LjI0OHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9mb2xkZXItZGVsZXRlLnZ1ZVxudmFyIGZvbGRlcl9kZWxldGVfZGVmYXVsdCA9IGZvbGRlcl9kZWxldGVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2ZvbGRlci1vcGVuZWQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTExIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxMTEsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTExLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazExMSB9IGZyb20gXCJ2dWVcIjtcbnZhciBmb2xkZXJfb3BlbmVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDExMSh7XG4gIG5hbWU6IFwiRm9sZGVyT3BlbmVkXCIsXG4gIF9fbmFtZTogXCJmb2xkZXItb3BlbmVkXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxMTEoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazExMShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTExKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTg3OC4wOCA0NDhIMjQxLjkybC05NiAzODRoNjM2LjE2bDk2LTM4NHpNODMyIDM4NHYtNjRINDg1Ljc2TDM1Ny41MDQgMTkySDEyOHY0NDhsNTcuOTItMjMxLjc0NEEzMiAzMiAwIDAgMSAyMTYuOTYgMzg0em0tMjQuOTYgNTEySDk2YTMyIDMyIDAgMCAxLTMyLTMyVjE2MGEzMiAzMiAwIDAgMSAzMi0zMmgyODcuODcybDEyOC4zODQgMTI4SDg2NGEzMiAzMiAwIDAgMSAzMiAzMnY5NmgyMy4wNGEzMiAzMiAwIDAgMSAzMS4wNCAzOS43NDRsLTExMiA0NDhBMzIgMzIgMCAwIDEgODA3LjA0IDg5NlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2ZvbGRlci1vcGVuZWQudnVlXG52YXIgZm9sZGVyX29wZW5lZF9kZWZhdWx0ID0gZm9sZGVyX29wZW5lZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZm9sZGVyLXJlbW92ZS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxMTIgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTExMiwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxMTIsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTEyIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGZvbGRlcl9yZW1vdmVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTEyKHtcbiAgbmFtZTogXCJGb2xkZXJSZW1vdmVcIixcbiAgX19uYW1lOiBcImZvbGRlci1yZW1vdmVcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazExMigpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTEyKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxMTIoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMTI4IDE5MnY2NDBoNzY4VjMyMEg0ODUuNzZMMzU3LjUwNCAxOTJ6bS0zMi02NGgyODcuODcybDEyOC4zODQgMTI4SDkyOGEzMiAzMiAwIDAgMSAzMiAzMnY1NzZhMzIgMzIgMCAwIDEtMzIgMzJIOTZhMzIgMzIgMCAwIDEtMzItMzJWMTYwYTMyIDMyIDAgMCAxIDMyLTMybTI1NiA0MTZoMzIwdjY0SDM1MnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9mb2xkZXItcmVtb3ZlLnZ1ZVxudmFyIGZvbGRlcl9yZW1vdmVfZGVmYXVsdCA9IGZvbGRlcl9yZW1vdmVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2ZvbGRlci52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxMTMgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTExMywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxMTMsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTEzIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGZvbGRlcl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxMTMoe1xuICBuYW1lOiBcIkZvbGRlclwiLFxuICBfX25hbWU6IFwiZm9sZGVyXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxMTMoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazExMyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTEzKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTEyOCAxOTJ2NjQwaDc2OFYzMjBINDg1Ljc2TDM1Ny41MDQgMTkyem0tMzItNjRoMjg3Ljg3MmwxMjguMzg0IDEyOEg5MjhhMzIgMzIgMCAwIDEgMzIgMzJ2NTc2YTMyIDMyIDAgMCAxLTMyIDMySDk2YTMyIDMyIDAgMCAxLTMyLTMyVjE2MGEzMiAzMiAwIDAgMSAzMi0zMlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2ZvbGRlci52dWVcbnZhciBmb2xkZXJfZGVmYXVsdCA9IGZvbGRlcl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZm9vZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxMTQgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTExNCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxMTQsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTE0IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGZvb2RfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTE0KHtcbiAgbmFtZTogXCJGb29kXCIsXG4gIF9fbmFtZTogXCJmb29kXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxMTQoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazExNChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTE0KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTEyOCAzNTIuNTc2VjM1MmEyODggMjg4IDAgMCAxIDQ5MS4wNzItMjA0LjIyNCAxOTIgMTkyIDAgMCAxIDI3NC4yNCAyMDQuNDggNjQgNjQgMCAwIDEgNTcuMjE2IDc0LjI0QzkyMS42IDYwMC41MTIgODUwLjA0OCA3MTAuNjU2IDczNiA3NTYuOTkyVjgwMGE5NiA5NiAwIDAgMS05NiA5NkgzODRhOTYgOTYgMCAwIDEtOTYtOTZ2LTQzLjAwOGMtMTE0LjA0OC00Ni4zMzYtMTg1LjYtMTU2LjQ4LTIxNC41MjgtMzMwLjQ5NkE2NCA2NCAwIDAgMSAxMjggMzUyLjY0em02NC0uNTc2aDY0YTE2MCAxNjAgMCAwIDEgMzIwIDBoNjRhMjI0IDIyNCAwIDAgMC00NDggMG0xMjggMGgxOTJhOTYgOTYgMCAwIDAtMTkyIDBtNDM5LjQyNCAwaDY4LjU0NEExMjguMjU2IDEyOC4yNTYgMCAwIDAgNzA0IDE5MmMtMTUuMzYgMC0yOS45NTIgMi42ODgtNDMuNTIgNy42MTYgMTEuMzI4IDE4LjE3NiAyMC42NzIgMzcuNzYgMjcuODQgNTguMzA0QTY0LjEyOCA2NC4xMjggMCAwIDEgNzU5LjQyNCAzNTJNNjcyIDc2OEgzNTJ2MzJhMzIgMzIgMCAwIDAgMzIgMzJoMjU2YTMyIDMyIDAgMCAwIDMyLTMyem0tMzQyLjUyOC02NGgzNjUuMDU2YzEwMS41MDQtMzIuNjQgMTY1Ljc2LTEyNC45MjggMTkyLjg5Ni0yODhIMTM2LjU3NmMyNy4xMzYgMTYzLjA3MiA5MS4zOTIgMjU1LjM2IDE5Mi44OTYgMjg4XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZm9vZC52dWVcbnZhciBmb29kX2RlZmF1bHQgPSBmb29kX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9mb290YmFsbC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxMTUgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTExNSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxMTUsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTE1IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGZvb3RiYWxsX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDExNSh7XG4gIG5hbWU6IFwiRm9vdGJhbGxcIixcbiAgX19uYW1lOiBcImZvb3RiYWxsXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxMTUoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazExNShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTE1KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiA5NjBhNDQ4IDQ0OCAwIDEgMSAwLTg5NiA0NDggNDQ4IDAgMCAxIDAgODk2bTAtNjRhMzg0IDM4NCAwIDEgMCAwLTc2OCAzODQgMzg0IDAgMCAwIDAgNzY4XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTExNShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xODYuODE2IDI2OC4yODhjMTYtMTYuMzg0IDMxLjYxNi0zMS43NDQgNDYuOTc2LTQ2LjA4IDE3LjQ3MiAzMC42NTYgMzkuODA4IDU4LjExMiA2NS45ODQgODEuMjhsLTMyLjUxMiA1Ni40NDhhMzg1Ljk4NCAzODUuOTg0IDAgMCAxLTgwLjQ0OC05MS42NDh6bTY1My42OTYtNS4zMTJhMzg1LjkyIDM4NS45MiAwIDAgMS04My43NzYgOTYuOTZsLTMyLjUxMi01Ni4zODRhMzIyLjkyMyAzMjIuOTIzIDAgMCAwIDY4LjQ4LTg1Ljc2YzE1LjU1MiAxNC4wOCAzMS40ODggMjkuMTIgNDcuODA4IDQ1LjE4NHpNNDY1Ljk4NCA0NDUuMjQ4bDExLjEzNi02My4xMDRhMzIzLjU4NCAzMjMuNTg0IDAgMCAwIDY5Ljc2IDBsMTEuMTM2IDYzLjEwNGEzODcuOTY4IDM4Ny45NjggMCAwIDEtOTIuMDMyIDBtLTYyLjcyLTEyLjhBMzgxLjgyNCAzODEuODI0IDAgMCAxIDMyMCAzOTYuNTQ0bDMyLTU1LjQyNGEzMTkuODg1IDMxOS44ODUgMCAwIDAgNjIuNDY0IDI3LjcxMmwtMTEuMiA2My40ODh6bTMwMC44LTM1Ljg0YTM4MS44MjQgMzgxLjgyNCAwIDAgMS04My4zMjggMzUuODRsLTExLjItNjMuNTUyQTMxOS44ODUgMzE5Ljg4NSAwIDAgMCA2NzIgMzQxLjE4NGwzMiA1NS40MjR6bS01MjAuNzY4IDM2NC44YTM4NS45MiAzODUuOTIgMCAwIDEgODMuOTY4LTk3LjI4bDMyLjUxMiA1Ni4zMmMtMjYuODggMjMuOTM2LTQ5Ljg1NiA1Mi4zNTItNjcuNTIgODQuMDMyLTE2LTEzLjQ0LTMyLjMyLTI3LjcxMi00OC45Ni00My4wNzJ6bTY1Ny41MzYuMTI4YTE0NDIuNzU5IDE0NDIuNzU5IDAgMCAxLTQ5LjAyNCA0My4wNzIgMzIxLjQwOCAzMjEuNDA4IDAgMCAwLTY3LjU4NC04NC4xNmwzMi41MTItNTYuMzJjMzMuMjE2IDI3LjQ1NiA2MS42OTYgNjAuMzUyIDg0LjA5NiA5Ny40MDh6TTQ2NS45MiA1NzguNzUyYTM4Ny45NjggMzg3Ljk2OCAwIDAgMSA5Mi4wMzIgMGwtMTEuMTM2IDYzLjEwNGEzMjMuNTg0IDMyMy41ODQgMCAwIDAtNjkuNzYgMHptLTYyLjcyIDEyLjggMTEuMiA2My41NTJhMzE5Ljg4NSAzMTkuODg1IDAgMCAwLTYyLjQ2NCAyNy43MTJMMzIwIDYyNy4zOTJhMzgxLjgyNCAzODEuODI0IDAgMCAxIDgzLjI2NC0zNS44NHptMzAwLjggMzUuODQtMzIgNTUuNDI0YTMxOC4yNzIgMzE4LjI3MiAwIDAgMC02Mi41MjgtMjcuNzEybDExLjItNjMuNDg4YzI5LjQ0IDguNjQgNTcuMjggMjAuNzM2IDgzLjI2NCAzNS43NzZ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZm9vdGJhbGwudnVlXG52YXIgZm9vdGJhbGxfZGVmYXVsdCA9IGZvb3RiYWxsX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9mb3JrLXNwb29uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDExNiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTE2LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazExNiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMTYgfSBmcm9tIFwidnVlXCI7XG52YXIgZm9ya19zcG9vbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxMTYoe1xuICBuYW1lOiBcIkZvcmtTcG9vblwiLFxuICBfX25hbWU6IFwiZm9yay1zcG9vblwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTE2KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxMTYoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTExNihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0yNTYgNDEwLjMwNFY5NmEzMiAzMiAwIDAgMSA2NCAwdjMxNC4zMDRhOTYgOTYgMCAwIDAgNjQtOTAuNTZWOTZhMzIgMzIgMCAwIDEgNjQgMHYyMjMuNzQ0YTE2MCAxNjAgMCAwIDEtMTI4IDE1Ni44VjkyOGEzMiAzMiAwIDEgMS02NCAwVjQ3Ni41NDRhMTYwIDE2MCAwIDAgMS0xMjgtMTU2LjhWOTZhMzIgMzIgMCAwIDEgNjQgMHYyMjMuNzQ0YTk2IDk2IDAgMCAwIDY0IDkwLjU2ek02NzIgNTcyLjQ4QzU4MS4xODQgNTUyLjEyOCA1MTIgNDQ2Ljg0OCA1MTIgMzIwYzAtMTQxLjQ0IDg1Ljk1Mi0yNTYgMTkyLTI1NnMxOTIgMTE0LjU2IDE5MiAyNTZjMCAxMjYuODQ4LTY5LjE4NCAyMzIuMTI4LTE2MCAyNTIuNDhWOTI4YTMyIDMyIDAgMSAxLTY0IDB6TTcwNCA1MTJjNjYuMDQ4IDAgMTI4LTgyLjU2IDEyOC0xOTJzLTYxLjk1Mi0xOTItMTI4LTE5Mi0xMjggODIuNTYtMTI4IDE5MiA2MS45NTIgMTkyIDEyOCAxOTJcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9mb3JrLXNwb29uLnZ1ZVxudmFyIGZvcmtfc3Bvb25fZGVmYXVsdCA9IGZvcmtfc3Bvb25fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2ZyaWVzLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDExNyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTE3LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazExNywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMTcgfSBmcm9tIFwidnVlXCI7XG52YXIgZnJpZXNfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTE3KHtcbiAgbmFtZTogXCJGcmllc1wiLFxuICBfX25hbWU6IFwiZnJpZXNcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazExNygpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTE3KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxMTcoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNjA4IDIyNHYtNjRhMzIgMzIgMCAwIDAtNjQgMHYzMzZoMjYuODhBNjQgNjQgMCAwIDAgNjA4IDQ4NC4wOTZ6bTEwMS4xMiAxNjBBNjQgNjQgMCAwIDAgNjcyIDM5NS45MDRWMzg0aDY0VjIyNGEzMiAzMiAwIDEgMC02NCAwdjE2MHptNzQuODggMGE5Mi45MjggOTIuOTI4IDAgMCAxIDkxLjMyOCAxMTAuMDhsLTYwLjY3MiAzMjMuNTg0QTk2IDk2IDAgMCAxIDcyMC4zMiA4OTZIMzAzLjY4YTk2IDk2IDAgMCAxLTk0LjMzNi03OC4zMzZMMTQ4LjY3MiA0OTQuMDhBOTIuOTI4IDkyLjkyOCAwIDAgMSAyNDAgMzg0aC0xNlYyMjRhOTYgOTYgMCAwIDEgMTg4LjYwOC0yNS4yOEE5NS43NDQgOTUuNzQ0IDAgMCAxIDQ4MCAxOTcuNDRWMTYwYTk2IDk2IDAgMCAxIDE4OC42MDgtMjUuMjhBOTYgOTYgMCAwIDEgODAwIDIyNHYxNjB6TTY3MC43ODQgNTEyYTEyOCAxMjggMCAwIDEtOTkuOTA0IDQ4SDQ1My4xMmExMjggMTI4IDAgMCAxLTk5Ljg0LTQ4SDM1MnYtMS41MzZhMTI4LjEyOCAxMjguMTI4IDAgMCAxLTkuOTg0LTE0Ljk3NkwzMTQuODggNDQ4SDI0MGEyOC45MjggMjguOTI4IDAgMCAwLTI4LjQ4IDM0LjMwNEwyNDEuMDg4IDY0MGg1NDEuODI0bDI5LjU2OC0xNTcuNjk2QTI4LjkyOCAyOC45MjggMCAwIDAgNzg0IDQ0OGgtNzQuODhsLTI3LjEzNiA0Ny40ODhBMTMyLjQwNSAxMzIuNDA1IDAgMCAxIDY3MiA1MTAuNDY0VjUxMnpNNDgwIDI4OGEzMiAzMiAwIDAgMC02NCAwdjE5Ni4wOTZBNjQgNjQgMCAwIDAgNDUzLjEyIDQ5Nkg0ODB6bS0xMjggOTZWMjI0YTMyIDMyIDAgMCAwLTY0IDB2MTYwemgtMzcuMTJBNjQgNjQgMCAwIDEgMzUyIDM5NS45MDR6bS05OC44OCAzMjAgMTkuMDcyIDEwMS44ODhBMzIgMzIgMCAwIDAgMzAzLjY4IDgzMmg0MTYuNjRhMzIgMzIgMCAwIDAgMzEuNDg4LTI2LjExMkw3NzAuODggNzA0elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2ZyaWVzLnZ1ZVxudmFyIGZyaWVzX2RlZmF1bHQgPSBmcmllc192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZnVsbC1zY3JlZW4udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTE4IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxMTgsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTE4LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazExOCB9IGZyb20gXCJ2dWVcIjtcbnZhciBmdWxsX3NjcmVlbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxMTgoe1xuICBuYW1lOiBcIkZ1bGxTY3JlZW5cIixcbiAgX19uYW1lOiBcImZ1bGwtc2NyZWVuXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxMTgoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazExOChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTE4KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwibTE2MCA5Ni4wNjQgMTkyIC4xOTJhMzIgMzIgMCAwIDEgMCA2NGwtMTkyLS4xOTJWMzUyYTMyIDMyIDAgMCAxLTY0IDBWOTZoNjR6bTAgODMxLjg3MlY5MjhIOTZWNjcyYTMyIDMyIDAgMSAxIDY0IDB2MTkxLjkzNmwxOTItLjE5MmEzMiAzMiAwIDEgMSAwIDY0ek04NjQgOTYuMDY0Vjk2aDY0djI1NmEzMiAzMiAwIDEgMS02NCAwVjE2MC4wNjRsLTE5MiAuMTkyYTMyIDMyIDAgMSAxIDAtNjRsMTkyLS4xOTJ6bTAgODMxLjg3Mi0xOTItLjE5MmEzMiAzMiAwIDAgMSAwLTY0bDE5MiAuMTkyVjY3MmEzMiAzMiAwIDEgMSA2NCAwdjI1NmgtNjR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZnVsbC1zY3JlZW4udnVlXG52YXIgZnVsbF9zY3JlZW5fZGVmYXVsdCA9IGZ1bGxfc2NyZWVuX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9nb2JsZXQtZnVsbC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxMTkgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTExOSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxMTksIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTE5IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGdvYmxldF9mdWxsX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDExOSh7XG4gIG5hbWU6IFwiR29ibGV0RnVsbFwiLFxuICBfX25hbWU6IFwiZ29ibGV0LWZ1bGxcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazExOSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTE5KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxMTkoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMjU2IDMyMGg1MTJjMC03OC41OTItMTIuNjA4LTE0Mi40LTM2LjkyOC0xOTJoLTQzNC4yNEMyNjkuNTA0IDE5Mi4zODQgMjU2IDI1Ni4yNTYgMjU2IDMyMG01MDMuOTM2IDY0SDI2NC4wNjRhMjU2LjEyOCAyNTYuMTI4IDAgMCAwIDQ5NS44NzIgMHpNNTQ0IDYzOC40Vjg5Nmg5NmEzMiAzMiAwIDEgMSAwIDY0SDM4NGEzMiAzMiAwIDEgMSAwLTY0aDk2VjYzOC40QTMyMCAzMjAgMCAwIDEgMTkyIDMyMGMwLTg1LjYzMiAyMS4zMTItMTcwLjk0NCA2NC0yNTZoNTEyYzQyLjY4OCA2NC4zMiA2NCAxNDkuNjMyIDY0IDI1NmEzMjAgMzIwIDAgMCAxLTI4OCAzMTguNFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2dvYmxldC1mdWxsLnZ1ZVxudmFyIGdvYmxldF9mdWxsX2RlZmF1bHQgPSBnb2JsZXRfZnVsbF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZ29ibGV0LXNxdWFyZS1mdWxsLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDEyMCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTIwLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazEyMCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMjAgfSBmcm9tIFwidnVlXCI7XG52YXIgZ29ibGV0X3NxdWFyZV9mdWxsX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDEyMCh7XG4gIG5hbWU6IFwiR29ibGV0U3F1YXJlRnVsbFwiLFxuICBfX25hbWU6IFwiZ29ibGV0LXNxdWFyZS1mdWxsXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxMjAoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazEyMChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTIwKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTI1NiAyNzAuOTEyYzEwLjA0OCA2LjcyIDIyLjQ2NCAxNC45MTIgMjguOTkyIDE4LjYyNGEyMjAuMTYgMjIwLjE2IDAgMCAwIDExNC43NTIgMzAuNzJjMzAuNTkyIDAgNDkuNDA4LTkuNDcyIDkxLjA3Mi00MS4xNTJsLjY0LS40NDhjNTIuOTI4LTQwLjMyIDgyLjM2OC01NS4wNCAxMzIuMjg4LTU0LjY1NiA1NS41NTIuNDQ4IDk5LjU4NCAyMC44IDE0Mi43MiA1Ny40MDhsMS41MzYgMS4yOFYxMjhIMjU2djE0Mi45MTJ6bS45NiA3Ni4yODhDMjY2LjM2OCA0ODIuMTc2IDM0Ni44OCA1NzUuODcyIDUxMiA1NzZjMTU3LjQ0LjA2NCAyMzcuOTUyLTg1LjA1NiAyNTMuMjQ4LTIwOS45ODRhOTUyLjMyIDk1Mi4zMiAwIDAgMS00MC4xOTItMzUuNzEyYy0zMi43MDQtMjcuNzc2LTYzLjM2LTQxLjkyLTEwMS44ODgtNDIuMjQtMzEuNTUyLS4yNTYtNTAuNjI0IDkuMjgtOTMuMTIgNDEuNmwtLjU3Ni40NDhjLTUyLjA5NiAzOS42MTYtODEuMDI0IDU0LjIwOC0xMjkuNzkyIDU0LjIwOC01NC43ODQgMC0xMDAuNDgtMTMuMzc2LTE0Mi43ODQtMzcuMDU2ek00ODAgNjM4Ljg0OEMyNTAuNjI0IDYyMy40MjQgMTkyIDQ0Mi40OTYgMTkyIDMxOS42OFY5NmEzMiAzMiAwIDAgMSAzMi0zMmg1NzZhMzIgMzIgMCAwIDEgMzIgMzJ2MjI0YzAgMTIyLjgxNi01OC42MjQgMzAzLjY4LTI4OCAzMTguOTEyVjg5Nmg5NmEzMiAzMiAwIDEgMSAwIDY0SDM4NGEzMiAzMiAwIDEgMSAwLTY0aDk2elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2dvYmxldC1zcXVhcmUtZnVsbC52dWVcbnZhciBnb2JsZXRfc3F1YXJlX2Z1bGxfZGVmYXVsdCA9IGdvYmxldF9zcXVhcmVfZnVsbF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZ29ibGV0LXNxdWFyZS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxMjEgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTEyMSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxMjEsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTIxIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGdvYmxldF9zcXVhcmVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTIxKHtcbiAgbmFtZTogXCJHb2JsZXRTcXVhcmVcIixcbiAgX19uYW1lOiBcImdvYmxldC1zcXVhcmVcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazEyMSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTIxKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxMjEoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTQ0IDYzOC45MTJWODk2aDk2YTMyIDMyIDAgMSAxIDAgNjRIMzg0YTMyIDMyIDAgMSAxIDAtNjRoOTZWNjM4Ljg0OEMyNTAuNjI0IDYyMy40MjQgMTkyIDQ0Mi40OTYgMTkyIDMxOS42OFY5NmEzMiAzMiAwIDAgMSAzMi0zMmg1NzZhMzIgMzIgMCAwIDEgMzIgMzJ2MjI0YzAgMTIyLjgxNi01OC42MjQgMzAzLjY4LTI4OCAzMTguOTEyTTI1NiAzMTkuNjhjMCAxNDkuNTY4IDgwIDI1Ni4xOTIgMjU2IDI1Ni4yNTZDNjg4LjEyOCA1NzYgNzY4IDQ2OS41NjggNzY4IDMyMFYxMjhIMjU2elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2dvYmxldC1zcXVhcmUudnVlXG52YXIgZ29ibGV0X3NxdWFyZV9kZWZhdWx0ID0gZ29ibGV0X3NxdWFyZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZ29ibGV0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDEyMiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTIyLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazEyMiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMjIgfSBmcm9tIFwidnVlXCI7XG52YXIgZ29ibGV0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDEyMih7XG4gIG5hbWU6IFwiR29ibGV0XCIsXG4gIF9fbmFtZTogXCJnb2JsZXRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazEyMigpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTIyKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxMjIoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTQ0IDYzOC40Vjg5Nmg5NmEzMiAzMiAwIDEgMSAwIDY0SDM4NGEzMiAzMiAwIDEgMSAwLTY0aDk2VjYzOC40QTMyMCAzMjAgMCAwIDEgMTkyIDMyMGMwLTg1LjYzMiAyMS4zMTItMTcwLjk0NCA2NC0yNTZoNTEyYzQyLjY4OCA2NC4zMiA2NCAxNDkuNjMyIDY0IDI1NmEzMjAgMzIwIDAgMCAxLTI4OCAzMTguNE0yNTYgMzIwYTI1NiAyNTYgMCAxIDAgNTEyIDBjMC03OC41OTItMTIuNjA4LTE0Mi40LTM2LjkyOC0xOTJoLTQzNC4yNEMyNjkuNTA0IDE5Mi4zODQgMjU2IDI1Ni4yNTYgMjU2IDMyMFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2dvYmxldC52dWVcbnZhciBnb2JsZXRfZGVmYXVsdCA9IGdvYmxldF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZ29sZC1tZWRhbC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxMjMgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTEyMywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxMjMsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTIzIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGdvbGRfbWVkYWxfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTIzKHtcbiAgbmFtZTogXCJHb2xkTWVkYWxcIixcbiAgX19uYW1lOiBcImdvbGQtbWVkYWxcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazEyMygpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTIzKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICBcInhtbDpzcGFjZVwiOiBcInByZXNlcnZlXCIsXG4gICAgICBzdHlsZTogeyBcImVuYWJsZS1iYWNrZ3JvdW5kXCI6IFwibmV3IDAgMCAxMDI0IDEwMjRcIiB9LFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTIzKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwibTc3Mi4xMyA0NTIuODQgNTMuODYtMzUxLjgxYzEuMzItMTAuMDEtMS4xNy0xOC42OC03LjQ5LTI2LjAyUzgwNC4zNSA2NCA3OTUuMDEgNjRIMjI4Ljk5di0uMDFoLS4wNmMtOS4zMyAwLTE3LjE1IDMuNjctMjMuNDkgMTEuMDFzLTguODMgMTYuMDEtNy40OSAyNi4wMmw1My44NyAzNTEuODlDMjEzLjU0IDUwNS43MyAxOTMuNTkgNTY4LjA5IDE5MiA2NDBjMiA5MC42NyAzMy4xNyAxNjYuMTcgOTMuNSAyMjYuNVM0MjEuMzMgOTU3Ljk5IDUxMiA5NjBjOTAuNjctMiAxNjYuMTctMzMuMTcgMjI2LjUtOTMuNSA2MC4zMy02MC4zNCA5MS40OS0xMzUuODMgOTMuNS0yMjYuNS0xLjU5LTcxLjk0LTIxLjU2LTEzNC4zMi01OS44Ny0xODcuMTZ6TTY0MC4wMSAxMjhoMTE3LjAybC0zOS4wMSAyNTQuMDJjLTIwLjc1LTEwLjY0LTQwLjc0LTE5LjczLTU5Ljk0LTI3LjI4LTUuOTItMy0xMS45NS01LjgtMTguMDgtOC40MVYxMjhoLjAxek01NzYgMTI4djE5OC43NmMtMTMuMTgtMi41OC0yNi43NC00LjQzLTQwLjY3LTUuNTUtOC4wNy0uOC0xNS44NS0xLjItMjMuMzMtMS4yLTEwLjU0IDAtMjEuMDkuNjYtMzEuNjQgMS45NmEzNTkuODQ0IDM1OS44NDQgMCAwIDAtMzIuMzYgNC43OVYxMjh6bS0xOTIgMGguMDR2MjE4LjNjLTYuMjIgMi42Ni0xMi4zNCA1LjUtMTguMzYgOC41Ni0xOS4xMyA3LjU0LTM5LjAyIDE2LjYtNTkuNjYgMjcuMTZMMjY3LjAxIDEyOHptMzA4Ljk5IDY5Mi45OWMtNDggNDgtMTA4LjMzIDczLTE4MC45OSA3NS4wMS03Mi42Ni0yLjAxLTEzMi45OS0yNy4wMS0xODAuOTktNzUuMDFTMjU4LjAxIDcxMi42NiAyNTYgNjQwYzIuMDEtNzIuNjYgMjcuMDEtMTMyLjk5IDc1LjAxLTE4MC45OSAxOS42Ny0xOS42NyA0MS40MS0zNS40NyA2NS4yMi00Ny40MSAzOC4zMy0xNS4wNCA3MS4xNS0yMy45MiA5OC40NC0yNi42NSA1LjA3LS40MSAxMC4yLS43IDE1LjM5LS44OC42My0uMDEgMS4yOC0uMDMgMS45MS0uMDMuNjYgMCAxLjM1LjAzIDIuMDIuMDQgNS4xMS4xNyAxMC4xNS40NiAxNS4xMy44NiAyNy40IDIuNzEgNjAuMzcgMTEuNjUgOTguOTEgMjYuNzkgMjMuNzEgMTEuOTMgNDUuMzYgMjcuNjkgNjQuOTYgNDcuMjkgNDggNDggNzMgMTA4LjMzIDc1LjAxIDE4MC45OS0yLjAxIDcyLjY1LTI3LjAxIDEzMi45OC03NS4wMSAxODAuOTh6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTEyMyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01NDQgNDgwSDQxNnY2NGg2NHYxOTJoLTY0djY0aDE5MnYtNjRoLTY0elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2dvbGQtbWVkYWwudnVlXG52YXIgZ29sZF9tZWRhbF9kZWZhdWx0ID0gZ29sZF9tZWRhbF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvZ29vZHMtZmlsbGVkLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDEyNCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTI0LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazEyNCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMjQgfSBmcm9tIFwidnVlXCI7XG52YXIgZ29vZHNfZmlsbGVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDEyNCh7XG4gIG5hbWU6IFwiR29vZHNGaWxsZWRcIixcbiAgX19uYW1lOiBcImdvb2RzLWZpbGxlZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTI0KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxMjQoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTEyNChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xOTIgMzUyaDY0MGw2NCA1NDRIMTI4em0xMjggMjI0aDY0VjQ0OGgtNjR6bTMyMCAwaDY0VjQ0OGgtNjR6TTM4NCAyODhoLTY0YTE5MiAxOTIgMCAxIDEgMzg0IDBoLTY0YTEyOCAxMjggMCAxIDAtMjU2IDBcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9nb29kcy1maWxsZWQudnVlXG52YXIgZ29vZHNfZmlsbGVkX2RlZmF1bHQgPSBnb29kc19maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2dvb2RzLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDEyNSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTI1LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazEyNSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMjUgfSBmcm9tIFwidnVlXCI7XG52YXIgZ29vZHNfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTI1KHtcbiAgbmFtZTogXCJHb29kc1wiLFxuICBfX25hbWU6IFwiZ29vZHNcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazEyNSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTI1KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxMjUoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMzIwIDI4OHYtMjIuMzM2QzMyMCAxNTQuNjg4IDQwNS41MDQgNjQgNTEyIDY0czE5MiA5MC42ODggMTkyIDIwMS42NjR2MjIuNGgxMzEuMDcyYTMyIDMyIDAgMCAxIDMxLjgwOCAyOC44bDU3LjYgNTc2YTMyIDMyIDAgMCAxLTMxLjgwOCAzNS4ySDEzMS4zMjhhMzIgMzIgMCAwIDEtMzEuODA4LTM1LjJsNTcuNi01NzZhMzIgMzIgMCAwIDEgMzEuODA4LTI4LjhIMzIwem02NCAwaDI1NnYtMjIuMzM2QzY0MCAxODkuMjQ4IDU4Mi4yNzIgMTI4IDUxMiAxMjhjLTcwLjI3MiAwLTEyOCA2MS4yNDgtMTI4IDEzNy42NjR2MjIuNHptLTY0IDY0SDIxNy45MmwtNTEuMiA1MTJoNjkwLjU2bC01MS4yNjQtNTEySDcwNHY5NmEzMiAzMiAwIDEgMS02NCAwdi05NkgzODR2OTZhMzIgMzIgMCAwIDEtNjQgMHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9nb29kcy52dWVcbnZhciBnb29kc19kZWZhdWx0ID0gZ29vZHNfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2dyYXBlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDEyNiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTI2LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazEyNiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMjYgfSBmcm9tIFwidnVlXCI7XG52YXIgZ3JhcGVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTI2KHtcbiAgbmFtZTogXCJHcmFwZVwiLFxuICBfX25hbWU6IFwiZ3JhcGVcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazEyNigpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTI2KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxMjYoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTQ0IDE5NS4yYTE2MCAxNjAgMCAwIDEgOTYgNjAuOCAxNjAgMTYwIDAgMSAxIDE0Ni4yNCAyNTQuOTc2IDE2MCAxNjAgMCAwIDEtMTI4IDIyNCAxNjAgMTYwIDAgMSAxLTI5Mi40OCAwIDE2MCAxNjAgMCAwIDEtMTI4LTIyNEExNjAgMTYwIDAgMSAxIDM4NCAyNTZhMTYwIDE2MCAwIDAgMSA5Ni02MC44VjEyOGgtNjRhMzIgMzIgMCAwIDEgMC02NGgxOTJhMzIgMzIgMCAwIDEgMCA2NGgtNjR6TTUxMiA0NDhhOTYgOTYgMCAxIDAgMC0xOTIgOTYgOTYgMCAwIDAgMCAxOTJtLTI1NiAwYTk2IDk2IDAgMSAwIDAtMTkyIDk2IDk2IDAgMCAwIDAgMTkybTEyOCAyMjRhOTYgOTYgMCAxIDAgMC0xOTIgOTYgOTYgMCAwIDAgMCAxOTJtMTI4IDIyNGE5NiA5NiAwIDEgMCAwLTE5MiA5NiA5NiAwIDAgMCAwIDE5Mm0xMjgtMjI0YTk2IDk2IDAgMSAwIDAtMTkyIDk2IDk2IDAgMCAwIDAgMTkybTEyOC0yMjRhOTYgOTYgMCAxIDAgMC0xOTIgOTYgOTYgMCAwIDAgMCAxOTJcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9ncmFwZS52dWVcbnZhciBncmFwZV9kZWZhdWx0ID0gZ3JhcGVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2dyaWQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTI3IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxMjcsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTI3LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazEyNyB9IGZyb20gXCJ2dWVcIjtcbnZhciBncmlkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDEyNyh7XG4gIG5hbWU6IFwiR3JpZFwiLFxuICBfX25hbWU6IFwiZ3JpZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTI3KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxMjcoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTEyNyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk02NDAgMzg0djI1NkgzODRWMzg0em02NCAwaDE5MnYyNTZINzA0em0tNjQgNTEySDM4NFY3MDRoMjU2em02NCAwVjcwNGgxOTJ2MTkyem0tNjQtNzY4djE5MkgzODRWMTI4em02NCAwaDE5MnYxOTJINzA0ek0zMjAgMzg0djI1NkgxMjhWMzg0em0wIDUxMkgxMjhWNzA0aDE5MnptMC03Njh2MTkySDEyOFYxMjh6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZ3JpZC52dWVcbnZhciBncmlkX2RlZmF1bHQgPSBncmlkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9ndWlkZS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxMjggfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTEyOCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxMjgsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTI4IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGd1aWRlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDEyOCh7XG4gIG5hbWU6IFwiR3VpZGVcIixcbiAgX19uYW1lOiBcImd1aWRlXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxMjgoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazEyOChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTI4KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTY0MCA2MDhoLTY0VjQxNmg2NHptMCAxNjB2MTYwYTMyIDMyIDAgMCAxLTMyIDMySDQxNmEzMiAzMiAwIDAgMS0zMi0zMlY3NjhoNjR2MTI4aDEyOFY3Njh6TTM4NCA2MDhWNDE2aDY0djE5MnptMjU2LTM1MmgtNjRWMTI4SDQ0OHYxMjhoLTY0Vjk2YTMyIDMyIDAgMCAxIDMyLTMyaDE5MmEzMiAzMiAwIDAgMSAzMiAzMnpcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTI4KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwibTIyMC44IDI1Ni03MS4yMzIgODAgNzEuMTY4IDgwSDc2OFYyNTZIMjIwLjh6bS0xNC40LTY0SDgwMGEzMiAzMiAwIDAgMSAzMiAzMnYyMjRhMzIgMzIgMCAwIDEtMzIgMzJIMjA2LjRhMzIgMzIgMCAwIDEtMjMuOTM2LTEwLjc1MmwtOTkuNTg0LTExMmEzMiAzMiAwIDAgMSAwLTQyLjQ5Nmw5OS41ODQtMTEyQTMyIDMyIDAgMCAxIDIwNi40IDE5Mm02NzguNzg0IDQ5Ni03MS4xMDQgODBIMjY2LjgxNlY2MDhoNTQ3LjJsNzEuMTY4IDgwem0tNTYuNzY4LTE0NEgyMzQuODhhMzIgMzIgMCAwIDAtMzIgMzJ2MjI0YTMyIDMyIDAgMCAwIDMyIDMyaDU5My42YTMyIDMyIDAgMCAwIDIzLjkzNi0xMC43NTJsOTkuNTg0LTExMmEzMiAzMiAwIDAgMCAwLTQyLjQ5NmwtOTkuNTg0LTExMkEzMiAzMiAwIDAgMCA4MjguNDggNTQ0elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2d1aWRlLnZ1ZVxudmFyIGd1aWRlX2RlZmF1bHQgPSBndWlkZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvaGFuZGJhZy52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxMjkgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTEyOSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxMjksIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTI5IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGhhbmRiYWdfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTI5KHtcbiAgbmFtZTogXCJIYW5kYmFnXCIsXG4gIF9fbmFtZTogXCJoYW5kYmFnXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxMjkoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazEyOShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgXCJ4bWw6c3BhY2VcIjogXCJwcmVzZXJ2ZVwiLFxuICAgICAgc3R5bGU6IHsgXCJlbmFibGUtYmFja2dyb3VuZFwiOiBcIm5ldyAwIDAgMTAyNCAxMDI0XCIgfSxcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTEyOShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk04ODcuMDEgMjY0Ljk5Yy02LTUuOTktMTMuNjctOC45OS0yMy4wMS04Ljk5SDcwNGMtMS4zNC01NC42OC0yMC4wMS0xMDAuMDEtNTYtMTM2cy04MS4zMi01NC42Ni0xMzYtNTZjLTU0LjY4IDEuMzQtMTAwLjAxIDIwLjAxLTEzNiA1NnMtNTQuNjYgODEuMzItNTYgMTM2SDE2MGMtOS4zNSAwLTE3LjAyIDMtMjMuMDEgOC45OS01Ljk5IDYtOC45OSAxMy42Ny04Ljk5IDIzLjAxdjY0MGMwIDkuMzUgMi45OSAxNy4wMiA4Ljk5IDIzLjAxUzE1MC42NiA5NjAgMTYwIDk2MGg3MDRjOS4zNSAwIDE3LjAyLTIuOTkgMjMuMDEtOC45OVM4OTYgOTM3LjM0IDg5NiA5MjhWMjg4YzAtOS4zNS0yLjk5LTE3LjAyLTguOTktMjMuMDFNNDIxLjUgMTY1LjVjMjQuMzItMjQuMzQgNTQuNDktMzYuODQgOTAuNS0zNy41IDM1Ljk5LjY4IDY2LjE2IDEzLjE4IDkwLjUgMzcuNXMzNi44NCA1NC40OSAzNy41IDkwLjVIMzg0Yy42OC0zNS45OSAxMy4xOC02Ni4xNiAzNy41LTkwLjVNODMyIDg5NkgxOTJWMzIwaDEyOHYxMjhoNjRWMzIwaDI1NnYxMjhoNjRWMzIwaDEyOHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9oYW5kYmFnLnZ1ZVxudmFyIGhhbmRiYWdfZGVmYXVsdCA9IGhhbmRiYWdfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2hlYWRzZXQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTMwIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxMzAsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTMwLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazEzMCB9IGZyb20gXCJ2dWVcIjtcbnZhciBoZWFkc2V0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDEzMCh7XG4gIG5hbWU6IFwiSGVhZHNldFwiLFxuICBfX25hbWU6IFwiaGVhZHNldFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTMwKCksIF9jcmVhdGVFbGVtZW50QmxvY2sxMzAoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTEzMChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk04OTYgNTI5LjE1MlY1MTJhMzg0IDM4NCAwIDEgMC03NjggMHYxNy4xNTJBMTI4IDEyOCAwIDAgMSAzMjAgNjQwdjEyOGExMjggMTI4IDAgMSAxLTI1NiAwVjUxMmE0NDggNDQ4IDAgMSAxIDg5NiAwdjI1NmExMjggMTI4IDAgMSAxLTI1NiAwVjY0MGExMjggMTI4IDAgMCAxIDE5Mi0xMTAuODQ4TTg5NiA2NDBhNjQgNjQgMCAwIDAtMTI4IDB2MTI4YTY0IDY0IDAgMCAwIDEyOCAwem0tNzY4IDB2MTI4YTY0IDY0IDAgMCAwIDEyOCAwVjY0MGE2NCA2NCAwIDEgMC0xMjggMFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2hlYWRzZXQudnVlXG52YXIgaGVhZHNldF9kZWZhdWx0ID0gaGVhZHNldF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvaGVscC1maWxsZWQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTMxIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxMzEsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTMxLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazEzMSB9IGZyb20gXCJ2dWVcIjtcbnZhciBoZWxwX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxMzEoe1xuICBuYW1lOiBcIkhlbHBGaWxsZWRcIixcbiAgX19uYW1lOiBcImhlbHAtZmlsbGVkXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxMzEoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazEzMShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTMxKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTkyNi43ODQgNDgwSDcwMS4zMTJBMTkyLjUxMiAxOTIuNTEyIDAgMCAwIDU0NCAzMjIuNjg4Vjk3LjIxNkE0MTYuMDY0IDQxNi4wNjQgMCAwIDEgOTI2Ljc4NCA0ODBtMCA2NEE0MTYuMDY0IDQxNi4wNjQgMCAwIDEgNTQ0IDkyNi43ODRWNzAxLjMxMkExOTIuNTEyIDE5Mi41MTIgMCAwIDAgNzAxLjMxMiA1NDR6TTk3LjI4IDU0NGgyMjUuNDcyQTE5Mi41MTIgMTkyLjUxMiAwIDAgMCA0ODAgNzAxLjMxMnYyMjUuNDcyQTQxNi4wNjQgNDE2LjA2NCAwIDAgMSA5Ny4yMTYgNTQ0em0wLTY0QTQxNi4wNjQgNDE2LjA2NCAwIDAgMSA0ODAgOTcuMjE2djIyNS40NzJBMTkyLjUxMiAxOTIuNTEyIDAgMCAwIDMyMi42ODggNDgwSDk3LjIxNnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9oZWxwLWZpbGxlZC52dWVcbnZhciBoZWxwX2ZpbGxlZF9kZWZhdWx0ID0gaGVscF9maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2hlbHAudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTMyIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxMzIsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTMyLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazEzMiB9IGZyb20gXCJ2dWVcIjtcbnZhciBoZWxwX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDEzMih7XG4gIG5hbWU6IFwiSGVscFwiLFxuICBfX25hbWU6IFwiaGVscFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTMyKCksIF9jcmVhdGVFbGVtZW50QmxvY2sxMzIoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTEzMihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIm03NTkuOTM2IDgwNS4yNDgtOTAuOTQ0LTkxLjAwOEEyNTQuOTEyIDI1NC45MTIgMCAwIDEgNTEyIDc2OGEyNTQuOTEyIDI1NC45MTIgMCAwIDEtMTU2Ljk5Mi01My43NmwtOTAuOTQ0IDkxLjAwOEEzODIuNDY0IDM4Mi40NjQgMCAwIDAgNTEyIDg5NmM5NC41MjggMCAxODEuMTItMzQuMTc2IDI0Ny45MzYtOTAuNzUybTQ1LjMxMi00NS4zMTJBMzgyLjQ2NCAzODIuNDY0IDAgMCAwIDg5NiA1MTJjMC05NC41MjgtMzQuMTc2LTE4MS4xMi05MC43NTItMjQ3LjkzNmwtOTEuMDA4IDkwLjk0NEM3NDcuOTA0IDM5OC40IDc2OCA0NTIuODY0IDc2OCA1MTJjMCA1OS4xMzYtMjAuMDk2IDExMy42LTUzLjc2IDE1Ni45OTJsOTEuMDA4IDkwLjk0NHptLTQ1LjMxMi01NDEuMTg0QTM4Mi40NjQgMzgyLjQ2NCAwIDAgMCA1MTIgMTI4Yy05NC41MjggMC0xODEuMTIgMzQuMTc2LTI0Ny45MzYgOTAuNzUybDkwLjk0NCA5MS4wMDhBMjU0LjkxMiAyNTQuOTEyIDAgMCAxIDUxMiAyNTZjNTkuMTM2IDAgMTEzLjYgMjAuMDk2IDE1Ni45OTIgNTMuNzZsOTAuOTQ0LTkxLjAwOHptLTU0MS4xODQgNDUuMzEyQTM4Mi40NjQgMzgyLjQ2NCAwIDAgMCAxMjggNTEyYzAgOTQuNTI4IDM0LjE3NiAxODEuMTIgOTAuNzUyIDI0Ny45MzZsOTEuMDA4LTkwLjk0NEEyNTQuOTEyIDI1NC45MTIgMCAwIDEgMjU2IDUxMmMwLTU5LjEzNiAyMC4wOTYtMTEzLjYgNTMuNzYtMTU2Ljk5MnptNDE3LjI4IDM5NC40OTZhMTk0LjU2IDE5NC41NiAwIDAgMCAyMi41MjgtMjIuNTI4QzY4Ni45MTIgNjAyLjU2IDcwNCA1NTkuMjMyIDcwNCA1MTJhMTkxLjIzMiAxOTEuMjMyIDAgMCAwLTY3Ljk2OC0xNDYuNTZBMTkxLjI5NiAxOTEuMjk2IDAgMCAwIDUxMiAzMjBhMTkxLjIzMiAxOTEuMjMyIDAgMCAwLTE0Ni41NiA2Ny45NjhDMzM3LjA4OCA0MjEuNDQgMzIwIDQ2NC43NjggMzIwIDUxMmExOTEuMjMyIDE5MS4yMzIgMCAwIDAgNjcuOTY4IDE0Ni41NkM0MjEuNDQgNjg2LjkxMiA0NjQuNzY4IDcwNCA1MTIgNzA0YzQ3LjI5NiAwIDkwLjU2LTE3LjA4OCAxMjQuMDMyLTQ1LjQ0ek01MTIgOTYwYTQ0OCA0NDggMCAxIDEgMC04OTYgNDQ4IDQ0OCAwIDAgMSAwIDg5NlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2hlbHAudnVlXG52YXIgaGVscF9kZWZhdWx0ID0gaGVscF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvaGlkZS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxMzMgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTEzMywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxMzMsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTMzIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGhpZGVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTMzKHtcbiAgbmFtZTogXCJIaWRlXCIsXG4gIF9fbmFtZTogXCJoaWRlXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxMzMoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazEzMyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTMzKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTg3Ni44IDE1Ni44YzAtOS42LTMuMi0xNi05LjYtMjIuNC02LjQtNi40LTEyLjgtOS42LTIyLjQtOS42LTkuNiAwLTE2IDMuMi0yMi40IDkuNkw3MzYgMjIwLjhjLTY0LTMyLTEzNy42LTUxLjItMjI0LTYwLjgtMTYwIDE2LTI4OCA3My42LTM3Ny42IDE3NkM0NC44IDQzOC40IDAgNDk2IDAgNTEyczQ4IDczLjYgMTM0LjQgMTc2YzIyLjQgMjUuNiA0NC44IDQ4IDczLjYgNjcuMmwtODYuNCA4OS42Yy02LjQgNi40LTkuNiAxMi44LTkuNiAyMi40IDAgOS42IDMuMiAxNiA5LjYgMjIuNCA2LjQgNi40IDEyLjggOS42IDIyLjQgOS42IDkuNiAwIDE2LTMuMiAyMi40LTkuNmw3MDQtNzEwLjRjMy4yLTYuNCA2LjQtMTIuOCA2LjQtMjIuNFptLTY0Ni40IDUyOGMtNzYuOC03MC40LTEyOC0xMjgtMTUzLjYtMTcyLjggMjguOC00OCA4MC0xMDUuNiAxNTMuNi0xNzIuOEMzMDQgMjcyIDQwMCAyMzAuNCA1MTIgMjI0YzY0IDMuMiAxMjQuOCAxOS4yIDE3NiA0NC44bC01NC40IDU0LjRDNTk4LjQgMzAwLjggNTYwIDI4OCA1MTIgMjg4Yy02NCAwLTExNS4yIDIyLjQtMTYwIDY0cy02NCA5Ni02NCAxNjBjMCA0OCAxMi44IDg5LjYgMzUuMiAxMjQuOEwyNTYgNzA3LjJjLTkuNi02LjQtMTkuMi0xNi0yNS42LTIyLjRabTE0MC44LTk2Yy0xMi44LTIyLjQtMTkuMi00OC0xOS4yLTc2LjggMC00NC44IDE2LTgzLjIgNDgtMTEyIDMyLTI4LjggNjcuMi00OCAxMTItNDggMjguOCAwIDU0LjQgNi40IDczLjYgMTkuMnpNODg5LjU5OSAzMzZjLTEyLjgtMTYtMjguOC0yOC44LTQxLjYtNDEuNmwtNDggNDhjNzMuNiA2Ny4yIDEyNC44IDEyNC44IDE1MC40IDE2OS42LTI4LjggNDgtODAgMTA1LjYtMTUzLjYgMTcyLjgtNzMuNiA2Ny4yLTE3Mi44IDEwOC44LTI4NC44IDExNS4yLTUxLjItMy4yLTk5LjItMTIuOC0xNDAuOC0yOC44bC00OCA0OGM1Ny42IDIyLjQgMTE4LjQgMzguNCAxODguOCA0NC44IDE2MC0xNiAyODgtNzMuNiAzNzcuNi0xNzZDOTc5LjE5OSA1ODUuNiAxMDI0IDUyOCAxMDI0IDUxMnMtNDguMDAxLTczLjYtMTM0LjQwMS0xNzZaXCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTEzMyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTEuOTk4IDY3MmMtMTIuOCAwLTI1LjYtMy4yLTM4LjQtNi40bC01MS4yIDUxLjJjMjguOCAxMi44IDU3LjYgMTkuMiA4OS42IDE5LjIgNjQgMCAxMTUuMi0yMi40IDE2MC02NCA0MS42LTQxLjYgNjQtOTYgNjQtMTYwIDAtMzItNi40LTY0LTE5LjItODkuNmwtNTEuMiA1MS4yYzMuMiAxMi44IDYuNCAyNS42IDYuNCAzOC40IDAgNDQuOC0xNiA4My4yLTQ4IDExMi0zMiAyOC44LTY3LjIgNDgtMTEyIDQ4WlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2hpZGUudnVlXG52YXIgaGlkZV9kZWZhdWx0ID0gaGlkZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvaGlzdG9ncmFtLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDEzNCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTM0LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazEzNCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMzQgfSBmcm9tIFwidnVlXCI7XG52YXIgaGlzdG9ncmFtX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDEzNCh7XG4gIG5hbWU6IFwiSGlzdG9ncmFtXCIsXG4gIF9fbmFtZTogXCJoaXN0b2dyYW1cIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazEzNCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTM0KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxMzQoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNDE2IDg5NlYxMjhoMTkydjc2OHptLTI4OCAwVjQ0OGgxOTJ2NDQ4em01NzYgMFYzMjBoMTkydjU3NnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9oaXN0b2dyYW0udnVlXG52YXIgaGlzdG9ncmFtX2RlZmF1bHQgPSBoaXN0b2dyYW1fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2hvbWUtZmlsbGVkLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDEzNSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTM1LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazEzNSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxMzUgfSBmcm9tIFwidnVlXCI7XG52YXIgaG9tZV9maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTM1KHtcbiAgbmFtZTogXCJIb21lRmlsbGVkXCIsXG4gIF9fbmFtZTogXCJob21lLWZpbGxlZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTM1KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxMzUoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTEzNShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTIgMTI4IDEyOCA0NDcuOTM2Vjg5NmgyNTUuOTM2VjY0MEg2NDB2MjU2aDI1NS45MzZWNDQ3LjkzNnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9ob21lLWZpbGxlZC52dWVcbnZhciBob21lX2ZpbGxlZF9kZWZhdWx0ID0gaG9tZV9maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2hvdC13YXRlci52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxMzYgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTEzNiwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxMzYsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTM2IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGhvdF93YXRlcl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxMzYoe1xuICBuYW1lOiBcIkhvdFdhdGVyXCIsXG4gIF9fbmFtZTogXCJob3Qtd2F0ZXJcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazEzNigpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTM2KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxMzYoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMjczLjA2NyA0NzcuODY3aDQ3Ny44NjZWNDA5LjZIMjczLjA2N3ptMCA2OC4yNjZ2NTEuMkExODcuNzMzIDE4Ny43MzMgMCAwIDAgNDYwLjggNzg1LjA2N2gxMDIuNGExODcuNzMzIDE4Ny43MzMgMCAwIDAgMTg3LjczMy0xODcuNzM0di01MS4ySDI3My4wNjd6bS0zNC4xMzQtMjA0LjhoNTQ2LjEzNGEzNC4xMzMgMzQuMTMzIDAgMCAxIDM0LjEzMyAzNC4xMzR2MjIxLjg2NmEyNTYgMjU2IDAgMCAxLTI1NiAyNTZINDYwLjhhMjU2IDI1NiAwIDAgMS0yNTYtMjU2VjM3NS40NjdhMzQuMTMzIDM0LjEzMyAwIDAgMSAzNC4xMzMtMzQuMTM0ek01MTIgMzQuMTMzYTM0LjEzMyAzNC4xMzMgMCAwIDEgMzQuMTMzIDM0LjEzNHYxNzAuNjY2YTM0LjEzMyAzNC4xMzMgMCAwIDEtNjguMjY2IDBWNjguMjY3QTM0LjEzMyAzNC4xMzMgMCAwIDEgNTEyIDM0LjEzM3pNMzc1LjQ2NyAxMDIuNGEzNC4xMzMgMzQuMTMzIDAgMCAxIDM0LjEzMyAzNC4xMzN2MTAyLjRhMzQuMTMzIDM0LjEzMyAwIDAgMS02OC4yNjcgMHYtMTAyLjRhMzQuMTMzIDM0LjEzMyAwIDAgMSAzNC4xMzQtMzQuMTMzbTI3My4wNjYgMGEzNC4xMzMgMzQuMTMzIDAgMCAxIDM0LjEzNCAzNC4xMzN2MTAyLjRhMzQuMTMzIDM0LjEzMyAwIDEgMS02OC4yNjcgMHYtMTAyLjRhMzQuMTMzIDM0LjEzMyAwIDAgMSAzNC4xMzMtMzQuMTMzTTE3MC42NjcgOTIxLjY2OGg2ODIuNjY2YTM0LjEzMyAzNC4xMzMgMCAxIDEgMCA2OC4yNjdIMTcwLjY2N2EzNC4xMzMgMzQuMTMzIDAgMSAxIDAtNjguMjY3elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2hvdC13YXRlci52dWVcbnZhciBob3Rfd2F0ZXJfZGVmYXVsdCA9IGhvdF93YXRlcl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvaG91c2UudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTM3IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxMzcsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTM3LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazEzNyB9IGZyb20gXCJ2dWVcIjtcbnZhciBob3VzZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxMzcoe1xuICBuYW1lOiBcIkhvdXNlXCIsXG4gIF9fbmFtZTogXCJob3VzZVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTM3KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxMzcoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTEzNyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xOTIgNDEzLjk1MlY4OTZoNjQwVjQxMy45NTJMNTEyIDE0Ny4zMjh6TTEzOS41MiAzNzQuNGwzNTItMjkzLjMxMmEzMiAzMiAwIDAgMSA0MC45NiAwbDM1MiAyOTMuMzEyQTMyIDMyIDAgMCAxIDg5NiAzOTguOTc2VjkyOGEzMiAzMiAwIDAgMS0zMiAzMkgxNjBhMzIgMzIgMCAwIDEtMzItMzJWMzk4Ljk3NmEzMiAzMiAwIDAgMSAxMS41Mi0yNC41NzZcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9ob3VzZS52dWVcbnZhciBob3VzZV9kZWZhdWx0ID0gaG91c2VfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2ljZS1jcmVhbS1yb3VuZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxMzggfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTEzOCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxMzgsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTM4IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGljZV9jcmVhbV9yb3VuZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxMzgoe1xuICBuYW1lOiBcIkljZUNyZWFtUm91bmRcIixcbiAgX19uYW1lOiBcImljZS1jcmVhbS1yb3VuZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTM4KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxMzgoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTEzOChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIm0zMDguMzUyIDQ4OS4zNDQgMjI2LjMwNCAyMjYuMzA0YTMyIDMyIDAgMCAwIDQ1LjI0OCAwTDc4My41NTIgNTEyQTE5MiAxOTIgMCAxIDAgNTEyIDI0MC40NDhMMzA4LjM1MiA0NDQuMTZhMzIgMzIgMCAwIDAgMCA0NS4yNDh6bTEzNS43NDQgMjI2LjMwNEwzMDguMzUyIDg1MS4zOTJhOTYgOTYgMCAwIDEtMTM1Ljc0NC0xMzUuNzQ0bDEzNS43NDQtMTM1Ljc0NC00NS4yNDgtNDUuMjQ4YTk2IDk2IDAgMCAxIDAtMTM1LjgwOEw0NjYuNzUyIDE5NS4yQTI1NiAyNTYgMCAwIDEgODI4LjggNTU3LjI0OEw2MjUuMTUyIDc2MC45NmE5NiA5NiAwIDAgMS0xMzUuODA4IDBsLTQ1LjI0OC00NS4yNDh6TTM5OC44NDggNjcwLjQgMzUzLjYgNjI1LjE1MiAyMTcuODU2IDc2MC44OTZhMzIgMzIgMCAwIDAgNDUuMjQ4IDQ1LjI0OHptMjQ4Ljk2LTM4NC42NGEzMiAzMiAwIDAgMSAwIDQ1LjI0OEw0NjYuNjI0IDUxMmEzMiAzMiAwIDEgMS00NS4xODQtNDUuMjQ4bDE4MC45OTItMTgxLjA1NmEzMiAzMiAwIDAgMSA0NS4yNDggMHptOTAuNDk2IDkwLjQ5NmEzMiAzMiAwIDAgMSAwIDQ1LjI0OEw1NTcuMjQ4IDYwMi40OTZBMzIgMzIgMCAxIDEgNTEyIDU1Ny4yNDhsMTgwLjk5Mi0xODAuOTkyYTMyIDMyIDAgMCAxIDQ1LjMxMiAwelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2ljZS1jcmVhbS1yb3VuZC52dWVcbnZhciBpY2VfY3JlYW1fcm91bmRfZGVmYXVsdCA9IGljZV9jcmVhbV9yb3VuZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvaWNlLWNyZWFtLXNxdWFyZS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxMzkgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTEzOSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxMzksIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTM5IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGljZV9jcmVhbV9zcXVhcmVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTM5KHtcbiAgbmFtZTogXCJJY2VDcmVhbVNxdWFyZVwiLFxuICBfX25hbWU6IFwiaWNlLWNyZWFtLXNxdWFyZVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTM5KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxMzkoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTEzOShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk00MTYgNjQwaDI1NmEzMiAzMiAwIDAgMCAzMi0zMlYxNjBhMzIgMzIgMCAwIDAtMzItMzJIMzUyYTMyIDMyIDAgMCAwLTMyIDMydjQ0OGEzMiAzMiAwIDAgMCAzMiAzMnptMTkyIDY0djE2MGE5NiA5NiAwIDAgMS0xOTIgMFY3MDRoLTY0YTk2IDk2IDAgMCAxLTk2LTk2VjE2MGE5NiA5NiAwIDAgMSA5Ni05NmgzMjBhOTYgOTYgMCAwIDEgOTYgOTZ2NDQ4YTk2IDk2IDAgMCAxLTk2IDk2em0tNjQgMGgtNjR2MTYwYTMyIDMyIDAgMSAwIDY0IDB6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvaWNlLWNyZWFtLXNxdWFyZS52dWVcbnZhciBpY2VfY3JlYW1fc3F1YXJlX2RlZmF1bHQgPSBpY2VfY3JlYW1fc3F1YXJlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9pY2UtY3JlYW0udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTQwIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxNDAsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTQwLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE0MCB9IGZyb20gXCJ2dWVcIjtcbnZhciBpY2VfY3JlYW1fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTQwKHtcbiAgbmFtZTogXCJJY2VDcmVhbVwiLFxuICBfX25hbWU6IFwiaWNlLWNyZWFtXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxNDAoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE0MChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTQwKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTEyOC42NCA0NDhhMjA4IDIwOCAwIDAgMSAxOTMuNTM2LTE5MS41NTIgMjI0IDIyNCAwIDAgMSA0NDUuMjQ4IDE1LjQ4OEEyMDguMTI4IDIwOC4xMjggMCAwIDEgODk0Ljc4NCA0NDhIODk2TDU0OC44IDk4My42OGEzMiAzMiAwIDAgMS01My4yNDguNzA0TDEyOCA0NDh6bTY0LjI1NiAwaDI4Ni4yMDhhMTQ0IDE0NCAwIDAgMC0yODYuMjA4IDB6bTM1MS4zNiAwaDI4Ni4yNzJhMTQ0IDE0NCAwIDAgMC0yODYuMjcyIDB6bS0yOTQuODQ4IDY0IDI3MS44MDggMzk2LjYwOEw3NzguMjQgNTEySDI0OS40MDh6TTUxMS42OCAzNTIuNjRhMjA3Ljg3MiAyMDcuODcyIDAgMCAxIDE4OS4xODQtOTYuMTkyIDE2MCAxNjAgMCAwIDAtMzE0Ljc1MiA1LjYzMmM1Mi42MDggMTIuOTkyIDk3LjI4IDQ2LjA4IDEyNS41NjggOTAuNTZcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9pY2UtY3JlYW0udnVlXG52YXIgaWNlX2NyZWFtX2RlZmF1bHQgPSBpY2VfY3JlYW1fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2ljZS1kcmluay52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNDEgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE0MSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNDEsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTQxIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGljZV9kcmlua192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNDEoe1xuICBuYW1lOiBcIkljZURyaW5rXCIsXG4gIF9fbmFtZTogXCJpY2UtZHJpbmtcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE0MSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTQxKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNDEoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDQ0OHYxMjhoMjM5LjY4bDE2LjA2NC0xMjh6bS02NCAwSDI1Ni4yNTZsMTYuMDY0IDEyOEg0NDh6bTY0LTI1NS4zNlYzODRoMjQ3Ljc0NEEyNTYuMTI4IDI1Ni4xMjggMCAwIDAgNTEyIDE5Mi42NG0tNjQgOC4wNjRBMjU2LjQ0OCAyNTYuNDQ4IDAgMCAwIDI2NC4yNTYgMzg0SDQ0OHptNjQtNzIuMDY0QTMyMC4xMjggMzIwLjEyOCAwIDAgMSA4MjUuNDcyIDM4NEg4OTZhMzIgMzIgMCAxIDEgMCA2NGgtNjR2MS45MmwtNTYuOTYgNDU0LjAxNkE2NCA2NCAwIDAgMSA3MTEuNTUyIDk2MEgzMTIuNDQ4YTY0IDY0IDAgMCAxLTYzLjQ4OC01Ni4wNjRMMTkyIDQ0OS45MlY0NDhoLTY0YTMyIDMyIDAgMCAxIDAtNjRoNzAuNTI4QTMyMC4zODQgMzIwLjM4NCAwIDAgMSA0NDggMTM1LjA0Vjk2YTk2IDk2IDAgMCAxIDk2LTk2aDEyOGEzMiAzMiAwIDEgMSAwIDY0SDU0NGEzMiAzMiAwIDAgMC0zMiAzMnpNNzQzLjY4IDY0MEgyODAuMzJsMzIuMTI4IDI1NmgzOTkuMTA0elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2ljZS1kcmluay52dWVcbnZhciBpY2VfZHJpbmtfZGVmYXVsdCA9IGljZV9kcmlua192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvaWNlLXRlYS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNDIgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE0Miwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNDIsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTQyIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGljZV90ZWFfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTQyKHtcbiAgbmFtZTogXCJJY2VUZWFcIixcbiAgX19uYW1lOiBcImljZS10ZWFcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE0MigpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTQyKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNDIoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMTk3LjY5NiAyNTkuNjQ4YTMyMC4xMjggMzIwLjEyOCAwIDAgMSA2MjguNjA4IDBBOTYgOTYgMCAwIDEgODk2IDM1MnY2NGE5NiA5NiAwIDAgMS03MS42MTYgOTIuODY0bC00OS40MDggMzk1LjA3MkE2NCA2NCAwIDAgMSA3MTEuNDg4IDk2MEgzMTIuNTEyYTY0IDY0IDAgMCAxLTYzLjQ4OC01Ni4wNjRsLTQ5LjQwOC0zOTUuMDcyQTk2IDk2IDAgMCAxIDEyOCA0MTZ2LTY0YTk2IDk2IDAgMCAxIDY5LjY5Ni05Mi4zNTJNMjY0LjA2NCAyNTZoNDk1Ljg3MmEyNTYuMTI4IDI1Ni4xMjggMCAwIDAtNDk1Ljg3MiAwbTQ5NS40MjQgMjU2SDI2NC41MTJsNDggMzg0aDM5OC45NzZ6TTIyNCA0NDhoNTc2YTMyIDMyIDAgMCAwIDMyLTMydi02NGEzMiAzMiAwIDAgMC0zMi0zMkgyMjRhMzIgMzIgMCAwIDAtMzIgMzJ2NjRhMzIgMzIgMCAwIDAgMzIgMzJtMTYwIDE5Mmg2NHY2NGgtNjR6bTE5MiA2NGg2NHY2NGgtNjR6bS0xMjggNjRoNjR2NjRoLTY0em02NC0xOTJoNjR2NjRoLTY0elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2ljZS10ZWEudnVlXG52YXIgaWNlX3RlYV9kZWZhdWx0ID0gaWNlX3RlYV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvaW5mby1maWxsZWQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTQzIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxNDMsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTQzLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE0MyB9IGZyb20gXCJ2dWVcIjtcbnZhciBpbmZvX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNDMoe1xuICBuYW1lOiBcIkluZm9GaWxsZWRcIixcbiAgX19uYW1lOiBcImluZm8tZmlsbGVkXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxNDMoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE0MyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTQzKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiA2NGE0NDggNDQ4IDAgMSAxIDAgODk2LjA2NEE0NDggNDQ4IDAgMCAxIDUxMiA2NG02Ny4yIDI3NS4wNzJjMzMuMjggMCA2MC4yODgtMjMuMTA0IDYwLjI4OC01Ny4zNDRzLTI3LjA3Mi01Ny4zNDQtNjAuMjg4LTU3LjM0NGMtMzMuMjggMC02MC4xNiAyMy4xMDQtNjAuMTYgNTcuMzQ0czI2Ljg4IDU3LjM0NCA2MC4xNiA1Ny4zNDRNNTkwLjkxMiA2OTkuMmMwLTYuODQ4IDIuMzY4LTI0LjY0IDEuMDI0LTM0Ljc1MmwtNTIuNjA4IDYwLjU0NGMtMTAuODggMTEuNDU2LTI0LjUxMiAxOS4zOTItMzAuOTEyIDE3LjI4YTEyLjk5MiAxMi45OTIgMCAwIDEtOC4yNTYtMTQuNzJsODcuNjgtMjc2Ljk5MmM3LjE2OC0zNS4xMzYtMTIuNTQ0LTY3LjItNTQuMzM2LTcxLjI5Ni00NC4wOTYgMC0xMDguOTkyIDQ0LjczNi0xNDguNDggMTAxLjUwNCAwIDYuNzg0LTEuMjggMjMuNjguMDY0IDMzLjc5Mmw1Mi41NDQtNjAuNjA4YzEwLjg4LTExLjMyOCAyMy41NTItMTkuMzI4IDI5Ljk1Mi0xNy4xNTJhMTIuOCAxMi44IDAgMCAxIDcuODA4IDE2LjEyOEwzODguNDggNzI4LjU3NmMtMTAuMDQ4IDMyLjI1NiA4Ljk2IDYzLjg3MiA1NS4wNCA3MS4wNCA2Ny44NCAwIDEwNy45MDQtNDMuNjQ4IDE0Ny40NTYtMTAwLjQxNnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9pbmZvLWZpbGxlZC52dWVcbnZhciBpbmZvX2ZpbGxlZF9kZWZhdWx0ID0gaW5mb19maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2lwaG9uZS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNDQgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE0NCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNDQsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTQ0IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGlwaG9uZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNDQoe1xuICBuYW1lOiBcIklwaG9uZVwiLFxuICBfX25hbWU6IFwiaXBob25lXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxNDQoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE0NChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTQ0KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTIyNCA3Njh2OTYuMDY0YTY0IDY0IDAgMCAwIDY0IDY0aDQ0OGE2NCA2NCAwIDAgMCA2NC02NFY3Njh6bTAtNjRoNTc2VjE2MGE2NCA2NCAwIDAgMC02NC02NEgyODhhNjQgNjQgMCAwIDAtNjQgNjR6bTMyIDI4OGE5NiA5NiAwIDAgMS05Ni05NlYxMjhhOTYgOTYgMCAwIDEgOTYtOTZoNTEyYTk2IDk2IDAgMCAxIDk2IDk2djc2OGE5NiA5NiAwIDAgMS05NiA5NnptMzA0LTE0NGE0OCA0OCAwIDEgMS05NiAwIDQ4IDQ4IDAgMCAxIDk2IDBcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9pcGhvbmUudnVlXG52YXIgaXBob25lX2RlZmF1bHQgPSBpcGhvbmVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2tleS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNDUgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE0NSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNDUsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTQ1IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGtleV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNDUoe1xuICBuYW1lOiBcIktleVwiLFxuICBfX25hbWU6IFwia2V5XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxNDUoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE0NShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTQ1KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTQ0OCA0NTYuMDY0Vjk2YTMyIDMyIDAgMCAxIDMyLTMyLjA2NEw2NzIgNjRhMzIgMzIgMCAwIDEgMCA2NEg1MTJ2MTI4aDE2MGEzMiAzMiAwIDAgMSAwIDY0SDUxMnYxMjhhMjU2IDI1NiAwIDEgMS02NCA4LjA2NE01MTIgODk2YTE5MiAxOTIgMCAxIDAgMC0zODQgMTkyIDE5MiAwIDAgMCAwIDM4NFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2tleS52dWVcbnZhciBrZXlfZGVmYXVsdCA9IGtleV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMva25pZmUtZm9yay52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNDYgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE0Niwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNDYsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTQ2IH0gZnJvbSBcInZ1ZVwiO1xudmFyIGtuaWZlX2ZvcmtfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTQ2KHtcbiAgbmFtZTogXCJLbmlmZUZvcmtcIixcbiAgX19uYW1lOiBcImtuaWZlLWZvcmtcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE0NigpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTQ2KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNDYoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMjU2IDQxMC41NlY5NmEzMiAzMiAwIDAgMSA2NCAwdjMxNC41NkE5NiA5NiAwIDAgMCAzODQgMzIwVjk2YTMyIDMyIDAgMCAxIDY0IDB2MjI0YTE2MCAxNjAgMCAwIDEtMTI4IDE1Ni44VjkyOGEzMiAzMiAwIDEgMS02NCAwVjQ3Ni44QTE2MCAxNjAgMCAwIDEgMTI4IDMyMFY5NmEzMiAzMiAwIDAgMSA2NCAwdjIyNGE5NiA5NiAwIDAgMCA2NCA5MC41Nm0zODQtMjUwLjI0VjU0NGgxMjYuNzJjLTMuMzI4LTc4LjcyLTEyLjkyOC0xNDcuOTY4LTI4LjYwOC0yMDcuNzQ0LTE0LjMzNi01NC41MjgtNDYuODQ4LTExMy4zNDQtOTguMTEyLTE3NS44NzJ6TTY0MCA2MDh2MzIwYTMyIDMyIDAgMSAxLTY0IDBWNjRoNjRjODUuMzEyIDg5LjQ3MiAxMzguNjg4IDE3NC44NDggMTYwIDI1NiAyMS4zMTIgODEuMTUyIDMyIDE3Ny4xNTIgMzIgMjg4elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2tuaWZlLWZvcmsudnVlXG52YXIga25pZmVfZm9ya19kZWZhdWx0ID0ga25pZmVfZm9ya192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvbGlnaHRuaW5nLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE0NyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTQ3LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE0NywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxNDcgfSBmcm9tIFwidnVlXCI7XG52YXIgbGlnaHRuaW5nX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE0Nyh7XG4gIG5hbWU6IFwiTGlnaHRuaW5nXCIsXG4gIF9fbmFtZTogXCJsaWdodG5pbmdcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE0NygpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTQ3KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNDcoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMjg4IDY3MS4zNnY2NC4xMjhBMjM5LjgwOCAyMzkuODA4IDAgMCAxIDYzLjc0NCA0OTYuMTkyYTI0MC4zMiAyNDAuMzIgMCAwIDEgMTk5LjQ4OC0yMzYuOCAyNTYuMTI4IDI1Ni4xMjggMCAwIDEgNDg3Ljg3Mi0zMC45NzZBMjU2LjA2NCAyNTYuMDY0IDAgMCAxIDczNiA3MzQuMDE2di02NC43NjhhMTkyIDE5MiAwIDAgMCAzLjMyOC0zNzcuOTJsLTM1LjItNi41OTItMTIuOC0zMy40MDhhMTkyLjA2NCAxOTIuMDY0IDAgMCAwLTM2NS45NTIgMjMuMjMybC05LjkyIDQwLjg5Ni00MS40NzIgNy4wNGExNzYuMzIgMTc2LjMyIDAgMCAwLTE0Ni4yNCAxNzMuNTY4YzAgOTEuOTY4IDcwLjQ2NCAxNjcuMzYgMTYwLjI1NiAxNzUuMjMyelwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNDcoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNDE2IDczNmEzMiAzMiAwIDAgMS0yNy43NzYtNDcuODcybDEyOC0yMjRhMzIgMzIgMCAxIDEgNTUuNTUyIDMxLjc0NEw0NzEuMTY4IDY3Mkg2MDhhMzIgMzIgMCAwIDEgMjcuNzc2IDQ3Ljg3MmwtMTI4IDIyNGEzMiAzMiAwIDEgMS01NS42OC0zMS43NDRMNTUyLjk2IDczNnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9saWdodG5pbmcudnVlXG52YXIgbGlnaHRuaW5nX2RlZmF1bHQgPSBsaWdodG5pbmdfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2xpbmsudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTQ4IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxNDgsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTQ4LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE0OCB9IGZyb20gXCJ2dWVcIjtcbnZhciBsaW5rX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE0OCh7XG4gIG5hbWU6IFwiTGlua1wiLFxuICBfX25hbWU6IFwibGlua1wiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTQ4KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxNDgoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE0OChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk03MTUuNjQ4IDYyNS4xNTIgNjcwLjQgNTc5LjkwNGw5MC40OTYtOTAuNTZjNzUuMDA4LTc0Ljk0NCA4NS4xMi0xODYuMzY4IDIyLjY1Ni0yNDguODk2LTYyLjUyOC02Mi40NjQtMTczLjk1Mi01Mi4zNTItMjQ4Ljk2IDIyLjY1Nkw0NDQuMTYgMzUzLjZsLTQ1LjI0OC00NS4yNDggOTAuNDk2LTkwLjQ5NmMxMDAuMDMyLTk5Ljk2OCAyNTEuOTY4LTExMC4wOCAzMzkuNDU2LTIyLjY1NiA4Ny40ODggODcuNDg4IDc3LjMxMiAyMzkuNDI0LTIyLjY1NiAzMzkuNDU2bC05MC40OTYgOTAuNDk2em0tOTAuNDk2IDkwLjQ5Ni05MC40OTYgOTAuNDk2QzQzNC42MjQgOTA2LjExMiAyODIuNjg4IDkxNi4yMjQgMTk1LjIgODI4LjhjLTg3LjQ4OC04Ny40ODgtNzcuMzEyLTIzOS40MjQgMjIuNjU2LTMzOS40NTZsOTAuNDk2LTkwLjQ5NiA0NS4yNDggNDUuMjQ4LTkwLjQ5NiA5MC41NmMtNzUuMDA4IDc0Ljk0NC04NS4xMiAxODYuMzY4LTIyLjY1NiAyNDguODk2IDYyLjUyOCA2Mi40NjQgMTczLjk1MiA1Mi4zNTIgMjQ4Ljk2LTIyLjY1Nmw5MC40OTYtOTAuNDk2em0wLTM2Mi4wNDggNDUuMjQ4IDQ1LjI0OEwzOTguODQ4IDY3MC40IDM1My42IDYyNS4xNTJ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvbGluay52dWVcbnZhciBsaW5rX2RlZmF1bHQgPSBsaW5rX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9saXN0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE0OSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTQ5LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE0OSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxNDkgfSBmcm9tIFwidnVlXCI7XG52YXIgbGlzdF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNDkoe1xuICBuYW1lOiBcIkxpc3RcIixcbiAgX19uYW1lOiBcImxpc3RcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE0OSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTQ5KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNDkoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNzA0IDE5MmgxNjB2NzM2SDE2MFYxOTJoMTYwdjY0aDM4NHpNMjg4IDUxMmg0NDh2LTY0SDI4OHptMCAyNTZoNDQ4di02NEgyODh6bTk2LTU3NlY5NmgyNTZ2OTZ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvbGlzdC52dWVcbnZhciBsaXN0X2RlZmF1bHQgPSBsaXN0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9sb2FkaW5nLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE1MCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTUwLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE1MCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxNTAgfSBmcm9tIFwidnVlXCI7XG52YXIgbG9hZGluZ192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNTAoe1xuICBuYW1lOiBcIkxvYWRpbmdcIixcbiAgX19uYW1lOiBcImxvYWRpbmdcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE1MCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTUwKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNTAoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDY0YTMyIDMyIDAgMCAxIDMyIDMydjE5MmEzMiAzMiAwIDAgMS02NCAwVjk2YTMyIDMyIDAgMCAxIDMyLTMybTAgNjQwYTMyIDMyIDAgMCAxIDMyIDMydjE5MmEzMiAzMiAwIDEgMS02NCAwVjczNmEzMiAzMiAwIDAgMSAzMi0zMm00NDgtMTkyYTMyIDMyIDAgMCAxLTMyIDMySDczNmEzMiAzMiAwIDEgMSAwLTY0aDE5MmEzMiAzMiAwIDAgMSAzMiAzMm0tNjQwIDBhMzIgMzIgMCAwIDEtMzIgMzJIOTZhMzIgMzIgMCAwIDEgMC02NGgxOTJhMzIgMzIgMCAwIDEgMzIgMzJNMTk1LjIgMTk1LjJhMzIgMzIgMCAwIDEgNDUuMjQ4IDBMMzc2LjMyIDMzMS4wMDhhMzIgMzIgMCAwIDEtNDUuMjQ4IDQ1LjI0OEwxOTUuMiAyNDAuNDQ4YTMyIDMyIDAgMCAxIDAtNDUuMjQ4em00NTIuNTQ0IDQ1Mi41NDRhMzIgMzIgMCAwIDEgNDUuMjQ4IDBMODI4LjggNzgzLjU1MmEzMiAzMiAwIDAgMS00NS4yNDggNDUuMjQ4TDY0Ny43NDQgNjkyLjk5MmEzMiAzMiAwIDAgMSAwLTQ1LjI0OHpNODI4LjggMTk1LjI2NGEzMiAzMiAwIDAgMSAwIDQ1LjE4NEw2OTIuOTkyIDM3Ni4zMmEzMiAzMiAwIDAgMS00NS4yNDgtNDUuMjQ4bDEzNS44MDgtMTM1LjgwOGEzMiAzMiAwIDAgMSA0NS4yNDggMG0tNDUyLjU0NCA0NTIuNDhhMzIgMzIgMCAwIDEgMCA0NS4yNDhMMjQwLjQ0OCA4MjguOGEzMiAzMiAwIDAgMS00NS4yNDgtNDUuMjQ4bDEzNS44MDgtMTM1LjgwOGEzMiAzMiAwIDAgMSA0NS4yNDggMHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9sb2FkaW5nLnZ1ZVxudmFyIGxvYWRpbmdfZGVmYXVsdCA9IGxvYWRpbmdfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2xvY2F0aW9uLWZpbGxlZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNTEgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE1MSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNTEsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTUxIH0gZnJvbSBcInZ1ZVwiO1xudmFyIGxvY2F0aW9uX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNTEoe1xuICBuYW1lOiBcIkxvY2F0aW9uRmlsbGVkXCIsXG4gIF9fbmFtZTogXCJsb2NhdGlvbi1maWxsZWRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE1MSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTUxKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNTEoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDkyOGMyMy45MzYgMCAxMTcuNTA0LTY4LjM1MiAxOTIuMDY0LTE1My4xNTJDODAzLjQ1NiA2NjEuODg4IDg2NCA1MzUuODA4IDg2NCA0MTZjMC0xODkuNjMyLTE1NS44NC0zMjAtMzUyLTMyMFMxNjAgMjI2LjM2OCAxNjAgNDE2YzAgMTIwLjMyIDYwLjU0NCAyNDYuNCAxNTkuOTM2IDM1OS4yMzJDMzk0LjQzMiA4NTkuODQgNDg4IDkyOCA1MTIgOTI4bTAtNDM1LjJhNjQgNjQgMCAxIDAgMC0xMjggNjQgNjQgMCAwIDAgMCAxMjhtMCAxNDAuOGEyMDQuOCAyMDQuOCAwIDEgMSAwLTQwOS42IDIwNC44IDIwNC44IDAgMCAxIDAgNDA5LjZcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9sb2NhdGlvbi1maWxsZWQudnVlXG52YXIgbG9jYXRpb25fZmlsbGVkX2RlZmF1bHQgPSBsb2NhdGlvbl9maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2xvY2F0aW9uLWluZm9ybWF0aW9uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE1MiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTUyLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE1MiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxNTIgfSBmcm9tIFwidnVlXCI7XG52YXIgbG9jYXRpb25faW5mb3JtYXRpb25fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTUyKHtcbiAgbmFtZTogXCJMb2NhdGlvbkluZm9ybWF0aW9uXCIsXG4gIF9fbmFtZTogXCJsb2NhdGlvbi1pbmZvcm1hdGlvblwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTUyKCksIF9jcmVhdGVFbGVtZW50QmxvY2sxNTIoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE1MihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0yODggODk2aDQ0OHEzMiAwIDMyIDMydC0zMiAzMkgyODhxLTMyIDAtMzItMzJ0MzItMzJcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTUyKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTgwMCA0MTZhMjg4IDI4OCAwIDEgMC01NzYgMGMwIDExOC4xNDQgOTQuNTI4IDI3Mi4xMjggMjg4IDQ1Ni41NzZDNzA1LjQ3MiA2ODguMTI4IDgwMCA1MzQuMTQ0IDgwMCA0MTZNNTEyIDk2MEMyNzcuMzEyIDc0Ni42ODggMTYwIDU2NS4zMTIgMTYwIDQxNmEzNTIgMzUyIDAgMCAxIDcwNCAwYzAgMTQ5LjMxMi0xMTcuMzEyIDMzMC42ODgtMzUyIDU0NFwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNTIoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDUxMmE5NiA5NiAwIDEgMCAwLTE5MiA5NiA5NiAwIDAgMCAwIDE5Mm0wIDY0YTE2MCAxNjAgMCAxIDEgMC0zMjAgMTYwIDE2MCAwIDAgMSAwIDMyMFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2xvY2F0aW9uLWluZm9ybWF0aW9uLnZ1ZVxudmFyIGxvY2F0aW9uX2luZm9ybWF0aW9uX2RlZmF1bHQgPSBsb2NhdGlvbl9pbmZvcm1hdGlvbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvbG9jYXRpb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTUzIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxNTMsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTUzLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE1MyB9IGZyb20gXCJ2dWVcIjtcbnZhciBsb2NhdGlvbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNTMoe1xuICBuYW1lOiBcIkxvY2F0aW9uXCIsXG4gIF9fbmFtZTogXCJsb2NhdGlvblwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTUzKCksIF9jcmVhdGVFbGVtZW50QmxvY2sxNTMoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE1MyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk04MDAgNDE2YTI4OCAyODggMCAxIDAtNTc2IDBjMCAxMTguMTQ0IDk0LjUyOCAyNzIuMTI4IDI4OCA0NTYuNTc2QzcwNS40NzIgNjg4LjEyOCA4MDAgNTM0LjE0NCA4MDAgNDE2TTUxMiA5NjBDMjc3LjMxMiA3NDYuNjg4IDE2MCA1NjUuMzEyIDE2MCA0MTZhMzUyIDM1MiAwIDAgMSA3MDQgMGMwIDE0OS4zMTItMTE3LjMxMiAzMzAuNjg4LTM1MiA1NDRcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTUzKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiA1MTJhOTYgOTYgMCAxIDAgMC0xOTIgOTYgOTYgMCAwIDAgMCAxOTJtMCA2NGExNjAgMTYwIDAgMSAxIDAtMzIwIDE2MCAxNjAgMCAwIDEgMCAzMjBcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9sb2NhdGlvbi52dWVcbnZhciBsb2NhdGlvbl9kZWZhdWx0ID0gbG9jYXRpb25fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL2xvY2sudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTU0IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxNTQsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTU0LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE1NCB9IGZyb20gXCJ2dWVcIjtcbnZhciBsb2NrX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE1NCh7XG4gIG5hbWU6IFwiTG9ja1wiLFxuICBfX25hbWU6IFwibG9ja1wiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTU0KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxNTQoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE1NChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0yMjQgNDQ4YTMyIDMyIDAgMCAwLTMyIDMydjM4NGEzMiAzMiAwIDAgMCAzMiAzMmg1NzZhMzIgMzIgMCAwIDAgMzItMzJWNDgwYTMyIDMyIDAgMCAwLTMyLTMyem0wLTY0aDU3NmE5NiA5NiAwIDAgMSA5NiA5NnYzODRhOTYgOTYgMCAwIDEtOTYgOTZIMjI0YTk2IDk2IDAgMCAxLTk2LTk2VjQ4MGE5NiA5NiAwIDAgMSA5Ni05NlwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNTQoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDU0NGEzMiAzMiAwIDAgMSAzMiAzMnYxOTJhMzIgMzIgMCAxIDEtNjQgMFY1NzZhMzIgMzIgMCAwIDEgMzItMzJtMTkyLTE2MHYtNjRhMTkyIDE5MiAwIDEgMC0zODQgMHY2NHpNNTEyIDY0YTI1NiAyNTYgMCAwIDEgMjU2IDI1NnYxMjhIMjU2VjMyMEEyNTYgMjU2IDAgMCAxIDUxMiA2NFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2xvY2sudnVlXG52YXIgbG9ja19kZWZhdWx0ID0gbG9ja192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvbG9sbGlwb3AudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTU1IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxNTUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTU1LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE1NSB9IGZyb20gXCJ2dWVcIjtcbnZhciBsb2xsaXBvcF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNTUoe1xuICBuYW1lOiBcIkxvbGxpcG9wXCIsXG4gIF9fbmFtZTogXCJsb2xsaXBvcFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTU1KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxNTUoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE1NShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTMuMjggNDQ4YTY0IDY0IDAgMSAxIDc2LjU0NCA0OS43MjhBOTYgOTYgMCAwIDAgNzY4IDQ0OGg2NGExNjAgMTYwIDAgMCAxLTMyMCAwem0tMTI2Ljk3Ni0yOS42OTZhMjU2IDI1NiAwIDEgMCA0My41Mi0xODAuNDhBMjU2IDI1NiAwIDAgMSA4MzIgNDQ4aC02NGExOTIgMTkyIDAgMCAwLTM4MS42OTYtMjkuNjk2bTEwNS42NjQgMjQ5LjQ3MkwyODUuNjk2IDg3NC4wNDhhOTYgOTYgMCAwIDEtMTM1LjY4LTEzNS43NDRsMjA2LjIwOC0yMDYuMjcyYTMyMCAzMjAgMCAxIDEgMTM1Ljc0NCAxMzUuNzQ0em0tNTQuNDY0LTM2LjAzMmEzMjEuOTIgMzIxLjkyIDAgMCAxLTQ1LjI0OC00NS4yNDhMMTk1LjIgNzgzLjU1MmEzMiAzMiAwIDEgMCA0NS4yNDggNDUuMjQ4bDE5Ny4wNTYtMTk3LjEyelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL2xvbGxpcG9wLnZ1ZVxudmFyIGxvbGxpcG9wX2RlZmF1bHQgPSBsb2xsaXBvcF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvbWFnaWMtc3RpY2sudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTU2IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxNTYsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTU2LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE1NiB9IGZyb20gXCJ2dWVcIjtcbnZhciBtYWdpY19zdGlja192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNTYoe1xuICBuYW1lOiBcIk1hZ2ljU3RpY2tcIixcbiAgX19uYW1lOiBcIm1hZ2ljLXN0aWNrXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxNTYoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE1NihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTU2KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiA2NGg2NHYxOTJoLTY0em0wIDU3Nmg2NHYxOTJoLTY0ek0xNjAgNDgwdi02NGgxOTJ2NjR6bTU3NiAwdi02NGgxOTJ2NjR6TTI0OS44NTYgMTk5LjA0bDQ1LjI0OC00NS4xODRMNDMwLjg0OCAyODkuNiAzODUuNiAzMzQuODQ4IDI0OS44NTYgMTk5LjEwNHpNNjU3LjE1MiA2MDYuNGw0NS4yNDgtNDUuMjQ4IDEzNS43NDQgMTM1Ljc0NC00NS4yNDggNDUuMjQ4ek0xMTQuMDQ4IDkyMy4yIDY4LjggODc3Ljk1MmwzMTYuOC0zMTYuOCA0NS4yNDggNDUuMjQ4ek03MDIuNCAzMzQuODQ4IDY1Ny4xNTIgMjg5LjZsMTM1Ljc0NC0xMzUuNzQ0IDQ1LjI0OCA0NS4yNDh6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvbWFnaWMtc3RpY2sudnVlXG52YXIgbWFnaWNfc3RpY2tfZGVmYXVsdCA9IG1hZ2ljX3N0aWNrX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9tYWduZXQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTU3IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxNTcsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTU3LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE1NyB9IGZyb20gXCJ2dWVcIjtcbnZhciBtYWduZXRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTU3KHtcbiAgbmFtZTogXCJNYWduZXRcIixcbiAgX19uYW1lOiBcIm1hZ25ldFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTU3KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxNTcoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE1NyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk04MzIgMzIwVjE5Mkg3MDR2MzIwYTE5MiAxOTIgMCAxIDEtMzg0IDBWMTkySDE5MnYxMjhoMTI4djY0SDE5MnYxMjhhMzIwIDMyMCAwIDAgMCA2NDAgMFYzODRINzA0di02NHpNNjQwIDUxMlYxMjhoMjU2djM4NGEzODQgMzg0IDAgMSAxLTc2OCAwVjEyOGgyNTZ2Mzg0YTEyOCAxMjggMCAxIDAgMjU2IDBcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9tYWduZXQudnVlXG52YXIgbWFnbmV0X2RlZmF1bHQgPSBtYWduZXRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL21hbGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTU4IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxNTgsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTU4LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE1OCB9IGZyb20gXCJ2dWVcIjtcbnZhciBtYWxlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE1OCh7XG4gIG5hbWU6IFwiTWFsZVwiLFxuICBfX25hbWU6IFwibWFsZVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTU4KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxNTgoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE1OChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0zOTkuNSA4NDkuNWEyMjUgMjI1IDAgMSAwIDAtNDUwIDIyNSAyMjUgMCAwIDAgMCA0NTBtMCA1Ni4yNWEyODEuMjUgMjgxLjI1IDAgMSAxIDAtNTYyLjUgMjgxLjI1IDI4MS4yNSAwIDAgMSAwIDU2Mi41bTI1My4xMjUtNzg3LjVoMjI1cTI4LjEyNSAwIDI4LjEyNSAyOC4xMjVUODc3LjYyNSAxNzQuNWgtMjI1cS0yOC4xMjUgMC0yOC4xMjUtMjguMTI1dDI4LjEyNS0yOC4xMjVcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTU4KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTg3Ny42MjUgMTE4LjI1cTI4LjEyNSAwIDI4LjEyNSAyOC4xMjV2MjI1cTAgMjguMTI1LTI4LjEyNSAyOC4xMjVUODQ5LjUgMzcxLjM3NXYtMjI1cTAtMjguMTI1IDI4LjEyNS0yOC4xMjVcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTU4KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTYwNC44MTMgNDU4LjkgNTY1LjEgNDE5LjEzMWwyOTIuNjEzLTI5Mi42NjggMzkuODI1IDM5LjgyNHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9tYWxlLnZ1ZVxudmFyIG1hbGVfZGVmYXVsdCA9IG1hbGVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL21hbmFnZW1lbnQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTU5IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxNTksIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTU5LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE1OSB9IGZyb20gXCJ2dWVcIjtcbnZhciBtYW5hZ2VtZW50X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE1OSh7XG4gIG5hbWU6IFwiTWFuYWdlbWVudFwiLFxuICBfX25hbWU6IFwibWFuYWdlbWVudFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTU5KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxNTkoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE1OShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01NzYgMTI4djI4OGw5Ni05NiA5NiA5NlYxMjhoMTI4djc2OEgzMjBWMTI4em0tNDQ4IDBoMTI4djc2OEgxMjh6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvbWFuYWdlbWVudC52dWVcbnZhciBtYW5hZ2VtZW50X2RlZmF1bHQgPSBtYW5hZ2VtZW50X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9tYXAtbG9jYXRpb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTYwIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxNjAsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTYwLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE2MCB9IGZyb20gXCJ2dWVcIjtcbnZhciBtYXBfbG9jYXRpb25fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTYwKHtcbiAgbmFtZTogXCJNYXBMb2NhdGlvblwiLFxuICBfX25hbWU6IFwibWFwLWxvY2F0aW9uXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxNjAoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE2MChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTYwKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTgwMCA0MTZhMjg4IDI4OCAwIDEgMC01NzYgMGMwIDExOC4xNDQgOTQuNTI4IDI3Mi4xMjggMjg4IDQ1Ni41NzZDNzA1LjQ3MiA2ODguMTI4IDgwMCA1MzQuMTQ0IDgwMCA0MTZNNTEyIDk2MEMyNzcuMzEyIDc0Ni42ODggMTYwIDU2NS4zMTIgMTYwIDQxNmEzNTIgMzUyIDAgMCAxIDcwNCAwYzAgMTQ5LjMxMi0xMTcuMzEyIDMzMC42ODgtMzUyIDU0NFwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNjAoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDQ0OGE2NCA2NCAwIDEgMCAwLTEyOCA2NCA2NCAwIDAgMCAwIDEyOG0wIDY0YTEyOCAxMjggMCAxIDEgMC0yNTYgMTI4IDEyOCAwIDAgMSAwIDI1Nm0zNDUuNiAxOTJMOTYwIDk2MEg2NzJ2LTY0SDM1MnY2NEg2NGwxMDIuNC0yNTZ6bS02OC45MjggMEgyMzUuMzI4bC03Ni44IDE5Mmg3MDYuOTQ0elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL21hcC1sb2NhdGlvbi52dWVcbnZhciBtYXBfbG9jYXRpb25fZGVmYXVsdCA9IG1hcF9sb2NhdGlvbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvbWVkYWwudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTYxIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxNjEsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTYxLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE2MSB9IGZyb20gXCJ2dWVcIjtcbnZhciBtZWRhbF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNjEoe1xuICBuYW1lOiBcIk1lZGFsXCIsXG4gIF9fbmFtZTogXCJtZWRhbFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTYxKCksIF9jcmVhdGVFbGVtZW50QmxvY2sxNjEoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE2MShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTIgODk2YTI1NiAyNTYgMCAxIDAgMC01MTIgMjU2IDI1NiAwIDAgMCAwIDUxMm0wIDY0YTMyMCAzMjAgMCAxIDEgMC02NDAgMzIwIDMyMCAwIDAgMSAwIDY0MFwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNjEoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTc2IDEyOEg0NDh2MjAwYTI4Ni43MiAyODYuNzIgMCAwIDEgNjQtOGMxOS41MiAwIDQwLjgzMiAyLjY4OCA2NCA4em02NCAwdjIxOS42NDhjMjQuNDQ4IDkuMDg4IDUwLjU2IDIwLjQxNiA3OC40IDMzLjkyTDc1Ny40NCAxMjh6bS0yNTYgMEgyNjYuNjI0bDM5LjA0IDI1My41NjhjMjcuODQtMTMuNTA0IDUzLjg4OC0yNC44MzIgNzguMzM2LTMzLjkyVjEyOHpNMjI5LjMxMiA2NGg1NjUuMzc2YTMyIDMyIDAgMCAxIDMxLjYxNiAzNi44NjRMNzY4IDQ4MGMtMTEzLjc5Mi02NC0xOTkuMTA0LTk2LTI1Ni05Ni01Ni44OTYgMC0xNDIuMjA4IDMyLTI1NiA5NmwtNTguMzA0LTM3OS4xMzZBMzIgMzIgMCAwIDEgMjI5LjMxMiA2NFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL21lZGFsLnZ1ZVxudmFyIG1lZGFsX2RlZmF1bHQgPSBtZWRhbF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvbWVtby52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNjIgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE2Miwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNjIsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTYyIH0gZnJvbSBcInZ1ZVwiO1xudmFyIG1lbW9fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTYyKHtcbiAgbmFtZTogXCJNZW1vXCIsXG4gIF9fbmFtZTogXCJtZW1vXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxNjIoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE2MihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgXCJ4bWw6c3BhY2VcIjogXCJwcmVzZXJ2ZVwiLFxuICAgICAgc3R5bGU6IHsgXCJlbmFibGUtYmFja2dyb3VuZFwiOiBcIm5ldyAwIDAgMTAyNCAxMDI0XCIgfSxcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE2MihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk00ODAgMzIwaDE5MmMyMS4zMyAwIDMyLTEwLjY3IDMyLTMycy0xMC42Ny0zMi0zMi0zMkg0ODBjLTIxLjMzIDAtMzIgMTAuNjctMzIgMzJzMTAuNjcgMzIgMzIgMzJcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTYyKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTg4Ny4wMSA3Mi45OUM4ODEuMDEgNjcgODczLjM0IDY0IDg2NCA2NEgxNjBjLTkuMzUgMC0xNy4wMiAzLTIzLjAxIDguOTlDMTMxIDc4Ljk5IDEyOCA4Ni42NiAxMjggOTZ2ODMyYzAgOS4zNSAyLjk5IDE3LjAyIDguOTkgMjMuMDFTMTUwLjY2IDk2MCAxNjAgOTYwaDcwNGM5LjM1IDAgMTcuMDItMi45OSAyMy4wMS04Ljk5Uzg5NiA5MzcuMzQgODk2IDkyOFY5NmMwLTkuMzUtMy0xNy4wMi04Ljk5LTIzLjAxTTE5MiA4OTZWMTI4aDk2djc2OHptNjQwIDBIMzUyVjEyOGg0ODB6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE2MihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk00ODAgNTEyaDE5MmMyMS4zMyAwIDMyLTEwLjY3IDMyLTMycy0xMC42Ny0zMi0zMi0zMkg0ODBjLTIxLjMzIDAtMzIgMTAuNjctMzIgMzJzMTAuNjcgMzIgMzIgMzJtMCAxOTJoMTkyYzIxLjMzIDAgMzItMTAuNjcgMzItMzJzLTEwLjY3LTMyLTMyLTMySDQ4MGMtMjEuMzMgMC0zMiAxMC42Ny0zMiAzMnMxMC42NyAzMiAzMiAzMlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL21lbW8udnVlXG52YXIgbWVtb19kZWZhdWx0ID0gbWVtb192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvbWVudS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNjMgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE2Mywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNjMsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTYzIH0gZnJvbSBcInZ1ZVwiO1xudmFyIG1lbnVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTYzKHtcbiAgbmFtZTogXCJNZW51XCIsXG4gIF9fbmFtZTogXCJtZW51XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxNjMoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE2MyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTYzKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTE2MCA0NDhhMzIgMzIgMCAwIDEtMzItMzJWMTYwLjA2NGEzMiAzMiAwIDAgMSAzMi0zMmgyNTZhMzIgMzIgMCAwIDEgMzIgMzJWNDE2YTMyIDMyIDAgMCAxLTMyIDMyem00NDggMGEzMiAzMiAwIDAgMS0zMi0zMlYxNjAuMDY0YTMyIDMyIDAgMCAxIDMyLTMyaDI1NS45MzZhMzIgMzIgMCAwIDEgMzIgMzJWNDE2YTMyIDMyIDAgMCAxLTMyIDMyek0xNjAgODk2YTMyIDMyIDAgMCAxLTMyLTMyVjYwOGEzMiAzMiAwIDAgMSAzMi0zMmgyNTZhMzIgMzIgMCAwIDEgMzIgMzJ2MjU2YTMyIDMyIDAgMCAxLTMyIDMyem00NDggMGEzMiAzMiAwIDAgMS0zMi0zMlY2MDhhMzIgMzIgMCAwIDEgMzItMzJoMjU1LjkzNmEzMiAzMiAwIDAgMSAzMiAzMnYyNTZhMzIgMzIgMCAwIDEtMzIgMzJ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvbWVudS52dWVcbnZhciBtZW51X2RlZmF1bHQgPSBtZW51X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9tZXNzYWdlLWJveC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNjQgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE2NCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNjQsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTY0IH0gZnJvbSBcInZ1ZVwiO1xudmFyIG1lc3NhZ2VfYm94X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE2NCh7XG4gIG5hbWU6IFwiTWVzc2FnZUJveFwiLFxuICBfX25hbWU6IFwibWVzc2FnZS1ib3hcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE2NCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTY0KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNjQoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMjg4IDM4NGg0NDh2NjRIMjg4em05Ni0xMjhoMjU2djY0SDM4NHpNMTMxLjQ1NiA1MTJIMzg0djEyOGgyNTZWNTEyaDI1Mi41NDRMNzIxLjg1NiAxOTJIMzAyLjE0NHpNODk2IDU3Nkg3MDR2MTI4SDMyMFY1NzZIMTI4djI1Nmg3Njh6TTI3NS43NzYgMTI4aDQ3Mi40NDhhMzIgMzIgMCAwIDEgMjguNjA4IDE3LjY2NGwxNzkuODQgMzU5LjU1MkEzMiAzMiAwIDAgMSA5NjAgNTE5LjU1MlY4NjRhMzIgMzIgMCAwIDEtMzIgMzJIOTZhMzIgMzIgMCAwIDEtMzItMzJWNTE5LjU1MmEzMiAzMiAwIDAgMSAzLjM5Mi0xNC4zMzZsMTc5Ljc3Ni0zNTkuNTUyQTMyIDMyIDAgMCAxIDI3NS43NzYgMTI4elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL21lc3NhZ2UtYm94LnZ1ZVxudmFyIG1lc3NhZ2VfYm94X2RlZmF1bHQgPSBtZXNzYWdlX2JveF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvbWVzc2FnZS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNjUgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE2NSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNjUsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTY1IH0gZnJvbSBcInZ1ZVwiO1xudmFyIG1lc3NhZ2VfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTY1KHtcbiAgbmFtZTogXCJNZXNzYWdlXCIsXG4gIF9fbmFtZTogXCJtZXNzYWdlXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxNjUoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE2NShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTY1KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTEyOCAyMjR2NTEyYTY0IDY0IDAgMCAwIDY0IDY0aDY0MGE2NCA2NCAwIDAgMCA2NC02NFYyMjR6bTAtNjRoNzY4YTY0IDY0IDAgMCAxIDY0IDY0djUxMmExMjggMTI4IDAgMCAxLTEyOCAxMjhIMTkyQTEyOCAxMjggMCAwIDEgNjQgNzM2VjIyNGE2NCA2NCAwIDAgMSA2NC02NFwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNjUoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNOTA0IDIyNCA2NTYuNTEyIDUwNi44OGExOTIgMTkyIDAgMCAxLTI4OS4wMjQgMEwxMjAgMjI0em0tNjk4Ljk0NCAwIDIxMC41NiAyNDAuNzA0YTEyOCAxMjggMCAwIDAgMTkyLjcwNCAwTDgxOC45NDQgMjI0SDIwNS4wNTZcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9tZXNzYWdlLnZ1ZVxudmFyIG1lc3NhZ2VfZGVmYXVsdCA9IG1lc3NhZ2VfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL21pYy52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNjYgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE2Niwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNjYsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTY2IH0gZnJvbSBcInZ1ZVwiO1xudmFyIG1pY192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNjYoe1xuICBuYW1lOiBcIk1pY1wiLFxuICBfX25hbWU6IFwibWljXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxNjYoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE2NihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTY2KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTQ4MCA3MDRoMTYwYTY0IDY0IDAgMCAwIDY0LTY0di0zMmgtOTZhMzIgMzIgMCAwIDEgMC02NGg5NnYtOTZoLTk2YTMyIDMyIDAgMCAxIDAtNjRoOTZ2LTk2aC05NmEzMiAzMiAwIDAgMSAwLTY0aDk2di0zMmE2NCA2NCAwIDAgMC02NC02NEgzODRhNjQgNjQgMCAwIDAtNjQgNjR2MzJoOTZhMzIgMzIgMCAwIDEgMCA2NGgtOTZ2OTZoOTZhMzIgMzIgMCAwIDEgMCA2NGgtOTZ2OTZoOTZhMzIgMzIgMCAwIDEgMCA2NGgtOTZ2MzJhNjQgNjQgMCAwIDAgNjQgNjR6bTY0IDY0djEyOGgxOTJhMzIgMzIgMCAxIDEgMCA2NEgyODhhMzIgMzIgMCAxIDEgMC02NGgxOTJWNzY4aC05NmExMjggMTI4IDAgMCAxLTEyOC0xMjhWMTkyQTEyOCAxMjggMCAwIDEgMzg0IDY0aDI1NmExMjggMTI4IDAgMCAxIDEyOCAxMjh2NDQ4YTEyOCAxMjggMCAwIDEtMTI4IDEyOHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9taWMudnVlXG52YXIgbWljX2RlZmF1bHQgPSBtaWNfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL21pY3JvcGhvbmUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTY3IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxNjcsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTY3LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE2NyB9IGZyb20gXCJ2dWVcIjtcbnZhciBtaWNyb3Bob25lX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE2Nyh7XG4gIG5hbWU6IFwiTWljcm9waG9uZVwiLFxuICBfX25hbWU6IFwibWljcm9waG9uZVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTY3KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxNjcoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE2NyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTIgMTI4YTEyOCAxMjggMCAwIDAtMTI4IDEyOHYyNTZhMTI4IDEyOCAwIDEgMCAyNTYgMFYyNTZhMTI4IDEyOCAwIDAgMC0xMjgtMTI4bTAtNjRhMTkyIDE5MiAwIDAgMSAxOTIgMTkydjI1NmExOTIgMTkyIDAgMSAxLTM4NCAwVjI1NkExOTIgMTkyIDAgMCAxIDUxMiA2NG0tMzIgODMydi02NGEyODggMjg4IDAgMCAxLTI4OC0yODh2LTMyYTMyIDMyIDAgMCAxIDY0IDB2MzJhMjI0IDIyNCAwIDAgMCAyMjQgMjI0aDY0YTIyNCAyMjQgMCAwIDAgMjI0LTIyNHYtMzJhMzIgMzIgMCAxIDEgNjQgMHYzMmEyODggMjg4IDAgMCAxLTI4OCAyODh2NjRoNjRhMzIgMzIgMCAxIDEgMCA2NEg0MTZhMzIgMzIgMCAxIDEgMC02NHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9taWNyb3Bob25lLnZ1ZVxudmFyIG1pY3JvcGhvbmVfZGVmYXVsdCA9IG1pY3JvcGhvbmVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL21pbGstdGVhLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE2OCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTY4LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE2OCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxNjggfSBmcm9tIFwidnVlXCI7XG52YXIgbWlsa190ZWFfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTY4KHtcbiAgbmFtZTogXCJNaWxrVGVhXCIsXG4gIF9fbmFtZTogXCJtaWxrLXRlYVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTY4KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxNjgoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE2OChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk00MTYgMTI4Vjk2YTk2IDk2IDAgMCAxIDk2LTk2aDEyOGEzMiAzMiAwIDEgMSAwIDY0SDUxMmEzMiAzMiAwIDAgMC0zMiAzMnYzMmgzMjBhOTYgOTYgMCAwIDEgMTEuNzEyIDE5MS4yOTZsLTM5LjY4IDU4MS4wNTZBNjQgNjQgMCAwIDEgNzA4LjIyNCA5NjBIMzE1Ljc3NmE2NCA2NCAwIDAgMS02My44NzItNTkuNjQ4bC0zOS42MTYtNTgxLjA1NkE5NiA5NiAwIDAgMSAyMjQgMTI4ek0yNzYuNDggMzIwbDM5LjI5NiA1NzZoMzkyLjQ0OGw0LjgtNzAuNzg0YTIyNC4wNjQgMjI0LjA2NCAwIDAgMSAzMC4wMTYtNDM5LjgwOEw3NDcuNTIgMzIwek0yMjQgMjU2aDU3NmEzMiAzMiAwIDEgMCAwLTY0SDIyNGEzMiAzMiAwIDAgMCAwIDY0bTQ5My40NCA1MDMuODcyIDIxLjEyLTMwOS4xMmExNjAgMTYwIDAgMCAwLTIxLjEyIDMwOS4xMlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL21pbGstdGVhLnZ1ZVxudmFyIG1pbGtfdGVhX2RlZmF1bHQgPSBtaWxrX3RlYV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvbWludXMudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTY5IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxNjksIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTY5LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE2OSB9IGZyb20gXCJ2dWVcIjtcbnZhciBtaW51c192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNjkoe1xuICBuYW1lOiBcIk1pbnVzXCIsXG4gIF9fbmFtZTogXCJtaW51c1wiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTY5KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxNjkoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE2OShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xMjggNTQ0aDc2OGEzMiAzMiAwIDEgMCAwLTY0SDEyOGEzMiAzMiAwIDAgMCAwIDY0XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvbWludXMudnVlXG52YXIgbWludXNfZGVmYXVsdCA9IG1pbnVzX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9tb25leS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNzAgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE3MCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNzAsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTcwIH0gZnJvbSBcInZ1ZVwiO1xudmFyIG1vbmV5X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE3MCh7XG4gIG5hbWU6IFwiTW9uZXlcIixcbiAgX19uYW1lOiBcIm1vbmV5XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxNzAoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE3MChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTcwKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTI1NiA2NDB2MTkyaDY0MFYzODRINzY4di02NGgxNTAuOTc2YzE0LjI3MiAwIDE5LjQ1NiAxLjQ3MiAyNC42NCA0LjI4OGEyOS4wNTYgMjkuMDU2IDAgMCAxIDEyLjE2IDEyLjA5NmMyLjc1MiA1LjE4NCA0LjIyNCAxMC4zNjggNC4yMjQgMjQuNjR2NDkzLjk1MmMwIDE0LjI3Mi0xLjQ3MiAxOS40NTYtNC4yODggMjQuNjRhMjkuMDU2IDI5LjA1NiAwIDAgMS0xMi4wOTYgMTIuMTZjLTUuMTg0IDIuNzUyLTEwLjM2OCA0LjIyNC0yNC42NCA0LjIyNEgyMzMuMDI0Yy0xNC4yNzIgMC0xOS40NTYtMS40NzItMjQuNjQtNC4yODhhMjkuMDU2IDI5LjA1NiAwIDAgMS0xMi4xNi0xMi4wOTZjLTIuNjg4LTUuMTg0LTQuMjI0LTEwLjM2OC00LjIyNC0yNC41NzZWNjQwelwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNzAoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNzY4IDE5MkgxMjh2NDQ4aDY0MHptNjQtMjIuOTc2djQ5My45NTJjMCAxNC4yNzItMS40NzIgMTkuNDU2LTQuMjg4IDI0LjY0YTI5LjA1NiAyOS4wNTYgMCAwIDEtMTIuMDk2IDEyLjE2Yy01LjE4NCAyLjc1Mi0xMC4zNjggNC4yMjQtMjQuNjQgNC4yMjRIMTA1LjAyNGMtMTQuMjcyIDAtMTkuNDU2LTEuNDcyLTI0LjY0LTQuMjg4YTI5LjA1NiAyOS4wNTYgMCAwIDEtMTIuMTYtMTIuMDk2QzY1LjUzNiA2ODIuNDMyIDY0IDY3Ny4yNDggNjQgNjYzLjA0VjE2OS4wMjRjMC0xNC4yNzIgMS40NzItMTkuNDU2IDQuMjg4LTI0LjY0YTI5LjA1NiAyOS4wNTYgMCAwIDEgMTIuMDk2LTEyLjE2Qzg1LjU2OCAxMjkuNTM2IDkwLjc1MiAxMjggMTA0Ljk2IDEyOGg2ODUuOTUyYzE0LjI3MiAwIDE5LjQ1NiAxLjQ3MiAyNC42NCA0LjI4OGEyOS4wNTYgMjkuMDU2IDAgMCAxIDEyLjE2IDEyLjA5NmMyLjc1MiA1LjE4NCA0LjIyNCAxMC4zNjggNC4yMjQgMjQuNjR6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE3MChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk00NDggNTc2YTE2MCAxNjAgMCAxIDEgMC0zMjAgMTYwIDE2MCAwIDAgMSAwIDMyMG0wLTY0YTk2IDk2IDAgMSAwIDAtMTkyIDk2IDk2IDAgMCAwIDAgMTkyXCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvbW9uZXkudnVlXG52YXIgbW9uZXlfZGVmYXVsdCA9IG1vbmV5X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9tb25pdG9yLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE3MSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTcxLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE3MSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxNzEgfSBmcm9tIFwidnVlXCI7XG52YXIgbW9uaXRvcl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNzEoe1xuICBuYW1lOiBcIk1vbml0b3JcIixcbiAgX19uYW1lOiBcIm1vbml0b3JcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE3MSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTcxKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNzEoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTQ0IDc2OHYxMjhoMTkyYTMyIDMyIDAgMSAxIDAgNjRIMjg4YTMyIDMyIDAgMSAxIDAtNjRoMTkyVjc2OEgxOTJBMTI4IDEyOCAwIDAgMSA2NCA2NDBWMjU2YTEyOCAxMjggMCAwIDEgMTI4LTEyOGg2NDBhMTI4IDEyOCAwIDAgMSAxMjggMTI4djM4NGExMjggMTI4IDAgMCAxLTEyOCAxMjh6TTE5MiAxOTJhNjQgNjQgMCAwIDAtNjQgNjR2Mzg0YTY0IDY0IDAgMCAwIDY0IDY0aDY0MGE2NCA2NCAwIDAgMCA2NC02NFYyNTZhNjQgNjQgMCAwIDAtNjQtNjR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvbW9uaXRvci52dWVcbnZhciBtb25pdG9yX2RlZmF1bHQgPSBtb25pdG9yX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9tb29uLW5pZ2h0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE3MiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTcyLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE3MiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxNzIgfSBmcm9tIFwidnVlXCI7XG52YXIgbW9vbl9uaWdodF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNzIoe1xuICBuYW1lOiBcIk1vb25OaWdodFwiLFxuICBfX25hbWU6IFwibW9vbi1uaWdodFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTcyKCksIF9jcmVhdGVFbGVtZW50QmxvY2sxNzIoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE3MihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0zODQgNTEyYTQ0OCA0NDggMCAwIDEgMjE1Ljg3Mi0zODMuMjk2QTM4NCAzODQgMCAwIDAgMjEzLjc2IDY0MGgxODguOEE0NDguMjU2IDQ0OC4yNTYgMCAwIDEgMzg0IDUxMk0xNzEuMTM2IDcwNGE0NDggNDQ4IDAgMCAxIDYzNi45OTItNTc1LjI5NkEzODQgMzg0IDAgMCAwIDQ5OS4zMjggNzA0aC0zMjguMzJ6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE3MihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0zMiA2NDBoOTYwcTMyIDAgMzIgMzJ0LTMyIDMySDMycS0zMiAwLTMyLTMydDMyLTMybTEyOCAxMjhoMzg0YTMyIDMyIDAgMSAxIDAgNjRIMTYwYTMyIDMyIDAgMSAxIDAtNjRtMTYwIDEyNy42OCAyMjQgLjI1NmEzMiAzMiAwIDAgMSAzMiAzMlY5MjhhMzIgMzIgMCAwIDEtMzIgMzJsLTIyNC0uMzg0YTMyIDMyIDAgMCAxLTMyLTMydi0uMDY0YTMyIDMyIDAgMCAxIDMyLTMyelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL21vb24tbmlnaHQudnVlXG52YXIgbW9vbl9uaWdodF9kZWZhdWx0ID0gbW9vbl9uaWdodF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvbW9vbi52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNzMgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE3Mywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNzMsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTczIH0gZnJvbSBcInZ1ZVwiO1xudmFyIG1vb25fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTczKHtcbiAgbmFtZTogXCJNb29uXCIsXG4gIF9fbmFtZTogXCJtb29uXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxNzMoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE3MyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTczKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTI0MC40NDggMjQwLjQ0OGEzODQgMzg0IDAgMSAwIDU1OS40MjQgNTI1LjY5NiA0NDggNDQ4IDAgMCAxLTU0Mi4wMTYtNTQyLjA4IDM5MC41OTIgMzkwLjU5MiAwIDAgMC0xNy40MDggMTYuMzg0em0xODEuMDU2IDM2Mi4wNDhhMzg0IDM4NCAwIDAgMCA1MjUuNjMyIDE2LjM4NEE0NDggNDQ4IDAgMSAxIDQwNS4wNTYgNzYuOGEzODQgMzg0IDAgMCAwIDE2LjQ0OCA1MjUuNjk2XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvbW9vbi52dWVcbnZhciBtb29uX2RlZmF1bHQgPSBtb29uX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9tb3JlLWZpbGxlZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNzQgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE3NCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNzQsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTc0IH0gZnJvbSBcInZ1ZVwiO1xudmFyIG1vcmVfZmlsbGVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE3NCh7XG4gIG5hbWU6IFwiTW9yZUZpbGxlZFwiLFxuICBfX25hbWU6IFwibW9yZS1maWxsZWRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE3NCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTc0KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNzQoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMTc2IDQxNmExMTIgMTEyIDAgMSAxIDAgMjI0IDExMiAxMTIgMCAwIDEgMC0yMjRtMzM2IDBhMTEyIDExMiAwIDEgMSAwIDIyNCAxMTIgMTEyIDAgMCAxIDAtMjI0bTMzNiAwYTExMiAxMTIgMCAxIDEgMCAyMjQgMTEyIDExMiAwIDAgMSAwLTIyNFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL21vcmUtZmlsbGVkLnZ1ZVxudmFyIG1vcmVfZmlsbGVkX2RlZmF1bHQgPSBtb3JlX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvbW9yZS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNzUgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE3NSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNzUsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTc1IH0gZnJvbSBcInZ1ZVwiO1xudmFyIG1vcmVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTc1KHtcbiAgbmFtZTogXCJNb3JlXCIsXG4gIF9fbmFtZTogXCJtb3JlXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxNzUoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE3NShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTc1KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTE3NiA0MTZhMTEyIDExMiAwIDEgMCAwIDIyNCAxMTIgMTEyIDAgMCAwIDAtMjI0bTAgNjRhNDggNDggMCAxIDEgMCA5NiA0OCA0OCAwIDAgMSAwLTk2bTMzNi02NGExMTIgMTEyIDAgMSAxIDAgMjI0IDExMiAxMTIgMCAwIDEgMC0yMjRtMCA2NGE0OCA0OCAwIDEgMCAwIDk2IDQ4IDQ4IDAgMCAwIDAtOTZtMzM2LTY0YTExMiAxMTIgMCAxIDEgMCAyMjQgMTEyIDExMiAwIDAgMSAwLTIyNG0wIDY0YTQ4IDQ4IDAgMSAwIDAgOTYgNDggNDggMCAwIDAgMC05NlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL21vcmUudnVlXG52YXIgbW9yZV9kZWZhdWx0ID0gbW9yZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvbW9zdGx5LWNsb3VkeS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNzYgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE3Niwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNzYsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTc2IH0gZnJvbSBcInZ1ZVwiO1xudmFyIG1vc3RseV9jbG91ZHlfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTc2KHtcbiAgbmFtZTogXCJNb3N0bHlDbG91ZHlcIixcbiAgX19uYW1lOiBcIm1vc3RseS1jbG91ZHlcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE3NigpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTc2KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNzYoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNzM3LjIxNiAzNTcuOTUyIDcwNCAzNDkuODI0bC0xMS43NzYtMzJhMTkyLjA2NCAxOTIuMDY0IDAgMCAwLTM2Ny40MjQgMjMuMDRsLTguOTYgMzkuMDQtMzkuMDQgOC45NkExOTIuMDY0IDE5Mi4wNjQgMCAwIDAgMzIwIDc2OGgzNjhhMjA3LjgwOCAyMDcuODA4IDAgMCAwIDIwNy44MDgtMjA4IDIwOC4zMiAyMDguMzIgMCAwIDAtMTU4LjU5Mi0yMDIuMDQ4bTE1LjE2OC02Mi4yMDhBMjcyLjMyIDI3Mi4zMiAwIDAgMSA5NTkuNzQ0IDU2MGEyNzEuODA4IDI3MS44MDggMCAwIDEtMjcxLjU1MiAyNzJIMzIwYTI1NiAyNTYgMCAwIDEtNTcuNTM2LTUwNS41MzYgMjU2LjEyOCAyNTYuMTI4IDAgMCAxIDQ4OS45Mi0zMC43MlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL21vc3RseS1jbG91ZHkudnVlXG52YXIgbW9zdGx5X2Nsb3VkeV9kZWZhdWx0ID0gbW9zdGx5X2Nsb3VkeV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvbW91c2UudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTc3IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxNzcsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTc3LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE3NyB9IGZyb20gXCJ2dWVcIjtcbnZhciBtb3VzZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNzcoe1xuICBuYW1lOiBcIk1vdXNlXCIsXG4gIF9fbmFtZTogXCJtb3VzZVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTc3KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxNzcoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE3NyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk00MzguMTQ0IDI1NmMtNjguMzUyIDAtOTIuNzM2IDQuNjcyLTExNy43NiAxOC4xMTItMjAuMDk2IDEwLjc1Mi0zNS41MiAyNi4xNzYtNDYuMjcyIDQ2LjI3MkMyNjAuNjcyIDM0NS40MDggMjU2IDM2OS43OTIgMjU2IDQzOC4xNDR2Mjc1LjcxMmMwIDY4LjM1MiA0LjY3MiA5Mi43MzYgMTguMTEyIDExNy43NiAxMC43NTIgMjAuMDk2IDI2LjE3NiAzNS41MiA0Ni4yNzIgNDYuMjcyQzM0NS40MDggODkxLjMyOCAzNjkuNzkyIDg5NiA0MzguMTQ0IDg5NmgxNDcuNzEyYzY4LjM1MiAwIDkyLjczNi00LjY3MiAxMTcuNzYtMTguMTEyIDIwLjA5Ni0xMC43NTIgMzUuNTItMjYuMTc2IDQ2LjI3Mi00Ni4yNzJDNzYzLjMyOCA4MDYuNTkyIDc2OCA3ODIuMjA4IDc2OCA3MTMuODU2VjQzOC4xNDRjMC02OC4zNTItNC42NzItOTIuNzM2LTE4LjExMi0xMTcuNzZhMTEwLjQ2NCAxMTAuNDY0IDAgMCAwLTQ2LjI3Mi00Ni4yNzJDNjc4LjU5MiAyNjAuNjcyIDY1NC4yMDggMjU2IDU4NS44NTYgMjU2em0wLTY0aDE0Ny43MTJjODUuNTY4IDAgMTE2LjYwOCA4Ljk2IDE0Ny45MDQgMjUuNiAzMS4zNiAxNi43NjggNTUuODcyIDQxLjM0NCA3Mi41NzYgNzIuNjRDODIzLjEwNCAzMjEuNTM2IDgzMiAzNTIuNTc2IDgzMiA0MzguMDh2Mjc1Ljg0YzAgODUuNTA0LTguOTYgMTE2LjU0NC0yNS42IDE0Ny44NGExNzQuNDY0IDE3NC40NjQgMCAwIDEtNzIuNjQgNzIuNTc2QzcwMi40NjQgOTUxLjEwNCA2NzEuNDI0IDk2MCA1ODUuOTIgOTYwSDQzOC4wOGMtODUuNTA0IDAtMTE2LjU0NC04Ljk2LTE0Ny44NC0yNS42YTE3NC40NjQgMTc0LjQ2NCAwIDAgMS03Mi42NC03Mi43MDRjLTE2Ljc2OC0zMS4yOTYtMjUuNjY0LTYyLjMzNi0yNS42NjQtMTQ3Ljg0di0yNzUuODRjMC04NS41MDQgOC45Ni0xMTYuNTQ0IDI1LjYtMTQ3Ljg0YTE3NC40NjQgMTc0LjQ2NCAwIDAgMSA3Mi43NjgtNzIuNTc2YzMxLjIzMi0xNi43MDQgNjIuMjcyLTI1LjYgMTQ3Ljc3Ni0yNS42elwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxNzcoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDMyMHEzMiAwIDMyIDMydjEyOHEwIDMyLTMyIDMydC0zMi0zMlYzNTJxMC0zMiAzMi0zMm0zMi05NmEzMiAzMiAwIDAgMS02NCAwdi02NGEzMiAzMiAwIDAgMC0zMi0zMmgtOTZhMzIgMzIgMCAwIDEgMC02NGg5NmE5NiA5NiAwIDAgMSA5NiA5NnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9tb3VzZS52dWVcbnZhciBtb3VzZV9kZWZhdWx0ID0gbW91c2VfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL211Zy52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxNzggfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE3OCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxNzgsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTc4IH0gZnJvbSBcInZ1ZVwiO1xudmFyIG11Z192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNzgoe1xuICBuYW1lOiBcIk11Z1wiLFxuICBfX25hbWU6IFwibXVnXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxNzgoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE3OChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTc4KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTczNiA4MDBWMTYwSDE2MHY2NDBhNjQgNjQgMCAwIDAgNjQgNjRoNDQ4YTY0IDY0IDAgMCAwIDY0LTY0bTY0LTU0NGg2My41NTJhOTYgOTYgMCAwIDEgOTYgOTZ2MjI0YTk2IDk2IDAgMCAxLTk2IDk2SDgwMHYxMjhhMTI4IDEyOCAwIDAgMS0xMjggMTI4SDIyNEExMjggMTI4IDAgMCAxIDk2IDgwMFYxMjhhMzIgMzIgMCAwIDEgMzItMzJoNjQwYTMyIDMyIDAgMCAxIDMyIDMyem0wIDY0djI4OGg2My41NTJhMzIgMzIgMCAwIDAgMzItMzJWMzUyYTMyIDMyIDAgMCAwLTMyLTMyelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL211Zy52dWVcbnZhciBtdWdfZGVmYXVsdCA9IG11Z192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvbXV0ZS1ub3RpZmljYXRpb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTc5IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxNzksIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTc5LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE3OSB9IGZyb20gXCJ2dWVcIjtcbnZhciBtdXRlX25vdGlmaWNhdGlvbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxNzkoe1xuICBuYW1lOiBcIk11dGVOb3RpZmljYXRpb25cIixcbiAgX19uYW1lOiBcIm11dGUtbm90aWZpY2F0aW9uXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxNzkoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE3OShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTc5KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwibTI0MS4yMTYgODMyIDYzLjYxNi02NEg3NjhWNDQ4YzAtNDIuMzY4LTEwLjI0LTgyLjMwNC0yOC40OC0xMTcuNTA0bDQ2LjkxMi00Ny4yMzJDODE1LjM2IDMzMS4zOTIgODMyIDM4Ny44NCA4MzIgNDQ4djMyMGg5NmEzMiAzMiAwIDEgMSAwIDY0em0tOTAuMjQgMEg5NmEzMiAzMiAwIDEgMSAwLTY0aDk2VjQ0OGEzMjAuMTI4IDMyMC4xMjggMCAwIDEgMjU2LTMxMy42VjEyOGE2NCA2NCAwIDEgMSAxMjggMHY2LjRhMzE5LjU1MiAzMTkuNTUyIDAgMCAxIDE3MS42NDggOTcuMDg4bC00NS4xODQgNDUuNDRBMjU2IDI1NiAwIDAgMCAyNTYgNDQ4djI3OC4zMzZMMTUxLjA0IDgzMnpNNDQ4IDg5NmgxMjhhNjQgNjQgMCAwIDEtMTI4IDBcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTc5KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTE1MC43MiA4NTkuMDcyYTMyIDMyIDAgMCAxLTQ1LjQ0LTQ1LjA1Nmw3MDQtNzA4LjU0NGEzMiAzMiAwIDAgMSA0NS40NCA0NS4wNTZsLTcwNCA3MDguNTQ0elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL211dGUtbm90aWZpY2F0aW9uLnZ1ZVxudmFyIG11dGVfbm90aWZpY2F0aW9uX2RlZmF1bHQgPSBtdXRlX25vdGlmaWNhdGlvbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvbXV0ZS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxODAgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE4MCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxODAsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTgwIH0gZnJvbSBcInZ1ZVwiO1xudmFyIG11dGVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTgwKHtcbiAgbmFtZTogXCJNdXRlXCIsXG4gIF9fbmFtZTogXCJtdXRlXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxODAoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE4MChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTgwKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwibTQxMi4xNiA1OTIuMTI4LTQ1LjQ0IDQ1LjQ0QTE5MS4yMzIgMTkxLjIzMiAwIDAgMSAzMjAgNTEyVjI1NmExOTIgMTkyIDAgMSAxIDM4NCAwdjQ0LjM1MmwtNjQgNjRWMjU2YTEyOCAxMjggMCAxIDAtMjU2IDB2MjU2YzAgMzAuMzM2IDEwLjU2IDU4LjI0IDI4LjE2IDgwLjEyOG01MS45NjggMzguNTkyQTEyOCAxMjggMCAwIDAgNjQwIDUxMnYtNTcuMTUybDY0LTY0VjUxMmExOTIgMTkyIDAgMCAxLTI4Ny42OCAxNjYuNTI4ek0zMTQuODggNzc5Ljk2OGw0Ni4xNDQtNDYuMDhBMjIyLjk3NiAyMjIuOTc2IDAgMCAwIDQ4MCA3NjhoNjRhMjI0IDIyNCAwIDAgMCAyMjQtMjI0di0zMmEzMiAzMiAwIDEgMSA2NCAwdjMyYTI4OCAyODggMCAwIDEtMjg4IDI4OHY2NGg2NGEzMiAzMiAwIDEgMSAwIDY0SDQxNmEzMiAzMiAwIDEgMSAwLTY0aDY0di02NGMtNjEuNDQgMC0xMTguNC0xOS4yLTE2NS4xMi01Mi4wMzJNMjY2Ljc1MiA3MzcuNkEyODYuOTc2IDI4Ni45NzYgMCAwIDEgMTkyIDU0NHYtMzJhMzIgMzIgMCAwIDEgNjQgMHYzMmMwIDU2LjgzMiAyMS4xODQgMTA4LjggNTYuMDY0IDE0OC4yODh6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE4MChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xNTAuNzIgODU5LjA3MmEzMiAzMiAwIDAgMS00NS40NC00NS4wNTZsNzA0LTcwOC41NDRhMzIgMzIgMCAwIDEgNDUuNDQgNDUuMDU2bC03MDQgNzA4LjU0NHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9tdXRlLnZ1ZVxudmFyIG11dGVfZGVmYXVsdCA9IG11dGVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL25vLXNtb2tpbmcudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTgxIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxODEsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTgxLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE4MSB9IGZyb20gXCJ2dWVcIjtcbnZhciBub19zbW9raW5nX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE4MSh7XG4gIG5hbWU6IFwiTm9TbW9raW5nXCIsXG4gIF9fbmFtZTogXCJuby1zbW9raW5nXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxODEoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE4MShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTgxKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTQ0MC4yNTYgNTc2SDI1NnYxMjhoNTYuMjU2bC02NCA2NEgyMjRhMzIgMzIgMCAwIDEtMzItMzJWNTQ0YTMyIDMyIDAgMCAxIDMyLTMyaDI4MC4yNTZ6bTE0My40ODggMTI4SDcwNFY1ODMuNzQ0TDc3NS43NDQgNTEySDkyOGEzMiAzMiAwIDAgMSAzMiAzMnYxOTJhMzIgMzIgMCAwIDEtMzIgMzJINTE5Ljc0NHpNNzY4IDU3NnYxMjhoMTI4VjU3NnptLTI5LjY5Ni0yMDcuNTUyIDQ1LjI0OCA0NS4yNDgtNDk3Ljg1NiA0OTcuODU2LTQ1LjI0OC00NS4yNDh6TTI1NiA2NGg2NHYzMjBoLTY0ek0xMjggMTkyaDY0djE5MmgtNjR6TTY0IDUxMmg2NHYyNTZINjR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvbm8tc21va2luZy52dWVcbnZhciBub19zbW9raW5nX2RlZmF1bHQgPSBub19zbW9raW5nX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9ub3RlYm9vay52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxODIgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE4Miwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxODIsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTgyIH0gZnJvbSBcInZ1ZVwiO1xudmFyIG5vdGVib29rX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE4Mih7XG4gIG5hbWU6IFwiTm90ZWJvb2tcIixcbiAgX19uYW1lOiBcIm5vdGVib29rXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxODIoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE4MihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTgyKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTE5MiAxMjh2NzY4aDY0MFYxMjh6bS0zMi02NGg3MDRhMzIgMzIgMCAwIDEgMzIgMzJ2ODMyYTMyIDMyIDAgMCAxLTMyIDMySDE2MGEzMiAzMiAwIDAgMS0zMi0zMlY5NmEzMiAzMiAwIDAgMSAzMi0zMlwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxODIoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNjcyIDEyOGg2NHY3NjhoLTY0ek05NiAxOTJoMTI4cTMyIDAgMzIgMzJ0LTMyIDMySDk2cS0zMiAwLTMyLTMydDMyLTMybTAgMTkyaDEyOHEzMiAwIDMyIDMydC0zMiAzMkg5NnEtMzIgMC0zMi0zMnQzMi0zMm0wIDE5MmgxMjhxMzIgMCAzMiAzMnQtMzIgMzJIOTZxLTMyIDAtMzItMzJ0MzItMzJtMCAxOTJoMTI4cTMyIDAgMzIgMzJ0LTMyIDMySDk2cS0zMiAwLTMyLTMydDMyLTMyXCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvbm90ZWJvb2sudnVlXG52YXIgbm90ZWJvb2tfZGVmYXVsdCA9IG5vdGVib29rX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9ub3RpZmljYXRpb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTgzIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxODMsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTgzLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE4MyB9IGZyb20gXCJ2dWVcIjtcbnZhciBub3RpZmljYXRpb25fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTgzKHtcbiAgbmFtZTogXCJOb3RpZmljYXRpb25cIixcbiAgX19uYW1lOiBcIm5vdGlmaWNhdGlvblwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTgzKCksIF9jcmVhdGVFbGVtZW50QmxvY2sxODMoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE4MyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTIgMTI4djY0SDI1NmE2NCA2NCAwIDAgMC02NCA2NHY1MTJhNjQgNjQgMCAwIDAgNjQgNjRoNTEyYTY0IDY0IDAgMCAwIDY0LTY0VjUxMmg2NHYyNTZhMTI4IDEyOCAwIDAgMS0xMjggMTI4SDI1NmExMjggMTI4IDAgMCAxLTEyOC0xMjhWMjU2YTEyOCAxMjggMCAwIDEgMTI4LTEyOHpcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTgzKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTc2OCAzODRhMTI4IDEyOCAwIDEgMCAwLTI1NiAxMjggMTI4IDAgMCAwIDAgMjU2bTAgNjRhMTkyIDE5MiAwIDEgMSAwLTM4NCAxOTIgMTkyIDAgMCAxIDAgMzg0XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvbm90aWZpY2F0aW9uLnZ1ZVxudmFyIG5vdGlmaWNhdGlvbl9kZWZhdWx0ID0gbm90aWZpY2F0aW9uX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9vZG9tZXRlci52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxODQgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE4NCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxODQsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTg0IH0gZnJvbSBcInZ1ZVwiO1xudmFyIG9kb21ldGVyX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE4NCh7XG4gIG5hbWU6IFwiT2RvbWV0ZXJcIixcbiAgX19uYW1lOiBcIm9kb21ldGVyXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxODQoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE4NChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTg0KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiA4OTZhMzg0IDM4NCAwIDEgMCAwLTc2OCAzODQgMzg0IDAgMCAwIDAgNzY4bTAgNjRhNDQ4IDQ0OCAwIDEgMSAwLTg5NiA0NDggNDQ4IDAgMCAxIDAgODk2XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE4NChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xOTIgNTEyYTMyMCAzMjAgMCAxIDEgNjQwIDAgMzIgMzIgMCAxIDEtNjQgMCAyNTYgMjU2IDAgMSAwLTUxMiAwIDMyIDMyIDAgMCAxLTY0IDBcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTg0KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTU3MC40MzIgNjI3Ljg0QTk2IDk2IDAgMSAxIDUwOS41NjggNjA4bDYwLjk5Mi0xODcuNzc2QTMyIDMyIDAgMSAxIDYzMS40MjQgNDQwbC02MC45OTIgMTg3Ljc3NnpNNTAyLjA4IDczNC40NjRhMzIgMzIgMCAxIDAgMTkuODQtNjAuOTI4IDMyIDMyIDAgMCAwLTE5Ljg0IDYwLjkyOFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL29kb21ldGVyLnZ1ZVxudmFyIG9kb21ldGVyX2RlZmF1bHQgPSBvZG9tZXRlcl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvb2ZmaWNlLWJ1aWxkaW5nLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE4NSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTg1LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE4NSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxODUgfSBmcm9tIFwidnVlXCI7XG52YXIgb2ZmaWNlX2J1aWxkaW5nX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE4NSh7XG4gIG5hbWU6IFwiT2ZmaWNlQnVpbGRpbmdcIixcbiAgX19uYW1lOiBcIm9mZmljZS1idWlsZGluZ1wiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTg1KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxODUoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE4NShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xOTIgMTI4djcwNGgzODRWMTI4em0tMzItNjRoNDQ4YTMyIDMyIDAgMCAxIDMyIDMydjc2OGEzMiAzMiAwIDAgMS0zMiAzMkgxNjBhMzIgMzIgMCAwIDEtMzItMzJWOTZhMzIgMzIgMCAwIDEgMzItMzJcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTg1KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTI1NiAyNTZoMjU2djY0SDI1NnptMCAxOTJoMjU2djY0SDI1NnptMCAxOTJoMjU2djY0SDI1NnptMzg0LTEyOGgxMjh2NjRINjQwem0wIDEyOGgxMjh2NjRINjQwek02NCA4MzJoODk2djY0SDY0elwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxODUoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNjQwIDM4NHY0NDhoMTkyVjM4NHptLTMyLTY0aDI1NmEzMiAzMiAwIDAgMSAzMiAzMnY1MTJhMzIgMzIgMCAwIDEtMzIgMzJINjA4YTMyIDMyIDAgMCAxLTMyLTMyVjM1MmEzMiAzMiAwIDAgMSAzMi0zMlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL29mZmljZS1idWlsZGluZy52dWVcbnZhciBvZmZpY2VfYnVpbGRpbmdfZGVmYXVsdCA9IG9mZmljZV9idWlsZGluZ192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvb3Blbi52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxODYgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE4Niwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxODYsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTg2IH0gZnJvbSBcInZ1ZVwiO1xudmFyIG9wZW5fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTg2KHtcbiAgbmFtZTogXCJPcGVuXCIsXG4gIF9fbmFtZTogXCJvcGVuXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxODYoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE4NihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTg2KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTMyOS45NTYgMjU3LjEzOGEyNTQuODYyIDI1NC44NjIgMCAwIDAgMCA1MDkuNzI0aDM2NC4wODhhMjU0Ljg2MiAyNTQuODYyIDAgMCAwIDAtNTA5LjcyNHptMC03Mi44MThoMzY0LjA4OGEzMjcuNjggMzI3LjY4IDAgMSAxIDAgNjU1LjM2SDMyOS45NTZhMzI3LjY4IDMyNy42OCAwIDEgMSAwLTY1NS4zNnpcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTg2KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTY5NC4wNDQgNjIxLjIyN2ExMDkuMjI3IDEwOS4yMjcgMCAxIDAgMC0yMTguNDU0IDEwOS4yMjcgMTA5LjIyNyAwIDAgMCAwIDIxOC40NTRtMCA3Mi44MTdhMTgyLjA0NCAxODIuMDQ0IDAgMSAxIDAtMzY0LjA4OCAxODIuMDQ0IDE4Mi4wNDQgMCAwIDEgMCAzNjQuMDg4XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvb3Blbi52dWVcbnZhciBvcGVuX2RlZmF1bHQgPSBvcGVuX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9vcGVyYXRpb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTg3IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxODcsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTg3LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE4NyB9IGZyb20gXCJ2dWVcIjtcbnZhciBvcGVyYXRpb25fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTg3KHtcbiAgbmFtZTogXCJPcGVyYXRpb25cIixcbiAgX19uYW1lOiBcIm9wZXJhdGlvblwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTg3KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxODcoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE4NyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0zODkuNDQgNzY4YTk2LjA2NCA5Ni4wNjQgMCAwIDEgMTgxLjEyIDBIODk2djY0SDU3MC41NmE5Ni4wNjQgOTYuMDY0IDAgMCAxLTE4MS4xMiAwSDEyOHYtNjR6bTE5Mi0yODhhOTYuMDY0IDk2LjA2NCAwIDAgMSAxODEuMTIgMEg4OTZ2NjRINzYyLjU2YTk2LjA2NCA5Ni4wNjQgMCAwIDEtMTgxLjEyIDBIMTI4di02NHptLTMyMC0yODhhOTYuMDY0IDk2LjA2NCAwIDAgMSAxODEuMTIgMEg4OTZ2NjRINDQyLjU2YTk2LjA2NCA5Ni4wNjQgMCAwIDEtMTgxLjEyIDBIMTI4di02NHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9vcGVyYXRpb24udnVlXG52YXIgb3BlcmF0aW9uX2RlZmF1bHQgPSBvcGVyYXRpb25fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL29wcG9ydHVuaXR5LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE4OCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTg4LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE4OCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxODggfSBmcm9tIFwidnVlXCI7XG52YXIgb3Bwb3J0dW5pdHlfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTg4KHtcbiAgbmFtZTogXCJPcHBvcnR1bml0eVwiLFxuICBfX25hbWU6IFwib3Bwb3J0dW5pdHlcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE4OCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTg4KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxODgoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMzg0IDk2MHYtNjRoMTkyLjA2NHY2NHptNDQ4LTU0NGEzNTAuNjU2IDM1MC42NTYgMCAwIDEtMTI4LjMyIDI3MS40MjRDNjY1LjM0NCA3MTkuMDQgNjQwIDc2My43NzYgNjQwIDgxMy41MDRWODMySDMyMHYtMTQuMzM2YzAtNDgtMTkuMzkyLTk1LjM2LTU3LjIxNi0xMjQuOTkyYTM1MS41NTIgMzUxLjU1MiAwIDAgMS0xMjguNDQ4LTM0NC4yNTZjMjUuMzQ0LTEzNi40NDggMTMzLjg4OC0yNDguMTI4IDI2OS43Ni0yNzYuNDhBMzUyLjM4NCAzNTIuMzg0IDAgMCAxIDgzMiA0MTZtLTU0NCAzMmMwLTEzMi4yODggNzUuOTA0LTIyNCAxOTItMjI0di02NGMtMTU0LjQzMiAwLTI1NiAxMjIuNzUyLTI1NiAyODh6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvb3Bwb3J0dW5pdHkudnVlXG52YXIgb3Bwb3J0dW5pdHlfZGVmYXVsdCA9IG9wcG9ydHVuaXR5X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9vcmFuZ2UudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTg5IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxODksIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTg5LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE4OSB9IGZyb20gXCJ2dWVcIjtcbnZhciBvcmFuZ2VfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTg5KHtcbiAgbmFtZTogXCJPcmFuZ2VcIixcbiAgX19uYW1lOiBcIm9yYW5nZVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTg5KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxODkoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE4OShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01NDQgODk0LjcyYTM4Mi4zMzYgMzgyLjMzNiAwIDAgMCAyMTUuOTM2LTg5LjQ3Mkw1NzcuMDI0IDYyMi4yNzJjLTEwLjI0IDYuMDE2LTIxLjI0OCAxMC42ODgtMzMuMDI0IDEzLjY5NnYyNTguNjg4em0yNjEuMjQ4LTEzNC43ODRBMzgyLjMzNiAzODIuMzM2IDAgMCAwIDg5NC42NTYgNTQ0SDYzNS45NjhjLTMuMDA4IDExLjc3Ni03LjY4IDIyLjg0OC0xMy42OTYgMzMuMDI0bDE4Mi45NzYgMTgyLjkxMnpNODk0LjY1NiA0ODBhMzgyLjMzNiAzODIuMzM2IDAgMCAwLTg5LjQwOC0yMTUuOTM2TDYyMi4yNzIgNDQ2Ljk3NmM2LjAxNiAxMC4yNCAxMC42ODggMjEuMjQ4IDEzLjY5NiAzMy4wMjRoMjU4LjY4OHptLTEzNC43Mi0yNjEuMjQ4QTM4Mi4zMzYgMzgyLjMzNiAwIDAgMCA1NDQgMTI5LjM0NHYyNTguNjg4YzExLjc3NiAzLjAwOCAyMi44NDggNy42OCAzMy4wMjQgMTMuNjk2ek00ODAgMTI5LjM0NGEzODIuMzM2IDM4Mi4zMzYgMCAwIDAtMjE1LjkzNiA4OS40MDhsMTgyLjkxMiAxODIuOTc2YzEwLjI0LTYuMDE2IDIxLjI0OC0xMC42ODggMzMuMDI0LTEzLjY5NnptLTI2MS4yNDggMTM0LjcyQTM4Mi4zMzYgMzgyLjMzNiAwIDAgMCAxMjkuMzQ0IDQ4MGgyNTguNjg4YzMuMDA4LTExLjc3NiA3LjY4LTIyLjg0OCAxMy42OTYtMzMuMDI0ek0xMjkuMzQ0IDU0NGEzODIuMzM2IDM4Mi4zMzYgMCAwIDAgODkuNDA4IDIxNS45MzZsMTgyLjk3Ni0xODIuOTEyQTEyNy4yMzIgMTI3LjIzMiAwIDAgMSAzODguMDMyIDU0NHptMTM0LjcyIDI2MS4yNDhBMzgyLjMzNiAzODIuMzM2IDAgMCAwIDQ4MCA4OTQuNjU2VjYzNS45NjhhMTI3LjIzMiAxMjcuMjMyIDAgMCAxLTMzLjAyNC0xMy42OTZ6TTUxMiA5NjBhNDQ4IDQ0OCAwIDEgMSAwLTg5NiA0NDggNDQ4IDAgMCAxIDAgODk2bTAtMzg0YTY0IDY0IDAgMSAwIDAtMTI4IDY0IDY0IDAgMCAwIDAgMTI4XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvb3JhbmdlLnZ1ZVxudmFyIG9yYW5nZV9kZWZhdWx0ID0gb3JhbmdlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9wYXBlcmNsaXAudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTkwIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxOTAsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTkwLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE5MCB9IGZyb20gXCJ2dWVcIjtcbnZhciBwYXBlcmNsaXBfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTkwKHtcbiAgbmFtZTogXCJQYXBlcmNsaXBcIixcbiAgX19uYW1lOiBcInBhcGVyY2xpcFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTkwKCksIF9jcmVhdGVFbGVtZW50QmxvY2sxOTAoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE5MChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk02MDIuNDk2IDI0MC40NDhBMTkyIDE5MiAwIDEgMSA4NzQuMDQ4IDUxMmwtMzE2LjggMzE2LjhBMjU2IDI1NiAwIDAgMSAxOTUuMiA0NjYuNzUyTDYwMi40OTYgNTkuNDU2bDQ1LjI0OCA0NS4yNDhMMjQwLjQ0OCA1MTJBMTkyIDE5MiAwIDAgMCA1MTIgNzgzLjU1MmwzMTYuOC0zMTYuOGExMjggMTI4IDAgMSAwLTE4MS4wNTYtMTgxLjA1NkwzNTMuNiA1NzkuOTA0YTMyIDMyIDAgMSAwIDQ1LjI0OCA0NS4yNDhsMjk0LjE0NC0yOTQuMTQ0IDQ1LjMxMiA0NS4yNDhMNDQ0LjA5NiA2NzAuNGE5NiA5NiAwIDEgMS0xMzUuNzQ0LTEzNS43NDRsMjk0LjE0NC0yOTQuMjA4elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3BhcGVyY2xpcC52dWVcbnZhciBwYXBlcmNsaXBfZGVmYXVsdCA9IHBhcGVyY2xpcF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvcGFydGx5LWNsb3VkeS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxOTEgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE5MSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxOTEsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTkxIH0gZnJvbSBcInZ1ZVwiO1xudmFyIHBhcnRseV9jbG91ZHlfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTkxKHtcbiAgbmFtZTogXCJQYXJ0bHlDbG91ZHlcIixcbiAgX19uYW1lOiBcInBhcnRseS1jbG91ZHlcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE5MSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTkxKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxOTEoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTk4LjQgODk1Ljg3MkgzMjguMTkyYTI1NiAyNTYgMCAwIDEtMzQuNDk2LTUxMC41MjhBMzUyIDM1MiAwIDEgMSA1OTguNCA4OTUuODcybS0yNzEuMzYtNjRoMjcyLjI1NmEyODggMjg4IDAgMSAwLTI0OC41MTItNDE3LjY2NEwzMzUuMDQgNDQ1LjQ0bC0zNC44MTYgMy41ODRhMTkyIDE5MiAwIDAgMCAyNi44OCAzODIuODQ4elwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxOTEoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMTM5Ljg0IDUwMS44ODhhMjU2IDI1NiAwIDEgMSA0MTcuODU2LTI3Ny4xMmMtMTcuNzI4IDIuMTc2LTM4LjIwOCA4LjQ0OC02MS41MDQgMTguODE2QTE5MiAxOTIgMCAxIDAgMTg5LjEyIDQ2MC40OGE2MDAzLjg0IDYwMDMuODQgMCAwIDAtNDkuMjggNDEuNDA4elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3BhcnRseS1jbG91ZHkudnVlXG52YXIgcGFydGx5X2Nsb3VkeV9kZWZhdWx0ID0gcGFydGx5X2Nsb3VkeV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvcGVhci52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxOTIgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE5Miwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxOTIsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTkyIH0gZnJvbSBcInZ1ZVwiO1xudmFyIHBlYXJfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTkyKHtcbiAgbmFtZTogXCJQZWFyXCIsXG4gIF9fbmFtZTogXCJwZWFyXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxOTIoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE5MihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTkyKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTU0Mi4zMzYgMjU4LjgxNmE0NDMuMjU1IDQ0My4yNTUgMCAwIDAtOS4wMjQgMjUuMDg4IDMyIDMyIDAgMSAxLTYwLjgtMjAuMDMybDEuMDg4LTMuMzI4YTE2Mi42ODggMTYyLjY4OCAwIDAgMC0xMjIuMDQ4IDEzMS4zOTJsLTE3LjA4OCAxMDIuNzItMjAuNzM2IDE1LjM2QzI1Ni4xOTIgNTUyLjcwNCAyMjQgNjEwLjg4IDIyNCA2NzJjMCAxMjAuNTc2IDEyNi40IDIyNCAyODggMjI0czI4OC0xMDMuNDI0IDI4OC0yMjRjMC02MS4xMi0zMi4xOTItMTE5LjI5Ni04OS43MjgtMTYxLjkybC0yMC43MzYtMTUuNDI0LTE3LjA4OC0xMDIuNzJhMTYyLjY4OCAxNjIuNjg4IDAgMCAwLTEzMC4xMTItMTMzLjEyem0tNDAuMTI4LTY2LjU2YzcuOTM2LTE1LjU1MiAxNi41NzYtMzAuMDggMjUuOTItNDMuNzc2IDIzLjI5Ni0zMy45MiA0OS40MDgtNTkuNzc2IDc4LjUyOC03Ny4xMmEzMiAzMiAwIDEgMSAzMi43MDQgNTUuMDRjLTIwLjU0NCAxMi4yMjQtNDAuMDY0IDMxLjU1Mi01OC40MzIgNTguMzA0YTMxNi42MDggMzE2LjYwOCAwIDAgMC05Ljc5MiAxNS4xMDQgMjI2LjY4OCAyMjYuNjg4IDAgMCAxIDE2NC40OCAxODEuNTY4bDEyLjggNzcuMjQ4QzgxOS40NTYgNTExLjM2IDg2NCA1ODcuMzkyIDg2NCA2NzJjMCAxNTkuMDQtMTU3LjU2OCAyODgtMzUyIDI4OFMxNjAgODMxLjA0IDE2MCA2NzJjMC04NC42MDggNDQuNjA4LTE2MC42NCAxMTUuNTg0LTIxMy4zNzZsMTIuOC03Ny4yNDhhMjI2LjYyNCAyMjYuNjI0IDAgMCAxIDIxMy43Ni0xODkuMTg0elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3BlYXIudnVlXG52YXIgcGVhcl9kZWZhdWx0ID0gcGVhcl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvcGhvbmUtZmlsbGVkLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE5MyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTkzLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE5MywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxOTMgfSBmcm9tIFwidnVlXCI7XG52YXIgcGhvbmVfZmlsbGVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE5Myh7XG4gIG5hbWU6IFwiUGhvbmVGaWxsZWRcIixcbiAgX19uYW1lOiBcInBob25lLWZpbGxlZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTkzKCksIF9jcmVhdGVFbGVtZW50QmxvY2sxOTMoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE5MyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xOTkuMjMyIDEyNS41NjggOTAuNjI0IDM3OS4wMDhhMzIgMzIgMCAwIDAgNi43ODQgMzUuMmw1MTIuMzg0IDUxMi4zODRhMzIgMzIgMCAwIDAgMzUuMiA2Ljc4NGwyNTMuNDQtMTA4LjYwOGEzMiAzMiAwIDAgMCAxMC4wNDgtNTIuMDMyTDc2OS42IDYzMy45MmEzMiAzMiAwIDAgMC0zNi45MjgtNS45NTJsLTEzMC4xNzYgNjUuMDg4LTI3MS40ODgtMjcxLjU1MiA2NS4wMjQtMTMwLjE3NmEzMiAzMiAwIDAgMC01Ljk1Mi0zNi45MjhMMjUxLjIgMTE1LjUyYTMyIDMyIDAgMCAwLTUxLjk2OCAxMC4wNDh6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvcGhvbmUtZmlsbGVkLnZ1ZVxudmFyIHBob25lX2ZpbGxlZF9kZWZhdWx0ID0gcGhvbmVfZmlsbGVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9waG9uZS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQxOTQgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTE5NCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2sxOTQsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMTk0IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHBob25lX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE5NCh7XG4gIG5hbWU6IFwiUGhvbmVcIixcbiAgX19uYW1lOiBcInBob25lXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxOTQoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE5NChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTk0KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTc5LjM2IDQzMi4yNTYgNTkxLjc0NCA5NDQuNjRhMzIgMzIgMCAwIDAgMzUuMiA2Ljc4NGwyNTMuNDQtMTA4LjU0NGEzMiAzMiAwIDAgMCA5Ljk4NC01Mi4wMzJsLTE1My44NTYtMTUzLjkyYTMyIDMyIDAgMCAwLTM2LjkyOC02LjAxNmwtNjkuODg4IDM0Ljk0NEwzNTguMDggMzk0LjI0bDM1LjAwOC02OS44ODhhMzIgMzIgMCAwIDAtNS45NTItMzYuOTI4TDIzMy4xNTIgMTMzLjU2OGEzMiAzMiAwIDAgMC01Mi4wMzIgMTAuMDQ4TDcyLjUxMiAzOTcuMDU2YTMyIDMyIDAgMCAwIDYuNzg0IDM1LjJ6bTYwLjQ4LTI5Ljk1MiA4MS41MzYtMTkwLjA4TDMyNS41NjggMzE2LjQ4bC0yNC42NCA0OS4yMTYtMjAuNjA4IDQxLjIxNiAzMi41NzYgMzIuNjQgMjcxLjU1MiAyNzEuNTUyIDMyLjY0IDMyLjY0IDQxLjIxNi0yMC42NzIgNDkuMjgtMjQuNTc2IDEwNC4xOTIgMTA0LjEyOC0xOTAuMDggODEuNDcyTDEzOS44NCA0MDIuMzA0ek01MTIgMzIwdi02NGEyNTYgMjU2IDAgMCAxIDI1NiAyNTZoLTY0YTE5MiAxOTIgMCAwIDAtMTkyLTE5Mm0wLTE5MlY2NGE0NDggNDQ4IDAgMCAxIDQ0OCA0NDhoLTY0YTM4NCAzODQgMCAwIDAtMzg0LTM4NFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3Bob25lLnZ1ZVxudmFyIHBob25lX2RlZmF1bHQgPSBwaG9uZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvcGljdHVyZS1maWxsZWQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTk1IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxOTUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTk1LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE5NSB9IGZyb20gXCJ2dWVcIjtcbnZhciBwaWN0dXJlX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQxOTUoe1xuICBuYW1lOiBcIlBpY3R1cmVGaWxsZWRcIixcbiAgX19uYW1lOiBcInBpY3R1cmUtZmlsbGVkXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2sxOTUoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazE5NShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTk1KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTk2IDg5NmEzMiAzMiAwIDAgMS0zMi0zMlYxNjBhMzIgMzIgMCAwIDEgMzItMzJoODMyYTMyIDMyIDAgMCAxIDMyIDMydjcwNGEzMiAzMiAwIDAgMS0zMiAzMnptMzE1LjUyLTIyOC40OC02OC45MjgtNjguOTI4YTMyIDMyIDAgMCAwLTQ1LjI0OCAwTDEyOCA3NjguMDY0aDc3OC42ODhsLTI0Mi4xMTItMjkwLjU2YTMyIDMyIDAgMCAwLTQ5LjIxNiAwTDQ1OC43NTIgNjY1LjQwOGEzMiAzMiAwIDAgMS00Ny4yMzIgMi4xMTJNMjU2IDM4NGE5NiA5NiAwIDEgMCAxOTIuMDY0LS4wNjRBOTYgOTYgMCAwIDAgMjU2IDM4NFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3BpY3R1cmUtZmlsbGVkLnZ1ZVxudmFyIHBpY3R1cmVfZmlsbGVkX2RlZmF1bHQgPSBwaWN0dXJlX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvcGljdHVyZS1yb3VuZGVkLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE5NiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTk2LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE5NiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxOTYgfSBmcm9tIFwidnVlXCI7XG52YXIgcGljdHVyZV9yb3VuZGVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE5Nih7XG4gIG5hbWU6IFwiUGljdHVyZVJvdW5kZWRcIixcbiAgX19uYW1lOiBcInBpY3R1cmUtcm91bmRlZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTk2KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxOTYoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE5NihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTIgMTI4YTM4NCAzODQgMCAxIDAgMCA3NjggMzg0IDM4NCAwIDAgMCAwLTc2OG0wLTY0YTQ0OCA0NDggMCAxIDEgMCA4OTYgNDQ4IDQ0OCAwIDAgMSAwLTg5NlwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxOTYoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNjQwIDI4OHE2NCAwIDY0IDY0dC02NCA2NHEtNjQgMC02NC02NHQ2NC02NE0yMTQuNjU2IDc5MC42NTZsLTQ1LjMxMi00NS4zMTIgMTg1LjY2NC0xODUuNmE5NiA5NiAwIDAgMSAxMjMuNzEyLTEwLjI0bDEzOC4yNCA5OC42ODhhMzIgMzIgMCAwIDAgMzkuODcyLTIuMTc2TDkwNi42ODggNDIyLjRsNDIuNjI0IDQ3Ljc0NEw2OTkuNTIgNjkzLjY5NmE5NiA5NiAwIDAgMS0xMTkuODA4IDYuNTkybC0xMzguMjQtOTguNzUyYTMyIDMyIDAgMCAwLTQxLjE1MiAzLjQ1NmwtMTg1LjY2NCAxODUuNnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9waWN0dXJlLXJvdW5kZWQudnVlXG52YXIgcGljdHVyZV9yb3VuZGVkX2RlZmF1bHQgPSBwaWN0dXJlX3JvdW5kZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3BpY3R1cmUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MTk3IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUxOTcsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMTk3LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazE5NyB9IGZyb20gXCJ2dWVcIjtcbnZhciBwaWN0dXJlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE5Nyh7XG4gIG5hbWU6IFwiUGljdHVyZVwiLFxuICBfX25hbWU6IFwicGljdHVyZVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTk3KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxOTcoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE5NyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xNjAgMTYwdjcwNGg3MDRWMTYwem0tMzItNjRoNzY4YTMyIDMyIDAgMCAxIDMyIDMydjc2OGEzMiAzMiAwIDAgMS0zMiAzMkgxMjhhMzIgMzIgMCAwIDEtMzItMzJWMTI4YTMyIDMyIDAgMCAxIDMyLTMyXCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE5NyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0zODQgMjg4cTY0IDAgNjQgNjR0LTY0IDY0cS02NCAwLTY0LTY0dDY0LTY0TTE4NS40MDggODc2Ljk5MmwtNTAuODE2LTM4LjkxMkwzNTAuNzIgNTU2LjAzMmE5NiA5NiAwIDAgMSAxMzQuNTkyLTE3Ljg1NmwxLjg1NiAxLjQ3MiAxMjIuODggOTkuMTM2YTMyIDMyIDAgMCAwIDQ0Ljk5Mi00Ljg2NGwyMTYtMjY5Ljg4OCA0OS45MiAzOS45MzYtMjE1LjgwOCAyNjkuODI0LS4yNTYuMzJhOTYgOTYgMCAwIDEtMTM1LjA0IDE0LjQ2NGwtMTIyLjg4LTk5LjA3Mi0uNjQtLjUxMmEzMiAzMiAwIDAgMC00NC44IDUuOTUyelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3BpY3R1cmUudnVlXG52YXIgcGljdHVyZV9kZWZhdWx0ID0gcGljdHVyZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvcGllLWNoYXJ0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE5OCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTk4LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE5OCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxOTggfSBmcm9tIFwidnVlXCI7XG52YXIgcGllX2NoYXJ0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDE5OCh7XG4gIG5hbWU6IFwiUGllQ2hhcnRcIixcbiAgX19uYW1lOiBcInBpZS1jaGFydFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMTk4KCksIF9jcmVhdGVFbGVtZW50QmxvY2sxOTgoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE5OChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk00NDggNjguNDh2NjQuODMyQTM4NC4xMjggMzg0LjEyOCAwIDAgMCA1MTIgODk2YTM4NC4xMjggMzg0LjEyOCAwIDAgMCAzNzguNjg4LTMyMGg2NC43NjhBNDQ4LjEyOCA0NDguMTI4IDAgMCAxIDY0IDUxMiA0NDguMTI4IDQ0OC4xMjggMCAwIDEgNDQ4IDY4LjQ4elwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxOTgoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTc2IDk3LjI4VjQ0OGgzNTAuNzJBMzg0LjA2NCAzODQuMDY0IDAgMCAwIDU3NiA5Ny4yOHpNNTEyIDY0VjMzLjE1MkE0NDggNDQ4IDAgMCAxIDk5MC44NDggNTEySDUxMnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9waWUtY2hhcnQudnVlXG52YXIgcGllX2NoYXJ0X2RlZmF1bHQgPSBwaWVfY2hhcnRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3BsYWNlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDE5OSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMTk5LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazE5OSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2sxOTkgfSBmcm9tIFwidnVlXCI7XG52YXIgcGxhY2VfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MTk5KHtcbiAgbmFtZTogXCJQbGFjZVwiLFxuICBfX25hbWU6IFwicGxhY2VcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazE5OSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMTk5KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUxOTkoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDUxMmExOTIgMTkyIDAgMSAwIDAtMzg0IDE5MiAxOTIgMCAwIDAgMCAzODRtMCA2NGEyNTYgMjU2IDAgMSAxIDAtNTEyIDI1NiAyNTYgMCAwIDEgMCA1MTJcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMTk5KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiA1MTJhMzIgMzIgMCAwIDEgMzIgMzJ2MjU2YTMyIDMyIDAgMSAxLTY0IDBWNTQ0YTMyIDMyIDAgMCAxIDMyLTMyXCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTE5OShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0zODQgNjQ5LjA4OHY2NC45NkMyNjkuNzYgNzMyLjM1MiAxOTIgNzcxLjkwNCAxOTIgODAwYzAgMzcuNjk2IDEzOS45MDQgOTYgMzIwIDk2czMyMC01OC4zMDQgMzIwLTk2YzAtMjguMTYtNzcuNzYtNjcuNjQ4LTE5Mi04NS45NTJ2LTY0Ljk2Qzc4OS4xMiA2NzEuMDQgODk2IDczMC4zNjggODk2IDgwMGMwIDg4LjMyLTE3MS45MDQgMTYwLTM4NCAxNjBzLTM4NC03MS42OC0zODQtMTYwYzAtNjkuNjk2IDEwNi44OC0xMjguOTYgMjU2LTE1MC45MTJcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9wbGFjZS52dWVcbnZhciBwbGFjZV9kZWZhdWx0ID0gcGxhY2VfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3BsYXRmb3JtLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDIwMCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjAwLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazIwMCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syMDAgfSBmcm9tIFwidnVlXCI7XG52YXIgcGxhdGZvcm1fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjAwKHtcbiAgbmFtZTogXCJQbGF0Zm9ybVwiLFxuICBfX25hbWU6IFwicGxhdGZvcm1cIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazIwMCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjAwKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMDAoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNDQ4IDgzMnYtNjRoMTI4djY0aDE5MnY2NEgyNTZ2LTY0ek0xMjggNzA0VjEyOGg3Njh2NTc2elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3BsYXRmb3JtLnZ1ZVxudmFyIHBsYXRmb3JtX2RlZmF1bHQgPSBwbGF0Zm9ybV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvcGx1cy52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyMDEgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTIwMSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syMDEsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjAxIH0gZnJvbSBcInZ1ZVwiO1xudmFyIHBsdXNfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjAxKHtcbiAgbmFtZTogXCJQbHVzXCIsXG4gIF9fbmFtZTogXCJwbHVzXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syMDEoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazIwMShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjAxKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTQ4MCA0ODBWMTI4YTMyIDMyIDAgMCAxIDY0IDB2MzUyaDM1MmEzMiAzMiAwIDEgMSAwIDY0SDU0NHYzNTJhMzIgMzIgMCAxIDEtNjQgMFY1NDRIMTI4YTMyIDMyIDAgMCAxIDAtNjR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvcGx1cy52dWVcbnZhciBwbHVzX2RlZmF1bHQgPSBwbHVzX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9wb2ludGVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDIwMiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjAyLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazIwMiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syMDIgfSBmcm9tIFwidnVlXCI7XG52YXIgcG9pbnRlcl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyMDIoe1xuICBuYW1lOiBcIlBvaW50ZXJcIixcbiAgX19uYW1lOiBcInBvaW50ZXJcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazIwMigpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjAyKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMDIoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTExLjU1MiAxMjhjLTM1LjU4NCAwLTY0LjM4NCAyOC44LTY0LjM4NCA2NC40NDh2NTE2LjQ4TDI3NC4wNDggNTcwLjg4YTk0LjI3MiA5NC4yNzIgMCAwIDAtMTEyLjg5Ni0zLjQ1NiA0NC40MTYgNDQuNDE2IDAgMCAwLTguOTYgNjIuMjA4TDMzMi44IDg3MC40QTY0IDY0IDAgMCAwIDM4NCA4OTZoNTEyVjU3NS4yMzJhNjQgNjQgMCAwIDAtNDUuNjMyLTYxLjMxMmwtMjA1Ljk1Mi02MS43NkE5NiA5NiAwIDAgMSA1NzYgMzYwLjE5MlYxOTIuNDQ4QzU3NiAxNTYuOCA1NDcuMiAxMjggNTExLjU1MiAxMjhNMzU5LjA0IDU1Ni44bDI0LjEyOCAxOS4yVjE5Mi40NDhhMTI4LjQ0OCAxMjguNDQ4IDAgMSAxIDI1Ni44MzIgMHYxNjcuNzQ0YTMyIDMyIDAgMCAwIDIyLjc4NCAzMC42NTZsMjA2LjAxNiA2MS43NkExMjggMTI4IDAgMCAxIDk2MCA1NzUuMjMyVjg5NmE2NCA2NCAwIDAgMS02NCA2NEgzODRhMTI4IDEyOCAwIDAgMS0xMDIuNC01MS4yTDEwMS4wNTYgNjY4LjAzMkExMDguNDE2IDEwOC40MTYgMCAwIDEgMTI4IDUxMi41MTJhMTU4LjI3MiAxNTguMjcyIDAgMCAxIDE4NS45ODQgOC4zMnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9wb2ludGVyLnZ1ZVxudmFyIHBvaW50ZXJfZGVmYXVsdCA9IHBvaW50ZXJfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3Bvc2l0aW9uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDIwMyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjAzLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazIwMywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syMDMgfSBmcm9tIFwidnVlXCI7XG52YXIgcG9zaXRpb25fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjAzKHtcbiAgbmFtZTogXCJQb3NpdGlvblwiLFxuICBfX25hbWU6IFwicG9zaXRpb25cIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazIwMygpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjAzKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMDMoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJtMjQ5LjYgNDE3LjA4OCAzMTkuNzQ0IDQzLjA3MiAzOS4xNjggMzEwLjI3Mkw4NDUuMTIgMTc4Ljg4IDI0OS42IDQxNy4wODh6bS0xMjkuMDI0IDQ3LjE2OGEzMiAzMiAwIDAgMS03LjY4LTYxLjQ0bDc3Ny43OTItMzExLjA0YTMyIDMyIDAgMCAxIDQxLjYgNDEuNmwtMzEwLjMzNiA3NzUuNjhhMzIgMzIgMCAwIDEtNjEuNDQtNy44MDhMNTEyIDUxNi45OTJsLTM5MS40MjQtNTIuNzM2elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3Bvc2l0aW9uLnZ1ZVxudmFyIHBvc2l0aW9uX2RlZmF1bHQgPSBwb3NpdGlvbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvcG9zdGNhcmQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjA0IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyMDQsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjA0LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazIwNCB9IGZyb20gXCJ2dWVcIjtcbnZhciBwb3N0Y2FyZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyMDQoe1xuICBuYW1lOiBcIlBvc3RjYXJkXCIsXG4gIF9fbmFtZTogXCJwb3N0Y2FyZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjA0KCksIF9jcmVhdGVFbGVtZW50QmxvY2syMDQoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIwNChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xNjAgMjI0YTMyIDMyIDAgMCAwLTMyIDMydjUxMmEzMiAzMiAwIDAgMCAzMiAzMmg3MDRhMzIgMzIgMCAwIDAgMzItMzJWMjU2YTMyIDMyIDAgMCAwLTMyLTMyem0wLTY0aDcwNGE5NiA5NiAwIDAgMSA5NiA5NnY1MTJhOTYgOTYgMCAwIDEtOTYgOTZIMTYwYTk2IDk2IDAgMCAxLTk2LTk2VjI1NmE5NiA5NiAwIDAgMSA5Ni05NlwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMDQoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNzA0IDMyMGE2NCA2NCAwIDEgMSAwIDEyOCA2NCA2NCAwIDAgMSAwLTEyOE0yODggNDQ4aDI1NnEzMiAwIDMyIDMydC0zMiAzMkgyODhxLTMyIDAtMzItMzJ0MzItMzJtMCAxMjhoMjU2cTMyIDAgMzIgMzJ0LTMyIDMySDI4OHEtMzIgMC0zMi0zMnQzMi0zMlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3Bvc3RjYXJkLnZ1ZVxudmFyIHBvc3RjYXJkX2RlZmF1bHQgPSBwb3N0Y2FyZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvcG91cmluZy52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyMDUgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTIwNSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syMDUsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjA1IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHBvdXJpbmdfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjA1KHtcbiAgbmFtZTogXCJQb3VyaW5nXCIsXG4gIF9fbmFtZTogXCJwb3VyaW5nXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syMDUoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazIwNShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjA1KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwibTczOS4zMjggMjkxLjMyOC0zNS4yLTYuNTkyLTEyLjgtMzMuNDA4YTE5Mi4wNjQgMTkyLjA2NCAwIDAgMC0zNjUuOTUyIDIzLjIzMmwtOS45MiA0MC44OTYtNDEuNDcyIDcuMDRhMTc2LjMyIDE3Ni4zMiAwIDAgMC0xNDYuMjQgMTczLjU2OGMwIDk3LjI4IDc4LjcyIDE3NS45MzYgMTc1LjgwOCAxNzUuOTM2aDQwMGExOTIgMTkyIDAgMCAwIDM1Ljc3Ni0zODAuNjcyek05NTkuNTUyIDQ4MGEyNTYgMjU2IDAgMCAxLTI1NiAyNTZoLTQwMEEyMzkuODA4IDIzOS44MDggMCAwIDEgNjMuNzQ0IDQ5Ni4xOTJhMjQwLjMyIDI0MC4zMiAwIDAgMSAxOTkuNDg4LTIzNi44IDI1Ni4xMjggMjU2LjEyOCAwIDAgMSA0ODcuODcyLTMwLjk3NkEyNTYuMDY0IDI1Ni4wNjQgMCAwIDEgOTU5LjU1MiA0ODBNMjI0IDgwMGEzMiAzMiAwIDAgMSAzMiAzMnY5NmEzMiAzMiAwIDEgMS02NCAwdi05NmEzMiAzMiAwIDAgMSAzMi0zMm0xOTIgMGEzMiAzMiAwIDAgMSAzMiAzMnY5NmEzMiAzMiAwIDEgMS02NCAwdi05NmEzMiAzMiAwIDAgMSAzMi0zMm0xOTIgMGEzMiAzMiAwIDAgMSAzMiAzMnY5NmEzMiAzMiAwIDEgMS02NCAwdi05NmEzMiAzMiAwIDAgMSAzMi0zMm0xOTIgMGEzMiAzMiAwIDAgMSAzMiAzMnY5NmEzMiAzMiAwIDEgMS02NCAwdi05NmEzMiAzMiAwIDAgMSAzMi0zMlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3BvdXJpbmcudnVlXG52YXIgcG91cmluZ19kZWZhdWx0ID0gcG91cmluZ192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvcHJlc2VudC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyMDYgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTIwNiwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syMDYsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjA2IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHByZXNlbnRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjA2KHtcbiAgbmFtZTogXCJQcmVzZW50XCIsXG4gIF9fbmFtZTogXCJwcmVzZW50XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syMDYoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazIwNihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjA2KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTQ4MCA4OTZWNjQwSDE5MnYtNjRoMjg4VjMyMEgxOTJ2NTc2em02NCAwaDI4OFYzMjBINTQ0djI1NmgyODh2NjRINTQ0ek0xMjggMjU2aDc2OHY2NzJhMzIgMzIgMCAwIDEtMzIgMzJIMTYwYTMyIDMyIDAgMCAxLTMyLTMyelwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMDYoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNOTYgMjU2aDgzMnEzMiAwIDMyIDMydC0zMiAzMkg5NnEtMzIgMC0zMi0zMnQzMi0zMlwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMDYoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNDE2IDI1NmE2NCA2NCAwIDEgMCAwLTEyOCA2NCA2NCAwIDAgMCAwIDEyOG0wIDY0YTEyOCAxMjggMCAxIDEgMC0yNTYgMTI4IDEyOCAwIDAgMSAwIDI1NlwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMDYoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNjA4IDI1NmE2NCA2NCAwIDEgMCAwLTEyOCA2NCA2NCAwIDAgMCAwIDEyOG0wIDY0YTEyOCAxMjggMCAxIDEgMC0yNTYgMTI4IDEyOCAwIDAgMSAwIDI1NlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3ByZXNlbnQudnVlXG52YXIgcHJlc2VudF9kZWZhdWx0ID0gcHJlc2VudF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvcHJpY2UtdGFnLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDIwNyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjA3LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazIwNywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syMDcgfSBmcm9tIFwidnVlXCI7XG52YXIgcHJpY2VfdGFnX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDIwNyh7XG4gIG5hbWU6IFwiUHJpY2VUYWdcIixcbiAgX19uYW1lOiBcInByaWNlLXRhZ1wiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjA3KCksIF9jcmVhdGVFbGVtZW50QmxvY2syMDcoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIwNyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0yMjQgMzE4LjMzNlY4OTZoNTc2VjMxOC4zMzZMNTUyLjUxMiAxMTUuODRhNjQgNjQgMCAwIDAtODEuMDI0IDB6TTU5My4wMjQgNjYuMzA0bDI1OS4yIDIxMi4wOTZBMzIgMzIgMCAwIDEgODY0IDMwMy4xNjhWOTI4YTMyIDMyIDAgMCAxLTMyIDMySDE5MmEzMiAzMiAwIDAgMS0zMi0zMlYzMDMuMTY4YTMyIDMyIDAgMCAxIDExLjcxMi0yNC43NjhsMjU5LjItMjEyLjA5NmExMjggMTI4IDAgMCAxIDE2Mi4xMTIgMHpcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjA3KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiA0NDhhNjQgNjQgMCAxIDAgMC0xMjggNjQgNjQgMCAwIDAgMCAxMjhtMCA2NGExMjggMTI4IDAgMSAxIDAtMjU2IDEyOCAxMjggMCAwIDEgMCAyNTZcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9wcmljZS10YWcudnVlXG52YXIgcHJpY2VfdGFnX2RlZmF1bHQgPSBwcmljZV90YWdfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3ByaW50ZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjA4IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyMDgsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjA4LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazIwOCB9IGZyb20gXCJ2dWVcIjtcbnZhciBwcmludGVyX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDIwOCh7XG4gIG5hbWU6IFwiUHJpbnRlclwiLFxuICBfX25hbWU6IFwicHJpbnRlclwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjA4KCksIF9jcmVhdGVFbGVtZW50QmxvY2syMDgoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIwOChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0yNTYgNzY4SDEwNS4wMjRjLTE0LjI3MiAwLTE5LjQ1Ni0xLjQ3Mi0yNC42NC00LjI4OGEyOS4wNTYgMjkuMDU2IDAgMCAxLTEyLjE2LTEyLjA5NkM2NS41MzYgNzQ2LjQzMiA2NCA3NDEuMjQ4IDY0IDcyNy4wNFYzNzkuMDcyYzAtNDIuODE2IDQuNDgtNTguMzA0IDEyLjgtNzMuOTg0IDguMzg0LTE1LjYxNiAyMC42NzItMjcuOTA0IDM2LjI4OC0zNi4yODggMTUuNjgtOC4zMiAzMS4xNjgtMTIuOCA3My45ODQtMTIuOEgyNTZWNjRoNTEydjE5Mmg2OC45MjhjNDIuODE2IDAgNTguMzA0IDQuNDggNzMuOTg0IDEyLjggMTUuNjE2IDguMzg0IDI3LjkwNCAyMC42NzIgMzYuMjg4IDM2LjI4OCA4LjMyIDE1LjY4IDEyLjggMzEuMTY4IDEyLjggNzMuOTg0djM0Ny45MDRjMCAxNC4yNzItMS40NzIgMTkuNDU2LTQuMjg4IDI0LjY0YTI5LjA1NiAyOS4wNTYgMCAwIDEtMTIuMDk2IDEyLjE2Yy01LjE4NCAyLjc1Mi0xMC4zNjggNC4yMjQtMjQuNjQgNC4yMjRINzY4djE5MkgyNTZ6bTY0LTE5MnYzMjBoMzg0VjU3NnptLTY0IDEyOFY1MTJoNTEydjE5MmgxMjhWMzc5LjA3MmMwLTI5LjM3Ni0xLjQwOC0zNi40OC01LjI0OC00My43NzZhMjMuMjk2IDIzLjI5NiAwIDAgMC0xMC4wNDgtMTAuMDQ4Yy03LjIzMi0zLjg0LTE0LjQtNS4yNDgtNDMuNzc2LTUuMjQ4SDE4Ny4wNzJjLTI5LjM3NiAwLTM2LjQ4IDEuNDA4LTQzLjc3NiA1LjI0OGEyMy4yOTYgMjMuMjk2IDAgMCAwLTEwLjA0OCAxMC4wNDhjLTMuODQgNy4yMzItNS4yNDggMTQuNC01LjI0OCA0My43NzZWNzA0em02NC00NDhoMzg0VjEyOEgzMjB6bS02NCAxMjhoNjR2NjRoLTY0em0xMjggMGg2NHY2NGgtNjR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvcHJpbnRlci52dWVcbnZhciBwcmludGVyX2RlZmF1bHQgPSBwcmludGVyX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9wcm9tb3Rpb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjA5IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyMDksIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjA5LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazIwOSB9IGZyb20gXCJ2dWVcIjtcbnZhciBwcm9tb3Rpb25fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjA5KHtcbiAgbmFtZTogXCJQcm9tb3Rpb25cIixcbiAgX19uYW1lOiBcInByb21vdGlvblwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjA5KCksIF9jcmVhdGVFbGVtZW50QmxvY2syMDkoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIwOShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIm02NCA0NDggODMyLTMyMC0xMjggNzA0LTQ0Ni4wOC0yNDMuMzI4TDgzMiAxOTIgMjQyLjgxNiA1NDUuNDcyem0yNTYgNTEyVjY1Ny4wMjRMNTEyIDc2OHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9wcm9tb3Rpb24udnVlXG52YXIgcHJvbW90aW9uX2RlZmF1bHQgPSBwcm9tb3Rpb25fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3F1YXJ0ei13YXRjaC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyMTAgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTIxMCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syMTAsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjEwIH0gZnJvbSBcInZ1ZVwiO1xudmFyIHF1YXJ0el93YXRjaF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyMTAoe1xuICBuYW1lOiBcIlF1YXJ0eldhdGNoXCIsXG4gIF9fbmFtZTogXCJxdWFydHotd2F0Y2hcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazIxMCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjEwKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICBcInhtbDpzcGFjZVwiOiBcInByZXNlcnZlXCIsXG4gICAgICBzdHlsZTogeyBcImVuYWJsZS1iYWNrZ3JvdW5kXCI6IFwibmV3IDAgMCAxMDI0IDEwMjRcIiB9LFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjEwKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTQyMi4wMiA2MDIuMDF2LS4wM2MtNi42OC01Ljk5LTE0LjM1LTguODMtMjMuMDEtOC41MS04LjY3LjMyLTE2LjE3IDMuNjYtMjIuNSAxMC4wMi02LjMzIDYuMzYtOS41IDEzLjctOS41IDIyLjAyczMgMTUuODIgOC45OSAyMi41YzguNjggOC42OCAxOS4wMiAxMS4zNSAzMS4wMSA4czE5LjQ5LTEwLjg1IDIyLjUtMjIuNWMzLjAxLTExLjY1LjUxLTIyLjE1LTcuNDktMzEuNDl6TTM4NCA1MTJjMC05LjM1LTMtMTcuMDItOC45OS0yMy4wMS02LTUuOTktMTMuNjYtOC45OS0yMy4wMS04Ljk5LTkuMzUgMC0xNy4wMiAzLTIzLjAxIDguOTktNS45OSA2LTguOTkgMTMuNjYtOC45OSAyMy4wMXMzIDE3LjAyIDguOTkgMjMuMDFjNiA1Ljk5IDEzLjY2IDguOTkgMjMuMDEgOC45OSA5LjM1IDAgMTcuMDItMyAyMy4wMS04Ljk5IDUuOTktNiA4Ljk5LTEzLjY3IDguOTktMjMuMDFtNi41My04Mi40OWMxMS42NSAzLjAxIDIyLjE1LjUxIDMxLjQ5LTcuNDloLjA0YzUuOTktNi42OCA4LjgzLTE0LjM0IDguNTEtMjMuMDEtLjMyLTguNjctMy42Ni0xNi4xNi0xMC4wMi0yMi41LTYuMzYtNi4zMy0xMy43LTkuNS0yMi4wMi05LjVzLTE1LjgyIDMtMjIuNSA4Ljk5Yy04LjY4IDguNjktMTEuMzUgMTkuMDItOCAzMS4wMSAzLjM1IDExLjk5IDEwLjg1IDE5LjQ5IDIyLjUgMjIuNXptMjQyLjk0IDBjMTEuNjctMy4wMyAxOS4wMS0xMC4zNyAyMi4wMi0yMi4wMiAzLjAxLTExLjY1LjUxLTIyLjE1LTcuNDktMzEuNDloLjAxYy02LjY4LTUuOTktMTQuMTgtOC45OS0yMi41LTguOTlzLTE1LjY2IDMuMTYtMjIuMDIgOS41Yy02LjM2IDYuMzQtOS43IDEzLjg0LTEwLjAyIDIyLjUtLjMyIDguNjYgMi41MiAxNi4zMyA4LjUxIDIzLjAxIDkuMzIgOC4wMiAxOS44MiAxMC41MiAzMS40OSA3LjQ5TTUxMiA2NDBjLTkuMzUgMC0xNy4wMiAzLTIzLjAxIDguOTktNS45OSA2LTguOTkgMTMuNjYtOC45OSAyMy4wMXMzIDE3LjAyIDguOTkgMjMuMDFjNiA1Ljk5IDEzLjY3IDguOTkgMjMuMDEgOC45OSA5LjM1IDAgMTcuMDItMyAyMy4wMS04Ljk5IDUuOTktNiA4Ljk5LTEzLjY2IDguOTktMjMuMDFzLTMtMTcuMDItOC45OS0yMy4wMWMtNi01Ljk5LTEzLjY2LTguOTktMjMuMDEtOC45OW0xODMuMDEtMTUxLjAxYy02LTUuOTktMTMuNjYtOC45OS0yMy4wMS04Ljk5cy0xNy4wMiAzLTIzLjAxIDguOTljLTUuOTkgNi04Ljk5IDEzLjY2LTguOTkgMjMuMDFzMyAxNy4wMiA4Ljk5IDIzLjAxYzYgNS45OSAxMy42NiA4Ljk5IDIzLjAxIDguOTlzMTcuMDItMyAyMy4wMS04Ljk5YzUuOTktNiA4Ljk5LTEzLjY3IDguOTktMjMuMDEgMC05LjM1LTMtMTcuMDItOC45OS0yMy4wMVwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMTAoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNODMyIDUxMmMtMi05MC42Ny0zMy4xNy0xNjYuMTctOTMuNS0yMjYuNS0yMC40My0yMC40Mi00Mi42LTM3LjQ5LTY2LjUtNTEuMjNWNjRIMzUydjE3MC4yNmMtMjMuOSAxMy43NC00Ni4wNyAzMC44MS02Ni41IDUxLjI0LTYwLjMzIDYwLjMzLTkxLjQ5IDEzNS44My05My41IDIyNi41IDIgOTAuNjcgMzMuMTcgMTY2LjE3IDkzLjUgMjI2LjUgMjAuNDMgMjAuNDMgNDIuNiAzNy41IDY2LjUgNTEuMjRWOTYwaDMyMFY3ODkuNzRjMjMuOS0xMy43NCA0Ni4wNy0zMC44MSA2Ni41LTUxLjI0IDYwLjMzLTYwLjM0IDkxLjQ5LTEzNS44MyA5My41LTIyNi41TTQxNiAxMjhoMTkydjc4LjY5Yy0yOS44NS05LjAzLTYxLjg1LTEzLjkzLTk2LTE0LjY5LTM0LjE1Ljc1LTY2LjE1IDUuNjUtOTYgMTQuNjh6bTE5MiA3NjhINDE2di03OC42OGMyOS44NSA5LjAzIDYxLjg1IDEzLjkzIDk2IDE0LjY4IDM0LjE1LS43NSA2Ni4xNS01LjY1IDk2LTE0LjY4em0tOTYtMTI4Yy03Mi42Ni0yLjAxLTEzMi45OS0yNy4wMS0xODAuOTktNzUuMDFTMjU4LjAxIDU4NC42NiAyNTYgNTEyYzIuMDEtNzIuNjYgMjcuMDEtMTMyLjk5IDc1LjAxLTE4MC45OVM0MzkuMzQgMjU4LjAxIDUxMiAyNTZjNzIuNjYgMi4wMSAxMzIuOTkgMjcuMDEgMTgwLjk5IDc1LjAxUzc2NS45OSA0MzkuMzQgNzY4IDUxMmMtMi4wMSA3Mi42Ni0yNy4wMSAxMzIuOTktNzUuMDEgMTgwLjk5UzU4NC42NiA3NjUuOTkgNTEyIDc2OFwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMTAoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDMyMGMtOS4zNSAwLTE3LjAyIDMtMjMuMDEgOC45OS01Ljk5IDYtOC45OSAxMy42Ni04Ljk5IDIzLjAxIDAgOS4zNSAzIDE3LjAyIDguOTkgMjMuMDEgNiA1Ljk5IDEzLjY3IDguOTkgMjMuMDEgOC45OSA5LjM1IDAgMTcuMDItMyAyMy4wMS04Ljk5IDUuOTktNiA4Ljk5LTEzLjY2IDguOTktMjMuMDEgMC05LjM1LTMtMTcuMDItOC45OS0yMy4wMS02LTUuOTktMTMuNjYtOC45OS0yMy4wMS04Ljk5bTExMi45OSAyNzMuNWMtOC42Ni0uMzItMTYuMzMgMi41Mi0yMy4wMSA4LjUxLTcuOTggOS4zMi0xMC40OCAxOS44Mi03LjQ5IDMxLjQ5czEwLjQ5IDE5LjE3IDIyLjUgMjIuNSAyMi4zNS42NiAzMS4wMS04di4wNGM1Ljk5LTYuNjggOC45OS0xNC4xOCA4Ljk5LTIyLjVzLTMuMTYtMTUuNjYtOS41LTIyLjAyLTEzLjg0LTkuNy0yMi41LTEwLjAyXCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvcXVhcnR6LXdhdGNoLnZ1ZVxudmFyIHF1YXJ0el93YXRjaF9kZWZhdWx0ID0gcXVhcnR6X3dhdGNoX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9xdWVzdGlvbi1maWxsZWQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjExIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyMTEsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjExLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazIxMSB9IGZyb20gXCJ2dWVcIjtcbnZhciBxdWVzdGlvbl9maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjExKHtcbiAgbmFtZTogXCJRdWVzdGlvbkZpbGxlZFwiLFxuICBfX25hbWU6IFwicXVlc3Rpb24tZmlsbGVkXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syMTEoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazIxMShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjExKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiA2NGE0NDggNDQ4IDAgMSAxIDAgODk2IDQ0OCA0NDggMCAwIDEgMC04OTZtMjMuNzQ0IDE5MS40ODhjLTUyLjA5NiAwLTkyLjkyOCAxNC43ODQtMTIzLjIgNDQuMzUyLTMwLjk3NiAyOS41NjgtNDUuNzYgNzAuNC00NS43NiAxMjIuNDk2aDgwLjI1NmMwLTI5LjU2OCA1LjYzMi01Mi44IDE3LjYtNjguOTkyIDEzLjM3Ni0xOS43MTIgMzUuMi0yOC44NjQgNjYuMTc2LTI4Ljg2NCAyMy45MzYgMCA0Mi45NDQgNi4zMzYgNTYuMzIgMTkuNzEyIDEyLjY3MiAxMy4zNzYgMTkuNzEyIDMxLjY4IDE5LjcxMiA1NC45MTIgMCAxNy42LTYuMzM2IDM0LjQ5Ni0xOS4wMDggNDkuOTg0bC04LjQ0OCA5Ljg1NmMtNDUuNzYgNDAuODMyLTczLjIxNiA3MC40LTgyLjM2OCA4OS40MDgtOS44NTYgMTkuMDA4LTE0LjA4IDQyLjI0LTE0LjA4IDY4Ljk5MnY5Ljg1Nmg4MC45NnYtOS44NTZjMC0xNi44OTYgMy41Mi0zMS42OCAxMC41Ni00NS43NiA2LjMzNi0xMi42NzIgMTUuNDg4LTI0LjY0IDI4LjE2LTM1LjIgMzMuNzkyLTI5LjU2OCA1NC4yMDgtNDguNTc2IDYwLjU0NC01NS42MTYgMTYuODk2LTIyLjUyOCAyNi4wNDgtNTEuMzkyIDI2LjA0OC04Ni41OTIgMC00Mi45NDQtMTQuMDgtNzYuNzM2LTQyLjI0LTEwMS4zNzYtMjguMTYtMjUuMzQ0LTY1LjQ3Mi0zNy4zMTItMTExLjIzMi0zNy4zMTJ6bS0xMi42NzIgNDA2LjIwOGE1NC4yNzIgNTQuMjcyIDAgMCAwLTM4LjcyIDE0Ljc4NCA0OS40MDggNDkuNDA4IDAgMCAwLTE1LjQ4OCAzOC4wMTZjMCAxNS40ODggNC45MjggMjguMTYgMTUuNDg4IDM4LjAxNkE1NC44NDggNTQuODQ4IDAgMCAwIDUyMy4wNzIgNzY4YzE1LjQ4OCAwIDI4LjE2LTQuOTI4IDM4LjcyLTE0Ljc4NGE1MS41MiA1MS41MiAwIDAgMCAxNi4xOTItMzguNzIgNTEuOTY4IDUxLjk2OCAwIDAgMC0xNS40ODgtMzguMDE2IDU1LjkzNiA1NS45MzYgMCAwIDAtMzkuNDI0LTE0Ljc4NHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9xdWVzdGlvbi1maWxsZWQudnVlXG52YXIgcXVlc3Rpb25fZmlsbGVkX2RlZmF1bHQgPSBxdWVzdGlvbl9maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3JhbmsudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjEyIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyMTIsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjEyLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazIxMiB9IGZyb20gXCJ2dWVcIjtcbnZhciByYW5rX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDIxMih7XG4gIG5hbWU6IFwiUmFua1wiLFxuICBfX25hbWU6IFwicmFua1wiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjEyKCksIF9jcmVhdGVFbGVtZW50QmxvY2syMTIoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIxMihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIm0xODYuNDk2IDU0NCA0MS40MDggNDEuMzQ0YTMyIDMyIDAgMSAxLTQ1LjI0OCA0NS4zMTJsLTk2LTk2YTMyIDMyIDAgMCAxIDAtNDUuMzEybDk2LTk2YTMyIDMyIDAgMSAxIDQ1LjI0OCA0NS4zMTJMMTg2LjQ5NiA0ODBoMjkwLjgxNlYxODYuNDMybC00MS40NzIgNDEuNDcyYTMyIDMyIDAgMSAxLTQ1LjI0OC00NS4xODRsOTYtOTYuMTI4YTMyIDMyIDAgMCAxIDQ1LjMxMiAwbDk2IDk2LjA2NGEzMiAzMiAwIDAgMS00NS4yNDggNDUuMTg0bC00MS4zNDQtNDEuMjhWNDgwSDgzMmwtNDEuMzQ0LTQxLjM0NGEzMiAzMiAwIDAgMSA0NS4yNDgtNDUuMzEybDk2IDk2YTMyIDMyIDAgMCAxIDAgNDUuMzEybC05NiA5NmEzMiAzMiAwIDAgMS00NS4yNDgtNDUuMzEyTDgzMiA1NDRINTQxLjMxMnYyOTMuNDRsNDEuMzQ0LTQxLjI4YTMyIDMyIDAgMSAxIDQ1LjI0OCA0NS4yNDhsLTk2IDk2YTMyIDMyIDAgMCAxLTQ1LjMxMiAwbC05Ni05NmEzMiAzMiAwIDEgMSA0NS4zMTItNDUuMjQ4bDQxLjQwOCA0MS40MDhWNTQ0SDE4Ni40OTZ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvcmFuay52dWVcbnZhciByYW5rX2RlZmF1bHQgPSByYW5rX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9yZWFkaW5nLWxhbXAudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjEzIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyMTMsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjEzLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazIxMyB9IGZyb20gXCJ2dWVcIjtcbnZhciByZWFkaW5nX2xhbXBfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjEzKHtcbiAgbmFtZTogXCJSZWFkaW5nTGFtcFwiLFxuICBfX25hbWU6IFwicmVhZGluZy1sYW1wXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syMTMoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazIxMyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjEzKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTM1MiA4OTZoMzIwcTMyIDAgMzIgMzJ0LTMyIDMySDM1MnEtMzIgMC0zMi0zMnQzMi0zMm0tNDQuNjcyLTc2OC05OS41MiA0NDhoNjA4LjM4NGwtOTkuNTItNDQ4em0tMjUuNi02NGg0NjAuNjA4YTMyIDMyIDAgMCAxIDMxLjIzMiAyNS4wODhsMTEzLjc5MiA1MTJBMzIgMzIgMCAwIDEgODU2LjEyOCA2NDBIMTY3Ljg3MmEzMiAzMiAwIDAgMS0zMS4yMzItMzguOTEybDExMy43OTItNTEyQTMyIDMyIDAgMCAxIDI4MS42NjQgNjR6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIxMyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk02NzIgNTc2cTMyIDAgMzIgMzJ2MTI4cTAgMzItMzIgMzJ0LTMyLTMyVjYwOHEwLTMyIDMyLTMybS0xOTItLjA2NGg2NFY5NjBoLTY0elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3JlYWRpbmctbGFtcC52dWVcbnZhciByZWFkaW5nX2xhbXBfZGVmYXVsdCA9IHJlYWRpbmdfbGFtcF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvcmVhZGluZy52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyMTQgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTIxNCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syMTQsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjE0IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHJlYWRpbmdfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjE0KHtcbiAgbmFtZTogXCJSZWFkaW5nXCIsXG4gIF9fbmFtZTogXCJyZWFkaW5nXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syMTQoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazIxNChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjE0KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwibTUxMiA4NjMuMzYgMzg0LTU0Ljg0OHYtNjM4LjcyTDUyNS41NjggMjIyLjcyYTk2IDk2IDAgMCAxLTI3LjEzNiAwTDEyOCAxNjkuNzkydjYzOC43MnpNMTM3LjAyNCAxMDYuNDMybDM3MC40MzIgNTIuOTI4YTMyIDMyIDAgMCAwIDkuMDg4IDBsMzcwLjQzMi01Mi45MjhBNjQgNjQgMCAwIDEgOTYwIDE2OS43OTJ2NjM4LjcyYTY0IDY0IDAgMCAxLTU0Ljk3NiA2My4zNmwtMzg4LjQ4IDU1LjQ4OGEzMiAzMiAwIDAgMS05LjA4OCAwbC0zODguNDgtNTUuNDg4QTY0IDY0IDAgMCAxIDY0IDgwOC41MTJ2LTYzOC43MmE2NCA2NCAwIDAgMSA3My4wMjQtNjMuMzZ6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIxNChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk00ODAgMTkyaDY0djcwNGgtNjR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvcmVhZGluZy52dWVcbnZhciByZWFkaW5nX2RlZmF1bHQgPSByZWFkaW5nX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9yZWZyZXNoLWxlZnQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjE1IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyMTUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjE1LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazIxNSB9IGZyb20gXCJ2dWVcIjtcbnZhciByZWZyZXNoX2xlZnRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjE1KHtcbiAgbmFtZTogXCJSZWZyZXNoTGVmdFwiLFxuICBfX25hbWU6IFwicmVmcmVzaC1sZWZ0XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syMTUoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazIxNShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjE1KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTI4OS4wODggMjk2LjcwNGg5Mi45OTJhMzIgMzIgMCAwIDEgMCA2NEgyMzIuOTZhMzIgMzIgMCAwIDEtMzItMzJWMTc5LjcxMmEzMiAzMiAwIDAgMSA2NCAwdjUwLjU2YTM4NCAzODQgMCAwIDEgNjQzLjg0IDI4Mi44OCAzODQgMzg0IDAgMCAxLTM4My45MzYgMzg0IDM4NCAzODQgMCAwIDEtMzg0LTM4NGg2NGEzMjAgMzIwIDAgMSAwIDY0MCAwIDMyMCAzMjAgMCAwIDAtNTU1LjcxMi0yMTYuNDQ4elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3JlZnJlc2gtbGVmdC52dWVcbnZhciByZWZyZXNoX2xlZnRfZGVmYXVsdCA9IHJlZnJlc2hfbGVmdF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvcmVmcmVzaC1yaWdodC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyMTYgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTIxNiwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syMTYsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjE2IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHJlZnJlc2hfcmlnaHRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjE2KHtcbiAgbmFtZTogXCJSZWZyZXNoUmlnaHRcIixcbiAgX19uYW1lOiBcInJlZnJlc2gtcmlnaHRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazIxNigpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjE2KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMTYoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNzg0LjUxMiAyMzAuMjcydi01MC41NmEzMiAzMiAwIDEgMSA2NCAwdjE0OS4wNTZhMzIgMzIgMCAwIDEtMzIgMzJINjY3LjUyYTMyIDMyIDAgMSAxIDAtNjRoOTIuOTkyQTMyMCAzMjAgMCAxIDAgNTI0LjggODMzLjE1MmEzMjAgMzIwIDAgMCAwIDMyMC0zMjBoNjRhMzg0IDM4NCAwIDAgMS0zODQgMzg0IDM4NCAzODQgMCAwIDEtMzg0LTM4NCAzODQgMzg0IDAgMCAxIDY0My43MTItMjgyLjg4elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3JlZnJlc2gtcmlnaHQudnVlXG52YXIgcmVmcmVzaF9yaWdodF9kZWZhdWx0ID0gcmVmcmVzaF9yaWdodF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvcmVmcmVzaC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyMTcgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTIxNywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syMTcsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjE3IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHJlZnJlc2hfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjE3KHtcbiAgbmFtZTogXCJSZWZyZXNoXCIsXG4gIF9fbmFtZTogXCJyZWZyZXNoXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syMTcoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazIxNyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjE3KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTc3MS43NzYgNzk0Ljg4QTM4NCAzODQgMCAwIDEgMTI4IDUxMmg2NGEzMjAgMzIwIDAgMCAwIDU1NS43MTIgMjE2LjQ0OEg2NTQuNzJhMzIgMzIgMCAxIDEgMC02NGgxNDkuMDU2YTMyIDMyIDAgMCAxIDMyIDMydjE0OC45MjhhMzIgMzIgMCAxIDEtNjQgMHYtNTAuNTZ6TTI3Ni4yODggMjk1LjYxNmg5Mi45OTJhMzIgMzIgMCAwIDEgMCA2NEgyMjAuMTZhMzIgMzIgMCAwIDEtMzItMzJWMTc4LjU2YTMyIDMyIDAgMCAxIDY0IDB2NTAuNTZBMzg0IDM4NCAwIDAgMSA4OTYuMTI4IDUxMmgtNjRhMzIwIDMyMCAwIDAgMC01NTUuNzc2LTIxNi4zODR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvcmVmcmVzaC52dWVcbnZhciByZWZyZXNoX2RlZmF1bHQgPSByZWZyZXNoX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9yZWZyaWdlcmF0b3IudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjE4IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyMTgsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjE4LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazIxOCB9IGZyb20gXCJ2dWVcIjtcbnZhciByZWZyaWdlcmF0b3JfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjE4KHtcbiAgbmFtZTogXCJSZWZyaWdlcmF0b3JcIixcbiAgX19uYW1lOiBcInJlZnJpZ2VyYXRvclwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjE4KCksIF9jcmVhdGVFbGVtZW50QmxvY2syMTgoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIxOChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0yNTYgNDQ4aDUxMlYxNjBhMzIgMzIgMCAwIDAtMzItMzJIMjg4YTMyIDMyIDAgMCAwLTMyIDMyem0wIDY0djM1MmEzMiAzMiAwIDAgMCAzMiAzMmg0NDhhMzIgMzIgMCAwIDAgMzItMzJWNTEyem0zMi00NDhoNDQ4YTk2IDk2IDAgMCAxIDk2IDk2djcwNGE5NiA5NiAwIDAgMS05NiA5NkgyODhhOTYgOTYgMCAwIDEtOTYtOTZWMTYwYTk2IDk2IDAgMCAxIDk2LTk2bTMyIDIyNGg2NHY5NmgtNjR6bTAgMjg4aDY0djk2aC02NHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9yZWZyaWdlcmF0b3IudnVlXG52YXIgcmVmcmlnZXJhdG9yX2RlZmF1bHQgPSByZWZyaWdlcmF0b3JfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3JlbW92ZS1maWxsZWQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjE5IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyMTksIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjE5LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazIxOSB9IGZyb20gXCJ2dWVcIjtcbnZhciByZW1vdmVfZmlsbGVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDIxOSh7XG4gIG5hbWU6IFwiUmVtb3ZlRmlsbGVkXCIsXG4gIF9fbmFtZTogXCJyZW1vdmUtZmlsbGVkXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syMTkoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazIxOShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjE5KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiA2NGE0NDggNDQ4IDAgMSAxIDAgODk2IDQ0OCA0NDggMCAwIDEgMC04OTZNMjg4IDUxMmEzOC40IDM4LjQgMCAwIDAgMzguNCAzOC40aDM3MS4yYTM4LjQgMzguNCAwIDAgMCAwLTc2LjhIMzI2LjRBMzguNCAzOC40IDAgMCAwIDI4OCA1MTJcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9yZW1vdmUtZmlsbGVkLnZ1ZVxudmFyIHJlbW92ZV9maWxsZWRfZGVmYXVsdCA9IHJlbW92ZV9maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3JlbW92ZS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyMjAgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTIyMCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syMjAsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjIwIH0gZnJvbSBcInZ1ZVwiO1xudmFyIHJlbW92ZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyMjAoe1xuICBuYW1lOiBcIlJlbW92ZVwiLFxuICBfX25hbWU6IFwicmVtb3ZlXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syMjAoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazIyMChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjIwKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTM1MiA0ODBoMzIwYTMyIDMyIDAgMSAxIDAgNjRIMzUyYTMyIDMyIDAgMCAxIDAtNjRcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjIwKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiA4OTZhMzg0IDM4NCAwIDEgMCAwLTc2OCAzODQgMzg0IDAgMCAwIDAgNzY4bTAgNjRhNDQ4IDQ0OCAwIDEgMSAwLTg5NiA0NDggNDQ4IDAgMCAxIDAgODk2XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvcmVtb3ZlLnZ1ZVxudmFyIHJlbW92ZV9kZWZhdWx0ID0gcmVtb3ZlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9yaWdodC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyMjEgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTIyMSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syMjEsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjIxIH0gZnJvbSBcInZ1ZVwiO1xudmFyIHJpZ2h0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDIyMSh7XG4gIG5hbWU6IFwiUmlnaHRcIixcbiAgX19uYW1lOiBcInJpZ2h0XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syMjEoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazIyMShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjIxKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTc1NC43NTIgNDgwSDE2MGEzMiAzMiAwIDEgMCAwIDY0aDU5NC43NTJMNTIxLjM0NCA3NzcuMzQ0YTMyIDMyIDAgMCAwIDQ1LjMxMiA0NS4zMTJsMjg4LTI4OGEzMiAzMiAwIDAgMCAwLTQ1LjMxMmwtMjg4LTI4OGEzMiAzMiAwIDEgMC00NS4zMTIgNDUuMzEyelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3JpZ2h0LnZ1ZVxudmFyIHJpZ2h0X2RlZmF1bHQgPSByaWdodF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvc2NhbGUtdG8tb3JpZ2luYWwudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjIyIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyMjIsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjIyLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazIyMiB9IGZyb20gXCJ2dWVcIjtcbnZhciBzY2FsZV90b19vcmlnaW5hbF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyMjIoe1xuICBuYW1lOiBcIlNjYWxlVG9PcmlnaW5hbFwiLFxuICBfX25hbWU6IFwic2NhbGUtdG8tb3JpZ2luYWxcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazIyMigpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjIyKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMjIoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNODEzLjE3NiAxODAuNzA2YTYwLjIzNSA2MC4yMzUgMCAwIDEgNjAuMjM2IDYwLjIzNXY0ODEuODgzYTYwLjIzNSA2MC4yMzUgMCAwIDEtNjAuMjM2IDYwLjIzNUgyMTAuODI0YTYwLjIzNSA2MC4yMzUgMCAwIDEtNjAuMjM2LTYwLjIzNVYyNDAuOTRhNjAuMjM1IDYwLjIzNSAwIDAgMSA2MC4yMzYtNjAuMjM1aDYwMi4zNTJ6bTAtNjAuMjM1SDIxMC44MjRBMTIwLjQ3IDEyMC40NyAwIDAgMCA5MC4zNTMgMjQwLjk0djQ4MS44ODNhMTIwLjQ3IDEyMC40NyAwIDAgMCAxMjAuNDcgMTIwLjQ3aDYwMi4zNTNhMTIwLjQ3IDEyMC40NyAwIDAgMCAxMjAuNDcxLTEyMC40N1YyNDAuOTRhMTIwLjQ3IDEyMC40NyAwIDAgMC0xMjAuNDctMTIwLjQ3em0tMTIwLjQ3IDE4MC43MDVhMzAuMTE4IDMwLjExOCAwIDAgMC0zMC4xMTggMzAuMTE4djMwMS4xNzdhMzAuMTE4IDMwLjExOCAwIDAgMCA2MC4yMzYgMFYzMzEuMjk0YTMwLjExOCAzMC4xMTggMCAwIDAtMzAuMTE4LTMwLjExOHptLTM2MS40MTIgMGEzMC4xMTggMzAuMTE4IDAgMCAwLTMwLjExOCAzMC4xMTh2MzAxLjE3N2EzMC4xMTggMzAuMTE4IDAgMSAwIDYwLjIzNiAwVjMzMS4yOTRhMzAuMTE4IDMwLjExOCAwIDAgMC0zMC4xMTgtMzAuMTE4TTUxMiAzNjEuNDEyYTMwLjExOCAzMC4xMTggMCAwIDAtMzAuMTE4IDMwLjExN3YzMC4xMThhMzAuMTE4IDMwLjExOCAwIDAgMCA2MC4yMzYgMFYzOTEuNTNBMzAuMTE4IDMwLjExOCAwIDAgMCA1MTIgMzYxLjQxMk01MTIgNTEyYTMwLjExOCAzMC4xMTggMCAwIDAtMzAuMTE4IDMwLjExOHYzMC4xMTdhMzAuMTE4IDMwLjExOCAwIDAgMCA2MC4yMzYgMHYtMzAuMTE3QTMwLjExOCAzMC4xMTggMCAwIDAgNTEyIDUxMlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3NjYWxlLXRvLW9yaWdpbmFsLnZ1ZVxudmFyIHNjYWxlX3RvX29yaWdpbmFsX2RlZmF1bHQgPSBzY2FsZV90b19vcmlnaW5hbF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvc2Nob29sLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDIyMyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjIzLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazIyMywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syMjMgfSBmcm9tIFwidnVlXCI7XG52YXIgc2Nob29sX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDIyMyh7XG4gIG5hbWU6IFwiU2Nob29sXCIsXG4gIF9fbmFtZTogXCJzY2hvb2xcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazIyMygpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjIzKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMjMoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMjI0IDEyOHY3MDRoNTc2VjEyOHptLTMyLTY0aDY0MGEzMiAzMiAwIDAgMSAzMiAzMnY3NjhhMzIgMzIgMCAwIDEtMzIgMzJIMTkyYTMyIDMyIDAgMCAxLTMyLTMyVjk2YTMyIDMyIDAgMCAxIDMyLTMyXCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIyMyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk02NCA4MzJoODk2djY0SDY0em0yNTYtNjQwaDEyOHY5NkgzMjB6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIyMyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0zODQgODMyaDI1NnYtNjRhMTI4IDEyOCAwIDEgMC0yNTYgMHptMTI4LTI1NmExOTIgMTkyIDAgMCAxIDE5MiAxOTJ2MTI4SDMyMFY3NjhhMTkyIDE5MiAwIDAgMSAxOTItMTkyTTMyMCAzODRoMTI4djk2SDMyMHptMjU2LTE5MmgxMjh2OTZINTc2em0wIDE5MmgxMjh2OTZINTc2elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3NjaG9vbC52dWVcbnZhciBzY2hvb2xfZGVmYXVsdCA9IHNjaG9vbF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvc2Npc3Nvci52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyMjQgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTIyNCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syMjQsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjI0IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHNjaXNzb3JfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjI0KHtcbiAgbmFtZTogXCJTY2lzc29yXCIsXG4gIF9fbmFtZTogXCJzY2lzc29yXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syMjQoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazIyNChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjI0KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwibTUxMi4wNjQgNTc4LjM2OC0xMDYuODggMTUyLjc2OGExNjAgMTYwIDAgMSAxLTIzLjM2LTc4LjIwOEw0NzIuOTYgNTIyLjU2IDE5Ni44NjQgMTI4LjI1NmEzMiAzMiAwIDEgMSA1Mi40OC0zNi43MzZsMzkzLjAyNCA1NjEuMzQ0YTE2MCAxNjAgMCAxIDEtMjMuMzYgNzguMjA4bC0xMDYuODgtMTUyLjcwNHptNTQuNC0xODkuMjQ4IDIwOC4zODQtMjk3LjZhMzIgMzIgMCAwIDEgNTIuNDggMzYuNzM2bC0yMjEuNzYgMzE2LjY3Mi0zOS4wNC01NS44MDh6bS0zNzYuMzIgNDI1Ljg1NmE5NiA5NiAwIDEgMCAxMTAuMTQ0LTE1Ny4yNDggOTYgOTYgMCAwIDAtMTEwLjA4IDE1Ny4yNDh6bTY0My44NCAwYTk2IDk2IDAgMSAwLTExMC4wOC0xNTcuMjQ4IDk2IDk2IDAgMCAwIDExMC4wOCAxNTcuMjQ4XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvc2Npc3Nvci52dWVcbnZhciBzY2lzc29yX2RlZmF1bHQgPSBzY2lzc29yX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9zZWFyY2gudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjI1IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyMjUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjI1LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazIyNSB9IGZyb20gXCJ2dWVcIjtcbnZhciBzZWFyY2hfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjI1KHtcbiAgbmFtZTogXCJTZWFyY2hcIixcbiAgX19uYW1lOiBcInNlYXJjaFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjI1KCksIF9jcmVhdGVFbGVtZW50QmxvY2syMjUoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIyNShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIm03OTUuOTA0IDc1MC43MiAxMjQuOTkyIDEyNC45MjhhMzIgMzIgMCAwIDEtNDUuMjQ4IDQ1LjI0OEw3NTAuNjU2IDc5NS45MDRhNDE2IDQxNiAwIDEgMSA0NS4yNDgtNDUuMjQ4ek00ODAgODMyYTM1MiAzNTIgMCAxIDAgMC03MDQgMzUyIDM1MiAwIDAgMCAwIDcwNFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3NlYXJjaC52dWVcbnZhciBzZWFyY2hfZGVmYXVsdCA9IHNlYXJjaF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvc2VsZWN0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDIyNiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjI2LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazIyNiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syMjYgfSBmcm9tIFwidnVlXCI7XG52YXIgc2VsZWN0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDIyNih7XG4gIG5hbWU6IFwiU2VsZWN0XCIsXG4gIF9fbmFtZTogXCJzZWxlY3RcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazIyNigpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjI2KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMjYoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNzcuMjQ4IDQxNS4wNGE2NCA2NCAwIDAgMSA5MC40OTYgMGwyMjYuMzA0IDIyNi4zMDRMODQ2LjUyOCAxODguOGE2NCA2NCAwIDEgMSA5MC41NiA5MC40OTZsLTU0My4wNCA1NDMuMDQtMzE2LjgtMzE2LjhhNjQgNjQgMCAwIDEgMC05MC40OTZ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvc2VsZWN0LnZ1ZVxudmFyIHNlbGVjdF9kZWZhdWx0ID0gc2VsZWN0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9zZWxsLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDIyNyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjI3LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazIyNywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syMjcgfSBmcm9tIFwidnVlXCI7XG52YXIgc2VsbF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyMjcoe1xuICBuYW1lOiBcIlNlbGxcIixcbiAgX19uYW1lOiBcInNlbGxcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazIyNygpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjI3KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMjcoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNzA0IDI4OGgxMzEuMDcyYTMyIDMyIDAgMCAxIDMxLjgwOCAyOC44TDg4Ni40IDUxMmgtNjQuMzg0bC0xNi0xNjBINzA0djk2YTMyIDMyIDAgMSAxLTY0IDB2LTk2SDM4NHY5NmEzMiAzMiAwIDAgMS02NCAwdi05NkgyMTcuOTJsLTUxLjIgNTEySDUxMnY2NEgxMzEuMzI4YTMyIDMyIDAgMCAxLTMxLjgwOC0zNS4ybDU3LjYtNTc2YTMyIDMyIDAgMCAxIDMxLjgwOC0yOC44SDMyMHYtMjIuMzM2QzMyMCAxNTQuNjg4IDQwNS41MDQgNjQgNTEyIDY0czE5MiA5MC42ODggMTkyIDIwMS42NjR2MjIuNHptLTY0IDB2LTIyLjMzNkM2NDAgMTg5LjI0OCA1ODIuMjcyIDEyOCA1MTIgMTI4Yy03MC4yNzIgMC0xMjggNjEuMjQ4LTEyOCAxMzcuNjY0djIyLjRoMjU2em0yMDEuNDA4IDQ4My44NEw3NjggNjk4LjQ5NlY5MjhhMzIgMzIgMCAxIDEtNjQgMFY2OTguNDk2bC03My4zNDQgNzMuMzQ0YTMyIDMyIDAgMSAxLTQ1LjI0OC00NS4yNDhsMTI4LTEyOGEzMiAzMiAwIDAgMSA0NS4yNDggMGwxMjggMTI4YTMyIDMyIDAgMSAxLTQ1LjI0OCA0NS4yNDh6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvc2VsbC52dWVcbnZhciBzZWxsX2RlZmF1bHQgPSBzZWxsX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9zZW1pLXNlbGVjdC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyMjggfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTIyOCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syMjgsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjI4IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHNlbWlfc2VsZWN0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDIyOCh7XG4gIG5hbWU6IFwiU2VtaVNlbGVjdFwiLFxuICBfX25hbWU6IFwic2VtaS1zZWxlY3RcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazIyOCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjI4KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMjgoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMTI4IDQ0OGg3NjhxNjQgMCA2NCA2NHQtNjQgNjRIMTI4cS02NCAwLTY0LTY0dDY0LTY0XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvc2VtaS1zZWxlY3QudnVlXG52YXIgc2VtaV9zZWxlY3RfZGVmYXVsdCA9IHNlbWlfc2VsZWN0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9zZXJ2aWNlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDIyOSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjI5LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazIyOSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syMjkgfSBmcm9tIFwidnVlXCI7XG52YXIgc2VydmljZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyMjkoe1xuICBuYW1lOiBcIlNlcnZpY2VcIixcbiAgX19uYW1lOiBcInNlcnZpY2VcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazIyOSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjI5KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMjkoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNODY0IDQwOS42YTE5MiAxOTIgMCAwIDEtMzcuODg4IDM0OS40NEEyNTYuMDY0IDI1Ni4wNjQgMCAwIDEgNTc2IDk2MGgtOTZhMzIgMzIgMCAxIDEgMC02NGg5NmExOTIuMDY0IDE5Mi4wNjQgMCAwIDAgMTgxLjEyLTEyOEg3MzZhMzIgMzIgMCAwIDEtMzItMzJWNDE2YTMyIDMyIDAgMCAxIDMyLTMyaDMyYzEwLjM2OCAwIDIwLjU0NC44MzIgMzAuNTI4IDIuNDMyYTI4OCAyODggMCAwIDAtNTczLjA1NiAwQTE5My4yMzUgMTkzLjIzNSAwIDAgMSAyNTYgMzg0aDMyYTMyIDMyIDAgMCAxIDMyIDMydjMyMGEzMiAzMiAwIDAgMS0zMiAzMmgtMzJhMTkyIDE5MiAwIDAgMS05Ni0zNTguNCAzNTIgMzUyIDAgMCAxIDcwNCAwTTI1NiA0NDhhMTI4IDEyOCAwIDEgMCAwIDI1NnptNjQwIDEyOGExMjggMTI4IDAgMCAwLTEyOC0xMjh2MjU2YTEyOCAxMjggMCAwIDAgMTI4LTEyOFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3NlcnZpY2UudnVlXG52YXIgc2VydmljZV9kZWZhdWx0ID0gc2VydmljZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvc2V0LXVwLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDIzMCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjMwLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazIzMCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syMzAgfSBmcm9tIFwidnVlXCI7XG52YXIgc2V0X3VwX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDIzMCh7XG4gIG5hbWU6IFwiU2V0VXBcIixcbiAgX19uYW1lOiBcInNldC11cFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjMwKCksIF9jcmVhdGVFbGVtZW50QmxvY2syMzAoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIzMChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0yMjQgMTYwYTY0IDY0IDAgMCAwLTY0IDY0djU3NmE2NCA2NCAwIDAgMCA2NCA2NGg1NzZhNjQgNjQgMCAwIDAgNjQtNjRWMjI0YTY0IDY0IDAgMCAwLTY0LTY0em0wLTY0aDU3NmExMjggMTI4IDAgMCAxIDEyOCAxMjh2NTc2YTEyOCAxMjggMCAwIDEtMTI4IDEyOEgyMjRBMTI4IDEyOCAwIDAgMSA5NiA4MDBWMjI0QTEyOCAxMjggMCAwIDEgMjI0IDk2XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIzMChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0zODQgNDE2YTY0IDY0IDAgMSAwIDAtMTI4IDY0IDY0IDAgMCAwIDAgMTI4bTAgNjRhMTI4IDEyOCAwIDEgMSAwLTI1NiAxMjggMTI4IDAgMCAxIDAgMjU2XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIzMChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk00ODAgMzIwaDI1NnEzMiAwIDMyIDMydC0zMiAzMkg0ODBxLTMyIDAtMzItMzJ0MzItMzJtMTYwIDQxNmE2NCA2NCAwIDEgMCAwLTEyOCA2NCA2NCAwIDAgMCAwIDEyOG0wIDY0YTEyOCAxMjggMCAxIDEgMC0yNTYgMTI4IDEyOCAwIDAgMSAwIDI1NlwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMzAoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMjg4IDY0MGgyNTZxMzIgMCAzMiAzMnQtMzIgMzJIMjg4cS0zMiAwLTMyLTMydDMyLTMyXCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvc2V0LXVwLnZ1ZVxudmFyIHNldF91cF9kZWZhdWx0ID0gc2V0X3VwX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9zZXR0aW5nLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDIzMSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjMxLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazIzMSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syMzEgfSBmcm9tIFwidnVlXCI7XG52YXIgc2V0dGluZ192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyMzEoe1xuICBuYW1lOiBcIlNldHRpbmdcIixcbiAgX19uYW1lOiBcInNldHRpbmdcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazIzMSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjMxKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMzEoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNjAwLjcwNCA2NGEzMiAzMiAwIDAgMSAzMC40NjQgMjIuMjA4bDM1LjIgMTA5LjM3NmMxNC43ODQgNy4yMzIgMjguOTI4IDE1LjM2IDQyLjQzMiAyNC41MTJsMTEyLjM4NC0yNC4xOTJhMzIgMzIgMCAwIDEgMzQuNDMyIDE1LjM2TDk0NC4zMiAzNjQuOGEzMiAzMiAwIDAgMS00LjAzMiAzNy41MDRsLTc3LjEyIDg1LjEyYTM1Ny4xMiAzNTcuMTIgMCAwIDEgMCA0OS4wMjRsNzcuMTIgODUuMjQ4YTMyIDMyIDAgMCAxIDQuMDMyIDM3LjUwNGwtODguNzA0IDE1My42YTMyIDMyIDAgMCAxLTM0LjQzMiAxNS4yOTZMNzA4LjggODAzLjkwNGMtMTMuNDQgOS4wODgtMjcuNjQ4IDE3LjI4LTQyLjM2OCAyNC41MTJsLTM1LjI2NCAxMDkuMzc2QTMyIDMyIDAgMCAxIDYwMC43MDQgOTYwSDQyMy4yOTZhMzIgMzIgMCAwIDEtMzAuNDY0LTIyLjIwOEwzNTcuNjk2IDgyOC40OGEzNTEuNjE2IDM1MS42MTYgMCAwIDEtNDIuNTYtMjQuNjRsLTExMi4zMiAyNC4yNTZhMzIgMzIgMCAwIDEtMzQuNDMyLTE1LjM2TDc5LjY4IDY1OS4yYTMyIDMyIDAgMCAxIDQuMDMyLTM3LjUwNGw3Ny4xMi04NS4yNDhhMzU3LjEyIDM1Ny4xMiAwIDAgMSAwLTQ4Ljg5NmwtNzcuMTItODUuMjQ4QTMyIDMyIDAgMCAxIDc5LjY4IDM2NC44bDg4LjcwNC0xNTMuNmEzMiAzMiAwIDAgMSAzNC40MzItMTUuMjk2bDExMi4zMiAyNC4yNTZjMTMuNTY4LTkuMTUyIDI3Ljc3Ni0xNy40MDggNDIuNTYtMjQuNjRsMzUuMi0xMDkuMzEyQTMyIDMyIDAgMCAxIDQyMy4yMzIgNjRINjAwLjY0em0tMjMuNDI0IDY0SDQ0Ni43MmwtMzYuMzUyIDExMy4wODgtMjQuNTEyIDExLjk2OGEyOTQuMTEzIDI5NC4xMTMgMCAwIDAtMzQuODE2IDIwLjA5NmwtMjIuNjU2IDE1LjM2LTExNi4yMjQtMjUuMDg4LTY1LjI4IDExMy4xNTIgNzkuNjggODguMTkyLTEuOTIgMjcuMTM2YTI5My4xMiAyOTMuMTIgMCAwIDAgMCA0MC4xOTJsMS45MiAyNy4xMzYtNzkuODA4IDg4LjE5MiA2NS4zNDQgMTEzLjE1MiAxMTYuMjI0LTI1LjAyNCAyMi42NTYgMTUuMjk2YTI5NC4xMTMgMjk0LjExMyAwIDAgMCAzNC44MTYgMjAuMDk2bDI0LjUxMiAxMS45NjhMNDQ2LjcyIDg5NmgxMzAuNjg4bDM2LjQ4LTExMy4xNTIgMjQuNDQ4LTExLjkwNGEyODguMjgyIDI4OC4yODIgMCAwIDAgMzQuNzUyLTIwLjA5NmwyMi41OTItMTUuMjk2IDExNi4yODggMjUuMDI0IDY1LjI4LTExMy4xNTItNzkuNzQ0LTg4LjE5MiAxLjkyLTI3LjEzNmEyOTMuMTIgMjkzLjEyIDAgMCAwIDAtNDAuMjU2bC0xLjkyLTI3LjEzNiA3OS44MDgtODguMTI4LTY1LjM0NC0xMTMuMTUyLTExNi4yODggMjQuOTYtMjIuNTkyLTE1LjIzMmEyODcuNjE2IDI4Ny42MTYgMCAwIDAtMzQuNzUyLTIwLjA5NmwtMjQuNDQ4LTExLjkwNEw1NzcuMzQ0IDEyOHpNNTEyIDMyMGExOTIgMTkyIDAgMSAxIDAgMzg0IDE5MiAxOTIgMCAwIDEgMC0zODRtMCA2NGExMjggMTI4IDAgMSAwIDAgMjU2IDEyOCAxMjggMCAwIDAgMC0yNTZcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9zZXR0aW5nLnZ1ZVxudmFyIHNldHRpbmdfZGVmYXVsdCA9IHNldHRpbmdfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3NoYXJlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDIzMiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjMyLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazIzMiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syMzIgfSBmcm9tIFwidnVlXCI7XG52YXIgc2hhcmVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjMyKHtcbiAgbmFtZTogXCJTaGFyZVwiLFxuICBfX25hbWU6IFwic2hhcmVcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazIzMigpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjMyKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMzIoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJtNjc5Ljg3MiAzNDguOC0zMDEuNzYgMTg4LjYwOGExMjcuODA4IDEyNy44MDggMCAwIDEgNS4xMiA1Mi4xNmwyNzkuOTM2IDEwNC45NmExMjggMTI4IDAgMSAxLTIyLjQ2NCA1OS45MDRsLTI3OS44NzItMTA0Ljk2YTEyOCAxMjggMCAxIDEtMTYuNjQtMTY2LjI3MmwzMDEuNjk2LTE4OC42MDhhMTI4IDEyOCAwIDEgMSAzMy45MiA1NC4yNzJ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvc2hhcmUudnVlXG52YXIgc2hhcmVfZGVmYXVsdCA9IHNoYXJlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9zaGlwLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDIzMyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjMzLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazIzMywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syMzMgfSBmcm9tIFwidnVlXCI7XG52YXIgc2hpcF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyMzMoe1xuICBuYW1lOiBcIlNoaXBcIixcbiAgX19uYW1lOiBcInNoaXBcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazIzMygpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjMzKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMzMoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDM4Ni44OFY0NDhoNDA1LjU2OGEzMiAzMiAwIDAgMSAzMC43MiA0MC43NjhsLTc2LjQ4IDI2Ny45NjhBMTkyIDE5MiAwIDAgMSA2ODcuMTY4IDg5NkgzMzYuODMyYTE5MiAxOTIgMCAwIDEtMTg0LjY0LTEzOS4yNjRMNzUuNjQ4IDQ4OC43NjhBMzIgMzIgMCAwIDEgMTA2LjM2OCA0NDhINDQ4VjExNy44ODhhMzIgMzIgMCAwIDEgNDcuMzYtMjguMDk2bDEzLjg4OCA3LjYxNkw1MTIgOTZ2Mi44OGwyMzEuNjggMTI2LjRhMzIgMzIgMCAwIDEtMi4wNDggNTcuMjE2em0wLTcwLjI3MiAxNDQuNzY4LTY1Ljc5Mkw1MTIgMTcxLjg0ek01MTIgNTEySDE0OC44NjRsMTguMjQgNjRIODU2Ljk2bDE4LjI0LTY0ek0xODUuNDA4IDY0MGwyOC4zNTIgOTkuMkExMjggMTI4IDAgMCAwIDMzNi44MzIgODMyaDM1MC4zMzZhMTI4IDEyOCAwIDAgMCAxMjMuMDcyLTkyLjhsMjguMzUyLTk5LjJIMTg1LjQwOFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3NoaXAudnVlXG52YXIgc2hpcF9kZWZhdWx0ID0gc2hpcF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvc2hvcC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyMzQgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTIzNCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syMzQsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjM0IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHNob3BfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjM0KHtcbiAgbmFtZTogXCJTaG9wXCIsXG4gIF9fbmFtZTogXCJzaG9wXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syMzQoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazIzNChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjM0KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTcwNCA3MDRoNjR2MTkySDI1NlY3MDRoNjR2NjRoMzg0em0xODguNTQ0LTE1Mi4xOTJDODk0LjUyOCA1NTkuNjE2IDg5NiA1NjcuNjE2IDg5NiA1NzZhOTYgOTYgMCAxIDEtMTkyIDAgOTYgOTYgMCAxIDEtMTkyIDAgOTYgOTYgMCAxIDEtMTkyIDAgOTYgOTYgMCAxIDEtMTkyIDBjMC04LjM4NCAxLjQwOC0xNi4zODQgMy4zOTItMjQuMTkyTDE5MiAxMjhoNjQwelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3Nob3AudnVlXG52YXIgc2hvcF9kZWZhdWx0ID0gc2hvcF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvc2hvcHBpbmctYmFnLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDIzNSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjM1LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazIzNSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syMzUgfSBmcm9tIFwidnVlXCI7XG52YXIgc2hvcHBpbmdfYmFnX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDIzNSh7XG4gIG5hbWU6IFwiU2hvcHBpbmdCYWdcIixcbiAgX19uYW1lOiBcInNob3BwaW5nLWJhZ1wiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjM1KCksIF9jcmVhdGVFbGVtZW50QmxvY2syMzUoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIzNShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk03MDQgMzIwdjk2YTMyIDMyIDAgMCAxLTMyIDMyaC0zMlYzMjBIMzg0djEyOGgtMzJhMzIgMzIgMCAwIDEtMzItMzJ2LTk2SDE5MnY1NzZoNjQwVjMyMHptLTM4NC02NGExOTIgMTkyIDAgMSAxIDM4NCAwaDE2MGEzMiAzMiAwIDAgMSAzMiAzMnY2NDBhMzIgMzIgMCAwIDEtMzIgMzJIMTYwYTMyIDMyIDAgMCAxLTMyLTMyVjI4OGEzMiAzMiAwIDAgMSAzMi0zMnptNjQgMGgyNTZhMTI4IDEyOCAwIDEgMC0yNTYgMFwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyMzUoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMTkyIDcwNGg2NDB2NjRIMTkyelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3Nob3BwaW5nLWJhZy52dWVcbnZhciBzaG9wcGluZ19iYWdfZGVmYXVsdCA9IHNob3BwaW5nX2JhZ192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvc2hvcHBpbmctY2FydC1mdWxsLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDIzNiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjM2LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazIzNiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syMzYgfSBmcm9tIFwidnVlXCI7XG52YXIgc2hvcHBpbmdfY2FydF9mdWxsX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDIzNih7XG4gIG5hbWU6IFwiU2hvcHBpbmdDYXJ0RnVsbFwiLFxuICBfX25hbWU6IFwic2hvcHBpbmctY2FydC1mdWxsXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syMzYoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazIzNihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjM2KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTQzMiA5MjhhNDggNDggMCAxIDEgMC05NiA0OCA0OCAwIDAgMSAwIDk2bTMyMCAwYTQ4IDQ4IDAgMSAxIDAtOTYgNDggNDggMCAwIDEgMCA5Nk05NiAxMjhhMzIgMzIgMCAwIDEgMC02NGgxNjBhMzIgMzIgMCAwIDEgMzEuMzYgMjUuNzI4TDMyMC42NCAyNTZIOTI4YTMyIDMyIDAgMCAxIDMxLjI5NiAzOC43MmwtOTYgNDQ4QTMyIDMyIDAgMCAxIDgzMiA3NjhIMzg0YTMyIDMyIDAgMCAxLTMxLjM2LTI1LjcyOEwyMjkuNzYgMTI4em0zMTQuMjQgNTc2aDM5NS45MDRsODIuMzA0LTM4NEgzMzMuNDRsNzYuOCAzODR6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIzNihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk02OTkuNjQ4IDI1NiA2MDggMTQ1Ljk4NCA1MTYuMzUyIDI1NmgxODMuMjk2em0tMTQwLjgtMTUxLjA0YTY0IDY0IDAgMCAxIDk4LjMwNCAwTDgzNi4zNTIgMzIwSDM3OS42NDhsMTc5LjItMjE1LjA0XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvc2hvcHBpbmctY2FydC1mdWxsLnZ1ZVxudmFyIHNob3BwaW5nX2NhcnRfZnVsbF9kZWZhdWx0ID0gc2hvcHBpbmdfY2FydF9mdWxsX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9zaG9wcGluZy1jYXJ0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDIzNyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjM3LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazIzNywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syMzcgfSBmcm9tIFwidnVlXCI7XG52YXIgc2hvcHBpbmdfY2FydF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyMzcoe1xuICBuYW1lOiBcIlNob3BwaW5nQ2FydFwiLFxuICBfX25hbWU6IFwic2hvcHBpbmctY2FydFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjM3KCksIF9jcmVhdGVFbGVtZW50QmxvY2syMzcoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIzNyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk00MzIgOTI4YTQ4IDQ4IDAgMSAxIDAtOTYgNDggNDggMCAwIDEgMCA5Nm0zMjAgMGE0OCA0OCAwIDEgMSAwLTk2IDQ4IDQ4IDAgMCAxIDAgOTZNOTYgMTI4YTMyIDMyIDAgMCAxIDAtNjRoMTYwYTMyIDMyIDAgMCAxIDMxLjM2IDI1LjcyOEwzMjAuNjQgMjU2SDkyOGEzMiAzMiAwIDAgMSAzMS4yOTYgMzguNzJsLTk2IDQ0OEEzMiAzMiAwIDAgMSA4MzIgNzY4SDM4NGEzMiAzMiAwIDAgMS0zMS4zNi0yNS43MjhMMjI5Ljc2IDEyOHptMzE0LjI0IDU3NmgzOTUuOTA0bDgyLjMwNC0zODRIMzMzLjQ0bDc2LjggMzg0elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3Nob3BwaW5nLWNhcnQudnVlXG52YXIgc2hvcHBpbmdfY2FydF9kZWZhdWx0ID0gc2hvcHBpbmdfY2FydF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvc2hvcHBpbmctdHJvbGxleS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyMzggfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTIzOCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syMzgsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjM4IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHNob3BwaW5nX3Ryb2xsZXlfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjM4KHtcbiAgbmFtZTogXCJTaG9wcGluZ1Ryb2xsZXlcIixcbiAgX19uYW1lOiBcInNob3BwaW5nLXRyb2xsZXlcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazIzOCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjM4KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICBcInhtbDpzcGFjZVwiOiBcInByZXNlcnZlXCIsXG4gICAgICBzdHlsZTogeyBcImVuYWJsZS1iYWNrZ3JvdW5kXCI6IFwibmV3IDAgMCAxMDI0IDEwMjRcIiB9LFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjM4KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTM2OCA4MzNjLTEzLjMgMC0yNC41IDQuNS0zMy41IDEzLjVTMzIxIDg2Ni43IDMyMSA4ODBzNC41IDI0LjUgMTMuNSAzMy41IDIwLjIgMTMuOCAzMy41IDE0LjVjMTMuMy0uNyAyNC41LTUuNSAzMy41LTE0LjVTNDE1IDg5My4zIDQxNSA4ODBzLTQuNS0yNC41LTEzLjUtMzMuNVMzODEuMyA4MzMgMzY4IDgzM200MzktMTkzYzcuNCAwIDEzLjgtMi4yIDE5LjUtNi41UzgzNiA2MjMuMyA4MzggNjE2bDExMi00NDhjMi0xMC0uMi0xOS4yLTYuNS0yNy41UzkyOSAxMjggOTE5IDEyOEg5NmMtOS4zIDAtMTcgMy0yMyA5cy05IDEzLjctOSAyMyAzIDE3IDkgMjMgMTMuNyA5IDIzIDloOTZ2NTc2aDY3MmM5LjMgMCAxNy0zIDIzLTlzOS0xMy43IDktMjMtMy0xNy05LTIzLTEzLjctOS0yMy05SDI1NnYtNjR6TTI1NiAxOTJoNjIybC05NiAzODRIMjU2em00MzIgNjQxYy0xMy4zIDAtMjQuNSA0LjUtMzMuNSAxMy41UzY0MSA4NjYuNyA2NDEgODgwczQuNSAyNC41IDEzLjUgMzMuNSAyMC4yIDEzLjggMzMuNSAxNC41YzEzLjMtLjcgMjQuNS01LjUgMzMuNS0xNC41UzczNSA4OTMuMyA3MzUgODgwcy00LjUtMjQuNS0xMy41LTMzLjVTNzAxLjMgODMzIDY4OCA4MzNcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9zaG9wcGluZy10cm9sbGV5LnZ1ZVxudmFyIHNob3BwaW5nX3Ryb2xsZXlfZGVmYXVsdCA9IHNob3BwaW5nX3Ryb2xsZXlfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3Ntb2tpbmcudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjM5IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyMzksIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjM5LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazIzOSB9IGZyb20gXCJ2dWVcIjtcbnZhciBzbW9raW5nX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDIzOSh7XG4gIG5hbWU6IFwiU21va2luZ1wiLFxuICBfX25hbWU6IFwic21va2luZ1wiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjM5KCksIF9jcmVhdGVFbGVtZW50QmxvY2syMzkoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIzOShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0yNTYgNTc2djEyOGg2NDBWNTc2em0tMzItNjRoNzA0YTMyIDMyIDAgMCAxIDMyIDMydjE5MmEzMiAzMiAwIDAgMS0zMiAzMkgyMjRhMzIgMzIgMCAwIDEtMzItMzJWNTQ0YTMyIDMyIDAgMCAxIDMyLTMyXCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTIzOShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk03MDQgNTc2aDY0djEyOGgtNjR6TTI1NiA2NGg2NHYzMjBoLTY0ek0xMjggMTkyaDY0djE5MmgtNjR6TTY0IDUxMmg2NHYyNTZINjR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvc21va2luZy52dWVcbnZhciBzbW9raW5nX2RlZmF1bHQgPSBzbW9raW5nX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9zb2NjZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjQwIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyNDAsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjQwLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI0MCB9IGZyb20gXCJ2dWVcIjtcbnZhciBzb2NjZXJfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjQwKHtcbiAgbmFtZTogXCJTb2NjZXJcIixcbiAgX19uYW1lOiBcInNvY2NlclwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjQwKCksIF9jcmVhdGVFbGVtZW50QmxvY2syNDAoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI0MChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk00MTguNDk2IDg3MS4wNCAxNTIuMjU2IDYwNC44Yy0xNi41MTIgOTQuMDE2LTIuMzY4IDE3OC42MjQgNDIuOTQ0IDIyNCA0NC45MjggNDQuOTI4IDEyOS4zNDQgNTguNzUyIDIyMy4yOTYgNDIuMjRtNzIuMzItMTguMTc2YTU3My4wNTYgNTczLjA1NiAwIDAgMCAyMjQuODMyLTEzNy4yMTYgNTczLjEyIDU3My4xMiAwIDAgMCAxMzcuMjE2LTIyNC44MzJMNTMzLjg4OCAxNzEuODRhNTc4LjU2IDU3OC41NiAwIDAgMC0yMjcuNTIgMTM4LjQ5NkE1NjcuNjggNTY3LjY4IDAgMCAwIDE3MC40MzIgNTMyLjQ4bDMyMC4zODQgMzIwLjM4NHpNODcxLjA0IDQxOC40OTZjMTYuNTEyLTkzLjk1MiAyLjY4OC0xNzguMzY4LTQyLjI0LTIyMy4yOTYtNDQuNTQ0LTQ0LjU0NC0xMjguNzA0LTU4LjA0OC0yMjIuNTkyLTQxLjUzNnpNMTQ5Ljk1MiA4NzQuMDQ4Yy0xMTIuOTYtMTEyLjk2LTg4LjgzMi00MDguOTYgMTExLjE2OC02MDguOTZDNDYxLjA1NiA2NS4xNTIgNzYwLjk2IDM2LjkyOCA4NzQuMDQ4IDE0OS45NTJjMTEzLjAyNCAxMTMuMDI0IDg2Ljc4NCA0MTEuMDA4LTExMy4xNTIgNjEwLjk0NC0xOTkuOTM2IDE5OS45MzYtNDk3LjkyIDIyNi4xMTItNjEwLjk0NCAxMTMuMTUybTQ1Mi41NDQtNDk3Ljc5MiAyMi42NTYtMjIuNjU2YTMyIDMyIDAgMCAxIDQ1LjI0OCA0NS4yNDhsLTIyLjY1NiAyMi42NTYgNDUuMjQ4IDQ1LjI0OEEzMiAzMiAwIDEgMSA2NDcuNzQ0IDUxMmwtNDUuMjQ4LTQ1LjI0OEw1NTcuMjQ4IDUxMmw0NS4yNDggNDUuMjQ4YTMyIDMyIDAgMSAxLTQ1LjI0OCA0NS4yNDhMNTEyIDU1Ny4yNDhsLTQ1LjI0OCA0NS4yNDhMNTEyIDY0Ny43NDRhMzIgMzIgMCAxIDEtNDUuMjQ4IDQ1LjI0OGwtNDUuMjQ4LTQ1LjI0OC0yMi42NTYgMjIuNjU2YTMyIDMyIDAgMSAxLTQ1LjI0OC00NS4yNDhsMjIuNjU2LTIyLjY1Ni00NS4yNDgtNDUuMjQ4QTMyIDMyIDAgMSAxIDM3Ni4yNTYgNTEybDQ1LjI0OCA0NS4yNDhMNDY2Ljc1MiA1MTJsLTQ1LjI0OC00NS4yNDhhMzIgMzIgMCAxIDEgNDUuMjQ4LTQ1LjI0OEw1MTIgNDY2Ljc1Mmw0NS4yNDgtNDUuMjQ4TDUxMiAzNzYuMjU2YTMyIDMyIDAgMCAxIDQ1LjI0OC00NS4yNDhsNDUuMjQ4IDQ1LjI0OHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9zb2NjZXIudnVlXG52YXIgc29jY2VyX2RlZmF1bHQgPSBzb2NjZXJfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3NvbGQtb3V0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI0MSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjQxLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI0MSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syNDEgfSBmcm9tIFwidnVlXCI7XG52YXIgc29sZF9vdXRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjQxKHtcbiAgbmFtZTogXCJTb2xkT3V0XCIsXG4gIF9fbmFtZTogXCJzb2xkLW91dFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjQxKCksIF9jcmVhdGVFbGVtZW50QmxvY2syNDEoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI0MShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk03MDQgMjg4aDEzMS4wNzJhMzIgMzIgMCAwIDEgMzEuODA4IDI4LjhMODg2LjQgNTEyaC02NC4zODRsLTE2LTE2MEg3MDR2OTZhMzIgMzIgMCAxIDEtNjQgMHYtOTZIMzg0djk2YTMyIDMyIDAgMCAxLTY0IDB2LTk2SDIxNy45MmwtNTEuMiA1MTJINTEydjY0SDEzMS4zMjhhMzIgMzIgMCAwIDEtMzEuODA4LTM1LjJsNTcuNi01NzZhMzIgMzIgMCAwIDEgMzEuODA4LTI4LjhIMzIwdi0yMi4zMzZDMzIwIDE1NC42ODggNDA1LjUwNCA2NCA1MTIgNjRzMTkyIDkwLjY4OCAxOTIgMjAxLjY2NHYyMi40em0tNjQgMHYtMjIuMzM2QzY0MCAxODkuMjQ4IDU4Mi4yNzIgMTI4IDUxMiAxMjhjLTcwLjI3MiAwLTEyOCA2MS4yNDgtMTI4IDEzNy42NjR2MjIuNGgyNTZ6bTIwMS40MDggNDc2LjE2YTMyIDMyIDAgMSAxIDQ1LjI0OCA0NS4xODRsLTEyOCAxMjhhMzIgMzIgMCAwIDEtNDUuMjQ4IDBsLTEyOC0xMjhhMzIgMzIgMCAxIDEgNDUuMjQ4LTQ1LjI0OEw3MDQgODM3LjUwNFY2MDhhMzIgMzIgMCAxIDEgNjQgMHYyMjkuNTA0bDczLjQwOC03My40MDh6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvc29sZC1vdXQudnVlXG52YXIgc29sZF9vdXRfZGVmYXVsdCA9IHNvbGRfb3V0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9zb3J0LWRvd24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjQyIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyNDIsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjQyLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI0MiB9IGZyb20gXCJ2dWVcIjtcbnZhciBzb3J0X2Rvd25fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjQyKHtcbiAgbmFtZTogXCJTb3J0RG93blwiLFxuICBfX25hbWU6IFwic29ydC1kb3duXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syNDIoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI0MihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjQyKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTU3NiA5NnY3MDkuNTY4TDMzMy4zMTIgNTYyLjgxNkEzMiAzMiAwIDEgMCAyODggNjA4bDI5Ny40MDggMjk3LjM0NEEzMiAzMiAwIDAgMCA2NDAgODgyLjY4OFY5NmEzMiAzMiAwIDAgMC02NCAwXCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvc29ydC1kb3duLnZ1ZVxudmFyIHNvcnRfZG93bl9kZWZhdWx0ID0gc29ydF9kb3duX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9zb3J0LXVwLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI0MyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjQzLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI0MywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syNDMgfSBmcm9tIFwidnVlXCI7XG52YXIgc29ydF91cF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyNDMoe1xuICBuYW1lOiBcIlNvcnRVcFwiLFxuICBfX25hbWU6IFwic29ydC11cFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjQzKCksIF9jcmVhdGVFbGVtZW50QmxvY2syNDMoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI0MyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0zODQgMTQxLjI0OFY5MjhhMzIgMzIgMCAxIDAgNjQgMFYyMTguNTZsMjQyLjY4OCAyNDIuNjg4QTMyIDMyIDAgMSAwIDczNiA0MTZMNDM4LjU5MiAxMTguNjU2QTMyIDMyIDAgMCAwIDM4NCAxNDEuMjQ4XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvc29ydC11cC52dWVcbnZhciBzb3J0X3VwX2RlZmF1bHQgPSBzb3J0X3VwX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9zb3J0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI0NCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjQ0LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI0NCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syNDQgfSBmcm9tIFwidnVlXCI7XG52YXIgc29ydF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyNDQoe1xuICBuYW1lOiBcIlNvcnRcIixcbiAgX19uYW1lOiBcInNvcnRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI0NCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjQ0KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNDQoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMzg0IDk2YTMyIDMyIDAgMCAxIDY0IDB2Nzg2Ljc1MmEzMiAzMiAwIDAgMS01NC41OTIgMjIuNjU2TDk1LjkzNiA2MDhhMzIgMzIgMCAwIDEgMC00NS4zMTJoLjEyOGEzMiAzMiAwIDAgMSA0NS4xODQgMEwzODQgODA1LjYzMnptMTkyIDQ1LjI0OGEzMiAzMiAwIDAgMSA1NC41OTItMjIuNTkyTDkyOC4wNjQgNDE2YTMyIDMyIDAgMCAxIDAgNDUuMzEyaC0uMTI4YTMyIDMyIDAgMCAxLTQ1LjE4NCAwTDY0MCAyMTguNDk2VjkyOGEzMiAzMiAwIDEgMS02NCAwVjE0MS4yNDh6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvc29ydC52dWVcbnZhciBzb3J0X2RlZmF1bHQgPSBzb3J0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9zdGFtcC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyNDUgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI0NSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syNDUsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjQ1IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHN0YW1wX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI0NSh7XG4gIG5hbWU6IFwiU3RhbXBcIixcbiAgX19uYW1lOiBcInN0YW1wXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syNDUoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI0NShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjQ1KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTYyNCA0NzUuOTY4VjY0MGgxNDRhMTI4IDEyOCAwIDAgMSAxMjggMTI4SDEyOGExMjggMTI4IDAgMCAxIDEyOC0xMjhoMTQ0VjQ3NS45NjhhMTkyIDE5MiAwIDEgMSAyMjQgME0xMjggODk2di02NGg3Njh2NjR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvc3RhbXAudnVlXG52YXIgc3RhbXBfZGVmYXVsdCA9IHN0YW1wX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9zdGFyLWZpbGxlZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyNDYgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI0Niwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syNDYsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjQ2IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHN0YXJfZmlsbGVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI0Nih7XG4gIG5hbWU6IFwiU3RhckZpbGxlZFwiLFxuICBfX25hbWU6IFwic3Rhci1maWxsZWRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI0NigpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjQ2KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNDYoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMjgzLjg0IDg2Ny44NCA1MTIgNzQ3Ljc3NmwyMjguMTYgMTE5LjkzNmE2LjQgNi40IDAgMCAwIDkuMjgtNi43MmwtNDMuNTItMjU0LjA4IDE4NC41MTItMTc5LjkwNGE2LjQgNi40IDAgMCAwLTMuNTItMTAuODhsLTI1NS4xMDQtMzcuMTJMNTE3Ljc2IDE0Ny45MDRhNi40IDYuNCAwIDAgMC0xMS41MiAwTDM5Mi4xOTIgMzc5LjA3MmwtMjU1LjEwNCAzNy4xMmE2LjQgNi40IDAgMCAwLTMuNTIgMTAuODhMMzE4LjA4IDYwNi45NzZsLTQzLjU4NCAyNTQuMDhhNi40IDYuNCAwIDAgMCA5LjI4IDYuNzJ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvc3Rhci1maWxsZWQudnVlXG52YXIgc3Rhcl9maWxsZWRfZGVmYXVsdCA9IHN0YXJfZmlsbGVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9zdGFyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI0NyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjQ3LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI0NywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syNDcgfSBmcm9tIFwidnVlXCI7XG52YXIgc3Rhcl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyNDcoe1xuICBuYW1lOiBcIlN0YXJcIixcbiAgX19uYW1lOiBcInN0YXJcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI0NygpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjQ3KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNDcoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJtNTEyIDc0Ny44NCAyMjguMTYgMTE5LjkzNmE2LjQgNi40IDAgMCAwIDkuMjgtNi43MmwtNDMuNTItMjU0LjA4IDE4NC41MTItMTc5LjkwNGE2LjQgNi40IDAgMCAwLTMuNTItMTAuODhsLTI1NS4xMDQtMzcuMTJMNTE3Ljc2IDE0Ny45MDRhNi40IDYuNCAwIDAgMC0xMS41MiAwTDM5Mi4xOTIgMzc5LjA3MmwtMjU1LjEwNCAzNy4xMmE2LjQgNi40IDAgMCAwLTMuNTIgMTAuODhMMzE4LjA4IDYwNi45NzZsLTQzLjU4NCAyNTQuMDhhNi40IDYuNCAwIDAgMCA5LjI4IDYuNzJ6TTMxMy42IDkyNC40OGE3MC40IDcwLjQgMCAwIDEtMTAyLjE0NC03NC4yNGwzNy44ODgtMjIwLjkyOEw4OC45NiA0NzIuOTZBNzAuNCA3MC40IDAgMCAxIDEyOCAzNTIuODk2bDIyMS43Ni0zMi4yNTYgOTkuMi0yMDAuOTZhNzAuNCA3MC40IDAgMCAxIDEyNi4yMDggMGw5OS4yIDIwMC45NiAyMjEuODI0IDMyLjI1NmE3MC40IDcwLjQgMCAwIDEgMzkuMDQgMTIwLjA2NEw3NzQuNzIgNjI5LjM3NmwzNy44ODggMjIwLjkyOGE3MC40IDcwLjQgMCAwIDEtMTAyLjE0NCA3NC4yNEw1MTIgODIwLjA5NmwtMTk4LjQgMTA0LjMyelwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3N0YXIudnVlXG52YXIgc3Rhcl9kZWZhdWx0ID0gc3Rhcl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvc3RvcHdhdGNoLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI0OCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjQ4LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI0OCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syNDggfSBmcm9tIFwidnVlXCI7XG52YXIgc3RvcHdhdGNoX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI0OCh7XG4gIG5hbWU6IFwiU3RvcHdhdGNoXCIsXG4gIF9fbmFtZTogXCJzdG9wd2F0Y2hcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI0OCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjQ4KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNDgoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDg5NmEzODQgMzg0IDAgMSAwIDAtNzY4IDM4NCAzODQgMCAwIDAgMCA3NjhtMCA2NGE0NDggNDQ4IDAgMSAxIDAtODk2IDQ0OCA0NDggMCAwIDEgMCA4OTZcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjQ4KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTY3MiAyMzQuODhjLTM5LjE2OCAxNzQuNDY0LTgwIDI5OC42MjQtMTIyLjY4OCAzNzIuNDgtNjQgMTEwLjg0OC0yMDIuNjI0IDMwLjg0OC0xMzguNjI0LTgwQzQ1My4zNzYgNDUzLjQ0IDU0MC40OCAzNTUuOTY4IDY3MiAyMzQuODE2elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3N0b3B3YXRjaC52dWVcbnZhciBzdG9wd2F0Y2hfZGVmYXVsdCA9IHN0b3B3YXRjaF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvc3VjY2Vzcy1maWxsZWQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjQ5IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyNDksIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjQ5LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI0OSB9IGZyb20gXCJ2dWVcIjtcbnZhciBzdWNjZXNzX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyNDkoe1xuICBuYW1lOiBcIlN1Y2Nlc3NGaWxsZWRcIixcbiAgX19uYW1lOiBcInN1Y2Nlc3MtZmlsbGVkXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syNDkoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI0OShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjQ5KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiA2NGE0NDggNDQ4IDAgMSAxIDAgODk2IDQ0OCA0NDggMCAwIDEgMC04OTZtLTU1LjgwOCA1MzYuMzg0LTk5LjUyLTk5LjU4NGEzOC40IDM4LjQgMCAxIDAtNTQuMzM2IDU0LjMzNmwxMjYuNzIgMTI2LjcyYTM4LjI3MiAzOC4yNzIgMCAwIDAgNTQuMzM2IDBsMjYyLjQtMjYyLjQ2NGEzOC40IDM4LjQgMCAxIDAtNTQuMjcyLTU0LjMzNnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9zdWNjZXNzLWZpbGxlZC52dWVcbnZhciBzdWNjZXNzX2ZpbGxlZF9kZWZhdWx0ID0gc3VjY2Vzc19maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3N1Z2FyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI1MCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjUwLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI1MCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syNTAgfSBmcm9tIFwidnVlXCI7XG52YXIgc3VnYXJfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjUwKHtcbiAgbmFtZTogXCJTdWdhclwiLFxuICBfX25hbWU6IFwic3VnYXJcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI1MCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjUwKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNTAoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJtODAxLjcyOCAzNDkuMTg0IDQuNDggNC40OGExMjggMTI4IDAgMCAxIDAgMTgwLjk5Mkw1MzQuNjU2IDgwNi4xNDRhMTI4IDEyOCAwIDAgMS0xODEuMDU2IDBsLTQuNDgtNC40OC0xOS4zOTIgMTA5LjY5NmE2NCA2NCAwIDAgMS0xMDguMjg4IDM0LjE3Nkw3OC40NjQgODAyLjU2YTY0IDY0IDAgMCAxIDM0LjE3Ni0xMDguMjg4bDEwOS43Ni0xOS4zMjgtNC41NDQtNC41NDRhMTI4IDEyOCAwIDAgMSAwLTE4MS4wNTZsMjcxLjQ4OC0yNzEuNDg4YTEyOCAxMjggMCAwIDEgMTgxLjA1NiAwbDQuNDggNC40OCAxOS4zOTItMTA5LjUwNGE2NCA2NCAwIDAgMSAxMDguMzUyLTM0LjA0OGwxNDIuNTkyIDE0My4wNGE2NCA2NCAwIDAgMS0zNC4yNCAxMDguMTZsLTEwOS4yNDggMTkuMnptLTU0OC44IDE5OC43Mmg0NDcuMTY4djIuMjRsNjAuOC02MC44YTYzLjgwOCA2My44MDggMCAwIDAgMTguNzUyLTQ0LjQxNmgtNDI2Ljg4bC04OS42NjQgODkuNzI4YTY0LjA2NCA2NC4wNjQgMCAwIDAtMTAuMjQgMTMuMjQ4em0wIDY0YzIuNzUyIDQuNzM2IDYuMTQ0IDkuMTUyIDEwLjE3NiAxMy4yNDhsMTM1Ljc0NCAxMzUuNzQ0YTY0IDY0IDAgMCAwIDkwLjQ5NiAwTDYzOC40IDYxMS45MDR6bTQ5MC4wNDgtMjMwLjk3Nkw2MjUuMTUyIDI2My4xMDRhNjQgNjQgMCAwIDAtOTAuNDk2IDBMNDE2Ljc2OCAzODAuOTI4ek0xMjMuNzEyIDc1Ny4zMTJsMTQyLjk3NiAxNDIuOTc2IDI0LjMyLTEzNy42YTI1LjYgMjUuNiAwIDAgMC0yOS42OTYtMjkuNjMybC0xMzcuNiAyNC4yNTZ6bTYzMy42LTYzMy4zNDQtMjQuMzIgMTM3LjQ3MmEyNS42IDI1LjYgMCAwIDAgMjkuNjMyIDI5LjYzMmwxMzcuMjgtMjQuMDY0LTE0Mi42NTYtMTQzLjA0elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3N1Z2FyLnZ1ZVxudmFyIHN1Z2FyX2RlZmF1bHQgPSBzdWdhcl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvc3VpdGNhc2UtbGluZS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyNTEgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI1MSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syNTEsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjUxIH0gZnJvbSBcInZ1ZVwiO1xudmFyIHN1aXRjYXNlX2xpbmVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjUxKHtcbiAgbmFtZTogXCJTdWl0Y2FzZUxpbmVcIixcbiAgX19uYW1lOiBcInN1aXRjYXNlLWxpbmVcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI1MSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjUxKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICBcInhtbDpzcGFjZVwiOiBcInByZXNlcnZlXCIsXG4gICAgICBzdHlsZTogeyBcImVuYWJsZS1iYWNrZ3JvdW5kXCI6IFwibmV3IDAgMCAxMDI0IDEwMjRcIiB9LFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjUxKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTkyMi41IDIyOS41Yy0yNC4zMi0yNC4zNC01NC40OS0zNi44NC05MC41LTM3LjVINzA0di02NGMtLjY4LTE3Ljk4LTcuMDItMzIuOTgtMTkuMDEtNDQuOTlTNjU4LjAxIDY0LjY2IDY0MCA2NEgzODRjLTE3Ljk4LjY4LTMyLjk4IDcuMDItNDQuOTkgMTkuMDFTMzIwLjY2IDExMCAzMjAgMTI4djY0SDE5MmMtMzUuOTkuNjgtNjYuMTYgMTMuMTgtOTAuNSAzNy41Qzc3LjE2IDI1My44MiA2NC42NiAyODMuOTkgNjQgMzIwdjQ0OGMuNjggMzUuOTkgMTMuMTggNjYuMTYgMzcuNSA5MC41czU0LjQ5IDM2Ljg0IDkwLjUgMzcuNWg2NDBjMzUuOTktLjY4IDY2LjE2LTEzLjE4IDkwLjUtMzcuNXMzNi44NC01NC40OSAzNy41LTkwLjVWMzIwYy0uNjgtMzUuOTktMTMuMTgtNjYuMTYtMzcuNS05MC41TTM4NCAxMjhoMjU2djY0SDM4NHpNMjU2IDgzMmgtNjRjLTE3Ljk4LS42OC0zMi45OC03LjAyLTQ0Ljk5LTE5LjAxUzEyOC42NiA3ODYuMDEgMTI4IDc2OFY0NDhoMTI4em00NDggMEgzMjBWNDQ4aDM4NHptMTkyLTY0Yy0uNjggMTcuOTgtNy4wMiAzMi45OC0xOS4wMSA0NC45OVM4NTAuMDEgODMxLjM0IDgzMiA4MzJoLTY0VjQ0OGgxMjh6bTAtMzg0SDEyOHYtNjRjLjY5LTE3Ljk4IDcuMDItMzIuOTggMTkuMDEtNDQuOTlTMTczLjk5IDI1Ni42NiAxOTIgMjU2aDY0MGMxNy45OC42OSAzMi45OCA3LjAyIDQ0Ljk5IDE5LjAxUzg5NS4zNCAzMDEuOTkgODk2IDMyMHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9zdWl0Y2FzZS1saW5lLnZ1ZVxudmFyIHN1aXRjYXNlX2xpbmVfZGVmYXVsdCA9IHN1aXRjYXNlX2xpbmVfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3N1aXRjYXNlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI1MiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjUyLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI1MiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syNTIgfSBmcm9tIFwidnVlXCI7XG52YXIgc3VpdGNhc2VfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjUyKHtcbiAgbmFtZTogXCJTdWl0Y2FzZVwiLFxuICBfX25hbWU6IFwic3VpdGNhc2VcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI1MigpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjUyKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNTIoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMTI4IDM4NGg3Njh2LTY0YTY0IDY0IDAgMCAwLTY0LTY0SDE5MmE2NCA2NCAwIDAgMC02NCA2NHptMCA2NHYzMjBhNjQgNjQgMCAwIDAgNjQgNjRoNjQwYTY0IDY0IDAgMCAwIDY0LTY0VjQ0OHptNjQtMjU2aDY0MGExMjggMTI4IDAgMCAxIDEyOCAxMjh2NDQ4YTEyOCAxMjggMCAwIDEtMTI4IDEyOEgxOTJBMTI4IDEyOCAwIDAgMSA2NCA3NjhWMzIwYTEyOCAxMjggMCAwIDEgMTI4LTEyOFwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNTIoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMzg0IDEyOHY2NGgyNTZ2LTY0em0wLTY0aDI1NmE2NCA2NCAwIDAgMSA2NCA2NHY2NGE2NCA2NCAwIDAgMS02NCA2NEgzODRhNjQgNjQgMCAwIDEtNjQtNjR2LTY0YTY0IDY0IDAgMCAxIDY0LTY0XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvc3VpdGNhc2UudnVlXG52YXIgc3VpdGNhc2VfZGVmYXVsdCA9IHN1aXRjYXNlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9zdW5ueS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyNTMgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI1Mywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syNTMsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjUzIH0gZnJvbSBcInZ1ZVwiO1xudmFyIHN1bm55X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI1Myh7XG4gIG5hbWU6IFwiU3VubnlcIixcbiAgX19uYW1lOiBcInN1bm55XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syNTMoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI1MyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjUzKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiA3MDRhMTkyIDE5MiAwIDEgMCAwLTM4NCAxOTIgMTkyIDAgMCAwIDAgMzg0bTAgNjRhMjU2IDI1NiAwIDEgMSAwLTUxMiAyNTYgMjU2IDAgMCAxIDAgNTEybTAtNzA0YTMyIDMyIDAgMCAxIDMyIDMydjY0YTMyIDMyIDAgMCAxLTY0IDBWOTZhMzIgMzIgMCAwIDEgMzItMzJtMCA3NjhhMzIgMzIgMCAwIDEgMzIgMzJ2NjRhMzIgMzIgMCAxIDEtNjQgMHYtNjRhMzIgMzIgMCAwIDEgMzItMzJNMTk1LjIgMTk1LjJhMzIgMzIgMCAwIDEgNDUuMjQ4IDBsNDUuMjQ4IDQ1LjI0OGEzMiAzMiAwIDEgMS00NS4yNDggNDUuMjQ4TDE5NS4yIDI0MC40NDhhMzIgMzIgMCAwIDEgMC00NS4yNDh6bTU0My4xMDQgNTQzLjEwNGEzMiAzMiAwIDAgMSA0NS4yNDggMGw0NS4yNDggNDUuMjQ4YTMyIDMyIDAgMCAxLTQ1LjI0OCA0NS4yNDhsLTQ1LjI0OC00NS4yNDhhMzIgMzIgMCAwIDEgMC00NS4yNDhNNjQgNTEyYTMyIDMyIDAgMCAxIDMyLTMyaDY0YTMyIDMyIDAgMCAxIDAgNjRIOTZhMzIgMzIgMCAwIDEtMzItMzJtNzY4IDBhMzIgMzIgMCAwIDEgMzItMzJoNjRhMzIgMzIgMCAxIDEgMCA2NGgtNjRhMzIgMzIgMCAwIDEtMzItMzJNMTk1LjIgODI4LjhhMzIgMzIgMCAwIDEgMC00NS4yNDhsNDUuMjQ4LTQ1LjI0OGEzMiAzMiAwIDAgMSA0NS4yNDggNDUuMjQ4TDI0MC40NDggODI4LjhhMzIgMzIgMCAwIDEtNDUuMjQ4IDB6bTU0My4xMDQtNTQzLjEwNGEzMiAzMiAwIDAgMSAwLTQ1LjI0OGw0NS4yNDgtNDUuMjQ4YTMyIDMyIDAgMCAxIDQ1LjI0OCA0NS4yNDhsLTQ1LjI0OCA0NS4yNDhhMzIgMzIgMCAwIDEtNDUuMjQ4IDBcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9zdW5ueS52dWVcbnZhciBzdW5ueV9kZWZhdWx0ID0gc3VubnlfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3N1bnJpc2UudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjU0IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyNTQsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjU0LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI1NCB9IGZyb20gXCJ2dWVcIjtcbnZhciBzdW5yaXNlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI1NCh7XG4gIG5hbWU6IFwiU3VucmlzZVwiLFxuICBfX25hbWU6IFwic3VucmlzZVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjU0KCksIF9jcmVhdGVFbGVtZW50QmxvY2syNTQoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI1NChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0zMiA3NjhoOTYwYTMyIDMyIDAgMSAxIDAgNjRIMzJhMzIgMzIgMCAxIDEgMC02NG0xMjkuNDA4LTk2YTM1MiAzNTIgMCAwIDEgNzAxLjE4NCAwaC02NC4zMmEyODggMjg4IDAgMCAwLTU3Mi41NDQgMGgtNjQuMzJ6TTUxMiAxMjhhMzIgMzIgMCAwIDEgMzIgMzJ2OTZhMzIgMzIgMCAwIDEtNjQgMHYtOTZhMzIgMzIgMCAwIDEgMzItMzJtNDA3LjI5NiAxNjguNzA0YTMyIDMyIDAgMCAxIDAgNDUuMjQ4bC02Ny44NCA2Ny44NGEzMiAzMiAwIDEgMS00NS4yNDgtNDUuMjQ4bDY3Ljg0LTY3Ljg0YTMyIDMyIDAgMCAxIDQ1LjI0OCAwem0tODE0LjU5MiAwYTMyIDMyIDAgMCAxIDQ1LjI0OCAwbDY3Ljg0IDY3Ljg0YTMyIDMyIDAgMSAxLTQ1LjI0OCA0NS4yNDhsLTY3Ljg0LTY3Ljg0YTMyIDMyIDAgMCAxIDAtNDUuMjQ4XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvc3VucmlzZS52dWVcbnZhciBzdW5yaXNlX2RlZmF1bHQgPSBzdW5yaXNlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy9zdW5zZXQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjU1IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyNTUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjU1LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI1NSB9IGZyb20gXCJ2dWVcIjtcbnZhciBzdW5zZXRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjU1KHtcbiAgbmFtZTogXCJTdW5zZXRcIixcbiAgX19uYW1lOiBcInN1bnNldFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjU1KCksIF9jcmVhdGVFbGVtZW50QmxvY2syNTUoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI1NShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk04Mi41NiA2NDBhNDQ4IDQ0OCAwIDEgMSA4NTguODggMGgtNjcuMmEzODQgMzg0IDAgMSAwLTcyNC4yODggMHpNMzIgNzA0aDk2MHEzMiAwIDMyIDMydC0zMiAzMkgzMnEtMzIgMC0zMi0zMnQzMi0zMm0yNTYgMTI4aDQ0OHEzMiAwIDMyIDMydC0zMiAzMkgyODhxLTMyIDAtMzItMzJ0MzItMzJcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9zdW5zZXQudnVlXG52YXIgc3Vuc2V0X2RlZmF1bHQgPSBzdW5zZXRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3N3aXRjaC1idXR0b24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjU2IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyNTYsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjU2LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI1NiB9IGZyb20gXCJ2dWVcIjtcbnZhciBzd2l0Y2hfYnV0dG9uX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI1Nih7XG4gIG5hbWU6IFwiU3dpdGNoQnV0dG9uXCIsXG4gIF9fbmFtZTogXCJzd2l0Y2gtYnV0dG9uXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syNTYoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI1NihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjU2KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTM1MiAxNTkuODcyVjIzMC40YTM1MiAzNTIgMCAxIDAgMzIwIDB2LTcwLjUyOEE0MTYuMTI4IDQxNi4xMjggMCAwIDEgNTEyIDk2MGE0MTYgNDE2IDAgMCAxLTE2MC04MDAuMTI4elwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNTYoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDY0cTMyIDAgMzIgMzJ2MzIwcTAgMzItMzIgMzJ0LTMyLTMyVjk2cTAtMzIgMzItMzJcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9zd2l0Y2gtYnV0dG9uLnZ1ZVxudmFyIHN3aXRjaF9idXR0b25fZGVmYXVsdCA9IHN3aXRjaF9idXR0b25fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3N3aXRjaC1maWxsZWQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjU3IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyNTcsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjU3LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI1NyB9IGZyb20gXCJ2dWVcIjtcbnZhciBzd2l0Y2hfZmlsbGVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI1Nyh7XG4gIG5hbWU6IFwiU3dpdGNoRmlsbGVkXCIsXG4gIF9fbmFtZTogXCJzd2l0Y2gtZmlsbGVkXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syNTcoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI1NyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgXCJ4bWw6c3BhY2VcIjogXCJwcmVzZXJ2ZVwiLFxuICAgICAgc3R5bGU6IHsgXCJlbmFibGUtYmFja2dyb3VuZFwiOiBcIm5ldyAwIDAgMTAyNCAxMDI0XCIgfSxcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI1NyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0yNDcuNDcgMzU4LjR2LjA0Yy4wNyAxOS4xNyA3LjcyIDM3LjUzIDIxLjI3IDUxLjA5czMxLjkyIDIxLjIgNTEuMDkgMjEuMjdjMzkuODYgMCA3Mi40MS0zMi42IDcyLjQxLTcyLjRzLTMyLjYtNzIuMzYtNzIuNDEtNzIuMzYtNzIuMzYgMzIuNTUtNzIuMzYgNzIuMzZ6XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI1NyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk00OTIuMzggMTI4SDMyNC43Yy01Mi4xNiAwLTEwMi4xOSAyMC43My0xMzkuMDggNTcuNjFhMTk2LjY1NSAxOTYuNjU1IDAgMCAwLTU3LjYxIDEzOS4wOFY2OTguN2MtLjAxIDI1Ljg0IDUuMDggNTEuNDIgMTQuOTYgNzUuMjlzMjQuMzYgNDUuNTYgNDIuNjMgNjMuODMgMzkuOTUgMzIuNzYgNjMuODIgNDIuNjVhMTk2LjY3IDE5Ni42NyAwIDAgMCA3NS4yOCAxNC45OGgxNjcuNjhjMy4wMyAwIDUuNDYtMi40MyA1LjQ2LTUuNDJWMTMzLjQyYy42LTIuOTktMS44My01LjQyLTUuNDYtNS40MnptLTU2LjExIDcwNS44OEgzMjQuN2MtMTcuNzYuMTMtMzUuMzYtMy4zMy01MS43NS0xMC4xOHMtMzEuMjItMTYuOTQtNDMuNjEtMjkuNjdjLTI1LjMtMjUuMzUtMzkuODEtNTkuMS0zOS44MS05NS4zMlYzMjQuNjljLS4xMy0xNy43NSAzLjMzLTM1LjM1IDEwLjE3LTUxLjc0YTEzMS42OTUgMTMxLjY5NSAwIDAgMSAyOS42NC00My42MmMyNS4zOS0yNS4zIDU5LjE0LTM5LjgxIDk1LjM2LTM5LjgxaDExMS41N3ptNDAyLjEyLTY0Ny42N2ExOTYuNjU1IDE5Ni42NTUgMCAwIDAtMTM5LjA4LTU3LjYxSDU4MC40OGMtMy4wMyAwLTQuODIgMi40My00LjgyIDQuODJ2NzU3LjE2Yy0uNiAyLjk5IDEuNzkgNS40MiA1LjQyIDUuNDJoMTE4LjIzYTE5Ni42OSAxOTYuNjkgMCAwIDAgMTM5LjA4LTU3LjYxQTE5Ni42NTUgMTk2LjY1NSAwIDAgMCA4OTYgNjk5LjMxVjMyNS4yOWExOTYuNjkgMTk2LjY5IDAgMCAwLTU3LjYxLTEzOS4wOHptLTExMS4zIDQ0MS45MmMtNDIuODMgMC03Ny44Mi0zNC45OS03Ny44Mi03Ny44MnMzNC45OC03Ny44MiA3Ny44Mi03Ny44MmM0Mi44MyAwIDc3LjgyIDM0Ljk5IDc3LjgyIDc3Ljgycy0zNC45OSA3Ny44Mi03Ny44MiA3Ny44MnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9zd2l0Y2gtZmlsbGVkLnZ1ZVxudmFyIHN3aXRjaF9maWxsZWRfZGVmYXVsdCA9IHN3aXRjaF9maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3N3aXRjaC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyNTggfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI1OCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syNTgsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjU4IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHN3aXRjaF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyNTgoe1xuICBuYW1lOiBcIlN3aXRjaFwiLFxuICBfX25hbWU6IFwic3dpdGNoXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syNTgoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI1OChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjU4KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTExOC42NTYgNDM4LjY1NmEzMiAzMiAwIDAgMSAwLTQ1LjI0OEw0MTYgOTZsNC40OC0zLjc3NkEzMiAzMiAwIDAgMSA0NjEuMjQ4IDk2bDMuNzEyIDQuNDhhMzIuMDY0IDMyLjA2NCAwIDAgMS0zLjcxMiA0MC44MzJMMjE4LjU2IDM4NEg5MjhhMzIgMzIgMCAxIDEgMCA2NEgxNDEuMjQ4YTMyIDMyIDAgMCAxLTIyLjU5Mi05LjM0NHpNNjQgNjA4YTMyIDMyIDAgMCAxIDMyLTMyaDc4Ni43NTJhMzIgMzIgMCAwIDEgMjIuNjU2IDU0LjU5Mkw2MDggOTI4bC00LjQ4IDMuNzc2YTMyLjA2NCAzMi4wNjQgMCAwIDEtNDAuODMyLTQ5LjAyNEw4MDUuNjMyIDY0MEg5NmEzMiAzMiAwIDAgMS0zMi0zMlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3N3aXRjaC52dWVcbnZhciBzd2l0Y2hfZGVmYXVsdCA9IHN3aXRjaF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvdGFrZWF3YXktYm94LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI1OSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjU5LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI1OSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syNTkgfSBmcm9tIFwidnVlXCI7XG52YXIgdGFrZWF3YXlfYm94X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI1OSh7XG4gIG5hbWU6IFwiVGFrZWF3YXlCb3hcIixcbiAgX19uYW1lOiBcInRha2Vhd2F5LWJveFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjU5KCksIF9jcmVhdGVFbGVtZW50QmxvY2syNTkoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI1OShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk04MzIgMzg0SDE5MnY0NDhoNjQwek05NiAzMjBoODMyVjEyOEg5NnptODAwIDY0djQ4MGEzMiAzMiAwIDAgMS0zMiAzMkgxNjBhMzIgMzIgMCAwIDEtMzItMzJWMzg0SDY0YTMyIDMyIDAgMCAxLTMyLTMyVjk2YTMyIDMyIDAgMCAxIDMyLTMyaDg5NmEzMiAzMiAwIDAgMSAzMiAzMnYyNTZhMzIgMzIgMCAwIDEtMzIgMzJ6TTQxNiA1MTJoMTkyYTMyIDMyIDAgMCAxIDAgNjRINDE2YTMyIDMyIDAgMCAxIDAtNjRcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy90YWtlYXdheS1ib3gudnVlXG52YXIgdGFrZWF3YXlfYm94X2RlZmF1bHQgPSB0YWtlYXdheV9ib3hfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3RpY2tldC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyNjAgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI2MCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syNjAsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjYwIH0gZnJvbSBcInZ1ZVwiO1xudmFyIHRpY2tldF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyNjAoe1xuICBuYW1lOiBcIlRpY2tldFwiLFxuICBfX25hbWU6IFwidGlja2V0XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syNjAoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI2MChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjYwKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTY0MCA4MzJINjRWNjQwYTEyOCAxMjggMCAxIDAgMC0yNTZWMTkyaDU3NnYxNjBoNjRWMTkyaDI1NnYxOTJhMTI4IDEyOCAwIDEgMCAwIDI1NnYxOTJINzA0VjY3MmgtNjR6bTAtNDE2djE5Mmg2NFY0MTZ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvdGlja2V0LnZ1ZVxudmFyIHRpY2tldF9kZWZhdWx0ID0gdGlja2V0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy90aWNrZXRzLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI2MSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjYxLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI2MSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syNjEgfSBmcm9tIFwidnVlXCI7XG52YXIgdGlja2V0c192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyNjEoe1xuICBuYW1lOiBcIlRpY2tldHNcIixcbiAgX19uYW1lOiBcInRpY2tldHNcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI2MSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjYxKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNjEoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMTkyIDEyOHY3NjhoNjQwVjEyOHptLTMyLTY0aDcwNGEzMiAzMiAwIDAgMSAzMiAzMnY4MzJhMzIgMzIgMCAwIDEtMzIgMzJIMTYwYTMyIDMyIDAgMCAxLTMyLTMyVjk2YTMyIDMyIDAgMCAxIDMyLTMybTE2MCA0NDhoMzg0djY0SDMyMHptMC0xOTJoMTkydjY0SDMyMHptMCAzODRoMzg0djY0SDMyMHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy90aWNrZXRzLnZ1ZVxudmFyIHRpY2tldHNfZGVmYXVsdCA9IHRpY2tldHNfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3RpbWVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI2MiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjYyLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI2MiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syNjIgfSBmcm9tIFwidnVlXCI7XG52YXIgdGltZXJfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjYyKHtcbiAgbmFtZTogXCJUaW1lclwiLFxuICBfX25hbWU6IFwidGltZXJcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI2MigpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjYyKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNjIoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDg5NmEzMjAgMzIwIDAgMSAwIDAtNjQwIDMyMCAzMjAgMCAwIDAgMCA2NDBtMCA2NGEzODQgMzg0IDAgMSAxIDAtNzY4IDM4NCAzODQgMCAwIDEgMCA3NjhcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjYyKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiAzMjBhMzIgMzIgMCAwIDEgMzIgMzJsLS41MTIgMjI0YTMyIDMyIDAgMSAxLTY0IDBMNDgwIDM1MmEzMiAzMiAwIDAgMSAzMi0zMlwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNjIoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNDQ4IDU3NmE2NCA2NCAwIDEgMCAxMjggMCA2NCA2NCAwIDEgMC0xMjggMG05Ni00NDh2MTI4aC02NFYxMjhoLTk2YTMyIDMyIDAgMCAxIDAtNjRoMjU2YTMyIDMyIDAgMSAxIDAgNjR6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvdGltZXIudnVlXG52YXIgdGltZXJfZGVmYXVsdCA9IHRpbWVyX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy90b2lsZXQtcGFwZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjYzIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyNjMsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjYzLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI2MyB9IGZyb20gXCJ2dWVcIjtcbnZhciB0b2lsZXRfcGFwZXJfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjYzKHtcbiAgbmFtZTogXCJUb2lsZXRQYXBlclwiLFxuICBfX25hbWU6IFwidG9pbGV0LXBhcGVyXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syNjMoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI2MyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjYzKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTU5NS4yIDEyOEgzMjBhMTkyIDE5MiAwIDAgMC0xOTIgMTkydjU3NmgzODRWMzUyYzAtOTAuNDk2IDMyLjQ0OC0xNzEuMiA4My4yLTIyNE03MzYgNjRjMTIzLjcxMiAwIDIyNCAxMjguOTYgMjI0IDI4OFM4NTkuNzEyIDY0MCA3MzYgNjQwSDU3NnYzMjBINjRWMzIwQTI1NiAyNTYgMCAwIDEgMzIwIDY0ek01NzYgMzUydjIyNGgxNjBjODQuMzUyIDAgMTYwLTk3LjI4IDE2MC0yMjRzLTc1LjY0OC0yMjQtMTYwLTIyNC0xNjAgOTcuMjgtMTYwIDIyNFwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNjMoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNzM2IDQ0OGMtMzUuMzI4IDAtNjQtNDMuMDA4LTY0LTk2czI4LjY3Mi05NiA2NC05NiA2NCA0My4wMDggNjQgOTYtMjguNjcyIDk2LTY0IDk2XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvdG9pbGV0LXBhcGVyLnZ1ZVxudmFyIHRvaWxldF9wYXBlcl9kZWZhdWx0ID0gdG9pbGV0X3BhcGVyX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy90b29scy52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyNjQgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI2NCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syNjQsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjY0IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHRvb2xzX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI2NCh7XG4gIG5hbWU6IFwiVG9vbHNcIixcbiAgX19uYW1lOiBcInRvb2xzXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syNjQoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI2NChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjY0KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTc2NC40MTYgMjU0LjcyYTM1MS42OCAzNTEuNjggMCAwIDEgODYuMzM2IDE0OS4xODRIOTYwdjE5Mi4wNjRIODUwLjc1MmEzNTEuNjggMzUxLjY4IDAgMCAxLTg2LjMzNiAxNDkuMzEybDU0LjcyIDk0LjcyLTE2Ni4yNzIgOTYtNTQuNTkyLTk0LjcyYTM1Mi42NCAzNTIuNjQgMCAwIDEtMTcyLjQ4IDBMMzcxLjEzNiA5MzZsLTE2Ni4yNzItOTYgNTQuNzItOTQuNzJhMzUxLjY4IDM1MS42OCAwIDAgMS04Ni4zMzYtMTQ5LjMxMkg2NHYtMTkyaDEwOS4yNDhhMzUxLjY4IDM1MS42OCAwIDAgMSA4Ni4zMzYtMTQ5LjMxMkwyMDQuOCAxNjBsMTY2LjIwOC05NmguMTkybDU0LjY1NiA5NC41OTJhMzUyLjY0IDM1Mi42NCAwIDAgMSAxNzIuNDggMEw2NTIuOCA2NGguMTI4TDgxOS4yIDE2MGwtNTQuNzIgOTQuNzJ6TTcwNCA0OTkuOTY4YTE5MiAxOTIgMCAxIDAtMzg0IDAgMTkyIDE5MiAwIDAgMCAzODQgMFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3Rvb2xzLnZ1ZVxudmFyIHRvb2xzX2RlZmF1bHQgPSB0b29sc192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvdG9wLWxlZnQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjY1IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyNjUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjY1LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI2NSB9IGZyb20gXCJ2dWVcIjtcbnZhciB0b3BfbGVmdF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyNjUoe1xuICBuYW1lOiBcIlRvcExlZnRcIixcbiAgX19uYW1lOiBcInRvcC1sZWZ0XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syNjUoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI2NShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjY1KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTI1NiAyNTZoNDE2YTMyIDMyIDAgMSAwIDAtNjRIMjI0YTMyIDMyIDAgMCAwLTMyIDMydjQ0OGEzMiAzMiAwIDAgMCA2NCAwelwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNjUoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMjQ2LjY1NiAyMDEuMzQ0YTMyIDMyIDAgMCAwLTQ1LjMxMiA0NS4zMTJsNTQ0IDU0NGEzMiAzMiAwIDAgMCA0NS4zMTItNDUuMzEybC01NDQtNTQ0elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3RvcC1sZWZ0LnZ1ZVxudmFyIHRvcF9sZWZ0X2RlZmF1bHQgPSB0b3BfbGVmdF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvdG9wLXJpZ2h0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI2NiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjY2LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI2NiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syNjYgfSBmcm9tIFwidnVlXCI7XG52YXIgdG9wX3JpZ2h0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI2Nih7XG4gIG5hbWU6IFwiVG9wUmlnaHRcIixcbiAgX19uYW1lOiBcInRvcC1yaWdodFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjY2KCksIF9jcmVhdGVFbGVtZW50QmxvY2syNjYoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI2NihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk03NjggMjU2SDM1My42YTMyIDMyIDAgMSAxIDAtNjRIODAwYTMyIDMyIDAgMCAxIDMyIDMydjQ0OGEzMiAzMiAwIDAgMS02NCAwelwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNjYoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNzc3LjM0NCAyMDEuMzQ0YTMyIDMyIDAgMCAxIDQ1LjMxMiA0NS4zMTJsLTU0NCA1NDRhMzIgMzIgMCAwIDEtNDUuMzEyLTQ1LjMxMmw1NDQtNTQ0elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3RvcC1yaWdodC52dWVcbnZhciB0b3BfcmlnaHRfZGVmYXVsdCA9IHRvcF9yaWdodF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvdG9wLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI2NyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjY3LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI2NywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syNjcgfSBmcm9tIFwidnVlXCI7XG52YXIgdG9wX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI2Nyh7XG4gIG5hbWU6IFwiVG9wXCIsXG4gIF9fbmFtZTogXCJ0b3BcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI2NygpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjY3KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNjcoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTcyLjIzNSAyMDUuMjgydjYwMC4zNjVhMzAuMTE4IDMwLjExOCAwIDEgMS02MC4yMzUgMFYyMDUuMjgyTDI5Mi4zODIgNDM4LjYzM2EyOC45MTMgMjguOTEzIDAgMCAxLTQyLjY0NiAwIDMzLjQzIDMzLjQzIDAgMCAxIDAtNDUuMjM2bDI3MS4wNTgtMjg4LjA0NWEyOC45MTMgMjguOTEzIDAgMCAxIDQyLjY0NyAwTDgzNC41IDM5My4zOTdhMzMuNDMgMzMuNDMgMCAwIDEgMCA0NS4xNzYgMjguOTEzIDI4LjkxMyAwIDAgMS00Mi42NDcgMGwtMjE5LjYxOC0yMzMuMjN6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvdG9wLnZ1ZVxudmFyIHRvcF9kZWZhdWx0ID0gdG9wX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy90cmVuZC1jaGFydHMudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjY4IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyNjgsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjY4LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI2OCB9IGZyb20gXCJ2dWVcIjtcbnZhciB0cmVuZF9jaGFydHNfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjY4KHtcbiAgbmFtZTogXCJUcmVuZENoYXJ0c1wiLFxuICBfX25hbWU6IFwidHJlbmQtY2hhcnRzXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syNjgoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI2OChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjY4KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTEyOCA4OTZWMTI4aDc2OHY3Njh6bTI5MS43MTItMzI3LjI5NiAxMjggMTAyLjQgMTgwLjE2LTIwMS43OTItNDcuNzQ0LTQyLjYyNC0xMzkuODQgMTU2LjYwOC0xMjgtMTAyLjQtMTgwLjE2IDIwMS43OTIgNDcuNzQ0IDQyLjYyNCAxMzkuODQtMTU2LjYwOHpNODE2IDM1MmE0OCA0OCAwIDEgMC05NiAwIDQ4IDQ4IDAgMCAwIDk2IDBcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy90cmVuZC1jaGFydHMudnVlXG52YXIgdHJlbmRfY2hhcnRzX2RlZmF1bHQgPSB0cmVuZF9jaGFydHNfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3Ryb3BoeS1iYXNlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI2OSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjY5LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI2OSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syNjkgfSBmcm9tIFwidnVlXCI7XG52YXIgdHJvcGh5X2Jhc2VfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjY5KHtcbiAgbmFtZTogXCJUcm9waHlCYXNlXCIsXG4gIF9fbmFtZTogXCJ0cm9waHktYmFzZVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjY5KCksIF9jcmVhdGVFbGVtZW50QmxvY2syNjkoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIFwieG1sOnNwYWNlXCI6IFwicHJlc2VydmVcIixcbiAgICAgIHN0eWxlOiB7IFwiZW5hYmxlLWJhY2tncm91bmRcIjogXCJuZXcgMCAwIDEwMjQgMTAyNFwiIH0sXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNjkoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNOTE4LjQgMjAxLjZjLTYuNC02LjQtMTIuOC05LjYtMjIuNC05LjZINzY4Vjk2YzAtOS42LTMuMi0xNi05LjYtMjIuNEM3NTIgNjcuMiA3NDUuNiA2NCA3MzYgNjRIMjg4Yy05LjYgMC0xNiAzLjItMjIuNCA5LjZDMjU5LjIgODAgMjU2IDg2LjQgMjU2IDk2djk2SDEyOGMtOS42IDAtMTYgMy4yLTIyLjQgOS42LTYuNCA2LjQtOS42IDE2LTkuNiAyMi40IDMuMiAxMDguOCAyNS42IDE4NS42IDY0IDIyNCAzNC40IDM0LjQgNzcuNTYgNTUuNjUgMTI3LjY1IDYxLjk5IDEwLjkxIDIwLjQ0IDI0Ljc4IDM5LjI1IDQxLjk1IDU2LjQxIDQwLjg2IDQwLjg2IDkxIDY1LjQ3IDE1MC40IDcxLjlWNzY4aC05NmMtOS42IDAtMTYgMy4yLTIyLjQgOS42LTYuNCA2LjQtOS42IDEyLjgtOS42IDIyLjRzMy4yIDE2IDkuNiAyMi40YzYuNCA2LjQgMTIuOCA5LjYgMjIuNCA5LjZoMjU2YzkuNiAwIDE2LTMuMiAyMi40LTkuNiA2LjQtNi40IDkuNi0xMi44IDkuNi0yMi40cy0zLjItMTYtOS42LTIyLjRjLTYuNC02LjQtMTIuOC05LjYtMjIuNC05LjZoLTk2VjYzNy4yNmM1OS40LTcuNzEgMTA5LjU0LTMwLjAxIDE1MC40LTcwLjg2IDE3LjItMTcuMiAzMS41MS0zNi4wNiA0Mi44MS01Ni41NSA0OC45My02LjUxIDkwLjAyLTI3LjcgMTI2Ljc5LTYxLjg1IDM4LjQtMzguNCA2MC44LTExMiA2NC0yMjQgMC02LjQtMy4yLTE2LTkuNi0yMi40ek0yNTYgNDM4LjRjLTE5LjItNi40LTM1LjItMTkuMi01MS4yLTM1LjItMjIuNC0yMi40LTM1LjItNzAuNC00MS42LTE0Ny4ySDI1NnptMzkwLjQgODBDNjA4IDU1My42IDU2Ni40IDU3NiA1MTIgNTc2cy05OS4yLTE5LjItMTM0LjQtNTcuNkMzNDIuNCA0ODAgMzIwIDQzOC40IDMyMCAzODRWMTI4aDM4NHYyNTZjMCA1NC40LTE5LjIgOTkuMi01Ny42IDEzNC40bTE3Mi44LTExNS4yYy0xNiAxNi0zMiAyNS42LTUxLjIgMzUuMlYyNTZoOTIuOGMtNi40IDc2LjgtMTkuMiAxMjQuOC00MS42IDE0Ny4yek03NjggODk2SDI1NmMtOS42IDAtMTYgMy4yLTIyLjQgOS42LTYuNCA2LjQtOS42IDEyLjgtOS42IDIyLjRzMy4yIDE2IDkuNiAyMi40YzYuNCA2LjQgMTIuOCA5LjYgMjIuNCA5LjZoNTEyYzkuNiAwIDE2LTMuMiAyMi40LTkuNiA2LjQtNi40IDkuNi0xMi44IDkuNi0yMi40cy0zLjItMTYtOS42LTIyLjRjLTYuNC02LjQtMTIuOC05LjYtMjIuNC05LjZcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy90cm9waHktYmFzZS52dWVcbnZhciB0cm9waHlfYmFzZV9kZWZhdWx0ID0gdHJvcGh5X2Jhc2VfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3Ryb3BoeS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyNzAgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI3MCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syNzAsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjcwIH0gZnJvbSBcInZ1ZVwiO1xudmFyIHRyb3BoeV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyNzAoe1xuICBuYW1lOiBcIlRyb3BoeVwiLFxuICBfX25hbWU6IFwidHJvcGh5XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syNzAoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI3MChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjcwKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTQ4MCA4OTZWNzAyLjA4QTI1Ni4yNTYgMjU2LjI1NiAwIDAgMSAyNjQuMDY0IDUxMmgtMzIuNjRhOTYgOTYgMCAwIDEtOTEuOTY4LTY4LjQxNkw5My42MzIgMjkwLjg4YTc2LjggNzYuOCAwIDAgMSA3My42LTk4Ljg4SDI1NlY5NmEzMiAzMiAwIDAgMSAzMi0zMmg0NDhhMzIgMzIgMCAwIDEgMzIgMzJ2OTZoODguNzY4YTc2LjggNzYuOCAwIDAgMSA3My42IDk4Ljg4TDg4NC40OCA0NDMuNTJBOTYgOTYgMCAwIDEgNzkyLjU3NiA1MTJoLTMyLjY0QTI1Ni4yNTYgMjU2LjI1NiAwIDAgMSA1NDQgNzAyLjA4Vjg5NmgxMjhhMzIgMzIgMCAxIDEgMCA2NEgzNTJhMzIgMzIgMCAxIDEgMC02NHptMjI0LTQ0OFYxMjhIMzIwdjMyMGExOTIgMTkyIDAgMSAwIDM4NCAwbTY0IDBoMjQuNTc2YTMyIDMyIDAgMCAwIDMwLjY1Ni0yMi43ODRsNDUuODI0LTE1Mi43NjhBMTIuOCAxMi44IDAgMCAwIDg1Ni43NjggMjU2SDc2OHptLTUxMiAwVjI1NmgtODguNzY4YTEyLjggMTIuOCAwIDAgMC0xMi4yODggMTYuNDQ4bDQ1LjgyNCAxNTIuNzY4QTMyIDMyIDAgMCAwIDIzMS40MjQgNDQ4elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3Ryb3BoeS52dWVcbnZhciB0cm9waHlfZGVmYXVsdCA9IHRyb3BoeV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvdHVybi1vZmYudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjcxIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyNzEsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjcxLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI3MSB9IGZyb20gXCJ2dWVcIjtcbnZhciB0dXJuX29mZl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyNzEoe1xuICBuYW1lOiBcIlR1cm5PZmZcIixcbiAgX19uYW1lOiBcInR1cm4tb2ZmXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syNzEoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI3MShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjcxKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTMyOS45NTYgMjU3LjEzOGEyNTQuODYyIDI1NC44NjIgMCAwIDAgMCA1MDkuNzI0aDM2NC4wODhhMjU0Ljg2MiAyNTQuODYyIDAgMCAwIDAtNTA5LjcyNHptMC03Mi44MThoMzY0LjA4OGEzMjcuNjggMzI3LjY4IDAgMSAxIDAgNjU1LjM2SDMyOS45NTZhMzI3LjY4IDMyNy42OCAwIDEgMSAwLTY1NS4zNnpcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjcxKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTMyOS45NTYgNjIxLjIyN2ExMDkuMjI3IDEwOS4yMjcgMCAxIDAgMC0yMTguNDU0IDEwOS4yMjcgMTA5LjIyNyAwIDAgMCAwIDIxOC40NTRtMCA3Mi44MTdhMTgyLjA0NCAxODIuMDQ0IDAgMSAxIDAtMzY0LjA4OCAxODIuMDQ0IDE4Mi4wNDQgMCAwIDEgMCAzNjQuMDg4XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvdHVybi1vZmYudnVlXG52YXIgdHVybl9vZmZfZGVmYXVsdCA9IHR1cm5fb2ZmX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy91bWJyZWxsYS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyNzIgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI3Miwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syNzIsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjcyIH0gZnJvbSBcInZ1ZVwiO1xudmFyIHVtYnJlbGxhX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI3Mih7XG4gIG5hbWU6IFwiVW1icmVsbGFcIixcbiAgX19uYW1lOiBcInVtYnJlbGxhXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syNzIoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI3MihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjcyKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTMyMCA3NjhhMzIgMzIgMCAxIDEgNjQgMCA2NCA2NCAwIDAgMCAxMjggMFY1MTJINjRhNDQ4IDQ0OCAwIDEgMSA4OTYgMEg1NzZ2MjU2YTEyOCAxMjggMCAxIDEtMjU2IDBtNTcwLjY4OC0zMjBhMzg0LjEyOCAzODQuMTI4IDAgMCAwLTc1Ny4zNzYgMHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy91bWJyZWxsYS52dWVcbnZhciB1bWJyZWxsYV9kZWZhdWx0ID0gdW1icmVsbGFfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3VubG9jay52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyNzMgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI3Mywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syNzMsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjczIH0gZnJvbSBcInZ1ZVwiO1xudmFyIHVubG9ja192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyNzMoe1xuICBuYW1lOiBcIlVubG9ja1wiLFxuICBfX25hbWU6IFwidW5sb2NrXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syNzMoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI3MyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjczKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTIyNCA0NDhhMzIgMzIgMCAwIDAtMzIgMzJ2Mzg0YTMyIDMyIDAgMCAwIDMyIDMyaDU3NmEzMiAzMiAwIDAgMCAzMi0zMlY0ODBhMzIgMzIgMCAwIDAtMzItMzJ6bTAtNjRoNTc2YTk2IDk2IDAgMCAxIDk2IDk2djM4NGE5NiA5NiAwIDAgMS05NiA5NkgyMjRhOTYgOTYgMCAwIDEtOTYtOTZWNDgwYTk2IDk2IDAgMCAxIDk2LTk2XCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI3MyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTIgNTQ0YTMyIDMyIDAgMCAxIDMyIDMydjE5MmEzMiAzMiAwIDEgMS02NCAwVjU3NmEzMiAzMiAwIDAgMSAzMi0zMm0xNzguMzA0LTI5NS4yOTZBMTkyLjA2NCAxOTIuMDY0IDAgMCAwIDMyMCAzMjB2NjRoMzUybDk2IDM4LjRWNDQ4SDI1NlYzMjBhMjU2IDI1NiAwIDAgMSA0OTMuNzYtOTUuMTA0elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3VubG9jay52dWVcbnZhciB1bmxvY2tfZGVmYXVsdCA9IHVubG9ja192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvdXBsb2FkLWZpbGxlZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyNzQgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI3NCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syNzQsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjc0IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHVwbG9hZF9maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50Mjc0KHtcbiAgbmFtZTogXCJVcGxvYWRGaWxsZWRcIixcbiAgX19uYW1lOiBcInVwbG9hZC1maWxsZWRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI3NCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjc0KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNzQoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTQ0IDg2NFY2NzJoMTI4TDUxMiA0ODAgMzUyIDY3MmgxMjh2MTkySDMyMHYtMS42Yy01LjM3Ni4zMi0xMC40OTYgMS42LTE2IDEuNkEyNDAgMjQwIDAgMCAxIDY0IDYyNGMwLTEyMy4xMzYgOTMuMTItMjIzLjQ4OCAyMTIuNjA4LTIzNy4yNDhBMjM5LjgwOCAyMzkuODA4IDAgMCAxIDUxMiAxOTJhMjM5Ljg3MiAyMzkuODcyIDAgMCAxIDIzNS40NTYgMTk0Ljc1MmMxMTkuNDg4IDEzLjc2IDIxMi40OCAxMTQuMTEyIDIxMi40OCAyMzcuMjQ4YTI0MCAyNDAgMCAwIDEtMjQwIDI0MGMtNS4zNzYgMC0xMC41Ni0xLjI4LTE2LTEuNnYxLjZ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvdXBsb2FkLWZpbGxlZC52dWVcbnZhciB1cGxvYWRfZmlsbGVkX2RlZmF1bHQgPSB1cGxvYWRfZmlsbGVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy91cGxvYWQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50Mjc1IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyNzUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjc1LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI3NSB9IGZyb20gXCJ2dWVcIjtcbnZhciB1cGxvYWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50Mjc1KHtcbiAgbmFtZTogXCJVcGxvYWRcIixcbiAgX19uYW1lOiBcInVwbG9hZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjc1KCksIF9jcmVhdGVFbGVtZW50QmxvY2syNzUoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI3NShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xNjAgODMyaDcwNGEzMiAzMiAwIDEgMSAwIDY0SDE2MGEzMiAzMiAwIDEgMSAwLTY0bTM4NC01NzguMzA0VjcwNGgtNjRWMjQ3LjI5NkwyMzcuMjQ4IDQ5MC4wNDggMTkyIDQ0NC44IDUwOC44IDEyOGwzMTYuOCAzMTYuOC00NS4zMTIgNDUuMjQ4elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3VwbG9hZC52dWVcbnZhciB1cGxvYWRfZGVmYXVsdCA9IHVwbG9hZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvdXNlci1maWxsZWQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50Mjc2IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyNzYsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjc2LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI3NiB9IGZyb20gXCJ2dWVcIjtcbnZhciB1c2VyX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyNzYoe1xuICBuYW1lOiBcIlVzZXJGaWxsZWRcIixcbiAgX19uYW1lOiBcInVzZXItZmlsbGVkXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syNzYoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI3NihcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjc2KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTI4OCAzMjBhMjI0IDIyNCAwIDEgMCA0NDggMCAyMjQgMjI0IDAgMSAwLTQ0OCAwbTU0NCA2MDhIMTYwYTMyIDMyIDAgMCAxLTMyLTMydi05NmExNjAgMTYwIDAgMCAxIDE2MC0xNjBoNDQ4YTE2MCAxNjAgMCAwIDEgMTYwIDE2MHY5NmEzMiAzMiAwIDAgMS0zMiAzMnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy91c2VyLWZpbGxlZC52dWVcbnZhciB1c2VyX2ZpbGxlZF9kZWZhdWx0ID0gdXNlcl9maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3VzZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50Mjc3IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyNzcsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjc3LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI3NyB9IGZyb20gXCJ2dWVcIjtcbnZhciB1c2VyX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI3Nyh7XG4gIG5hbWU6IFwiVXNlclwiLFxuICBfX25hbWU6IFwidXNlclwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjc3KCksIF9jcmVhdGVFbGVtZW50QmxvY2syNzcoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI3NyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTIgNTEyYTE5MiAxOTIgMCAxIDAgMC0zODQgMTkyIDE5MiAwIDAgMCAwIDM4NG0wIDY0YTI1NiAyNTYgMCAxIDEgMC01MTIgMjU2IDI1NiAwIDAgMSAwIDUxMm0zMjAgMzIwdi05NmE5NiA5NiAwIDAgMC05Ni05NkgyODhhOTYgOTYgMCAwIDAtOTYgOTZ2OTZhMzIgMzIgMCAxIDEtNjQgMHYtOTZhMTYwIDE2MCAwIDAgMSAxNjAtMTYwaDQ0OGExNjAgMTYwIDAgMCAxIDE2MCAxNjB2OTZhMzIgMzIgMCAxIDEtNjQgMFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3VzZXIudnVlXG52YXIgdXNlcl9kZWZhdWx0ID0gdXNlcl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvdmFuLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI3OCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjc4LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI3OCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syNzggfSBmcm9tIFwidnVlXCI7XG52YXIgdmFuX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI3OCh7XG4gIG5hbWU6IFwiVmFuXCIsXG4gIF9fbmFtZTogXCJ2YW5cIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI3OCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjc4KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNzgoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNMTI4Ljg5NiA3MzZIOTZhMzIgMzIgMCAwIDEtMzItMzJWMjI0YTMyIDMyIDAgMCAxIDMyLTMyaDU3NmEzMiAzMiAwIDAgMSAzMiAzMnY5NmgxNjQuNTQ0YTMyIDMyIDAgMCAxIDMxLjYxNiAyNy4xMzZsNTQuMTQ0IDM1MkEzMiAzMiAwIDAgMSA5MjIuNjg4IDczNmgtOTEuNTJhMTQ0IDE0NCAwIDEgMS0yODYuMjcyIDBINDE1LjEwNGExNDQgMTQ0IDAgMSAxLTI4Ni4yNzIgMHptMjMuMzYtNjRhMTQzLjg3MiAxNDMuODcyIDAgMCAxIDIzOS40ODggMEg1NjguMzJjMTcuMDg4LTI1LjYgNDIuMjQtNDUuMzc2IDcxLjc0NC01NS44MDhWMjU2SDEyOHY0MTZ6bTY1NS40ODggMGg3Ny42MzJsLTE5LjY0OC0xMjhINzA0djY0Ljg5NkExNDQgMTQ0IDAgMCAxIDgwNy43NDQgNjcybTQ4LjEyOC0xOTItMTQuNzItOTZINzA0djk2aDE1MS44NzJNNjg4IDgzMmE4MCA4MCAwIDEgMCAwLTE2MCA4MCA4MCAwIDAgMCAwIDE2MG0tNDE2IDBhODAgODAgMCAxIDAgMC0xNjAgODAgODAgMCAwIDAgMCAxNjBcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy92YW4udnVlXG52YXIgdmFuX2RlZmF1bHQgPSB2YW5fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3ZpZGVvLWNhbWVyYS1maWxsZWQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50Mjc5IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyNzksIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjc5LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI3OSB9IGZyb20gXCJ2dWVcIjtcbnZhciB2aWRlb19jYW1lcmFfZmlsbGVkX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI3OSh7XG4gIG5hbWU6IFwiVmlkZW9DYW1lcmFGaWxsZWRcIixcbiAgX19uYW1lOiBcInZpZGVvLWNhbWVyYS1maWxsZWRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI3OSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjc5KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyNzkoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJtNzY4IDU3NiAxOTItNjR2MzIwbC0xOTItNjR2OTZhMzIgMzIgMCAwIDEtMzIgMzJIOTZhMzIgMzIgMCAwIDEtMzItMzJWNDgwYTMyIDMyIDAgMCAxIDMyLTMyaDY0MGEzMiAzMiAwIDAgMSAzMiAzMnpNMTkyIDc2OHY2NGgzODR2LTY0em0xOTItNDgwYTE2MCAxNjAgMCAwIDEgMzIwIDAgMTYwIDE2MCAwIDAgMS0zMjAgMG02NCAwYTk2IDk2IDAgMSAwIDE5Mi4wNjQtLjA2NEE5NiA5NiAwIDAgMCA0NDggMjg4bS0zMjAgMzJhMTI4IDEyOCAwIDEgMSAyNTYuMDY0LjA2NEExMjggMTI4IDAgMCAxIDEyOCAzMjBtNjQgMGE2NCA2NCAwIDEgMCAxMjggMCA2NCA2NCAwIDAgMC0xMjggMFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3ZpZGVvLWNhbWVyYS1maWxsZWQudnVlXG52YXIgdmlkZW9fY2FtZXJhX2ZpbGxlZF9kZWZhdWx0ID0gdmlkZW9fY2FtZXJhX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvdmlkZW8tY2FtZXJhLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI4MCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjgwLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI4MCwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syODAgfSBmcm9tIFwidnVlXCI7XG52YXIgdmlkZW9fY2FtZXJhX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI4MCh7XG4gIG5hbWU6IFwiVmlkZW9DYW1lcmFcIixcbiAgX19uYW1lOiBcInZpZGVvLWNhbWVyYVwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjgwKCksIF9jcmVhdGVFbGVtZW50QmxvY2syODAoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI4MChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk03MDQgNzY4VjI1NkgxMjh2NTEyem02NC00MTYgMTkyLTk2djUxMmwtMTkyLTk2djEyOGEzMiAzMiAwIDAgMS0zMiAzMkg5NmEzMiAzMiAwIDAgMS0zMi0zMlYyMjRhMzIgMzIgMCAwIDEgMzItMzJoNjQwYTMyIDMyIDAgMCAxIDMyIDMyem0wIDcxLjU1MnYxNzYuODk2bDEyOCA2NFYzNTkuNTUyek0xOTIgMzIwaDE5MnY2NEgxOTJ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvdmlkZW8tY2FtZXJhLnZ1ZVxudmFyIHZpZGVvX2NhbWVyYV9kZWZhdWx0ID0gdmlkZW9fY2FtZXJhX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy92aWRlby1wYXVzZS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyODEgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI4MSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syODEsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjgxIH0gZnJvbSBcInZ1ZVwiO1xudmFyIHZpZGVvX3BhdXNlX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI4MSh7XG4gIG5hbWU6IFwiVmlkZW9QYXVzZVwiLFxuICBfX25hbWU6IFwidmlkZW8tcGF1c2VcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI4MSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjgxKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyODEoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDY0YTQ0OCA0NDggMCAxIDEgMCA4OTYgNDQ4IDQ0OCAwIDAgMSAwLTg5Nm0wIDgzMmEzODQgMzg0IDAgMCAwIDAtNzY4IDM4NCAzODQgMCAwIDAgMCA3NjhtLTk2LTU0NHEzMiAwIDMyIDMydjI1NnEwIDMyLTMyIDMydC0zMi0zMlYzODRxMC0zMiAzMi0zMm0xOTIgMHEzMiAwIDMyIDMydjI1NnEwIDMyLTMyIDMydC0zMi0zMlYzODRxMC0zMiAzMi0zMlwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3ZpZGVvLXBhdXNlLnZ1ZVxudmFyIHZpZGVvX3BhdXNlX2RlZmF1bHQgPSB2aWRlb19wYXVzZV92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvdmlkZW8tcGxheS52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyODIgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI4Miwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syODIsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjgyIH0gZnJvbSBcInZ1ZVwiO1xudmFyIHZpZGVvX3BsYXlfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50MjgyKHtcbiAgbmFtZTogXCJWaWRlb1BsYXlcIixcbiAgX19uYW1lOiBcInZpZGVvLXBsYXlcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI4MigpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjgyKFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyODIoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDY0YTQ0OCA0NDggMCAxIDEgMCA4OTYgNDQ4IDQ0OCAwIDAgMSAwLTg5Nm0wIDgzMmEzODQgMzg0IDAgMCAwIDAtNzY4IDM4NCAzODQgMCAwIDAgMCA3NjhtLTQ4LTI0Ny42MTZMNjY4LjYwOCA1MTIgNDY0IDM3NS42MTZ6bTEwLjYyNC0zNDIuNjU2IDI0OS40NzIgMTY2LjMzNmE0OCA0OCAwIDAgMSAwIDc5Ljg3Mkw0NzQuNjI0IDcxOC4yNzJBNDggNDggMCAwIDEgNDAwIDY3OC4zMzZWMzQ1LjZhNDggNDggMCAwIDEgNzQuNjI0LTM5LjkzNnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy92aWRlby1wbGF5LnZ1ZVxudmFyIHZpZGVvX3BsYXlfZGVmYXVsdCA9IHZpZGVvX3BsYXlfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3ZpZXcudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjgzIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyODMsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjgzLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI4MyB9IGZyb20gXCJ2dWVcIjtcbnZhciB2aWV3X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI4Myh7XG4gIG5hbWU6IFwiVmlld1wiLFxuICBfX25hbWU6IFwidmlld1wiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjgzKCksIF9jcmVhdGVFbGVtZW50QmxvY2syODMoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI4MyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTIgMTYwYzMyMCAwIDUxMiAzNTIgNTEyIDM1MlM4MzIgODY0IDUxMiA4NjQgMCA1MTIgMCA1MTJzMTkyLTM1MiA1MTItMzUybTAgNjRjLTIyNS4yOCAwLTM4NC4xMjggMjA4LjA2NC00MzYuOCAyODggNTIuNjA4IDc5Ljg3MiAyMTEuNDU2IDI4OCA0MzYuOCAyODggMjI1LjI4IDAgMzg0LjEyOC0yMDguMDY0IDQzNi44LTI4OC01Mi42MDgtNzkuODcyLTIxMS40NTYtMjg4LTQzNi44LTI4OHptMCA2NGEyMjQgMjI0IDAgMSAxIDAgNDQ4IDIyNCAyMjQgMCAwIDEgMC00NDhtMCA2NGExNjAuMTkyIDE2MC4xOTIgMCAwIDAtMTYwIDE2MGMwIDg4LjE5MiA3MS43NDQgMTYwIDE2MCAxNjBzMTYwLTcxLjgwOCAxNjAtMTYwLTcxLjc0NC0xNjAtMTYwLTE2MFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3ZpZXcudnVlXG52YXIgdmlld19kZWZhdWx0ID0gdmlld192dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvd2FsbGV0LWZpbGxlZC52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyODQgfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI4NCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syODQsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjg0IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHdhbGxldF9maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50Mjg0KHtcbiAgbmFtZTogXCJXYWxsZXRGaWxsZWRcIixcbiAgX19uYW1lOiBcIndhbGxldC1maWxsZWRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI4NCgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjg0KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyODQoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNjg4IDUxMmExMTIgMTEyIDAgMSAwIDAgMjI0aDIwOHYxNjBIMTI4VjM1Mmg3Njh2MTYwem0zMiAxNjBoLTMyYTQ4IDQ4IDAgMCAxIDAtOTZoMzJhNDggNDggMCAwIDEgMCA5Nm0tODAtNTQ0IDEyOCAxNjBIMzg0elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3dhbGxldC1maWxsZWQudnVlXG52YXIgd2FsbGV0X2ZpbGxlZF9kZWZhdWx0ID0gd2FsbGV0X2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvd2FsbGV0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI4NSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjg1LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI4NSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syODUgfSBmcm9tIFwidnVlXCI7XG52YXIgd2FsbGV0X3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI4NSh7XG4gIG5hbWU6IFwiV2FsbGV0XCIsXG4gIF9fbmFtZTogXCJ3YWxsZXRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI4NSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjg1KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyODUoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNjQwIDI4OGgtNjRWMTI4SDEyOHY3MDRoMzg0djMyYTMyIDMyIDAgMCAwIDMyIDMySDk2YTMyIDMyIDAgMCAxLTMyLTMyVjk2YTMyIDMyIDAgMCAxIDMyLTMyaDUxMmEzMiAzMiAwIDAgMSAzMiAzMnpcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjg1KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTEyOCAzMjB2NTEyaDc2OFYzMjB6bS0zMi02NGg4MzJhMzIgMzIgMCAwIDEgMzIgMzJ2NTc2YTMyIDMyIDAgMCAxLTMyIDMySDk2YTMyIDMyIDAgMCAxLTMyLTMyVjI4OGEzMiAzMiAwIDAgMSAzMi0zMlwiXG4gICAgICB9KSxcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyODUoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNzA0IDY0MGE2NCA2NCAwIDEgMSAwLTEyOCA2NCA2NCAwIDAgMSAwIDEyOFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3dhbGxldC52dWVcbnZhciB3YWxsZXRfZGVmYXVsdCA9IHdhbGxldF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvd2Fybi10cmlhbmdsZS1maWxsZWQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50Mjg2IH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyODYsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjg2LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI4NiB9IGZyb20gXCJ2dWVcIjtcbnZhciB3YXJuX3RyaWFuZ2xlX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyODYoe1xuICBuYW1lOiBcIldhcm5UcmlhbmdsZUZpbGxlZFwiLFxuICBfX25hbWU6IFwid2Fybi10cmlhbmdsZS1maWxsZWRcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI4NigpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjg2KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICBcInhtbDpzcGFjZVwiOiBcInByZXNlcnZlXCIsXG4gICAgICBzdHlsZTogeyBcImVuYWJsZS1iYWNrZ3JvdW5kXCI6IFwibmV3IDAgMCAxMDI0IDEwMjRcIiB9LFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjg2KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTkyOC45OSA3NTUuODMgNTc0LjYgMjAzLjI1Yy0xMi44OS0yMC4xNi0zNi43Ni0zMi41OC02Mi42LTMyLjU4cy00OS43MSAxMi40My02Mi42IDMyLjU4TDk1LjAxIDc1NS44M2MtMTIuOTEgMjAuMTItMTIuOSA0NC45MS4wMSA2NS4wMyAxMi45MiAyMC4xMiAzNi43OCAzMi41MSA2Mi41OSAzMi40OWg3MDguNzhjMjUuODIuMDEgNDkuNjgtMTIuMzcgNjIuNTktMzIuNDkgMTIuOTEtMjAuMTIgMTIuOTItNDQuOTEuMDEtNjUuMDNNNTU0LjY3IDc2OGgtODUuMzN2LTg1LjMzaDg1LjMzem0wLTQyNi42N3YyOTguNjZoLTg1LjMzVjM0MS4zMnpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy93YXJuLXRyaWFuZ2xlLWZpbGxlZC52dWVcbnZhciB3YXJuX3RyaWFuZ2xlX2ZpbGxlZF9kZWZhdWx0ID0gd2Fybl90cmlhbmdsZV9maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3dhcm5pbmctZmlsbGVkLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI4NyB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjg3LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI4NywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syODcgfSBmcm9tIFwidnVlXCI7XG52YXIgd2FybmluZ19maWxsZWRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50Mjg3KHtcbiAgbmFtZTogXCJXYXJuaW5nRmlsbGVkXCIsXG4gIF9fbmFtZTogXCJ3YXJuaW5nLWZpbGxlZFwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjg3KCksIF9jcmVhdGVFbGVtZW50QmxvY2syODcoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI4NyhcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk01MTIgNjRhNDQ4IDQ0OCAwIDEgMSAwIDg5NiA0NDggNDQ4IDAgMCAxIDAtODk2bTAgMTkyYTU4LjQzMiA1OC40MzIgMCAwIDAtNTguMjQgNjMuNzQ0bDIzLjM2IDI1Ni4zODRhMzUuMDcyIDM1LjA3MiAwIDAgMCA2OS43NiAwbDIzLjI5Ni0yNTYuMzg0QTU4LjQzMiA1OC40MzIgMCAwIDAgNTEyIDI1Nm0wIDUxMmE1MS4yIDUxLjIgMCAxIDAgMC0xMDIuNCA1MS4yIDUxLjIgMCAwIDAgMCAxMDIuNFwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3dhcm5pbmctZmlsbGVkLnZ1ZVxudmFyIHdhcm5pbmdfZmlsbGVkX2RlZmF1bHQgPSB3YXJuaW5nX2ZpbGxlZF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvd2FybmluZy52dWU/dnVlJnR5cGU9c2NyaXB0JnNldHVwPXRydWUmbGFuZy50c1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQyODggfSBmcm9tIFwidnVlXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZTI4OCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2syODgsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrMjg4IH0gZnJvbSBcInZ1ZVwiO1xudmFyIHdhcm5pbmdfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50Mjg4KHtcbiAgbmFtZTogXCJXYXJuaW5nXCIsXG4gIF9fbmFtZTogXCJ3YXJuaW5nXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syODgoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI4OChcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjg4KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTUxMiA2NGE0NDggNDQ4IDAgMSAxIDAgODk2IDQ0OCA0NDggMCAwIDEgMC04OTZtMCA4MzJhMzg0IDM4NCAwIDAgMCAwLTc2OCAzODQgMzg0IDAgMCAwIDAgNzY4bTQ4LTE3NmE0OCA0OCAwIDEgMS05NiAwIDQ4IDQ4IDAgMCAxIDk2IDBtLTQ4LTQ2NGEzMiAzMiAwIDAgMSAzMiAzMnYyODhhMzIgMzIgMCAwIDEtNjQgMFYyODhhMzIgMzIgMCAwIDEgMzItMzJcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy93YXJuaW5nLnZ1ZVxudmFyIHdhcm5pbmdfZGVmYXVsdCA9IHdhcm5pbmdfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3dhdGNoLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI4OSB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjg5LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI4OSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syODkgfSBmcm9tIFwidnVlXCI7XG52YXIgd2F0Y2hfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdCA9IC8qIEBfX1BVUkVfXyAqLyBfZGVmaW5lQ29tcG9uZW50Mjg5KHtcbiAgbmFtZTogXCJXYXRjaFwiLFxuICBfX25hbWU6IFwid2F0Y2hcIixcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiAoX29wZW5CbG9jazI4OSgpLCBfY3JlYXRlRWxlbWVudEJsb2NrMjg5KFwic3ZnXCIsIHtcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxMDI0IDEwMjRcIlxuICAgIH0sIFtcbiAgICAgIF9jcmVhdGVFbGVtZW50Vk5vZGUyODkoXCJwYXRoXCIsIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZDogXCJNNTEyIDc2OGEyNTYgMjU2IDAgMSAwIDAtNTEyIDI1NiAyNTYgMCAwIDAgMCA1MTJtMCA2NGEzMjAgMzIwIDAgMSAxIDAtNjQwIDMyMCAzMjAgMCAwIDEgMCA2NDBcIlxuICAgICAgfSksXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjg5KFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTQ4MCAzNTJhMzIgMzIgMCAwIDEgMzIgMzJ2MTYwYTMyIDMyIDAgMCAxLTY0IDBWMzg0YTMyIDMyIDAgMCAxIDMyLTMyXCJcbiAgICAgIH0pLFxuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI4OShcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk00ODAgNTEyaDEyOHEzMiAwIDMyIDMydC0zMiAzMkg0ODBxLTMyIDAtMzItMzJ0MzItMzJtMTI4LTI1NlYxMjhINDE2djEyOGgtNjRWNjRoMzIwdjE5MnpNNDE2IDc2OHYxMjhoMTkyVjc2OGg2NHYxOTJIMzUyVjc2OHpcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy93YXRjaC52dWVcbnZhciB3YXRjaF9kZWZhdWx0ID0gd2F0Y2hfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3dhdGVybWVsb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjkwIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyOTAsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjkwLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI5MCB9IGZyb20gXCJ2dWVcIjtcbnZhciB3YXRlcm1lbG9uX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI5MCh7XG4gIG5hbWU6IFwiV2F0ZXJtZWxvblwiLFxuICBfX25hbWU6IFwid2F0ZXJtZWxvblwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjkwKCksIF9jcmVhdGVFbGVtZW50QmxvY2syOTAoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI5MChcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIm02ODMuMDcyIDYwMC4zMi00My42NDggMTYyLjgxNi02MS44MjQtMTYuNTEyIDUzLjI0OC0xOTguNTI4TDU3NiA0OTMuMjQ4bC0xNTguNCAxNTguNC00NS4yNDgtNDUuMjQ4IDE1OC40LTE1OC40LTU1LjYxNi01NS42MTYtMTk4LjUyOCA1My4yNDgtMTYuNTEyLTYxLjgyNCAxNjIuODE2LTQzLjY0OEwyODIuNzUyIDIwMEEzODQgMzg0IDAgMCAwIDgyNCA3NDEuMjQ4em0yMzEuNTUyIDE0MS4wNTZhNDQ4IDQ0OCAwIDEgMS02MzItNjMybDYzMiA2MzJcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy93YXRlcm1lbG9uLnZ1ZVxudmFyIHdhdGVybWVsb25fZGVmYXVsdCA9IHdhdGVybWVsb25fdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcblxuLy8gdW5wbHVnaW4tdnVlOi9ob21lL3J1bm5lci93b3JrL2VsZW1lbnQtcGx1cy1pY29ucy9lbGVtZW50LXBsdXMtaWNvbnMvcGFja2FnZXMvdnVlL3NyYy9jb21wb25lbnRzL3dpbmQtcG93ZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjkxIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyOTEsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjkxLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI5MSB9IGZyb20gXCJ2dWVcIjtcbnZhciB3aW5kX3Bvd2VyX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQgPSAvKiBAX19QVVJFX18gKi8gX2RlZmluZUNvbXBvbmVudDI5MSh7XG4gIG5hbWU6IFwiV2luZFBvd2VyXCIsXG4gIF9fbmFtZTogXCJ3aW5kLXBvd2VyXCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syOTEoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI5MShcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjkxKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwiTTE2MCA2NHEzMiAwIDMyIDMydjgzMnEwIDMyLTMyIDMydC0zMi0zMlY5NnEwLTMyIDMyLTMybTQxNiAzNTQuNjI0IDEyOC0xMS41ODRWMTY4Ljk2bC0xMjgtMTEuNTJ2MjYxLjEyem0tNjQgNS44MjRWMTUxLjU1MkwzMjAgMTM0LjA4VjE2MGgtNjRWNjRsNjE2LjcwNCA1Ni4wNjRBOTYgOTYgMCAwIDEgOTYwIDIxNS42OHYxNDQuNjRhOTYgOTYgMCAwIDEtODcuMjk2IDk1LjYxNkwyNTYgNTEyVjIyNGg2NHYyMTcuOTJ6bTI1Ni0yMy4yMzIgOTguODgtOC45NkEzMiAzMiAwIDAgMCA4OTYgMzYwLjMyVjIxNS42OGEzMiAzMiAwIDAgMC0yOS4xMi0zMS44NzJsLTk4Ljg4LTguOTZ6XCJcbiAgICAgIH0pXG4gICAgXSkpO1xuICB9XG59KTtcblxuLy8gc3JjL2NvbXBvbmVudHMvd2luZC1wb3dlci52dWVcbnZhciB3aW5kX3Bvd2VyX2RlZmF1bHQgPSB3aW5kX3Bvd2VyX3Z1ZV92dWVfdHlwZV9zY3JpcHRfc2V0dXBfdHJ1ZV9sYW5nX2RlZmF1bHQ7XG5cbi8vIHVucGx1Z2luLXZ1ZTovaG9tZS9ydW5uZXIvd29yay9lbGVtZW50LXBsdXMtaWNvbnMvZWxlbWVudC1wbHVzLWljb25zL3BhY2thZ2VzL3Z1ZS9zcmMvY29tcG9uZW50cy96b29tLWluLnZ1ZT92dWUmdHlwZT1zY3JpcHQmc2V0dXA9dHJ1ZSZsYW5nLnRzXG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgX2RlZmluZUNvbXBvbmVudDI5MiB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlMjkyLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jazI5MiwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2syOTIgfSBmcm9tIFwidnVlXCI7XG52YXIgem9vbV9pbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyOTIoe1xuICBuYW1lOiBcIlpvb21JblwiLFxuICBfX25hbWU6IFwiem9vbS1pblwiLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IChfb3BlbkJsb2NrMjkyKCksIF9jcmVhdGVFbGVtZW50QmxvY2syOTIoXCJzdmdcIiwge1xuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiXG4gICAgfSwgW1xuICAgICAgX2NyZWF0ZUVsZW1lbnRWTm9kZTI5MihcInBhdGhcIiwge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIm03OTUuOTA0IDc1MC43MiAxMjQuOTkyIDEyNC45MjhhMzIgMzIgMCAwIDEtNDUuMjQ4IDQ1LjI0OEw3NTAuNjU2IDc5NS45MDRhNDE2IDQxNiAwIDEgMSA0NS4yNDgtNDUuMjQ4ek00ODAgODMyYTM1MiAzNTIgMCAxIDAgMC03MDQgMzUyIDM1MiAwIDAgMCAwIDcwNG0tMzItMzg0di05NmEzMiAzMiAwIDAgMSA2NCAwdjk2aDk2YTMyIDMyIDAgMCAxIDAgNjRoLTk2djk2YTMyIDMyIDAgMCAxLTY0IDB2LTk2aC05NmEzMiAzMiAwIDAgMSAwLTY0elwiXG4gICAgICB9KVxuICAgIF0pKTtcbiAgfVxufSk7XG5cbi8vIHNyYy9jb21wb25lbnRzL3pvb20taW4udnVlXG52YXIgem9vbV9pbl9kZWZhdWx0ID0gem9vbV9pbl92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0O1xuXG4vLyB1bnBsdWdpbi12dWU6L2hvbWUvcnVubmVyL3dvcmsvZWxlbWVudC1wbHVzLWljb25zL2VsZW1lbnQtcGx1cy1pY29ucy9wYWNrYWdlcy92dWUvc3JjL2NvbXBvbmVudHMvem9vbS1vdXQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZzZXR1cD10cnVlJmxhbmcudHNcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50MjkzIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUyOTMsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrMjkzLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jazI5MyB9IGZyb20gXCJ2dWVcIjtcbnZhciB6b29tX291dF92dWVfdnVlX3R5cGVfc2NyaXB0X3NldHVwX3RydWVfbGFuZ19kZWZhdWx0ID0gLyogQF9fUFVSRV9fICovIF9kZWZpbmVDb21wb25lbnQyOTMoe1xuICBuYW1lOiBcIlpvb21PdXRcIixcbiAgX19uYW1lOiBcInpvb20tb3V0XCIsXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gKF9vcGVuQmxvY2syOTMoKSwgX2NyZWF0ZUVsZW1lbnRCbG9jazI5MyhcInN2Z1wiLCB7XG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCJcbiAgICB9LCBbXG4gICAgICBfY3JlYXRlRWxlbWVudFZOb2RlMjkzKFwicGF0aFwiLCB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGQ6IFwibTc5NS45MDQgNzUwLjcyIDEyNC45OTIgMTI0LjkyOGEzMiAzMiAwIDAgMS00NS4yNDggNDUuMjQ4TDc1MC42NTYgNzk1LjkwNGE0MTYgNDE2IDAgMSAxIDQ1LjI0OC00NS4yNDh6TTQ4MCA4MzJhMzUyIDM1MiAwIDEgMCAwLTcwNCAzNTIgMzUyIDAgMCAwIDAgNzA0TTM1MiA0NDhoMjU2YTMyIDMyIDAgMCAxIDAgNjRIMzUyYTMyIDMyIDAgMCAxIDAtNjRcIlxuICAgICAgfSlcbiAgICBdKSk7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy96b29tLW91dC52dWVcbnZhciB6b29tX291dF9kZWZhdWx0ID0gem9vbV9vdXRfdnVlX3Z1ZV90eXBlX3NjcmlwdF9zZXR1cF90cnVlX2xhbmdfZGVmYXVsdDtcbmV4cG9ydCB7XG4gIGFkZF9sb2NhdGlvbl9kZWZhdWx0IGFzIEFkZExvY2F0aW9uLFxuICBhaW1fZGVmYXVsdCBhcyBBaW0sXG4gIGFsYXJtX2Nsb2NrX2RlZmF1bHQgYXMgQWxhcm1DbG9jayxcbiAgYXBwbGVfZGVmYXVsdCBhcyBBcHBsZSxcbiAgYXJyb3dfZG93bl9kZWZhdWx0IGFzIEFycm93RG93bixcbiAgYXJyb3dfZG93bl9ib2xkX2RlZmF1bHQgYXMgQXJyb3dEb3duQm9sZCxcbiAgYXJyb3dfbGVmdF9kZWZhdWx0IGFzIEFycm93TGVmdCxcbiAgYXJyb3dfbGVmdF9ib2xkX2RlZmF1bHQgYXMgQXJyb3dMZWZ0Qm9sZCxcbiAgYXJyb3dfcmlnaHRfZGVmYXVsdCBhcyBBcnJvd1JpZ2h0LFxuICBhcnJvd19yaWdodF9ib2xkX2RlZmF1bHQgYXMgQXJyb3dSaWdodEJvbGQsXG4gIGFycm93X3VwX2RlZmF1bHQgYXMgQXJyb3dVcCxcbiAgYXJyb3dfdXBfYm9sZF9kZWZhdWx0IGFzIEFycm93VXBCb2xkLFxuICBhdmF0YXJfZGVmYXVsdCBhcyBBdmF0YXIsXG4gIGJhY2tfZGVmYXVsdCBhcyBCYWNrLFxuICBiYXNlYmFsbF9kZWZhdWx0IGFzIEJhc2ViYWxsLFxuICBiYXNrZXRiYWxsX2RlZmF1bHQgYXMgQmFza2V0YmFsbCxcbiAgYmVsbF9kZWZhdWx0IGFzIEJlbGwsXG4gIGJlbGxfZmlsbGVkX2RlZmF1bHQgYXMgQmVsbEZpbGxlZCxcbiAgYmljeWNsZV9kZWZhdWx0IGFzIEJpY3ljbGUsXG4gIGJvdHRvbV9kZWZhdWx0IGFzIEJvdHRvbSxcbiAgYm90dG9tX2xlZnRfZGVmYXVsdCBhcyBCb3R0b21MZWZ0LFxuICBib3R0b21fcmlnaHRfZGVmYXVsdCBhcyBCb3R0b21SaWdodCxcbiAgYm93bF9kZWZhdWx0IGFzIEJvd2wsXG4gIGJveF9kZWZhdWx0IGFzIEJveCxcbiAgYnJpZWZjYXNlX2RlZmF1bHQgYXMgQnJpZWZjYXNlLFxuICBicnVzaF9kZWZhdWx0IGFzIEJydXNoLFxuICBicnVzaF9maWxsZWRfZGVmYXVsdCBhcyBCcnVzaEZpbGxlZCxcbiAgYnVyZ2VyX2RlZmF1bHQgYXMgQnVyZ2VyLFxuICBjYWxlbmRhcl9kZWZhdWx0IGFzIENhbGVuZGFyLFxuICBjYW1lcmFfZGVmYXVsdCBhcyBDYW1lcmEsXG4gIGNhbWVyYV9maWxsZWRfZGVmYXVsdCBhcyBDYW1lcmFGaWxsZWQsXG4gIGNhcmV0X2JvdHRvbV9kZWZhdWx0IGFzIENhcmV0Qm90dG9tLFxuICBjYXJldF9sZWZ0X2RlZmF1bHQgYXMgQ2FyZXRMZWZ0LFxuICBjYXJldF9yaWdodF9kZWZhdWx0IGFzIENhcmV0UmlnaHQsXG4gIGNhcmV0X3RvcF9kZWZhdWx0IGFzIENhcmV0VG9wLFxuICBjZWxscGhvbmVfZGVmYXVsdCBhcyBDZWxscGhvbmUsXG4gIGNoYXRfZG90X3JvdW5kX2RlZmF1bHQgYXMgQ2hhdERvdFJvdW5kLFxuICBjaGF0X2RvdF9zcXVhcmVfZGVmYXVsdCBhcyBDaGF0RG90U3F1YXJlLFxuICBjaGF0X2xpbmVfcm91bmRfZGVmYXVsdCBhcyBDaGF0TGluZVJvdW5kLFxuICBjaGF0X2xpbmVfc3F1YXJlX2RlZmF1bHQgYXMgQ2hhdExpbmVTcXVhcmUsXG4gIGNoYXRfcm91bmRfZGVmYXVsdCBhcyBDaGF0Um91bmQsXG4gIGNoYXRfc3F1YXJlX2RlZmF1bHQgYXMgQ2hhdFNxdWFyZSxcbiAgY2hlY2tfZGVmYXVsdCBhcyBDaGVjayxcbiAgY2hlY2tlZF9kZWZhdWx0IGFzIENoZWNrZWQsXG4gIGNoZXJyeV9kZWZhdWx0IGFzIENoZXJyeSxcbiAgY2hpY2tlbl9kZWZhdWx0IGFzIENoaWNrZW4sXG4gIGNocm9tZV9maWxsZWRfZGVmYXVsdCBhcyBDaHJvbWVGaWxsZWQsXG4gIGNpcmNsZV9jaGVja19kZWZhdWx0IGFzIENpcmNsZUNoZWNrLFxuICBjaXJjbGVfY2hlY2tfZmlsbGVkX2RlZmF1bHQgYXMgQ2lyY2xlQ2hlY2tGaWxsZWQsXG4gIGNpcmNsZV9jbG9zZV9kZWZhdWx0IGFzIENpcmNsZUNsb3NlLFxuICBjaXJjbGVfY2xvc2VfZmlsbGVkX2RlZmF1bHQgYXMgQ2lyY2xlQ2xvc2VGaWxsZWQsXG4gIGNpcmNsZV9wbHVzX2RlZmF1bHQgYXMgQ2lyY2xlUGx1cyxcbiAgY2lyY2xlX3BsdXNfZmlsbGVkX2RlZmF1bHQgYXMgQ2lyY2xlUGx1c0ZpbGxlZCxcbiAgY2xvY2tfZGVmYXVsdCBhcyBDbG9jayxcbiAgY2xvc2VfZGVmYXVsdCBhcyBDbG9zZSxcbiAgY2xvc2VfYm9sZF9kZWZhdWx0IGFzIENsb3NlQm9sZCxcbiAgY2xvdWR5X2RlZmF1bHQgYXMgQ2xvdWR5LFxuICBjb2ZmZWVfZGVmYXVsdCBhcyBDb2ZmZWUsXG4gIGNvZmZlZV9jdXBfZGVmYXVsdCBhcyBDb2ZmZWVDdXAsXG4gIGNvaW5fZGVmYXVsdCBhcyBDb2luLFxuICBjb2xkX2RyaW5rX2RlZmF1bHQgYXMgQ29sZERyaW5rLFxuICBjb2xsZWN0aW9uX2RlZmF1bHQgYXMgQ29sbGVjdGlvbixcbiAgY29sbGVjdGlvbl90YWdfZGVmYXVsdCBhcyBDb2xsZWN0aW9uVGFnLFxuICBjb21tZW50X2RlZmF1bHQgYXMgQ29tbWVudCxcbiAgY29tcGFzc19kZWZhdWx0IGFzIENvbXBhc3MsXG4gIGNvbm5lY3Rpb25fZGVmYXVsdCBhcyBDb25uZWN0aW9uLFxuICBjb29yZGluYXRlX2RlZmF1bHQgYXMgQ29vcmRpbmF0ZSxcbiAgY29weV9kb2N1bWVudF9kZWZhdWx0IGFzIENvcHlEb2N1bWVudCxcbiAgY3B1X2RlZmF1bHQgYXMgQ3B1LFxuICBjcmVkaXRfY2FyZF9kZWZhdWx0IGFzIENyZWRpdENhcmQsXG4gIGNyb3BfZGVmYXVsdCBhcyBDcm9wLFxuICBkX2Fycm93X2xlZnRfZGVmYXVsdCBhcyBEQXJyb3dMZWZ0LFxuICBkX2Fycm93X3JpZ2h0X2RlZmF1bHQgYXMgREFycm93UmlnaHQsXG4gIGRfY2FyZXRfZGVmYXVsdCBhcyBEQ2FyZXQsXG4gIGRhdGFfYW5hbHlzaXNfZGVmYXVsdCBhcyBEYXRhQW5hbHlzaXMsXG4gIGRhdGFfYm9hcmRfZGVmYXVsdCBhcyBEYXRhQm9hcmQsXG4gIGRhdGFfbGluZV9kZWZhdWx0IGFzIERhdGFMaW5lLFxuICBkZWxldGVfZGVmYXVsdCBhcyBEZWxldGUsXG4gIGRlbGV0ZV9maWxsZWRfZGVmYXVsdCBhcyBEZWxldGVGaWxsZWQsXG4gIGRlbGV0ZV9sb2NhdGlvbl9kZWZhdWx0IGFzIERlbGV0ZUxvY2F0aW9uLFxuICBkZXNzZXJ0X2RlZmF1bHQgYXMgRGVzc2VydCxcbiAgZGlzY291bnRfZGVmYXVsdCBhcyBEaXNjb3VudCxcbiAgZGlzaF9kZWZhdWx0IGFzIERpc2gsXG4gIGRpc2hfZG90X2RlZmF1bHQgYXMgRGlzaERvdCxcbiAgZG9jdW1lbnRfZGVmYXVsdCBhcyBEb2N1bWVudCxcbiAgZG9jdW1lbnRfYWRkX2RlZmF1bHQgYXMgRG9jdW1lbnRBZGQsXG4gIGRvY3VtZW50X2NoZWNrZWRfZGVmYXVsdCBhcyBEb2N1bWVudENoZWNrZWQsXG4gIGRvY3VtZW50X2NvcHlfZGVmYXVsdCBhcyBEb2N1bWVudENvcHksXG4gIGRvY3VtZW50X2RlbGV0ZV9kZWZhdWx0IGFzIERvY3VtZW50RGVsZXRlLFxuICBkb2N1bWVudF9yZW1vdmVfZGVmYXVsdCBhcyBEb2N1bWVudFJlbW92ZSxcbiAgZG93bmxvYWRfZGVmYXVsdCBhcyBEb3dubG9hZCxcbiAgZHJpenpsaW5nX2RlZmF1bHQgYXMgRHJpenpsaW5nLFxuICBlZGl0X2RlZmF1bHQgYXMgRWRpdCxcbiAgZWRpdF9wZW5fZGVmYXVsdCBhcyBFZGl0UGVuLFxuICBlbGVtZV9kZWZhdWx0IGFzIEVsZW1lLFxuICBlbGVtZV9maWxsZWRfZGVmYXVsdCBhcyBFbGVtZUZpbGxlZCxcbiAgZWxlbWVudF9wbHVzX2RlZmF1bHQgYXMgRWxlbWVudFBsdXMsXG4gIGV4cGFuZF9kZWZhdWx0IGFzIEV4cGFuZCxcbiAgZmFpbGVkX2RlZmF1bHQgYXMgRmFpbGVkLFxuICBmZW1hbGVfZGVmYXVsdCBhcyBGZW1hbGUsXG4gIGZpbGVzX2RlZmF1bHQgYXMgRmlsZXMsXG4gIGZpbG1fZGVmYXVsdCBhcyBGaWxtLFxuICBmaWx0ZXJfZGVmYXVsdCBhcyBGaWx0ZXIsXG4gIGZpbmlzaGVkX2RlZmF1bHQgYXMgRmluaXNoZWQsXG4gIGZpcnN0X2FpZF9raXRfZGVmYXVsdCBhcyBGaXJzdEFpZEtpdCxcbiAgZmxhZ19kZWZhdWx0IGFzIEZsYWcsXG4gIGZvbGRfZGVmYXVsdCBhcyBGb2xkLFxuICBmb2xkZXJfZGVmYXVsdCBhcyBGb2xkZXIsXG4gIGZvbGRlcl9hZGRfZGVmYXVsdCBhcyBGb2xkZXJBZGQsXG4gIGZvbGRlcl9jaGVja2VkX2RlZmF1bHQgYXMgRm9sZGVyQ2hlY2tlZCxcbiAgZm9sZGVyX2RlbGV0ZV9kZWZhdWx0IGFzIEZvbGRlckRlbGV0ZSxcbiAgZm9sZGVyX29wZW5lZF9kZWZhdWx0IGFzIEZvbGRlck9wZW5lZCxcbiAgZm9sZGVyX3JlbW92ZV9kZWZhdWx0IGFzIEZvbGRlclJlbW92ZSxcbiAgZm9vZF9kZWZhdWx0IGFzIEZvb2QsXG4gIGZvb3RiYWxsX2RlZmF1bHQgYXMgRm9vdGJhbGwsXG4gIGZvcmtfc3Bvb25fZGVmYXVsdCBhcyBGb3JrU3Bvb24sXG4gIGZyaWVzX2RlZmF1bHQgYXMgRnJpZXMsXG4gIGZ1bGxfc2NyZWVuX2RlZmF1bHQgYXMgRnVsbFNjcmVlbixcbiAgZ29ibGV0X2RlZmF1bHQgYXMgR29ibGV0LFxuICBnb2JsZXRfZnVsbF9kZWZhdWx0IGFzIEdvYmxldEZ1bGwsXG4gIGdvYmxldF9zcXVhcmVfZGVmYXVsdCBhcyBHb2JsZXRTcXVhcmUsXG4gIGdvYmxldF9zcXVhcmVfZnVsbF9kZWZhdWx0IGFzIEdvYmxldFNxdWFyZUZ1bGwsXG4gIGdvbGRfbWVkYWxfZGVmYXVsdCBhcyBHb2xkTWVkYWwsXG4gIGdvb2RzX2RlZmF1bHQgYXMgR29vZHMsXG4gIGdvb2RzX2ZpbGxlZF9kZWZhdWx0IGFzIEdvb2RzRmlsbGVkLFxuICBncmFwZV9kZWZhdWx0IGFzIEdyYXBlLFxuICBncmlkX2RlZmF1bHQgYXMgR3JpZCxcbiAgZ3VpZGVfZGVmYXVsdCBhcyBHdWlkZSxcbiAgaGFuZGJhZ19kZWZhdWx0IGFzIEhhbmRiYWcsXG4gIGhlYWRzZXRfZGVmYXVsdCBhcyBIZWFkc2V0LFxuICBoZWxwX2RlZmF1bHQgYXMgSGVscCxcbiAgaGVscF9maWxsZWRfZGVmYXVsdCBhcyBIZWxwRmlsbGVkLFxuICBoaWRlX2RlZmF1bHQgYXMgSGlkZSxcbiAgaGlzdG9ncmFtX2RlZmF1bHQgYXMgSGlzdG9ncmFtLFxuICBob21lX2ZpbGxlZF9kZWZhdWx0IGFzIEhvbWVGaWxsZWQsXG4gIGhvdF93YXRlcl9kZWZhdWx0IGFzIEhvdFdhdGVyLFxuICBob3VzZV9kZWZhdWx0IGFzIEhvdXNlLFxuICBpY2VfY3JlYW1fZGVmYXVsdCBhcyBJY2VDcmVhbSxcbiAgaWNlX2NyZWFtX3JvdW5kX2RlZmF1bHQgYXMgSWNlQ3JlYW1Sb3VuZCxcbiAgaWNlX2NyZWFtX3NxdWFyZV9kZWZhdWx0IGFzIEljZUNyZWFtU3F1YXJlLFxuICBpY2VfZHJpbmtfZGVmYXVsdCBhcyBJY2VEcmluayxcbiAgaWNlX3RlYV9kZWZhdWx0IGFzIEljZVRlYSxcbiAgaW5mb19maWxsZWRfZGVmYXVsdCBhcyBJbmZvRmlsbGVkLFxuICBpcGhvbmVfZGVmYXVsdCBhcyBJcGhvbmUsXG4gIGtleV9kZWZhdWx0IGFzIEtleSxcbiAga25pZmVfZm9ya19kZWZhdWx0IGFzIEtuaWZlRm9yayxcbiAgbGlnaHRuaW5nX2RlZmF1bHQgYXMgTGlnaHRuaW5nLFxuICBsaW5rX2RlZmF1bHQgYXMgTGluayxcbiAgbGlzdF9kZWZhdWx0IGFzIExpc3QsXG4gIGxvYWRpbmdfZGVmYXVsdCBhcyBMb2FkaW5nLFxuICBsb2NhdGlvbl9kZWZhdWx0IGFzIExvY2F0aW9uLFxuICBsb2NhdGlvbl9maWxsZWRfZGVmYXVsdCBhcyBMb2NhdGlvbkZpbGxlZCxcbiAgbG9jYXRpb25faW5mb3JtYXRpb25fZGVmYXVsdCBhcyBMb2NhdGlvbkluZm9ybWF0aW9uLFxuICBsb2NrX2RlZmF1bHQgYXMgTG9jayxcbiAgbG9sbGlwb3BfZGVmYXVsdCBhcyBMb2xsaXBvcCxcbiAgbWFnaWNfc3RpY2tfZGVmYXVsdCBhcyBNYWdpY1N0aWNrLFxuICBtYWduZXRfZGVmYXVsdCBhcyBNYWduZXQsXG4gIG1hbGVfZGVmYXVsdCBhcyBNYWxlLFxuICBtYW5hZ2VtZW50X2RlZmF1bHQgYXMgTWFuYWdlbWVudCxcbiAgbWFwX2xvY2F0aW9uX2RlZmF1bHQgYXMgTWFwTG9jYXRpb24sXG4gIG1lZGFsX2RlZmF1bHQgYXMgTWVkYWwsXG4gIG1lbW9fZGVmYXVsdCBhcyBNZW1vLFxuICBtZW51X2RlZmF1bHQgYXMgTWVudSxcbiAgbWVzc2FnZV9kZWZhdWx0IGFzIE1lc3NhZ2UsXG4gIG1lc3NhZ2VfYm94X2RlZmF1bHQgYXMgTWVzc2FnZUJveCxcbiAgbWljX2RlZmF1bHQgYXMgTWljLFxuICBtaWNyb3Bob25lX2RlZmF1bHQgYXMgTWljcm9waG9uZSxcbiAgbWlsa190ZWFfZGVmYXVsdCBhcyBNaWxrVGVhLFxuICBtaW51c19kZWZhdWx0IGFzIE1pbnVzLFxuICBtb25leV9kZWZhdWx0IGFzIE1vbmV5LFxuICBtb25pdG9yX2RlZmF1bHQgYXMgTW9uaXRvcixcbiAgbW9vbl9kZWZhdWx0IGFzIE1vb24sXG4gIG1vb25fbmlnaHRfZGVmYXVsdCBhcyBNb29uTmlnaHQsXG4gIG1vcmVfZGVmYXVsdCBhcyBNb3JlLFxuICBtb3JlX2ZpbGxlZF9kZWZhdWx0IGFzIE1vcmVGaWxsZWQsXG4gIG1vc3RseV9jbG91ZHlfZGVmYXVsdCBhcyBNb3N0bHlDbG91ZHksXG4gIG1vdXNlX2RlZmF1bHQgYXMgTW91c2UsXG4gIG11Z19kZWZhdWx0IGFzIE11ZyxcbiAgbXV0ZV9kZWZhdWx0IGFzIE11dGUsXG4gIG11dGVfbm90aWZpY2F0aW9uX2RlZmF1bHQgYXMgTXV0ZU5vdGlmaWNhdGlvbixcbiAgbm9fc21va2luZ19kZWZhdWx0IGFzIE5vU21va2luZyxcbiAgbm90ZWJvb2tfZGVmYXVsdCBhcyBOb3RlYm9vayxcbiAgbm90aWZpY2F0aW9uX2RlZmF1bHQgYXMgTm90aWZpY2F0aW9uLFxuICBvZG9tZXRlcl9kZWZhdWx0IGFzIE9kb21ldGVyLFxuICBvZmZpY2VfYnVpbGRpbmdfZGVmYXVsdCBhcyBPZmZpY2VCdWlsZGluZyxcbiAgb3Blbl9kZWZhdWx0IGFzIE9wZW4sXG4gIG9wZXJhdGlvbl9kZWZhdWx0IGFzIE9wZXJhdGlvbixcbiAgb3Bwb3J0dW5pdHlfZGVmYXVsdCBhcyBPcHBvcnR1bml0eSxcbiAgb3JhbmdlX2RlZmF1bHQgYXMgT3JhbmdlLFxuICBwYXBlcmNsaXBfZGVmYXVsdCBhcyBQYXBlcmNsaXAsXG4gIHBhcnRseV9jbG91ZHlfZGVmYXVsdCBhcyBQYXJ0bHlDbG91ZHksXG4gIHBlYXJfZGVmYXVsdCBhcyBQZWFyLFxuICBwaG9uZV9kZWZhdWx0IGFzIFBob25lLFxuICBwaG9uZV9maWxsZWRfZGVmYXVsdCBhcyBQaG9uZUZpbGxlZCxcbiAgcGljdHVyZV9kZWZhdWx0IGFzIFBpY3R1cmUsXG4gIHBpY3R1cmVfZmlsbGVkX2RlZmF1bHQgYXMgUGljdHVyZUZpbGxlZCxcbiAgcGljdHVyZV9yb3VuZGVkX2RlZmF1bHQgYXMgUGljdHVyZVJvdW5kZWQsXG4gIHBpZV9jaGFydF9kZWZhdWx0IGFzIFBpZUNoYXJ0LFxuICBwbGFjZV9kZWZhdWx0IGFzIFBsYWNlLFxuICBwbGF0Zm9ybV9kZWZhdWx0IGFzIFBsYXRmb3JtLFxuICBwbHVzX2RlZmF1bHQgYXMgUGx1cyxcbiAgcG9pbnRlcl9kZWZhdWx0IGFzIFBvaW50ZXIsXG4gIHBvc2l0aW9uX2RlZmF1bHQgYXMgUG9zaXRpb24sXG4gIHBvc3RjYXJkX2RlZmF1bHQgYXMgUG9zdGNhcmQsXG4gIHBvdXJpbmdfZGVmYXVsdCBhcyBQb3VyaW5nLFxuICBwcmVzZW50X2RlZmF1bHQgYXMgUHJlc2VudCxcbiAgcHJpY2VfdGFnX2RlZmF1bHQgYXMgUHJpY2VUYWcsXG4gIHByaW50ZXJfZGVmYXVsdCBhcyBQcmludGVyLFxuICBwcm9tb3Rpb25fZGVmYXVsdCBhcyBQcm9tb3Rpb24sXG4gIHF1YXJ0el93YXRjaF9kZWZhdWx0IGFzIFF1YXJ0eldhdGNoLFxuICBxdWVzdGlvbl9maWxsZWRfZGVmYXVsdCBhcyBRdWVzdGlvbkZpbGxlZCxcbiAgcmFua19kZWZhdWx0IGFzIFJhbmssXG4gIHJlYWRpbmdfZGVmYXVsdCBhcyBSZWFkaW5nLFxuICByZWFkaW5nX2xhbXBfZGVmYXVsdCBhcyBSZWFkaW5nTGFtcCxcbiAgcmVmcmVzaF9kZWZhdWx0IGFzIFJlZnJlc2gsXG4gIHJlZnJlc2hfbGVmdF9kZWZhdWx0IGFzIFJlZnJlc2hMZWZ0LFxuICByZWZyZXNoX3JpZ2h0X2RlZmF1bHQgYXMgUmVmcmVzaFJpZ2h0LFxuICByZWZyaWdlcmF0b3JfZGVmYXVsdCBhcyBSZWZyaWdlcmF0b3IsXG4gIHJlbW92ZV9kZWZhdWx0IGFzIFJlbW92ZSxcbiAgcmVtb3ZlX2ZpbGxlZF9kZWZhdWx0IGFzIFJlbW92ZUZpbGxlZCxcbiAgcmlnaHRfZGVmYXVsdCBhcyBSaWdodCxcbiAgc2NhbGVfdG9fb3JpZ2luYWxfZGVmYXVsdCBhcyBTY2FsZVRvT3JpZ2luYWwsXG4gIHNjaG9vbF9kZWZhdWx0IGFzIFNjaG9vbCxcbiAgc2Npc3Nvcl9kZWZhdWx0IGFzIFNjaXNzb3IsXG4gIHNlYXJjaF9kZWZhdWx0IGFzIFNlYXJjaCxcbiAgc2VsZWN0X2RlZmF1bHQgYXMgU2VsZWN0LFxuICBzZWxsX2RlZmF1bHQgYXMgU2VsbCxcbiAgc2VtaV9zZWxlY3RfZGVmYXVsdCBhcyBTZW1pU2VsZWN0LFxuICBzZXJ2aWNlX2RlZmF1bHQgYXMgU2VydmljZSxcbiAgc2V0X3VwX2RlZmF1bHQgYXMgU2V0VXAsXG4gIHNldHRpbmdfZGVmYXVsdCBhcyBTZXR0aW5nLFxuICBzaGFyZV9kZWZhdWx0IGFzIFNoYXJlLFxuICBzaGlwX2RlZmF1bHQgYXMgU2hpcCxcbiAgc2hvcF9kZWZhdWx0IGFzIFNob3AsXG4gIHNob3BwaW5nX2JhZ19kZWZhdWx0IGFzIFNob3BwaW5nQmFnLFxuICBzaG9wcGluZ19jYXJ0X2RlZmF1bHQgYXMgU2hvcHBpbmdDYXJ0LFxuICBzaG9wcGluZ19jYXJ0X2Z1bGxfZGVmYXVsdCBhcyBTaG9wcGluZ0NhcnRGdWxsLFxuICBzaG9wcGluZ190cm9sbGV5X2RlZmF1bHQgYXMgU2hvcHBpbmdUcm9sbGV5LFxuICBzbW9raW5nX2RlZmF1bHQgYXMgU21va2luZyxcbiAgc29jY2VyX2RlZmF1bHQgYXMgU29jY2VyLFxuICBzb2xkX291dF9kZWZhdWx0IGFzIFNvbGRPdXQsXG4gIHNvcnRfZGVmYXVsdCBhcyBTb3J0LFxuICBzb3J0X2Rvd25fZGVmYXVsdCBhcyBTb3J0RG93bixcbiAgc29ydF91cF9kZWZhdWx0IGFzIFNvcnRVcCxcbiAgc3RhbXBfZGVmYXVsdCBhcyBTdGFtcCxcbiAgc3Rhcl9kZWZhdWx0IGFzIFN0YXIsXG4gIHN0YXJfZmlsbGVkX2RlZmF1bHQgYXMgU3RhckZpbGxlZCxcbiAgc3RvcHdhdGNoX2RlZmF1bHQgYXMgU3RvcHdhdGNoLFxuICBzdWNjZXNzX2ZpbGxlZF9kZWZhdWx0IGFzIFN1Y2Nlc3NGaWxsZWQsXG4gIHN1Z2FyX2RlZmF1bHQgYXMgU3VnYXIsXG4gIHN1aXRjYXNlX2RlZmF1bHQgYXMgU3VpdGNhc2UsXG4gIHN1aXRjYXNlX2xpbmVfZGVmYXVsdCBhcyBTdWl0Y2FzZUxpbmUsXG4gIHN1bm55X2RlZmF1bHQgYXMgU3VubnksXG4gIHN1bnJpc2VfZGVmYXVsdCBhcyBTdW5yaXNlLFxuICBzdW5zZXRfZGVmYXVsdCBhcyBTdW5zZXQsXG4gIHN3aXRjaF9kZWZhdWx0IGFzIFN3aXRjaCxcbiAgc3dpdGNoX2J1dHRvbl9kZWZhdWx0IGFzIFN3aXRjaEJ1dHRvbixcbiAgc3dpdGNoX2ZpbGxlZF9kZWZhdWx0IGFzIFN3aXRjaEZpbGxlZCxcbiAgdGFrZWF3YXlfYm94X2RlZmF1bHQgYXMgVGFrZWF3YXlCb3gsXG4gIHRpY2tldF9kZWZhdWx0IGFzIFRpY2tldCxcbiAgdGlja2V0c19kZWZhdWx0IGFzIFRpY2tldHMsXG4gIHRpbWVyX2RlZmF1bHQgYXMgVGltZXIsXG4gIHRvaWxldF9wYXBlcl9kZWZhdWx0IGFzIFRvaWxldFBhcGVyLFxuICB0b29sc19kZWZhdWx0IGFzIFRvb2xzLFxuICB0b3BfZGVmYXVsdCBhcyBUb3AsXG4gIHRvcF9sZWZ0X2RlZmF1bHQgYXMgVG9wTGVmdCxcbiAgdG9wX3JpZ2h0X2RlZmF1bHQgYXMgVG9wUmlnaHQsXG4gIHRyZW5kX2NoYXJ0c19kZWZhdWx0IGFzIFRyZW5kQ2hhcnRzLFxuICB0cm9waHlfZGVmYXVsdCBhcyBUcm9waHksXG4gIHRyb3BoeV9iYXNlX2RlZmF1bHQgYXMgVHJvcGh5QmFzZSxcbiAgdHVybl9vZmZfZGVmYXVsdCBhcyBUdXJuT2ZmLFxuICB1bWJyZWxsYV9kZWZhdWx0IGFzIFVtYnJlbGxhLFxuICB1bmxvY2tfZGVmYXVsdCBhcyBVbmxvY2ssXG4gIHVwbG9hZF9kZWZhdWx0IGFzIFVwbG9hZCxcbiAgdXBsb2FkX2ZpbGxlZF9kZWZhdWx0IGFzIFVwbG9hZEZpbGxlZCxcbiAgdXNlcl9kZWZhdWx0IGFzIFVzZXIsXG4gIHVzZXJfZmlsbGVkX2RlZmF1bHQgYXMgVXNlckZpbGxlZCxcbiAgdmFuX2RlZmF1bHQgYXMgVmFuLFxuICB2aWRlb19jYW1lcmFfZGVmYXVsdCBhcyBWaWRlb0NhbWVyYSxcbiAgdmlkZW9fY2FtZXJhX2ZpbGxlZF9kZWZhdWx0IGFzIFZpZGVvQ2FtZXJhRmlsbGVkLFxuICB2aWRlb19wYXVzZV9kZWZhdWx0IGFzIFZpZGVvUGF1c2UsXG4gIHZpZGVvX3BsYXlfZGVmYXVsdCBhcyBWaWRlb1BsYXksXG4gIHZpZXdfZGVmYXVsdCBhcyBWaWV3LFxuICB3YWxsZXRfZGVmYXVsdCBhcyBXYWxsZXQsXG4gIHdhbGxldF9maWxsZWRfZGVmYXVsdCBhcyBXYWxsZXRGaWxsZWQsXG4gIHdhcm5fdHJpYW5nbGVfZmlsbGVkX2RlZmF1bHQgYXMgV2FyblRyaWFuZ2xlRmlsbGVkLFxuICB3YXJuaW5nX2RlZmF1bHQgYXMgV2FybmluZyxcbiAgd2FybmluZ19maWxsZWRfZGVmYXVsdCBhcyBXYXJuaW5nRmlsbGVkLFxuICB3YXRjaF9kZWZhdWx0IGFzIFdhdGNoLFxuICB3YXRlcm1lbG9uX2RlZmF1bHQgYXMgV2F0ZXJtZWxvbixcbiAgd2luZF9wb3dlcl9kZWZhdWx0IGFzIFdpbmRQb3dlcixcbiAgem9vbV9pbl9kZWZhdWx0IGFzIFpvb21JbixcbiAgem9vbV9vdXRfZGVmYXVsdCBhcyBab29tT3V0XG59O1xuIiwiaW1wb3J0IHsgQ2xvc2UsIFN1Y2Nlc3NGaWxsZWQsIEluZm9GaWxsZWQsIFdhcm5pbmdGaWxsZWQsIENpcmNsZUNsb3NlRmlsbGVkLCBMb2FkaW5nLCBDaXJjbGVDaGVjaywgQ2lyY2xlQ2xvc2UgfSBmcm9tICdAZWxlbWVudC1wbHVzL2ljb25zLXZ1ZSc7XG5pbXBvcnQgeyBkZWZpbmVQcm9wVHlwZSB9IGZyb20gJy4vcHJvcHMvcnVudGltZS5tanMnO1xuXG5jb25zdCBpY29uUHJvcFR5cGUgPSBkZWZpbmVQcm9wVHlwZShbXG4gIFN0cmluZyxcbiAgT2JqZWN0LFxuICBGdW5jdGlvblxuXSk7XG5jb25zdCBDbG9zZUNvbXBvbmVudHMgPSB7XG4gIENsb3NlXG59O1xuY29uc3QgVHlwZUNvbXBvbmVudHMgPSB7XG4gIENsb3NlLFxuICBTdWNjZXNzRmlsbGVkLFxuICBJbmZvRmlsbGVkLFxuICBXYXJuaW5nRmlsbGVkLFxuICBDaXJjbGVDbG9zZUZpbGxlZFxufTtcbmNvbnN0IFR5cGVDb21wb25lbnRzTWFwID0ge1xuICBzdWNjZXNzOiBTdWNjZXNzRmlsbGVkLFxuICB3YXJuaW5nOiBXYXJuaW5nRmlsbGVkLFxuICBlcnJvcjogQ2lyY2xlQ2xvc2VGaWxsZWQsXG4gIGluZm86IEluZm9GaWxsZWRcbn07XG5jb25zdCBWYWxpZGF0ZUNvbXBvbmVudHNNYXAgPSB7XG4gIHZhbGlkYXRpbmc6IExvYWRpbmcsXG4gIHN1Y2Nlc3M6IENpcmNsZUNoZWNrLFxuICBlcnJvcjogQ2lyY2xlQ2xvc2Vcbn07XG5cbmV4cG9ydCB7IENsb3NlQ29tcG9uZW50cywgVHlwZUNvbXBvbmVudHMsIFR5cGVDb21wb25lbnRzTWFwLCBWYWxpZGF0ZUNvbXBvbmVudHNNYXAsIGljb25Qcm9wVHlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aWNvbi5tanMubWFwXG4iLCJpbXBvcnQgeyBwaWNrIH0gZnJvbSAnbG9kYXNoLXVuaWZpZWQnO1xuaW1wb3J0IHsgYnVpbGRQcm9wcyB9IGZyb20gJy4uLy4uL3V0aWxzL3Z1ZS9wcm9wcy9ydW50aW1lLm1qcyc7XG5cbmNvbnN0IGFyaWFQcm9wcyA9IGJ1aWxkUHJvcHMoe1xuICBhcmlhTGFiZWw6IFN0cmluZyxcbiAgYXJpYU9yaWVudGF0aW9uOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHZhbHVlczogW1wiaG9yaXpvbnRhbFwiLCBcInZlcnRpY2FsXCIsIFwidW5kZWZpbmVkXCJdXG4gIH0sXG4gIGFyaWFDb250cm9sczogU3RyaW5nXG59KTtcbmNvbnN0IHVzZUFyaWFQcm9wcyA9IChhcmlhcykgPT4ge1xuICByZXR1cm4gcGljayhhcmlhUHJvcHMsIGFyaWFzKTtcbn07XG5cbmV4cG9ydCB7IGFyaWFQcm9wcywgdXNlQXJpYVByb3BzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJjb25zdCBmb3JtQ29udGV4dEtleSA9IFN5bWJvbChcImZvcm1Db250ZXh0S2V5XCIpO1xuY29uc3QgZm9ybUl0ZW1Db250ZXh0S2V5ID0gU3ltYm9sKFwiZm9ybUl0ZW1Db250ZXh0S2V5XCIpO1xuXG5leHBvcnQgeyBmb3JtQ29udGV4dEtleSwgZm9ybUl0ZW1Db250ZXh0S2V5IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMubWpzLm1hcFxuIiwiaW1wb3J0IHsgZ2V0Q3VycmVudEluc3RhbmNlLCBpbmplY3QsIHVucmVmIH0gZnJvbSAndnVlJztcbmltcG9ydCB7IGlzQ2xpZW50LCBjb21wdXRlZEVhZ2VyIH0gZnJvbSAnQHZ1ZXVzZS9jb3JlJztcbmltcG9ydCB7IHVzZUdldERlcml2ZWROYW1lc3BhY2UgfSBmcm9tICcuLi91c2UtbmFtZXNwYWNlL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBkZWJ1Z1dhcm4gfSBmcm9tICcuLi8uLi91dGlscy9lcnJvci5tanMnO1xuXG5jb25zdCBkZWZhdWx0SWRJbmplY3Rpb24gPSB7XG4gIHByZWZpeDogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMWU0KSxcbiAgY3VycmVudDogMFxufTtcbmNvbnN0IElEX0lOSkVDVElPTl9LRVkgPSBTeW1ib2woXCJlbElkSW5qZWN0aW9uXCIpO1xuY29uc3QgdXNlSWRJbmplY3Rpb24gPSAoKSA9PiB7XG4gIHJldHVybiBnZXRDdXJyZW50SW5zdGFuY2UoKSA/IGluamVjdChJRF9JTkpFQ1RJT05fS0VZLCBkZWZhdWx0SWRJbmplY3Rpb24pIDogZGVmYXVsdElkSW5qZWN0aW9uO1xufTtcbmNvbnN0IHVzZUlkID0gKGRldGVybWluaXN0aWNJZCkgPT4ge1xuICBjb25zdCBpZEluamVjdGlvbiA9IHVzZUlkSW5qZWN0aW9uKCk7XG4gIGlmICghaXNDbGllbnQgJiYgaWRJbmplY3Rpb24gPT09IGRlZmF1bHRJZEluamVjdGlvbikge1xuICAgIGRlYnVnV2FybihcIklkSW5qZWN0aW9uXCIsIGBMb29rcyBsaWtlIHlvdSBhcmUgdXNpbmcgc2VydmVyIHJlbmRlcmluZywgeW91IG11c3QgcHJvdmlkZSBhIGlkIHByb3ZpZGVyIHRvIGVuc3VyZSB0aGUgaHlkcmF0aW9uIHByb2Nlc3MgdG8gYmUgc3VjY2VlZFxudXNhZ2U6IGFwcC5wcm92aWRlKElEX0lOSkVDVElPTl9LRVksIHtcbiAgcHJlZml4OiBudW1iZXIsXG4gIGN1cnJlbnQ6IG51bWJlcixcbn0pYCk7XG4gIH1cbiAgY29uc3QgbmFtZXNwYWNlID0gdXNlR2V0RGVyaXZlZE5hbWVzcGFjZSgpO1xuICBjb25zdCBpZFJlZiA9IGNvbXB1dGVkRWFnZXIoKCkgPT4gdW5yZWYoZGV0ZXJtaW5pc3RpY0lkKSB8fCBgJHtuYW1lc3BhY2UudmFsdWV9LWlkLSR7aWRJbmplY3Rpb24ucHJlZml4fS0ke2lkSW5qZWN0aW9uLmN1cnJlbnQrK31gKTtcbiAgcmV0dXJuIGlkUmVmO1xufTtcblxuZXhwb3J0IHsgSURfSU5KRUNUSU9OX0tFWSwgdXNlSWQsIHVzZUlkSW5qZWN0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgeyBpbmplY3QsIHJlZiwgY29tcHV0ZWQsIG9uTW91bnRlZCwgd2F0Y2gsIHRvUmVmLCBvblVubW91bnRlZCB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyBmb3JtQ29udGV4dEtleSwgZm9ybUl0ZW1Db250ZXh0S2V5IH0gZnJvbSAnLi4vY29uc3RhbnRzLm1qcyc7XG5pbXBvcnQgeyB1c2VJZCB9IGZyb20gJy4uLy4uLy4uLy4uL2hvb2tzL3VzZS1pZC9pbmRleC5tanMnO1xuXG5jb25zdCB1c2VGb3JtSXRlbSA9ICgpID0+IHtcbiAgY29uc3QgZm9ybSA9IGluamVjdChmb3JtQ29udGV4dEtleSwgdm9pZCAwKTtcbiAgY29uc3QgZm9ybUl0ZW0gPSBpbmplY3QoZm9ybUl0ZW1Db250ZXh0S2V5LCB2b2lkIDApO1xuICByZXR1cm4ge1xuICAgIGZvcm0sXG4gICAgZm9ybUl0ZW1cbiAgfTtcbn07XG5jb25zdCB1c2VGb3JtSXRlbUlucHV0SWQgPSAocHJvcHMsIHtcbiAgZm9ybUl0ZW1Db250ZXh0LFxuICBkaXNhYmxlSWRHZW5lcmF0aW9uLFxuICBkaXNhYmxlSWRNYW5hZ2VtZW50XG59KSA9PiB7XG4gIGlmICghZGlzYWJsZUlkR2VuZXJhdGlvbikge1xuICAgIGRpc2FibGVJZEdlbmVyYXRpb24gPSByZWYoZmFsc2UpO1xuICB9XG4gIGlmICghZGlzYWJsZUlkTWFuYWdlbWVudCkge1xuICAgIGRpc2FibGVJZE1hbmFnZW1lbnQgPSByZWYoZmFsc2UpO1xuICB9XG4gIGNvbnN0IGlucHV0SWQgPSByZWYoKTtcbiAgbGV0IGlkVW53YXRjaCA9IHZvaWQgMDtcbiAgY29uc3QgaXNMYWJlbGVkQnlGb3JtSXRlbSA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuICEhKCEocHJvcHMubGFiZWwgfHwgcHJvcHMuYXJpYUxhYmVsKSAmJiBmb3JtSXRlbUNvbnRleHQgJiYgZm9ybUl0ZW1Db250ZXh0LmlucHV0SWRzICYmICgoX2EgPSBmb3JtSXRlbUNvbnRleHQuaW5wdXRJZHMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5sZW5ndGgpIDw9IDEpO1xuICB9KTtcbiAgb25Nb3VudGVkKCgpID0+IHtcbiAgICBpZFVud2F0Y2ggPSB3YXRjaChbdG9SZWYocHJvcHMsIFwiaWRcIiksIGRpc2FibGVJZEdlbmVyYXRpb25dLCAoW2lkLCBkaXNhYmxlSWRHZW5lcmF0aW9uMl0pID0+IHtcbiAgICAgIGNvbnN0IG5ld0lkID0gaWQgIT0gbnVsbCA/IGlkIDogIWRpc2FibGVJZEdlbmVyYXRpb24yID8gdXNlSWQoKS52YWx1ZSA6IHZvaWQgMDtcbiAgICAgIGlmIChuZXdJZCAhPT0gaW5wdXRJZC52YWx1ZSkge1xuICAgICAgICBpZiAoZm9ybUl0ZW1Db250ZXh0ID09IG51bGwgPyB2b2lkIDAgOiBmb3JtSXRlbUNvbnRleHQucmVtb3ZlSW5wdXRJZCkge1xuICAgICAgICAgIGlucHV0SWQudmFsdWUgJiYgZm9ybUl0ZW1Db250ZXh0LnJlbW92ZUlucHV0SWQoaW5wdXRJZC52YWx1ZSk7XG4gICAgICAgICAgaWYgKCEoZGlzYWJsZUlkTWFuYWdlbWVudCA9PSBudWxsID8gdm9pZCAwIDogZGlzYWJsZUlkTWFuYWdlbWVudC52YWx1ZSkgJiYgIWRpc2FibGVJZEdlbmVyYXRpb24yICYmIG5ld0lkKSB7XG4gICAgICAgICAgICBmb3JtSXRlbUNvbnRleHQuYWRkSW5wdXRJZChuZXdJZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlucHV0SWQudmFsdWUgPSBuZXdJZDtcbiAgICAgIH1cbiAgICB9LCB7IGltbWVkaWF0ZTogdHJ1ZSB9KTtcbiAgfSk7XG4gIG9uVW5tb3VudGVkKCgpID0+IHtcbiAgICBpZFVud2F0Y2ggJiYgaWRVbndhdGNoKCk7XG4gICAgaWYgKGZvcm1JdGVtQ29udGV4dCA9PSBudWxsID8gdm9pZCAwIDogZm9ybUl0ZW1Db250ZXh0LnJlbW92ZUlucHV0SWQpIHtcbiAgICAgIGlucHV0SWQudmFsdWUgJiYgZm9ybUl0ZW1Db250ZXh0LnJlbW92ZUlucHV0SWQoaW5wdXRJZC52YWx1ZSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBpc0xhYmVsZWRCeUZvcm1JdGVtLFxuICAgIGlucHV0SWRcbiAgfTtcbn07XG5cbmV4cG9ydCB7IHVzZUZvcm1JdGVtLCB1c2VGb3JtSXRlbUlucHV0SWQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVzZS1mb3JtLWl0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgZ2V0Q3VycmVudEluc3RhbmNlLCBjb21wdXRlZCB9IGZyb20gJ3Z1ZSc7XG5cbmNvbnN0IHVzZVByb3AgPSAobmFtZSkgPT4ge1xuICBjb25zdCB2bSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4ge1xuICAgIHZhciBfYSwgX2I7XG4gICAgcmV0dXJuIChfYiA9IChfYSA9IHZtID09IG51bGwgPyB2b2lkIDAgOiB2bS5wcm94eSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLiRwcm9wcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iW25hbWVdO1xuICB9KTtcbn07XG5cbmV4cG9ydCB7IHVzZVByb3AgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiIsImltcG9ydCB7IGNvbXB1dGVkLCB1bnJlZiwgcmVmLCBpbmplY3QgfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgZm9ybUNvbnRleHRLZXksIGZvcm1JdGVtQ29udGV4dEtleSB9IGZyb20gJy4uL2NvbnN0YW50cy5tanMnO1xuaW1wb3J0IHsgdXNlUHJvcCB9IGZyb20gJy4uLy4uLy4uLy4uL2hvb2tzL3VzZS1wcm9wL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyB1c2VHbG9iYWxTaXplIH0gZnJvbSAnLi4vLi4vLi4vLi4vaG9va3MvdXNlLXNpemUvaW5kZXgubWpzJztcblxuY29uc3QgdXNlRm9ybVNpemUgPSAoZmFsbGJhY2ssIGlnbm9yZSA9IHt9KSA9PiB7XG4gIGNvbnN0IGVtcHR5UmVmID0gcmVmKHZvaWQgMCk7XG4gIGNvbnN0IHNpemUgPSBpZ25vcmUucHJvcCA/IGVtcHR5UmVmIDogdXNlUHJvcChcInNpemVcIik7XG4gIGNvbnN0IGdsb2JhbENvbmZpZyA9IGlnbm9yZS5nbG9iYWwgPyBlbXB0eVJlZiA6IHVzZUdsb2JhbFNpemUoKTtcbiAgY29uc3QgZm9ybSA9IGlnbm9yZS5mb3JtID8geyBzaXplOiB2b2lkIDAgfSA6IGluamVjdChmb3JtQ29udGV4dEtleSwgdm9pZCAwKTtcbiAgY29uc3QgZm9ybUl0ZW0gPSBpZ25vcmUuZm9ybUl0ZW0gPyB7IHNpemU6IHZvaWQgMCB9IDogaW5qZWN0KGZvcm1JdGVtQ29udGV4dEtleSwgdm9pZCAwKTtcbiAgcmV0dXJuIGNvbXB1dGVkKCgpID0+IHNpemUudmFsdWUgfHwgdW5yZWYoZmFsbGJhY2spIHx8IChmb3JtSXRlbSA9PSBudWxsID8gdm9pZCAwIDogZm9ybUl0ZW0uc2l6ZSkgfHwgKGZvcm0gPT0gbnVsbCA/IHZvaWQgMCA6IGZvcm0uc2l6ZSkgfHwgZ2xvYmFsQ29uZmlnLnZhbHVlIHx8IFwiXCIpO1xufTtcbmNvbnN0IHVzZUZvcm1EaXNhYmxlZCA9IChmYWxsYmFjaykgPT4ge1xuICBjb25zdCBkaXNhYmxlZCA9IHVzZVByb3AoXCJkaXNhYmxlZFwiKTtcbiAgY29uc3QgZm9ybSA9IGluamVjdChmb3JtQ29udGV4dEtleSwgdm9pZCAwKTtcbiAgcmV0dXJuIGNvbXB1dGVkKCgpID0+IGRpc2FibGVkLnZhbHVlIHx8IHVucmVmKGZhbGxiYWNrKSB8fCAoZm9ybSA9PSBudWxsID8gdm9pZCAwIDogZm9ybS5kaXNhYmxlZCkgfHwgZmFsc2UpO1xufTtcbmNvbnN0IHVzZVNpemUgPSB1c2VGb3JtU2l6ZTtcbmNvbnN0IHVzZURpc2FibGVkID0gdXNlRm9ybURpc2FibGVkO1xuXG5leHBvcnQgeyB1c2VEaXNhYmxlZCwgdXNlRm9ybURpc2FibGVkLCB1c2VGb3JtU2l6ZSwgdXNlU2l6ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXNlLWZvcm0tY29tbW9uLXByb3BzLm1qcy5tYXBcbiIsImNvbnN0IGJ1dHRvbkdyb3VwQ29udGV4dEtleSA9IFN5bWJvbChcImJ1dHRvbkdyb3VwQ29udGV4dEtleVwiKTtcblxuZXhwb3J0IHsgYnV0dG9uR3JvdXBDb250ZXh0S2V5IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMubWpzLm1hcFxuIiwiaW1wb3J0IHsgd2F0Y2gsIHVucmVmIH0gZnJvbSAndnVlJztcbmltcG9ydCB7IGRlYnVnV2FybiB9IGZyb20gJy4uLy4uL3V0aWxzL2Vycm9yLm1qcyc7XG5cbmNvbnN0IHVzZURlcHJlY2F0ZWQgPSAoeyBmcm9tLCByZXBsYWNlbWVudCwgc2NvcGUsIHZlcnNpb24sIHJlZiwgdHlwZSA9IFwiQVBJXCIgfSwgY29uZGl0aW9uKSA9PiB7XG4gIHdhdGNoKCgpID0+IHVucmVmKGNvbmRpdGlvbiksICh2YWwpID0+IHtcbiAgICBpZiAodmFsKSB7XG4gICAgICBkZWJ1Z1dhcm4oc2NvcGUsIGBbJHt0eXBlfV0gJHtmcm9tfSBpcyBhYm91dCB0byBiZSBkZXByZWNhdGVkIGluIHZlcnNpb24gJHt2ZXJzaW9ufSwgcGxlYXNlIHVzZSAke3JlcGxhY2VtZW50fSBpbnN0ZWFkLlxuRm9yIG1vcmUgZGV0YWlsLCBwbGVhc2UgdmlzaXQ6ICR7cmVmfVxuYCk7XG4gICAgfVxuICB9LCB7XG4gICAgaW1tZWRpYXRlOiB0cnVlXG4gIH0pO1xufTtcblxuZXhwb3J0IHsgdXNlRGVwcmVjYXRlZCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiaW1wb3J0IHsgY29tcHV0ZWQsIGluamVjdCwgcmVmLCB1c2VTbG90cywgVGV4dCB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyBidXR0b25Hcm91cENvbnRleHRLZXkgfSBmcm9tICcuL2NvbnN0YW50cy5tanMnO1xuaW1wb3J0IHsgdXNlRGVwcmVjYXRlZCB9IGZyb20gJy4uLy4uLy4uL2hvb2tzL3VzZS1kZXByZWNhdGVkL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyB1c2VHbG9iYWxDb25maWcgfSBmcm9tICcuLi8uLi9jb25maWctcHJvdmlkZXIvc3JjL2hvb2tzL3VzZS1nbG9iYWwtY29uZmlnLm1qcyc7XG5pbXBvcnQgeyB1c2VGb3JtSXRlbSB9IGZyb20gJy4uLy4uL2Zvcm0vc3JjL2hvb2tzL3VzZS1mb3JtLWl0ZW0ubWpzJztcbmltcG9ydCB7IHVzZUZvcm1TaXplLCB1c2VGb3JtRGlzYWJsZWQgfSBmcm9tICcuLi8uLi9mb3JtL3NyYy9ob29rcy91c2UtZm9ybS1jb21tb24tcHJvcHMubWpzJztcblxuY29uc3QgdXNlQnV0dG9uID0gKHByb3BzLCBlbWl0KSA9PiB7XG4gIHVzZURlcHJlY2F0ZWQoe1xuICAgIGZyb206IFwidHlwZS50ZXh0XCIsXG4gICAgcmVwbGFjZW1lbnQ6IFwibGlua1wiLFxuICAgIHZlcnNpb246IFwiMy4wLjBcIixcbiAgICBzY29wZTogXCJwcm9wc1wiLFxuICAgIHJlZjogXCJodHRwczovL2VsZW1lbnQtcGx1cy5vcmcvZW4tVVMvY29tcG9uZW50L2J1dHRvbi5odG1sI2J1dHRvbi1hdHRyaWJ1dGVzXCJcbiAgfSwgY29tcHV0ZWQoKCkgPT4gcHJvcHMudHlwZSA9PT0gXCJ0ZXh0XCIpKTtcbiAgY29uc3QgYnV0dG9uR3JvdXBDb250ZXh0ID0gaW5qZWN0KGJ1dHRvbkdyb3VwQ29udGV4dEtleSwgdm9pZCAwKTtcbiAgY29uc3QgZ2xvYmFsQ29uZmlnID0gdXNlR2xvYmFsQ29uZmlnKFwiYnV0dG9uXCIpO1xuICBjb25zdCB7IGZvcm0gfSA9IHVzZUZvcm1JdGVtKCk7XG4gIGNvbnN0IF9zaXplID0gdXNlRm9ybVNpemUoY29tcHV0ZWQoKCkgPT4gYnV0dG9uR3JvdXBDb250ZXh0ID09IG51bGwgPyB2b2lkIDAgOiBidXR0b25Hcm91cENvbnRleHQuc2l6ZSkpO1xuICBjb25zdCBfZGlzYWJsZWQgPSB1c2VGb3JtRGlzYWJsZWQoKTtcbiAgY29uc3QgX3JlZiA9IHJlZigpO1xuICBjb25zdCBzbG90cyA9IHVzZVNsb3RzKCk7XG4gIGNvbnN0IF90eXBlID0gY29tcHV0ZWQoKCkgPT4gcHJvcHMudHlwZSB8fCAoYnV0dG9uR3JvdXBDb250ZXh0ID09IG51bGwgPyB2b2lkIDAgOiBidXR0b25Hcm91cENvbnRleHQudHlwZSkgfHwgXCJcIik7XG4gIGNvbnN0IGF1dG9JbnNlcnRTcGFjZSA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICByZXR1cm4gKF9jID0gKF9iID0gcHJvcHMuYXV0b0luc2VydFNwYWNlKSAhPSBudWxsID8gX2IgOiAoX2EgPSBnbG9iYWxDb25maWcudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5hdXRvSW5zZXJ0U3BhY2UpICE9IG51bGwgPyBfYyA6IGZhbHNlO1xuICB9KTtcbiAgY29uc3QgX3Byb3BzID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIGlmIChwcm9wcy50YWcgPT09IFwiYnV0dG9uXCIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFyaWFEaXNhYmxlZDogX2Rpc2FibGVkLnZhbHVlIHx8IHByb3BzLmxvYWRpbmcsXG4gICAgICAgIGRpc2FibGVkOiBfZGlzYWJsZWQudmFsdWUgfHwgcHJvcHMubG9hZGluZyxcbiAgICAgICAgYXV0b2ZvY3VzOiBwcm9wcy5hdXRvZm9jdXMsXG4gICAgICAgIHR5cGU6IHByb3BzLm5hdGl2ZVR5cGVcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7fTtcbiAgfSk7XG4gIGNvbnN0IHNob3VsZEFkZFNwYWNlID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBkZWZhdWx0U2xvdCA9IChfYSA9IHNsb3RzLmRlZmF1bHQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKHNsb3RzKTtcbiAgICBpZiAoYXV0b0luc2VydFNwYWNlLnZhbHVlICYmIChkZWZhdWx0U2xvdCA9PSBudWxsID8gdm9pZCAwIDogZGVmYXVsdFNsb3QubGVuZ3RoKSA9PT0gMSkge1xuICAgICAgY29uc3Qgc2xvdCA9IGRlZmF1bHRTbG90WzBdO1xuICAgICAgaWYgKChzbG90ID09IG51bGwgPyB2b2lkIDAgOiBzbG90LnR5cGUpID09PSBUZXh0KSB7XG4gICAgICAgIGNvbnN0IHRleHQgPSBzbG90LmNoaWxkcmVuO1xuICAgICAgICByZXR1cm4gL15cXHB7VW5pZmllZF9JZGVvZ3JhcGh9ezJ9JC91LnRlc3QodGV4dC50cmltKCkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pO1xuICBjb25zdCBoYW5kbGVDbGljayA9IChldnQpID0+IHtcbiAgICBpZiAoX2Rpc2FibGVkLnZhbHVlIHx8IHByb3BzLmxvYWRpbmcpIHtcbiAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHByb3BzLm5hdGl2ZVR5cGUgPT09IFwicmVzZXRcIikge1xuICAgICAgZm9ybSA9PSBudWxsID8gdm9pZCAwIDogZm9ybS5yZXNldEZpZWxkcygpO1xuICAgIH1cbiAgICBlbWl0KFwiY2xpY2tcIiwgZXZ0KTtcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBfZGlzYWJsZWQsXG4gICAgX3NpemUsXG4gICAgX3R5cGUsXG4gICAgX3JlZixcbiAgICBfcHJvcHMsXG4gICAgc2hvdWxkQWRkU3BhY2UsXG4gICAgaGFuZGxlQ2xpY2tcbiAgfTtcbn07XG5cbmV4cG9ydCB7IHVzZUJ1dHRvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXNlLWJ1dHRvbi5tanMubWFwXG4iLCJpbXBvcnQgeyBMb2FkaW5nIH0gZnJvbSAnQGVsZW1lbnQtcGx1cy9pY29ucy12dWUnO1xuaW1wb3J0IHsgYnVpbGRQcm9wcywgZGVmaW5lUHJvcFR5cGUgfSBmcm9tICcuLi8uLi8uLi91dGlscy92dWUvcHJvcHMvcnVudGltZS5tanMnO1xuaW1wb3J0IHsgdXNlU2l6ZVByb3AgfSBmcm9tICcuLi8uLi8uLi9ob29rcy91c2Utc2l6ZS9pbmRleC5tanMnO1xuaW1wb3J0IHsgaWNvblByb3BUeXBlIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdnVlL2ljb24ubWpzJztcblxuY29uc3QgYnV0dG9uVHlwZXMgPSBbXG4gIFwiZGVmYXVsdFwiLFxuICBcInByaW1hcnlcIixcbiAgXCJzdWNjZXNzXCIsXG4gIFwid2FybmluZ1wiLFxuICBcImluZm9cIixcbiAgXCJkYW5nZXJcIixcbiAgXCJ0ZXh0XCIsXG4gIFwiXCJcbl07XG5jb25zdCBidXR0b25OYXRpdmVUeXBlcyA9IFtcImJ1dHRvblwiLCBcInN1Ym1pdFwiLCBcInJlc2V0XCJdO1xuY29uc3QgYnV0dG9uUHJvcHMgPSBidWlsZFByb3BzKHtcbiAgc2l6ZTogdXNlU2l6ZVByb3AsXG4gIGRpc2FibGVkOiBCb29sZWFuLFxuICB0eXBlOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHZhbHVlczogYnV0dG9uVHlwZXMsXG4gICAgZGVmYXVsdDogXCJcIlxuICB9LFxuICBpY29uOiB7XG4gICAgdHlwZTogaWNvblByb3BUeXBlXG4gIH0sXG4gIG5hdGl2ZVR5cGU6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgdmFsdWVzOiBidXR0b25OYXRpdmVUeXBlcyxcbiAgICBkZWZhdWx0OiBcImJ1dHRvblwiXG4gIH0sXG4gIGxvYWRpbmc6IEJvb2xlYW4sXG4gIGxvYWRpbmdJY29uOiB7XG4gICAgdHlwZTogaWNvblByb3BUeXBlLFxuICAgIGRlZmF1bHQ6ICgpID0+IExvYWRpbmdcbiAgfSxcbiAgcGxhaW46IEJvb2xlYW4sXG4gIHRleHQ6IEJvb2xlYW4sXG4gIGxpbms6IEJvb2xlYW4sXG4gIGJnOiBCb29sZWFuLFxuICBhdXRvZm9jdXM6IEJvb2xlYW4sXG4gIHJvdW5kOiBCb29sZWFuLFxuICBjaXJjbGU6IEJvb2xlYW4sXG4gIGNvbG9yOiBTdHJpbmcsXG4gIGRhcms6IEJvb2xlYW4sXG4gIGF1dG9JbnNlcnRTcGFjZToge1xuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogdm9pZCAwXG4gIH0sXG4gIHRhZzoge1xuICAgIHR5cGU6IGRlZmluZVByb3BUeXBlKFtTdHJpbmcsIE9iamVjdF0pLFxuICAgIGRlZmF1bHQ6IFwiYnV0dG9uXCJcbiAgfVxufSk7XG5jb25zdCBidXR0b25FbWl0cyA9IHtcbiAgY2xpY2s6IChldnQpID0+IGV2dCBpbnN0YW5jZW9mIE1vdXNlRXZlbnRcbn07XG5cbmV4cG9ydCB7IGJ1dHRvbkVtaXRzLCBidXR0b25OYXRpdmVUeXBlcywgYnV0dG9uUHJvcHMsIGJ1dHRvblR5cGVzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1idXR0b24ubWpzLm1hcFxuIiwiLyoqXG4gKiBUYWtlIGlucHV0IGZyb20gWzAsIG5dIGFuZCByZXR1cm4gaXQgYXMgWzAsIDFdXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBib3VuZDAxKG4sIG1heCkge1xuICAgIGlmIChpc09uZVBvaW50WmVybyhuKSkge1xuICAgICAgICBuID0gJzEwMCUnO1xuICAgIH1cbiAgICB2YXIgaXNQZXJjZW50ID0gaXNQZXJjZW50YWdlKG4pO1xuICAgIG4gPSBtYXggPT09IDM2MCA/IG4gOiBNYXRoLm1pbihtYXgsIE1hdGgubWF4KDAsIHBhcnNlRmxvYXQobikpKTtcbiAgICAvLyBBdXRvbWF0aWNhbGx5IGNvbnZlcnQgcGVyY2VudGFnZSBpbnRvIG51bWJlclxuICAgIGlmIChpc1BlcmNlbnQpIHtcbiAgICAgICAgbiA9IHBhcnNlSW50KFN0cmluZyhuICogbWF4KSwgMTApIC8gMTAwO1xuICAgIH1cbiAgICAvLyBIYW5kbGUgZmxvYXRpbmcgcG9pbnQgcm91bmRpbmcgZXJyb3JzXG4gICAgaWYgKE1hdGguYWJzKG4gLSBtYXgpIDwgMC4wMDAwMDEpIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIC8vIENvbnZlcnQgaW50byBbMCwgMV0gcmFuZ2UgaWYgaXQgaXNuJ3QgYWxyZWFkeVxuICAgIGlmIChtYXggPT09IDM2MCkge1xuICAgICAgICAvLyBJZiBuIGlzIGEgaHVlIGdpdmVuIGluIGRlZ3JlZXMsXG4gICAgICAgIC8vIHdyYXAgYXJvdW5kIG91dC1vZi1yYW5nZSB2YWx1ZXMgaW50byBbMCwgMzYwXSByYW5nZVxuICAgICAgICAvLyB0aGVuIGNvbnZlcnQgaW50byBbMCwgMV0uXG4gICAgICAgIG4gPSAobiA8IDAgPyAobiAlIG1heCkgKyBtYXggOiBuICUgbWF4KSAvIHBhcnNlRmxvYXQoU3RyaW5nKG1heCkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gSWYgbiBub3QgYSBodWUgZ2l2ZW4gaW4gZGVncmVlc1xuICAgICAgICAvLyBDb252ZXJ0IGludG8gWzAsIDFdIHJhbmdlIGlmIGl0IGlzbid0IGFscmVhZHkuXG4gICAgICAgIG4gPSAobiAlIG1heCkgLyBwYXJzZUZsb2F0KFN0cmluZyhtYXgpKTtcbiAgICB9XG4gICAgcmV0dXJuIG47XG59XG4vKipcbiAqIEZvcmNlIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMVxuICogQGhpZGRlblxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xhbXAwMSh2YWwpIHtcbiAgICByZXR1cm4gTWF0aC5taW4oMSwgTWF0aC5tYXgoMCwgdmFsKSk7XG59XG4vKipcbiAqIE5lZWQgdG8gaGFuZGxlIDEuMCBhcyAxMDAlLCBzaW5jZSBvbmNlIGl0IGlzIGEgbnVtYmVyLCB0aGVyZSBpcyBubyBkaWZmZXJlbmNlIGJldHdlZW4gaXQgYW5kIDFcbiAqIDxodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc0MjIwNzIvamF2YXNjcmlwdC1ob3ctdG8tZGV0ZWN0LW51bWJlci1hcy1hLWRlY2ltYWwtaW5jbHVkaW5nLTEtMD5cbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzT25lUG9pbnRaZXJvKG4pIHtcbiAgICByZXR1cm4gdHlwZW9mIG4gPT09ICdzdHJpbmcnICYmIG4uaW5kZXhPZignLicpICE9PSAtMSAmJiBwYXJzZUZsb2F0KG4pID09PSAxO1xufVxuLyoqXG4gKiBDaGVjayB0byBzZWUgaWYgc3RyaW5nIHBhc3NlZCBpbiBpcyBhIHBlcmNlbnRhZ2VcbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUGVyY2VudGFnZShuKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBuID09PSAnc3RyaW5nJyAmJiBuLmluZGV4T2YoJyUnKSAhPT0gLTE7XG59XG4vKipcbiAqIFJldHVybiBhIHZhbGlkIGFscGhhIHZhbHVlIFswLDFdIHdpdGggYWxsIGludmFsaWQgdmFsdWVzIGJlaW5nIHNldCB0byAxXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBib3VuZEFscGhhKGEpIHtcbiAgICBhID0gcGFyc2VGbG9hdChhKTtcbiAgICBpZiAoaXNOYU4oYSkgfHwgYSA8IDAgfHwgYSA+IDEpIHtcbiAgICAgICAgYSA9IDE7XG4gICAgfVxuICAgIHJldHVybiBhO1xufVxuLyoqXG4gKiBSZXBsYWNlIGEgZGVjaW1hbCB3aXRoIGl0J3MgcGVyY2VudGFnZSB2YWx1ZVxuICogQGhpZGRlblxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFRvUGVyY2VudGFnZShuKSB7XG4gICAgaWYgKG4gPD0gMSkge1xuICAgICAgICByZXR1cm4gXCJcIi5jb25jYXQoTnVtYmVyKG4pICogMTAwLCBcIiVcIik7XG4gICAgfVxuICAgIHJldHVybiBuO1xufVxuLyoqXG4gKiBGb3JjZSBhIGhleCB2YWx1ZSB0byBoYXZlIDIgY2hhcmFjdGVyc1xuICogQGhpZGRlblxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFkMihjKSB7XG4gICAgcmV0dXJuIGMubGVuZ3RoID09PSAxID8gJzAnICsgYyA6IFN0cmluZyhjKTtcbn1cbiIsImltcG9ydCB7IGJvdW5kMDEsIHBhZDIgfSBmcm9tICcuL3V0aWwuanMnO1xuLy8gYHJnYlRvSHNsYCwgYHJnYlRvSHN2YCwgYGhzbFRvUmdiYCwgYGhzdlRvUmdiYCBtb2RpZmllZCBmcm9tOlxuLy8gPGh0dHA6Ly9tamlqYWNrc29uLmNvbS8yMDA4LzAyL3JnYi10by1oc2wtYW5kLXJnYi10by1oc3YtY29sb3ItbW9kZWwtY29udmVyc2lvbi1hbGdvcml0aG1zLWluLWphdmFzY3JpcHQ+XG4vKipcbiAqIEhhbmRsZSBib3VuZHMgLyBwZXJjZW50YWdlIGNoZWNraW5nIHRvIGNvbmZvcm0gdG8gQ1NTIGNvbG9yIHNwZWNcbiAqIDxodHRwOi8vd3d3LnczLm9yZy9UUi9jc3MzLWNvbG9yLz5cbiAqICpBc3N1bWVzOiogciwgZywgYiBpbiBbMCwgMjU1XSBvciBbMCwgMV1cbiAqICpSZXR1cm5zOiogeyByLCBnLCBiIH0gaW4gWzAsIDI1NV1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJnYlRvUmdiKHIsIGcsIGIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByOiBib3VuZDAxKHIsIDI1NSkgKiAyNTUsXG4gICAgICAgIGc6IGJvdW5kMDEoZywgMjU1KSAqIDI1NSxcbiAgICAgICAgYjogYm91bmQwMShiLCAyNTUpICogMjU1LFxuICAgIH07XG59XG4vKipcbiAqIENvbnZlcnRzIGFuIFJHQiBjb2xvciB2YWx1ZSB0byBIU0wuXG4gKiAqQXNzdW1lczoqIHIsIGcsIGFuZCBiIGFyZSBjb250YWluZWQgaW4gWzAsIDI1NV0gb3IgWzAsIDFdXG4gKiAqUmV0dXJuczoqIHsgaCwgcywgbCB9IGluIFswLDFdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZ2JUb0hzbChyLCBnLCBiKSB7XG4gICAgciA9IGJvdW5kMDEociwgMjU1KTtcbiAgICBnID0gYm91bmQwMShnLCAyNTUpO1xuICAgIGIgPSBib3VuZDAxKGIsIDI1NSk7XG4gICAgdmFyIG1heCA9IE1hdGgubWF4KHIsIGcsIGIpO1xuICAgIHZhciBtaW4gPSBNYXRoLm1pbihyLCBnLCBiKTtcbiAgICB2YXIgaCA9IDA7XG4gICAgdmFyIHMgPSAwO1xuICAgIHZhciBsID0gKG1heCArIG1pbikgLyAyO1xuICAgIGlmIChtYXggPT09IG1pbikge1xuICAgICAgICBzID0gMDtcbiAgICAgICAgaCA9IDA7IC8vIGFjaHJvbWF0aWNcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciBkID0gbWF4IC0gbWluO1xuICAgICAgICBzID0gbCA+IDAuNSA/IGQgLyAoMiAtIG1heCAtIG1pbikgOiBkIC8gKG1heCArIG1pbik7XG4gICAgICAgIHN3aXRjaCAobWF4KSB7XG4gICAgICAgICAgICBjYXNlIHI6XG4gICAgICAgICAgICAgICAgaCA9IChnIC0gYikgLyBkICsgKGcgPCBiID8gNiA6IDApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBnOlxuICAgICAgICAgICAgICAgIGggPSAoYiAtIHIpIC8gZCArIDI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGI6XG4gICAgICAgICAgICAgICAgaCA9IChyIC0gZykgLyBkICsgNDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaCAvPSA2O1xuICAgIH1cbiAgICByZXR1cm4geyBoOiBoLCBzOiBzLCBsOiBsIH07XG59XG5mdW5jdGlvbiBodWUycmdiKHAsIHEsIHQpIHtcbiAgICBpZiAodCA8IDApIHtcbiAgICAgICAgdCArPSAxO1xuICAgIH1cbiAgICBpZiAodCA+IDEpIHtcbiAgICAgICAgdCAtPSAxO1xuICAgIH1cbiAgICBpZiAodCA8IDEgLyA2KSB7XG4gICAgICAgIHJldHVybiBwICsgKHEgLSBwKSAqICg2ICogdCk7XG4gICAgfVxuICAgIGlmICh0IDwgMSAvIDIpIHtcbiAgICAgICAgcmV0dXJuIHE7XG4gICAgfVxuICAgIGlmICh0IDwgMiAvIDMpIHtcbiAgICAgICAgcmV0dXJuIHAgKyAocSAtIHApICogKDIgLyAzIC0gdCkgKiA2O1xuICAgIH1cbiAgICByZXR1cm4gcDtcbn1cbi8qKlxuICogQ29udmVydHMgYW4gSFNMIGNvbG9yIHZhbHVlIHRvIFJHQi5cbiAqXG4gKiAqQXNzdW1lczoqIGggaXMgY29udGFpbmVkIGluIFswLCAxXSBvciBbMCwgMzYwXSBhbmQgcyBhbmQgbCBhcmUgY29udGFpbmVkIFswLCAxXSBvciBbMCwgMTAwXVxuICogKlJldHVybnM6KiB7IHIsIGcsIGIgfSBpbiB0aGUgc2V0IFswLCAyNTVdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoc2xUb1JnYihoLCBzLCBsKSB7XG4gICAgdmFyIHI7XG4gICAgdmFyIGc7XG4gICAgdmFyIGI7XG4gICAgaCA9IGJvdW5kMDEoaCwgMzYwKTtcbiAgICBzID0gYm91bmQwMShzLCAxMDApO1xuICAgIGwgPSBib3VuZDAxKGwsIDEwMCk7XG4gICAgaWYgKHMgPT09IDApIHtcbiAgICAgICAgLy8gYWNocm9tYXRpY1xuICAgICAgICBnID0gbDtcbiAgICAgICAgYiA9IGw7XG4gICAgICAgIHIgPSBsO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIHEgPSBsIDwgMC41ID8gbCAqICgxICsgcykgOiBsICsgcyAtIGwgKiBzO1xuICAgICAgICB2YXIgcCA9IDIgKiBsIC0gcTtcbiAgICAgICAgciA9IGh1ZTJyZ2IocCwgcSwgaCArIDEgLyAzKTtcbiAgICAgICAgZyA9IGh1ZTJyZ2IocCwgcSwgaCk7XG4gICAgICAgIGIgPSBodWUycmdiKHAsIHEsIGggLSAxIC8gMyk7XG4gICAgfVxuICAgIHJldHVybiB7IHI6IHIgKiAyNTUsIGc6IGcgKiAyNTUsIGI6IGIgKiAyNTUgfTtcbn1cbi8qKlxuICogQ29udmVydHMgYW4gUkdCIGNvbG9yIHZhbHVlIHRvIEhTVlxuICpcbiAqICpBc3N1bWVzOiogciwgZywgYW5kIGIgYXJlIGNvbnRhaW5lZCBpbiB0aGUgc2V0IFswLCAyNTVdIG9yIFswLCAxXVxuICogKlJldHVybnM6KiB7IGgsIHMsIHYgfSBpbiBbMCwxXVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmdiVG9Ic3YociwgZywgYikge1xuICAgIHIgPSBib3VuZDAxKHIsIDI1NSk7XG4gICAgZyA9IGJvdW5kMDEoZywgMjU1KTtcbiAgICBiID0gYm91bmQwMShiLCAyNTUpO1xuICAgIHZhciBtYXggPSBNYXRoLm1heChyLCBnLCBiKTtcbiAgICB2YXIgbWluID0gTWF0aC5taW4ociwgZywgYik7XG4gICAgdmFyIGggPSAwO1xuICAgIHZhciB2ID0gbWF4O1xuICAgIHZhciBkID0gbWF4IC0gbWluO1xuICAgIHZhciBzID0gbWF4ID09PSAwID8gMCA6IGQgLyBtYXg7XG4gICAgaWYgKG1heCA9PT0gbWluKSB7XG4gICAgICAgIGggPSAwOyAvLyBhY2hyb21hdGljXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzd2l0Y2ggKG1heCkge1xuICAgICAgICAgICAgY2FzZSByOlxuICAgICAgICAgICAgICAgIGggPSAoZyAtIGIpIC8gZCArIChnIDwgYiA/IDYgOiAwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgZzpcbiAgICAgICAgICAgICAgICBoID0gKGIgLSByKSAvIGQgKyAyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBiOlxuICAgICAgICAgICAgICAgIGggPSAociAtIGcpIC8gZCArIDQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGggLz0gNjtcbiAgICB9XG4gICAgcmV0dXJuIHsgaDogaCwgczogcywgdjogdiB9O1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhbiBIU1YgY29sb3IgdmFsdWUgdG8gUkdCLlxuICpcbiAqICpBc3N1bWVzOiogaCBpcyBjb250YWluZWQgaW4gWzAsIDFdIG9yIFswLCAzNjBdIGFuZCBzIGFuZCB2IGFyZSBjb250YWluZWQgaW4gWzAsIDFdIG9yIFswLCAxMDBdXG4gKiAqUmV0dXJuczoqIHsgciwgZywgYiB9IGluIHRoZSBzZXQgWzAsIDI1NV1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhzdlRvUmdiKGgsIHMsIHYpIHtcbiAgICBoID0gYm91bmQwMShoLCAzNjApICogNjtcbiAgICBzID0gYm91bmQwMShzLCAxMDApO1xuICAgIHYgPSBib3VuZDAxKHYsIDEwMCk7XG4gICAgdmFyIGkgPSBNYXRoLmZsb29yKGgpO1xuICAgIHZhciBmID0gaCAtIGk7XG4gICAgdmFyIHAgPSB2ICogKDEgLSBzKTtcbiAgICB2YXIgcSA9IHYgKiAoMSAtIGYgKiBzKTtcbiAgICB2YXIgdCA9IHYgKiAoMSAtICgxIC0gZikgKiBzKTtcbiAgICB2YXIgbW9kID0gaSAlIDY7XG4gICAgdmFyIHIgPSBbdiwgcSwgcCwgcCwgdCwgdl1bbW9kXTtcbiAgICB2YXIgZyA9IFt0LCB2LCB2LCBxLCBwLCBwXVttb2RdO1xuICAgIHZhciBiID0gW3AsIHAsIHQsIHYsIHYsIHFdW21vZF07XG4gICAgcmV0dXJuIHsgcjogciAqIDI1NSwgZzogZyAqIDI1NSwgYjogYiAqIDI1NSB9O1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhbiBSR0IgY29sb3IgdG8gaGV4XG4gKlxuICogQXNzdW1lcyByLCBnLCBhbmQgYiBhcmUgY29udGFpbmVkIGluIHRoZSBzZXQgWzAsIDI1NV1cbiAqIFJldHVybnMgYSAzIG9yIDYgY2hhcmFjdGVyIGhleFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmdiVG9IZXgociwgZywgYiwgYWxsb3czQ2hhcikge1xuICAgIHZhciBoZXggPSBbXG4gICAgICAgIHBhZDIoTWF0aC5yb3VuZChyKS50b1N0cmluZygxNikpLFxuICAgICAgICBwYWQyKE1hdGgucm91bmQoZykudG9TdHJpbmcoMTYpKSxcbiAgICAgICAgcGFkMihNYXRoLnJvdW5kKGIpLnRvU3RyaW5nKDE2KSksXG4gICAgXTtcbiAgICAvLyBSZXR1cm4gYSAzIGNoYXJhY3RlciBoZXggaWYgcG9zc2libGVcbiAgICBpZiAoYWxsb3czQ2hhciAmJlxuICAgICAgICBoZXhbMF0uc3RhcnRzV2l0aChoZXhbMF0uY2hhckF0KDEpKSAmJlxuICAgICAgICBoZXhbMV0uc3RhcnRzV2l0aChoZXhbMV0uY2hhckF0KDEpKSAmJlxuICAgICAgICBoZXhbMl0uc3RhcnRzV2l0aChoZXhbMl0uY2hhckF0KDEpKSkge1xuICAgICAgICByZXR1cm4gaGV4WzBdLmNoYXJBdCgwKSArIGhleFsxXS5jaGFyQXQoMCkgKyBoZXhbMl0uY2hhckF0KDApO1xuICAgIH1cbiAgICByZXR1cm4gaGV4LmpvaW4oJycpO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhbiBSR0JBIGNvbG9yIHBsdXMgYWxwaGEgdHJhbnNwYXJlbmN5IHRvIGhleFxuICpcbiAqIEFzc3VtZXMgciwgZywgYiBhcmUgY29udGFpbmVkIGluIHRoZSBzZXQgWzAsIDI1NV0gYW5kXG4gKiBhIGluIFswLCAxXS4gUmV0dXJucyBhIDQgb3IgOCBjaGFyYWN0ZXIgcmdiYSBoZXhcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1wYXJhbXNcbmV4cG9ydCBmdW5jdGlvbiByZ2JhVG9IZXgociwgZywgYiwgYSwgYWxsb3c0Q2hhcikge1xuICAgIHZhciBoZXggPSBbXG4gICAgICAgIHBhZDIoTWF0aC5yb3VuZChyKS50b1N0cmluZygxNikpLFxuICAgICAgICBwYWQyKE1hdGgucm91bmQoZykudG9TdHJpbmcoMTYpKSxcbiAgICAgICAgcGFkMihNYXRoLnJvdW5kKGIpLnRvU3RyaW5nKDE2KSksXG4gICAgICAgIHBhZDIoY29udmVydERlY2ltYWxUb0hleChhKSksXG4gICAgXTtcbiAgICAvLyBSZXR1cm4gYSA0IGNoYXJhY3RlciBoZXggaWYgcG9zc2libGVcbiAgICBpZiAoYWxsb3c0Q2hhciAmJlxuICAgICAgICBoZXhbMF0uc3RhcnRzV2l0aChoZXhbMF0uY2hhckF0KDEpKSAmJlxuICAgICAgICBoZXhbMV0uc3RhcnRzV2l0aChoZXhbMV0uY2hhckF0KDEpKSAmJlxuICAgICAgICBoZXhbMl0uc3RhcnRzV2l0aChoZXhbMl0uY2hhckF0KDEpKSAmJlxuICAgICAgICBoZXhbM10uc3RhcnRzV2l0aChoZXhbM10uY2hhckF0KDEpKSkge1xuICAgICAgICByZXR1cm4gaGV4WzBdLmNoYXJBdCgwKSArIGhleFsxXS5jaGFyQXQoMCkgKyBoZXhbMl0uY2hhckF0KDApICsgaGV4WzNdLmNoYXJBdCgwKTtcbiAgICB9XG4gICAgcmV0dXJuIGhleC5qb2luKCcnKTtcbn1cbi8qKlxuICogQ29udmVydHMgYW4gUkdCQSBjb2xvciB0byBhbiBBUkdCIEhleDggc3RyaW5nXG4gKiBSYXJlbHkgdXNlZCwgYnV0IHJlcXVpcmVkIGZvciBcInRvRmlsdGVyKClcIlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmdiYVRvQXJnYkhleChyLCBnLCBiLCBhKSB7XG4gICAgdmFyIGhleCA9IFtcbiAgICAgICAgcGFkMihjb252ZXJ0RGVjaW1hbFRvSGV4KGEpKSxcbiAgICAgICAgcGFkMihNYXRoLnJvdW5kKHIpLnRvU3RyaW5nKDE2KSksXG4gICAgICAgIHBhZDIoTWF0aC5yb3VuZChnKS50b1N0cmluZygxNikpLFxuICAgICAgICBwYWQyKE1hdGgucm91bmQoYikudG9TdHJpbmcoMTYpKSxcbiAgICBdO1xuICAgIHJldHVybiBoZXguam9pbignJyk7XG59XG4vKiogQ29udmVydHMgYSBkZWNpbWFsIHRvIGEgaGV4IHZhbHVlICovXG5leHBvcnQgZnVuY3Rpb24gY29udmVydERlY2ltYWxUb0hleChkKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQocGFyc2VGbG9hdChkKSAqIDI1NSkudG9TdHJpbmcoMTYpO1xufVxuLyoqIENvbnZlcnRzIGEgaGV4IHZhbHVlIHRvIGEgZGVjaW1hbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRIZXhUb0RlY2ltYWwoaCkge1xuICAgIHJldHVybiBwYXJzZUludEZyb21IZXgoaCkgLyAyNTU7XG59XG4vKiogUGFyc2UgYSBiYXNlLTE2IGhleCB2YWx1ZSBpbnRvIGEgYmFzZS0xMCBpbnRlZ2VyICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VJbnRGcm9tSGV4KHZhbCkge1xuICAgIHJldHVybiBwYXJzZUludCh2YWwsIDE2KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBudW1iZXJJbnB1dFRvT2JqZWN0KGNvbG9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcjogY29sb3IgPj4gMTYsXG4gICAgICAgIGc6IChjb2xvciAmIDB4ZmYwMCkgPj4gOCxcbiAgICAgICAgYjogY29sb3IgJiAweGZmLFxuICAgIH07XG59XG4iLCIvLyBodHRwczovL2dpdGh1Yi5jb20vYmFoYW1hczEwL2Nzcy1jb2xvci1uYW1lcy9ibG9iL21hc3Rlci9jc3MtY29sb3ItbmFtZXMuanNvblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCB2YXIgbmFtZXMgPSB7XG4gICAgYWxpY2VibHVlOiAnI2YwZjhmZicsXG4gICAgYW50aXF1ZXdoaXRlOiAnI2ZhZWJkNycsXG4gICAgYXF1YTogJyMwMGZmZmYnLFxuICAgIGFxdWFtYXJpbmU6ICcjN2ZmZmQ0JyxcbiAgICBhenVyZTogJyNmMGZmZmYnLFxuICAgIGJlaWdlOiAnI2Y1ZjVkYycsXG4gICAgYmlzcXVlOiAnI2ZmZTRjNCcsXG4gICAgYmxhY2s6ICcjMDAwMDAwJyxcbiAgICBibGFuY2hlZGFsbW9uZDogJyNmZmViY2QnLFxuICAgIGJsdWU6ICcjMDAwMGZmJyxcbiAgICBibHVldmlvbGV0OiAnIzhhMmJlMicsXG4gICAgYnJvd246ICcjYTUyYTJhJyxcbiAgICBidXJseXdvb2Q6ICcjZGViODg3JyxcbiAgICBjYWRldGJsdWU6ICcjNWY5ZWEwJyxcbiAgICBjaGFydHJldXNlOiAnIzdmZmYwMCcsXG4gICAgY2hvY29sYXRlOiAnI2QyNjkxZScsXG4gICAgY29yYWw6ICcjZmY3ZjUwJyxcbiAgICBjb3JuZmxvd2VyYmx1ZTogJyM2NDk1ZWQnLFxuICAgIGNvcm5zaWxrOiAnI2ZmZjhkYycsXG4gICAgY3JpbXNvbjogJyNkYzE0M2MnLFxuICAgIGN5YW46ICcjMDBmZmZmJyxcbiAgICBkYXJrYmx1ZTogJyMwMDAwOGInLFxuICAgIGRhcmtjeWFuOiAnIzAwOGI4YicsXG4gICAgZGFya2dvbGRlbnJvZDogJyNiODg2MGInLFxuICAgIGRhcmtncmF5OiAnI2E5YTlhOScsXG4gICAgZGFya2dyZWVuOiAnIzAwNjQwMCcsXG4gICAgZGFya2dyZXk6ICcjYTlhOWE5JyxcbiAgICBkYXJra2hha2k6ICcjYmRiNzZiJyxcbiAgICBkYXJrbWFnZW50YTogJyM4YjAwOGInLFxuICAgIGRhcmtvbGl2ZWdyZWVuOiAnIzU1NmIyZicsXG4gICAgZGFya29yYW5nZTogJyNmZjhjMDAnLFxuICAgIGRhcmtvcmNoaWQ6ICcjOTkzMmNjJyxcbiAgICBkYXJrcmVkOiAnIzhiMDAwMCcsXG4gICAgZGFya3NhbG1vbjogJyNlOTk2N2EnLFxuICAgIGRhcmtzZWFncmVlbjogJyM4ZmJjOGYnLFxuICAgIGRhcmtzbGF0ZWJsdWU6ICcjNDgzZDhiJyxcbiAgICBkYXJrc2xhdGVncmF5OiAnIzJmNGY0ZicsXG4gICAgZGFya3NsYXRlZ3JleTogJyMyZjRmNGYnLFxuICAgIGRhcmt0dXJxdW9pc2U6ICcjMDBjZWQxJyxcbiAgICBkYXJrdmlvbGV0OiAnIzk0MDBkMycsXG4gICAgZGVlcHBpbms6ICcjZmYxNDkzJyxcbiAgICBkZWVwc2t5Ymx1ZTogJyMwMGJmZmYnLFxuICAgIGRpbWdyYXk6ICcjNjk2OTY5JyxcbiAgICBkaW1ncmV5OiAnIzY5Njk2OScsXG4gICAgZG9kZ2VyYmx1ZTogJyMxZTkwZmYnLFxuICAgIGZpcmVicmljazogJyNiMjIyMjInLFxuICAgIGZsb3JhbHdoaXRlOiAnI2ZmZmFmMCcsXG4gICAgZm9yZXN0Z3JlZW46ICcjMjI4YjIyJyxcbiAgICBmdWNoc2lhOiAnI2ZmMDBmZicsXG4gICAgZ2FpbnNib3JvOiAnI2RjZGNkYycsXG4gICAgZ2hvc3R3aGl0ZTogJyNmOGY4ZmYnLFxuICAgIGdvbGRlbnJvZDogJyNkYWE1MjAnLFxuICAgIGdvbGQ6ICcjZmZkNzAwJyxcbiAgICBncmF5OiAnIzgwODA4MCcsXG4gICAgZ3JlZW46ICcjMDA4MDAwJyxcbiAgICBncmVlbnllbGxvdzogJyNhZGZmMmYnLFxuICAgIGdyZXk6ICcjODA4MDgwJyxcbiAgICBob25leWRldzogJyNmMGZmZjAnLFxuICAgIGhvdHBpbms6ICcjZmY2OWI0JyxcbiAgICBpbmRpYW5yZWQ6ICcjY2Q1YzVjJyxcbiAgICBpbmRpZ286ICcjNGIwMDgyJyxcbiAgICBpdm9yeTogJyNmZmZmZjAnLFxuICAgIGtoYWtpOiAnI2YwZTY4YycsXG4gICAgbGF2ZW5kZXJibHVzaDogJyNmZmYwZjUnLFxuICAgIGxhdmVuZGVyOiAnI2U2ZTZmYScsXG4gICAgbGF3bmdyZWVuOiAnIzdjZmMwMCcsXG4gICAgbGVtb25jaGlmZm9uOiAnI2ZmZmFjZCcsXG4gICAgbGlnaHRibHVlOiAnI2FkZDhlNicsXG4gICAgbGlnaHRjb3JhbDogJyNmMDgwODAnLFxuICAgIGxpZ2h0Y3lhbjogJyNlMGZmZmYnLFxuICAgIGxpZ2h0Z29sZGVucm9keWVsbG93OiAnI2ZhZmFkMicsXG4gICAgbGlnaHRncmF5OiAnI2QzZDNkMycsXG4gICAgbGlnaHRncmVlbjogJyM5MGVlOTAnLFxuICAgIGxpZ2h0Z3JleTogJyNkM2QzZDMnLFxuICAgIGxpZ2h0cGluazogJyNmZmI2YzEnLFxuICAgIGxpZ2h0c2FsbW9uOiAnI2ZmYTA3YScsXG4gICAgbGlnaHRzZWFncmVlbjogJyMyMGIyYWEnLFxuICAgIGxpZ2h0c2t5Ymx1ZTogJyM4N2NlZmEnLFxuICAgIGxpZ2h0c2xhdGVncmF5OiAnIzc3ODg5OScsXG4gICAgbGlnaHRzbGF0ZWdyZXk6ICcjNzc4ODk5JyxcbiAgICBsaWdodHN0ZWVsYmx1ZTogJyNiMGM0ZGUnLFxuICAgIGxpZ2h0eWVsbG93OiAnI2ZmZmZlMCcsXG4gICAgbGltZTogJyMwMGZmMDAnLFxuICAgIGxpbWVncmVlbjogJyMzMmNkMzInLFxuICAgIGxpbmVuOiAnI2ZhZjBlNicsXG4gICAgbWFnZW50YTogJyNmZjAwZmYnLFxuICAgIG1hcm9vbjogJyM4MDAwMDAnLFxuICAgIG1lZGl1bWFxdWFtYXJpbmU6ICcjNjZjZGFhJyxcbiAgICBtZWRpdW1ibHVlOiAnIzAwMDBjZCcsXG4gICAgbWVkaXVtb3JjaGlkOiAnI2JhNTVkMycsXG4gICAgbWVkaXVtcHVycGxlOiAnIzkzNzBkYicsXG4gICAgbWVkaXVtc2VhZ3JlZW46ICcjM2NiMzcxJyxcbiAgICBtZWRpdW1zbGF0ZWJsdWU6ICcjN2I2OGVlJyxcbiAgICBtZWRpdW1zcHJpbmdncmVlbjogJyMwMGZhOWEnLFxuICAgIG1lZGl1bXR1cnF1b2lzZTogJyM0OGQxY2MnLFxuICAgIG1lZGl1bXZpb2xldHJlZDogJyNjNzE1ODUnLFxuICAgIG1pZG5pZ2h0Ymx1ZTogJyMxOTE5NzAnLFxuICAgIG1pbnRjcmVhbTogJyNmNWZmZmEnLFxuICAgIG1pc3R5cm9zZTogJyNmZmU0ZTEnLFxuICAgIG1vY2Nhc2luOiAnI2ZmZTRiNScsXG4gICAgbmF2YWpvd2hpdGU6ICcjZmZkZWFkJyxcbiAgICBuYXZ5OiAnIzAwMDA4MCcsXG4gICAgb2xkbGFjZTogJyNmZGY1ZTYnLFxuICAgIG9saXZlOiAnIzgwODAwMCcsXG4gICAgb2xpdmVkcmFiOiAnIzZiOGUyMycsXG4gICAgb3JhbmdlOiAnI2ZmYTUwMCcsXG4gICAgb3JhbmdlcmVkOiAnI2ZmNDUwMCcsXG4gICAgb3JjaGlkOiAnI2RhNzBkNicsXG4gICAgcGFsZWdvbGRlbnJvZDogJyNlZWU4YWEnLFxuICAgIHBhbGVncmVlbjogJyM5OGZiOTgnLFxuICAgIHBhbGV0dXJxdW9pc2U6ICcjYWZlZWVlJyxcbiAgICBwYWxldmlvbGV0cmVkOiAnI2RiNzA5MycsXG4gICAgcGFwYXlhd2hpcDogJyNmZmVmZDUnLFxuICAgIHBlYWNocHVmZjogJyNmZmRhYjknLFxuICAgIHBlcnU6ICcjY2Q4NTNmJyxcbiAgICBwaW5rOiAnI2ZmYzBjYicsXG4gICAgcGx1bTogJyNkZGEwZGQnLFxuICAgIHBvd2RlcmJsdWU6ICcjYjBlMGU2JyxcbiAgICBwdXJwbGU6ICcjODAwMDgwJyxcbiAgICByZWJlY2NhcHVycGxlOiAnIzY2MzM5OScsXG4gICAgcmVkOiAnI2ZmMDAwMCcsXG4gICAgcm9zeWJyb3duOiAnI2JjOGY4ZicsXG4gICAgcm95YWxibHVlOiAnIzQxNjllMScsXG4gICAgc2FkZGxlYnJvd246ICcjOGI0NTEzJyxcbiAgICBzYWxtb246ICcjZmE4MDcyJyxcbiAgICBzYW5keWJyb3duOiAnI2Y0YTQ2MCcsXG4gICAgc2VhZ3JlZW46ICcjMmU4YjU3JyxcbiAgICBzZWFzaGVsbDogJyNmZmY1ZWUnLFxuICAgIHNpZW5uYTogJyNhMDUyMmQnLFxuICAgIHNpbHZlcjogJyNjMGMwYzAnLFxuICAgIHNreWJsdWU6ICcjODdjZWViJyxcbiAgICBzbGF0ZWJsdWU6ICcjNmE1YWNkJyxcbiAgICBzbGF0ZWdyYXk6ICcjNzA4MDkwJyxcbiAgICBzbGF0ZWdyZXk6ICcjNzA4MDkwJyxcbiAgICBzbm93OiAnI2ZmZmFmYScsXG4gICAgc3ByaW5nZ3JlZW46ICcjMDBmZjdmJyxcbiAgICBzdGVlbGJsdWU6ICcjNDY4MmI0JyxcbiAgICB0YW46ICcjZDJiNDhjJyxcbiAgICB0ZWFsOiAnIzAwODA4MCcsXG4gICAgdGhpc3RsZTogJyNkOGJmZDgnLFxuICAgIHRvbWF0bzogJyNmZjYzNDcnLFxuICAgIHR1cnF1b2lzZTogJyM0MGUwZDAnLFxuICAgIHZpb2xldDogJyNlZTgyZWUnLFxuICAgIHdoZWF0OiAnI2Y1ZGViMycsXG4gICAgd2hpdGU6ICcjZmZmZmZmJyxcbiAgICB3aGl0ZXNtb2tlOiAnI2Y1ZjVmNScsXG4gICAgeWVsbG93OiAnI2ZmZmYwMCcsXG4gICAgeWVsbG93Z3JlZW46ICcjOWFjZDMyJyxcbn07XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tcmVkdW5kYW50LXR5cGUtY29uc3RpdHVlbnRzICovXG5pbXBvcnQgeyBjb252ZXJ0SGV4VG9EZWNpbWFsLCBoc2xUb1JnYiwgaHN2VG9SZ2IsIHBhcnNlSW50RnJvbUhleCwgcmdiVG9SZ2IsIH0gZnJvbSAnLi9jb252ZXJzaW9uLmpzJztcbmltcG9ydCB7IG5hbWVzIH0gZnJvbSAnLi9jc3MtY29sb3ItbmFtZXMuanMnO1xuaW1wb3J0IHsgYm91bmRBbHBoYSwgY29udmVydFRvUGVyY2VudGFnZSB9IGZyb20gJy4vdXRpbC5qcyc7XG4vKipcbiAqIEdpdmVuIGEgc3RyaW5nIG9yIG9iamVjdCwgY29udmVydCB0aGF0IGlucHV0IHRvIFJHQlxuICpcbiAqIFBvc3NpYmxlIHN0cmluZyBpbnB1dHM6XG4gKiBgYGBcbiAqIFwicmVkXCJcbiAqIFwiI2YwMFwiIG9yIFwiZjAwXCJcbiAqIFwiI2ZmMDAwMFwiIG9yIFwiZmYwMDAwXCJcbiAqIFwiI2ZmMDAwMDAwXCIgb3IgXCJmZjAwMDAwMFwiXG4gKiBcInJnYiAyNTUgMCAwXCIgb3IgXCJyZ2IgKDI1NSwgMCwgMClcIlxuICogXCJyZ2IgMS4wIDAgMFwiIG9yIFwicmdiICgxLCAwLCAwKVwiXG4gKiBcInJnYmEgKDI1NSwgMCwgMCwgMSlcIiBvciBcInJnYmEgMjU1LCAwLCAwLCAxXCJcbiAqIFwicmdiYSAoMS4wLCAwLCAwLCAxKVwiIG9yIFwicmdiYSAxLjAsIDAsIDAsIDFcIlxuICogXCJoc2woMCwgMTAwJSwgNTAlKVwiIG9yIFwiaHNsIDAgMTAwJSA1MCVcIlxuICogXCJoc2xhKDAsIDEwMCUsIDUwJSwgMSlcIiBvciBcImhzbGEgMCAxMDAlIDUwJSwgMVwiXG4gKiBcImhzdigwLCAxMDAlLCAxMDAlKVwiIG9yIFwiaHN2IDAgMTAwJSAxMDAlXCJcbiAqIGBgYFxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5wdXRUb1JHQihjb2xvcikge1xuICAgIHZhciByZ2IgPSB7IHI6IDAsIGc6IDAsIGI6IDAgfTtcbiAgICB2YXIgYSA9IDE7XG4gICAgdmFyIHMgPSBudWxsO1xuICAgIHZhciB2ID0gbnVsbDtcbiAgICB2YXIgbCA9IG51bGw7XG4gICAgdmFyIG9rID0gZmFsc2U7XG4gICAgdmFyIGZvcm1hdCA9IGZhbHNlO1xuICAgIGlmICh0eXBlb2YgY29sb3IgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbG9yID0gc3RyaW5nSW5wdXRUb09iamVjdChjb2xvcik7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29sb3IgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmIChpc1ZhbGlkQ1NTVW5pdChjb2xvci5yKSAmJiBpc1ZhbGlkQ1NTVW5pdChjb2xvci5nKSAmJiBpc1ZhbGlkQ1NTVW5pdChjb2xvci5iKSkge1xuICAgICAgICAgICAgcmdiID0gcmdiVG9SZ2IoY29sb3IuciwgY29sb3IuZywgY29sb3IuYik7XG4gICAgICAgICAgICBvayA9IHRydWU7XG4gICAgICAgICAgICBmb3JtYXQgPSBTdHJpbmcoY29sb3Iucikuc3Vic3RyKC0xKSA9PT0gJyUnID8gJ3ByZ2InIDogJ3JnYic7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNWYWxpZENTU1VuaXQoY29sb3IuaCkgJiYgaXNWYWxpZENTU1VuaXQoY29sb3IucykgJiYgaXNWYWxpZENTU1VuaXQoY29sb3IudikpIHtcbiAgICAgICAgICAgIHMgPSBjb252ZXJ0VG9QZXJjZW50YWdlKGNvbG9yLnMpO1xuICAgICAgICAgICAgdiA9IGNvbnZlcnRUb1BlcmNlbnRhZ2UoY29sb3Iudik7XG4gICAgICAgICAgICByZ2IgPSBoc3ZUb1JnYihjb2xvci5oLCBzLCB2KTtcbiAgICAgICAgICAgIG9rID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvcm1hdCA9ICdoc3YnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzVmFsaWRDU1NVbml0KGNvbG9yLmgpICYmIGlzVmFsaWRDU1NVbml0KGNvbG9yLnMpICYmIGlzVmFsaWRDU1NVbml0KGNvbG9yLmwpKSB7XG4gICAgICAgICAgICBzID0gY29udmVydFRvUGVyY2VudGFnZShjb2xvci5zKTtcbiAgICAgICAgICAgIGwgPSBjb252ZXJ0VG9QZXJjZW50YWdlKGNvbG9yLmwpO1xuICAgICAgICAgICAgcmdiID0gaHNsVG9SZ2IoY29sb3IuaCwgcywgbCk7XG4gICAgICAgICAgICBvayA9IHRydWU7XG4gICAgICAgICAgICBmb3JtYXQgPSAnaHNsJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbG9yLCAnYScpKSB7XG4gICAgICAgICAgICBhID0gY29sb3IuYTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhID0gYm91bmRBbHBoYShhKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBvazogb2ssXG4gICAgICAgIGZvcm1hdDogY29sb3IuZm9ybWF0IHx8IGZvcm1hdCxcbiAgICAgICAgcjogTWF0aC5taW4oMjU1LCBNYXRoLm1heChyZ2IuciwgMCkpLFxuICAgICAgICBnOiBNYXRoLm1pbigyNTUsIE1hdGgubWF4KHJnYi5nLCAwKSksXG4gICAgICAgIGI6IE1hdGgubWluKDI1NSwgTWF0aC5tYXgocmdiLmIsIDApKSxcbiAgICAgICAgYTogYSxcbiAgICB9O1xufVxuLy8gPGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtdmFsdWVzLyNpbnRlZ2Vycz5cbnZhciBDU1NfSU5URUdFUiA9ICdbLVxcXFwrXT9cXFxcZCslPyc7XG4vLyA8aHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy12YWx1ZXMvI251bWJlci12YWx1ZT5cbnZhciBDU1NfTlVNQkVSID0gJ1stXFxcXCtdP1xcXFxkKlxcXFwuXFxcXGQrJT8nO1xuLy8gQWxsb3cgcG9zaXRpdmUvbmVnYXRpdmUgaW50ZWdlci9udW1iZXIuICBEb24ndCBjYXB0dXJlIHRoZSBlaXRoZXIvb3IsIGp1c3QgdGhlIGVudGlyZSBvdXRjb21lLlxudmFyIENTU19VTklUID0gXCIoPzpcIi5jb25jYXQoQ1NTX05VTUJFUiwgXCIpfCg/OlwiKS5jb25jYXQoQ1NTX0lOVEVHRVIsIFwiKVwiKTtcbi8vIEFjdHVhbCBtYXRjaGluZy5cbi8vIFBhcmVudGhlc2VzIGFuZCBjb21tYXMgYXJlIG9wdGlvbmFsLCBidXQgbm90IHJlcXVpcmVkLlxuLy8gV2hpdGVzcGFjZSBjYW4gdGFrZSB0aGUgcGxhY2Ugb2YgY29tbWFzIG9yIG9wZW5pbmcgcGFyZW5cbnZhciBQRVJNSVNTSVZFX01BVENIMyA9IFwiW1xcXFxzfFxcXFwoXSsoXCIuY29uY2F0KENTU19VTklULCBcIilbLHxcXFxcc10rKFwiKS5jb25jYXQoQ1NTX1VOSVQsIFwiKVssfFxcXFxzXSsoXCIpLmNvbmNhdChDU1NfVU5JVCwgXCIpXFxcXHMqXFxcXCk/XCIpO1xudmFyIFBFUk1JU1NJVkVfTUFUQ0g0ID0gXCJbXFxcXHN8XFxcXChdKyhcIi5jb25jYXQoQ1NTX1VOSVQsIFwiKVssfFxcXFxzXSsoXCIpLmNvbmNhdChDU1NfVU5JVCwgXCIpWyx8XFxcXHNdKyhcIikuY29uY2F0KENTU19VTklULCBcIilbLHxcXFxcc10rKFwiKS5jb25jYXQoQ1NTX1VOSVQsIFwiKVxcXFxzKlxcXFwpP1wiKTtcbnZhciBtYXRjaGVycyA9IHtcbiAgICBDU1NfVU5JVDogbmV3IFJlZ0V4cChDU1NfVU5JVCksXG4gICAgcmdiOiBuZXcgUmVnRXhwKCdyZ2InICsgUEVSTUlTU0lWRV9NQVRDSDMpLFxuICAgIHJnYmE6IG5ldyBSZWdFeHAoJ3JnYmEnICsgUEVSTUlTU0lWRV9NQVRDSDQpLFxuICAgIGhzbDogbmV3IFJlZ0V4cCgnaHNsJyArIFBFUk1JU1NJVkVfTUFUQ0gzKSxcbiAgICBoc2xhOiBuZXcgUmVnRXhwKCdoc2xhJyArIFBFUk1JU1NJVkVfTUFUQ0g0KSxcbiAgICBoc3Y6IG5ldyBSZWdFeHAoJ2hzdicgKyBQRVJNSVNTSVZFX01BVENIMyksXG4gICAgaHN2YTogbmV3IFJlZ0V4cCgnaHN2YScgKyBQRVJNSVNTSVZFX01BVENINCksXG4gICAgaGV4MzogL14jPyhbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KSQvLFxuICAgIGhleDY6IC9eIz8oWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KShbMC05YS1mQS1GXXsyfSkkLyxcbiAgICBoZXg0OiAvXiM/KFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KSQvLFxuICAgIGhleDg6IC9eIz8oWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KShbMC05YS1mQS1GXXsyfSkoWzAtOWEtZkEtRl17Mn0pJC8sXG59O1xuLyoqXG4gKiBQZXJtaXNzaXZlIHN0cmluZyBwYXJzaW5nLiAgVGFrZSBpbiBhIG51bWJlciBvZiBmb3JtYXRzLCBhbmQgb3V0cHV0IGFuIG9iamVjdFxuICogYmFzZWQgb24gZGV0ZWN0ZWQgZm9ybWF0LiAgUmV0dXJucyBgeyByLCBnLCBiIH1gIG9yIGB7IGgsIHMsIGwgfWAgb3IgYHsgaCwgcywgdn1gXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdJbnB1dFRvT2JqZWN0KGNvbG9yKSB7XG4gICAgY29sb3IgPSBjb2xvci50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAoY29sb3IubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIG5hbWVkID0gZmFsc2U7XG4gICAgaWYgKG5hbWVzW2NvbG9yXSkge1xuICAgICAgICBjb2xvciA9IG5hbWVzW2NvbG9yXTtcbiAgICAgICAgbmFtZWQgPSB0cnVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50Jykge1xuICAgICAgICByZXR1cm4geyByOiAwLCBnOiAwLCBiOiAwLCBhOiAwLCBmb3JtYXQ6ICduYW1lJyB9O1xuICAgIH1cbiAgICAvLyBUcnkgdG8gbWF0Y2ggc3RyaW5nIGlucHV0IHVzaW5nIHJlZ3VsYXIgZXhwcmVzc2lvbnMuXG4gICAgLy8gS2VlcCBtb3N0IG9mIHRoZSBudW1iZXIgYm91bmRpbmcgb3V0IG9mIHRoaXMgZnVuY3Rpb24gLSBkb24ndCB3b3JyeSBhYm91dCBbMCwxXSBvciBbMCwxMDBdIG9yIFswLDM2MF1cbiAgICAvLyBKdXN0IHJldHVybiBhbiBvYmplY3QgYW5kIGxldCB0aGUgY29udmVyc2lvbiBmdW5jdGlvbnMgaGFuZGxlIHRoYXQuXG4gICAgLy8gVGhpcyB3YXkgdGhlIHJlc3VsdCB3aWxsIGJlIHRoZSBzYW1lIHdoZXRoZXIgdGhlIHRpbnljb2xvciBpcyBpbml0aWFsaXplZCB3aXRoIHN0cmluZyBvciBvYmplY3QuXG4gICAgdmFyIG1hdGNoID0gbWF0Y2hlcnMucmdiLmV4ZWMoY29sb3IpO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgICByZXR1cm4geyByOiBtYXRjaFsxXSwgZzogbWF0Y2hbMl0sIGI6IG1hdGNoWzNdIH07XG4gICAgfVxuICAgIG1hdGNoID0gbWF0Y2hlcnMucmdiYS5leGVjKGNvbG9yKTtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIHsgcjogbWF0Y2hbMV0sIGc6IG1hdGNoWzJdLCBiOiBtYXRjaFszXSwgYTogbWF0Y2hbNF0gfTtcbiAgICB9XG4gICAgbWF0Y2ggPSBtYXRjaGVycy5oc2wuZXhlYyhjb2xvcik7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIHJldHVybiB7IGg6IG1hdGNoWzFdLCBzOiBtYXRjaFsyXSwgbDogbWF0Y2hbM10gfTtcbiAgICB9XG4gICAgbWF0Y2ggPSBtYXRjaGVycy5oc2xhLmV4ZWMoY29sb3IpO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgICByZXR1cm4geyBoOiBtYXRjaFsxXSwgczogbWF0Y2hbMl0sIGw6IG1hdGNoWzNdLCBhOiBtYXRjaFs0XSB9O1xuICAgIH1cbiAgICBtYXRjaCA9IG1hdGNoZXJzLmhzdi5leGVjKGNvbG9yKTtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIHsgaDogbWF0Y2hbMV0sIHM6IG1hdGNoWzJdLCB2OiBtYXRjaFszXSB9O1xuICAgIH1cbiAgICBtYXRjaCA9IG1hdGNoZXJzLmhzdmEuZXhlYyhjb2xvcik7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIHJldHVybiB7IGg6IG1hdGNoWzFdLCBzOiBtYXRjaFsyXSwgdjogbWF0Y2hbM10sIGE6IG1hdGNoWzRdIH07XG4gICAgfVxuICAgIG1hdGNoID0gbWF0Y2hlcnMuaGV4OC5leGVjKGNvbG9yKTtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHI6IHBhcnNlSW50RnJvbUhleChtYXRjaFsxXSksXG4gICAgICAgICAgICBnOiBwYXJzZUludEZyb21IZXgobWF0Y2hbMl0pLFxuICAgICAgICAgICAgYjogcGFyc2VJbnRGcm9tSGV4KG1hdGNoWzNdKSxcbiAgICAgICAgICAgIGE6IGNvbnZlcnRIZXhUb0RlY2ltYWwobWF0Y2hbNF0pLFxuICAgICAgICAgICAgZm9ybWF0OiBuYW1lZCA/ICduYW1lJyA6ICdoZXg4JyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgbWF0Y2ggPSBtYXRjaGVycy5oZXg2LmV4ZWMoY29sb3IpO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcjogcGFyc2VJbnRGcm9tSGV4KG1hdGNoWzFdKSxcbiAgICAgICAgICAgIGc6IHBhcnNlSW50RnJvbUhleChtYXRjaFsyXSksXG4gICAgICAgICAgICBiOiBwYXJzZUludEZyb21IZXgobWF0Y2hbM10pLFxuICAgICAgICAgICAgZm9ybWF0OiBuYW1lZCA/ICduYW1lJyA6ICdoZXgnLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBtYXRjaCA9IG1hdGNoZXJzLmhleDQuZXhlYyhjb2xvcik7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByOiBwYXJzZUludEZyb21IZXgobWF0Y2hbMV0gKyBtYXRjaFsxXSksXG4gICAgICAgICAgICBnOiBwYXJzZUludEZyb21IZXgobWF0Y2hbMl0gKyBtYXRjaFsyXSksXG4gICAgICAgICAgICBiOiBwYXJzZUludEZyb21IZXgobWF0Y2hbM10gKyBtYXRjaFszXSksXG4gICAgICAgICAgICBhOiBjb252ZXJ0SGV4VG9EZWNpbWFsKG1hdGNoWzRdICsgbWF0Y2hbNF0pLFxuICAgICAgICAgICAgZm9ybWF0OiBuYW1lZCA/ICduYW1lJyA6ICdoZXg4JyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgbWF0Y2ggPSBtYXRjaGVycy5oZXgzLmV4ZWMoY29sb3IpO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcjogcGFyc2VJbnRGcm9tSGV4KG1hdGNoWzFdICsgbWF0Y2hbMV0pLFxuICAgICAgICAgICAgZzogcGFyc2VJbnRGcm9tSGV4KG1hdGNoWzJdICsgbWF0Y2hbMl0pLFxuICAgICAgICAgICAgYjogcGFyc2VJbnRGcm9tSGV4KG1hdGNoWzNdICsgbWF0Y2hbM10pLFxuICAgICAgICAgICAgZm9ybWF0OiBuYW1lZCA/ICduYW1lJyA6ICdoZXgnLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIENoZWNrIHRvIHNlZSBpZiBpdCBsb29rcyBsaWtlIGEgQ1NTIHVuaXRcbiAqIChzZWUgYG1hdGNoZXJzYCBhYm92ZSBmb3IgZGVmaW5pdGlvbikuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkQ1NTVW5pdChjb2xvcikge1xuICAgIHJldHVybiBCb29sZWFuKG1hdGNoZXJzLkNTU19VTklULmV4ZWMoU3RyaW5nKGNvbG9yKSkpO1xufVxuIiwiaW1wb3J0IHsgbnVtYmVySW5wdXRUb09iamVjdCwgcmdiYVRvSGV4LCByZ2JUb0hleCwgcmdiVG9Ic2wsIHJnYlRvSHN2IH0gZnJvbSAnLi9jb252ZXJzaW9uLmpzJztcbmltcG9ydCB7IG5hbWVzIH0gZnJvbSAnLi9jc3MtY29sb3ItbmFtZXMuanMnO1xuaW1wb3J0IHsgaW5wdXRUb1JHQiB9IGZyb20gJy4vZm9ybWF0LWlucHV0JztcbmltcG9ydCB7IGJvdW5kMDEsIGJvdW5kQWxwaGEsIGNsYW1wMDEgfSBmcm9tICcuL3V0aWwuanMnO1xudmFyIFRpbnlDb2xvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUaW55Q29sb3IoY29sb3IsIG9wdHMpIHtcbiAgICAgICAgaWYgKGNvbG9yID09PSB2b2lkIDApIHsgY29sb3IgPSAnJzsgfVxuICAgICAgICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7IG9wdHMgPSB7fTsgfVxuICAgICAgICB2YXIgX2E7XG4gICAgICAgIC8vIElmIGlucHV0IGlzIGFscmVhZHkgYSB0aW55Y29sb3IsIHJldHVybiBpdHNlbGZcbiAgICAgICAgaWYgKGNvbG9yIGluc3RhbmNlb2YgVGlueUNvbG9yKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc3RydWN0b3ItcmV0dXJuXG4gICAgICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBjb2xvciA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGNvbG9yID0gbnVtYmVySW5wdXRUb09iamVjdChjb2xvcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vcmlnaW5hbElucHV0ID0gY29sb3I7XG4gICAgICAgIHZhciByZ2IgPSBpbnB1dFRvUkdCKGNvbG9yKTtcbiAgICAgICAgdGhpcy5vcmlnaW5hbElucHV0ID0gY29sb3I7XG4gICAgICAgIHRoaXMuciA9IHJnYi5yO1xuICAgICAgICB0aGlzLmcgPSByZ2IuZztcbiAgICAgICAgdGhpcy5iID0gcmdiLmI7XG4gICAgICAgIHRoaXMuYSA9IHJnYi5hO1xuICAgICAgICB0aGlzLnJvdW5kQSA9IE1hdGgucm91bmQoMTAwICogdGhpcy5hKSAvIDEwMDtcbiAgICAgICAgdGhpcy5mb3JtYXQgPSAoX2EgPSBvcHRzLmZvcm1hdCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogcmdiLmZvcm1hdDtcbiAgICAgICAgdGhpcy5ncmFkaWVudFR5cGUgPSBvcHRzLmdyYWRpZW50VHlwZTtcbiAgICAgICAgLy8gRG9uJ3QgbGV0IHRoZSByYW5nZSBvZiBbMCwyNTVdIGNvbWUgYmFjayBpbiBbMCwxXS5cbiAgICAgICAgLy8gUG90ZW50aWFsbHkgbG9zZSBhIGxpdHRsZSBiaXQgb2YgcHJlY2lzaW9uIGhlcmUsIGJ1dCB3aWxsIGZpeCBpc3N1ZXMgd2hlcmVcbiAgICAgICAgLy8gLjUgZ2V0cyBpbnRlcnByZXRlZCBhcyBoYWxmIG9mIHRoZSB0b3RhbCwgaW5zdGVhZCBvZiBoYWxmIG9mIDFcbiAgICAgICAgLy8gSWYgaXQgd2FzIHN1cHBvc2VkIHRvIGJlIDEyOCwgdGhpcyB3YXMgYWxyZWFkeSB0YWtlbiBjYXJlIG9mIGJ5IGBpbnB1dFRvUmdiYFxuICAgICAgICBpZiAodGhpcy5yIDwgMSkge1xuICAgICAgICAgICAgdGhpcy5yID0gTWF0aC5yb3VuZCh0aGlzLnIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmcgPCAxKSB7XG4gICAgICAgICAgICB0aGlzLmcgPSBNYXRoLnJvdW5kKHRoaXMuZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYiA8IDEpIHtcbiAgICAgICAgICAgIHRoaXMuYiA9IE1hdGgucm91bmQodGhpcy5iKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzVmFsaWQgPSByZ2Iub2s7XG4gICAgfVxuICAgIFRpbnlDb2xvci5wcm90b3R5cGUuaXNEYXJrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRCcmlnaHRuZXNzKCkgPCAxMjg7XG4gICAgfTtcbiAgICBUaW55Q29sb3IucHJvdG90eXBlLmlzTGlnaHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5pc0RhcmsoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHBlcmNlaXZlZCBicmlnaHRuZXNzIG9mIHRoZSBjb2xvciwgZnJvbSAwLTI1NS5cbiAgICAgKi9cbiAgICBUaW55Q29sb3IucHJvdG90eXBlLmdldEJyaWdodG5lc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL0FFUlQjY29sb3ItY29udHJhc3RcbiAgICAgICAgdmFyIHJnYiA9IHRoaXMudG9SZ2IoKTtcbiAgICAgICAgcmV0dXJuIChyZ2IuciAqIDI5OSArIHJnYi5nICogNTg3ICsgcmdiLmIgKiAxMTQpIC8gMTAwMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHBlcmNlaXZlZCBsdW1pbmFuY2Ugb2YgYSBjb2xvciwgZnJvbSAwLTEuXG4gICAgICovXG4gICAgVGlueUNvbG9yLnByb3RvdHlwZS5nZXRMdW1pbmFuY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLVdDQUcyMC0yMDA4MTIxMS8jcmVsYXRpdmVsdW1pbmFuY2VkZWZcbiAgICAgICAgdmFyIHJnYiA9IHRoaXMudG9SZ2IoKTtcbiAgICAgICAgdmFyIFI7XG4gICAgICAgIHZhciBHO1xuICAgICAgICB2YXIgQjtcbiAgICAgICAgdmFyIFJzUkdCID0gcmdiLnIgLyAyNTU7XG4gICAgICAgIHZhciBHc1JHQiA9IHJnYi5nIC8gMjU1O1xuICAgICAgICB2YXIgQnNSR0IgPSByZ2IuYiAvIDI1NTtcbiAgICAgICAgaWYgKFJzUkdCIDw9IDAuMDM5MjgpIHtcbiAgICAgICAgICAgIFIgPSBSc1JHQiAvIDEyLjkyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1leHBvbmVudGlhdGlvbi1vcGVyYXRvclxuICAgICAgICAgICAgUiA9IE1hdGgucG93KChSc1JHQiArIDAuMDU1KSAvIDEuMDU1LCAyLjQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChHc1JHQiA8PSAwLjAzOTI4KSB7XG4gICAgICAgICAgICBHID0gR3NSR0IgLyAxMi45MjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZXhwb25lbnRpYXRpb24tb3BlcmF0b3JcbiAgICAgICAgICAgIEcgPSBNYXRoLnBvdygoR3NSR0IgKyAwLjA1NSkgLyAxLjA1NSwgMi40KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQnNSR0IgPD0gMC4wMzkyOCkge1xuICAgICAgICAgICAgQiA9IEJzUkdCIC8gMTIuOTI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWV4cG9uZW50aWF0aW9uLW9wZXJhdG9yXG4gICAgICAgICAgICBCID0gTWF0aC5wb3coKEJzUkdCICsgMC4wNTUpIC8gMS4wNTUsIDIuNCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDAuMjEyNiAqIFIgKyAwLjcxNTIgKiBHICsgMC4wNzIyICogQjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGFscGhhIHZhbHVlIG9mIGEgY29sb3IsIGZyb20gMC0xLlxuICAgICAqL1xuICAgIFRpbnlDb2xvci5wcm90b3R5cGUuZ2V0QWxwaGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBhbHBoYSB2YWx1ZSBvbiB0aGUgY3VycmVudCBjb2xvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhbHBoYSAtIFRoZSBuZXcgYWxwaGEgdmFsdWUuIFRoZSBhY2NlcHRlZCByYW5nZSBpcyAwLTEuXG4gICAgICovXG4gICAgVGlueUNvbG9yLnByb3RvdHlwZS5zZXRBbHBoYSA9IGZ1bmN0aW9uIChhbHBoYSkge1xuICAgICAgICB0aGlzLmEgPSBib3VuZEFscGhhKGFscGhhKTtcbiAgICAgICAgdGhpcy5yb3VuZEEgPSBNYXRoLnJvdW5kKDEwMCAqIHRoaXMuYSkgLyAxMDA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBjb2xvciBpcyBtb25vY2hyb21lLlxuICAgICAqL1xuICAgIFRpbnlDb2xvci5wcm90b3R5cGUuaXNNb25vY2hyb21lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcyA9IHRoaXMudG9Ic2woKS5zO1xuICAgICAgICByZXR1cm4gcyA9PT0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG9iamVjdCBhcyBhIEhTVkEgb2JqZWN0LlxuICAgICAqL1xuICAgIFRpbnlDb2xvci5wcm90b3R5cGUudG9Ic3YgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBoc3YgPSByZ2JUb0hzdih0aGlzLnIsIHRoaXMuZywgdGhpcy5iKTtcbiAgICAgICAgcmV0dXJuIHsgaDogaHN2LmggKiAzNjAsIHM6IGhzdi5zLCB2OiBoc3YudiwgYTogdGhpcy5hIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBoc3ZhIHZhbHVlcyBpbnRlcnBvbGF0ZWQgaW50byBhIHN0cmluZyB3aXRoIHRoZSBmb2xsb3dpbmcgZm9ybWF0OlxuICAgICAqIFwiaHN2YSh4eHgsIHh4eCwgeHh4LCB4eClcIi5cbiAgICAgKi9cbiAgICBUaW55Q29sb3IucHJvdG90eXBlLnRvSHN2U3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaHN2ID0gcmdiVG9Ic3YodGhpcy5yLCB0aGlzLmcsIHRoaXMuYik7XG4gICAgICAgIHZhciBoID0gTWF0aC5yb3VuZChoc3YuaCAqIDM2MCk7XG4gICAgICAgIHZhciBzID0gTWF0aC5yb3VuZChoc3YucyAqIDEwMCk7XG4gICAgICAgIHZhciB2ID0gTWF0aC5yb3VuZChoc3YudiAqIDEwMCk7XG4gICAgICAgIHJldHVybiB0aGlzLmEgPT09IDEgPyBcImhzdihcIi5jb25jYXQoaCwgXCIsIFwiKS5jb25jYXQocywgXCIlLCBcIikuY29uY2F0KHYsIFwiJSlcIikgOiBcImhzdmEoXCIuY29uY2F0KGgsIFwiLCBcIikuY29uY2F0KHMsIFwiJSwgXCIpLmNvbmNhdCh2LCBcIiUsIFwiKS5jb25jYXQodGhpcy5yb3VuZEEsIFwiKVwiKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG9iamVjdCBhcyBhIEhTTEEgb2JqZWN0LlxuICAgICAqL1xuICAgIFRpbnlDb2xvci5wcm90b3R5cGUudG9Ic2wgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBoc2wgPSByZ2JUb0hzbCh0aGlzLnIsIHRoaXMuZywgdGhpcy5iKTtcbiAgICAgICAgcmV0dXJuIHsgaDogaHNsLmggKiAzNjAsIHM6IGhzbC5zLCBsOiBoc2wubCwgYTogdGhpcy5hIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBoc2xhIHZhbHVlcyBpbnRlcnBvbGF0ZWQgaW50byBhIHN0cmluZyB3aXRoIHRoZSBmb2xsb3dpbmcgZm9ybWF0OlxuICAgICAqIFwiaHNsYSh4eHgsIHh4eCwgeHh4LCB4eClcIi5cbiAgICAgKi9cbiAgICBUaW55Q29sb3IucHJvdG90eXBlLnRvSHNsU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaHNsID0gcmdiVG9Ic2wodGhpcy5yLCB0aGlzLmcsIHRoaXMuYik7XG4gICAgICAgIHZhciBoID0gTWF0aC5yb3VuZChoc2wuaCAqIDM2MCk7XG4gICAgICAgIHZhciBzID0gTWF0aC5yb3VuZChoc2wucyAqIDEwMCk7XG4gICAgICAgIHZhciBsID0gTWF0aC5yb3VuZChoc2wubCAqIDEwMCk7XG4gICAgICAgIHJldHVybiB0aGlzLmEgPT09IDEgPyBcImhzbChcIi5jb25jYXQoaCwgXCIsIFwiKS5jb25jYXQocywgXCIlLCBcIikuY29uY2F0KGwsIFwiJSlcIikgOiBcImhzbGEoXCIuY29uY2F0KGgsIFwiLCBcIikuY29uY2F0KHMsIFwiJSwgXCIpLmNvbmNhdChsLCBcIiUsIFwiKS5jb25jYXQodGhpcy5yb3VuZEEsIFwiKVwiKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGhleCB2YWx1ZSBvZiB0aGUgY29sb3IuXG4gICAgICogQHBhcmFtIGFsbG93M0NoYXIgd2lsbCBzaG9ydGVuIGhleCB2YWx1ZSB0byAzIGNoYXIgaWYgcG9zc2libGVcbiAgICAgKi9cbiAgICBUaW55Q29sb3IucHJvdG90eXBlLnRvSGV4ID0gZnVuY3Rpb24gKGFsbG93M0NoYXIpIHtcbiAgICAgICAgaWYgKGFsbG93M0NoYXIgPT09IHZvaWQgMCkgeyBhbGxvdzNDaGFyID0gZmFsc2U7IH1cbiAgICAgICAgcmV0dXJuIHJnYlRvSGV4KHRoaXMuciwgdGhpcy5nLCB0aGlzLmIsIGFsbG93M0NoYXIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgaGV4IHZhbHVlIG9mIHRoZSBjb2xvciAtd2l0aCBhICMgcHJlZml4ZWQuXG4gICAgICogQHBhcmFtIGFsbG93M0NoYXIgd2lsbCBzaG9ydGVuIGhleCB2YWx1ZSB0byAzIGNoYXIgaWYgcG9zc2libGVcbiAgICAgKi9cbiAgICBUaW55Q29sb3IucHJvdG90eXBlLnRvSGV4U3RyaW5nID0gZnVuY3Rpb24gKGFsbG93M0NoYXIpIHtcbiAgICAgICAgaWYgKGFsbG93M0NoYXIgPT09IHZvaWQgMCkgeyBhbGxvdzNDaGFyID0gZmFsc2U7IH1cbiAgICAgICAgcmV0dXJuICcjJyArIHRoaXMudG9IZXgoYWxsb3czQ2hhcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBoZXggOCB2YWx1ZSBvZiB0aGUgY29sb3IuXG4gICAgICogQHBhcmFtIGFsbG93NENoYXIgd2lsbCBzaG9ydGVuIGhleCB2YWx1ZSB0byA0IGNoYXIgaWYgcG9zc2libGVcbiAgICAgKi9cbiAgICBUaW55Q29sb3IucHJvdG90eXBlLnRvSGV4OCA9IGZ1bmN0aW9uIChhbGxvdzRDaGFyKSB7XG4gICAgICAgIGlmIChhbGxvdzRDaGFyID09PSB2b2lkIDApIHsgYWxsb3c0Q2hhciA9IGZhbHNlOyB9XG4gICAgICAgIHJldHVybiByZ2JhVG9IZXgodGhpcy5yLCB0aGlzLmcsIHRoaXMuYiwgdGhpcy5hLCBhbGxvdzRDaGFyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGhleCA4IHZhbHVlIG9mIHRoZSBjb2xvciAtd2l0aCBhICMgcHJlZml4ZWQuXG4gICAgICogQHBhcmFtIGFsbG93NENoYXIgd2lsbCBzaG9ydGVuIGhleCB2YWx1ZSB0byA0IGNoYXIgaWYgcG9zc2libGVcbiAgICAgKi9cbiAgICBUaW55Q29sb3IucHJvdG90eXBlLnRvSGV4OFN0cmluZyA9IGZ1bmN0aW9uIChhbGxvdzRDaGFyKSB7XG4gICAgICAgIGlmIChhbGxvdzRDaGFyID09PSB2b2lkIDApIHsgYWxsb3c0Q2hhciA9IGZhbHNlOyB9XG4gICAgICAgIHJldHVybiAnIycgKyB0aGlzLnRvSGV4OChhbGxvdzRDaGFyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHNob3J0ZXIgaGV4IHZhbHVlIG9mIHRoZSBjb2xvciBkZXBlbmRzIG9uIGl0cyBhbHBoYSAtd2l0aCBhICMgcHJlZml4ZWQuXG4gICAgICogQHBhcmFtIGFsbG93U2hvcnRDaGFyIHdpbGwgc2hvcnRlbiBoZXggdmFsdWUgdG8gMyBvciA0IGNoYXIgaWYgcG9zc2libGVcbiAgICAgKi9cbiAgICBUaW55Q29sb3IucHJvdG90eXBlLnRvSGV4U2hvcnRTdHJpbmcgPSBmdW5jdGlvbiAoYWxsb3dTaG9ydENoYXIpIHtcbiAgICAgICAgaWYgKGFsbG93U2hvcnRDaGFyID09PSB2b2lkIDApIHsgYWxsb3dTaG9ydENoYXIgPSBmYWxzZTsgfVxuICAgICAgICByZXR1cm4gdGhpcy5hID09PSAxID8gdGhpcy50b0hleFN0cmluZyhhbGxvd1Nob3J0Q2hhcikgOiB0aGlzLnRvSGV4OFN0cmluZyhhbGxvd1Nob3J0Q2hhcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBvYmplY3QgYXMgYSBSR0JBIG9iamVjdC5cbiAgICAgKi9cbiAgICBUaW55Q29sb3IucHJvdG90eXBlLnRvUmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcjogTWF0aC5yb3VuZCh0aGlzLnIpLFxuICAgICAgICAgICAgZzogTWF0aC5yb3VuZCh0aGlzLmcpLFxuICAgICAgICAgICAgYjogTWF0aC5yb3VuZCh0aGlzLmIpLFxuICAgICAgICAgICAgYTogdGhpcy5hLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgUkdCQSB2YWx1ZXMgaW50ZXJwb2xhdGVkIGludG8gYSBzdHJpbmcgd2l0aCB0aGUgZm9sbG93aW5nIGZvcm1hdDpcbiAgICAgKiBcIlJHQkEoeHh4LCB4eHgsIHh4eCwgeHgpXCIuXG4gICAgICovXG4gICAgVGlueUNvbG9yLnByb3RvdHlwZS50b1JnYlN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHIgPSBNYXRoLnJvdW5kKHRoaXMucik7XG4gICAgICAgIHZhciBnID0gTWF0aC5yb3VuZCh0aGlzLmcpO1xuICAgICAgICB2YXIgYiA9IE1hdGgucm91bmQodGhpcy5iKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYSA9PT0gMSA/IFwicmdiKFwiLmNvbmNhdChyLCBcIiwgXCIpLmNvbmNhdChnLCBcIiwgXCIpLmNvbmNhdChiLCBcIilcIikgOiBcInJnYmEoXCIuY29uY2F0KHIsIFwiLCBcIikuY29uY2F0KGcsIFwiLCBcIikuY29uY2F0KGIsIFwiLCBcIikuY29uY2F0KHRoaXMucm91bmRBLCBcIilcIik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBvYmplY3QgYXMgYSBSR0JBIG9iamVjdC5cbiAgICAgKi9cbiAgICBUaW55Q29sb3IucHJvdG90eXBlLnRvUGVyY2VudGFnZVJnYiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGZtdCA9IGZ1bmN0aW9uICh4KSB7IHJldHVybiBcIlwiLmNvbmNhdChNYXRoLnJvdW5kKGJvdW5kMDEoeCwgMjU1KSAqIDEwMCksIFwiJVwiKTsgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHI6IGZtdCh0aGlzLnIpLFxuICAgICAgICAgICAgZzogZm10KHRoaXMuZyksXG4gICAgICAgICAgICBiOiBmbXQodGhpcy5iKSxcbiAgICAgICAgICAgIGE6IHRoaXMuYSxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIFJHQkEgcmVsYXRpdmUgdmFsdWVzIGludGVycG9sYXRlZCBpbnRvIGEgc3RyaW5nXG4gICAgICovXG4gICAgVGlueUNvbG9yLnByb3RvdHlwZS50b1BlcmNlbnRhZ2VSZ2JTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBybmQgPSBmdW5jdGlvbiAoeCkgeyByZXR1cm4gTWF0aC5yb3VuZChib3VuZDAxKHgsIDI1NSkgKiAxMDApOyB9O1xuICAgICAgICByZXR1cm4gdGhpcy5hID09PSAxXG4gICAgICAgICAgICA/IFwicmdiKFwiLmNvbmNhdChybmQodGhpcy5yKSwgXCIlLCBcIikuY29uY2F0KHJuZCh0aGlzLmcpLCBcIiUsIFwiKS5jb25jYXQocm5kKHRoaXMuYiksIFwiJSlcIilcbiAgICAgICAgICAgIDogXCJyZ2JhKFwiLmNvbmNhdChybmQodGhpcy5yKSwgXCIlLCBcIikuY29uY2F0KHJuZCh0aGlzLmcpLCBcIiUsIFwiKS5jb25jYXQocm5kKHRoaXMuYiksIFwiJSwgXCIpLmNvbmNhdCh0aGlzLnJvdW5kQSwgXCIpXCIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhlICdyZWFsJyBuYW1lIG9mIHRoZSBjb2xvciAtaWYgdGhlcmUgaXMgb25lLlxuICAgICAqL1xuICAgIFRpbnlDb2xvci5wcm90b3R5cGUudG9OYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5hID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gJ3RyYW5zcGFyZW50JztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hIDwgMSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBoZXggPSAnIycgKyByZ2JUb0hleCh0aGlzLnIsIHRoaXMuZywgdGhpcy5iLCBmYWxzZSk7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBPYmplY3QuZW50cmllcyhuYW1lcyk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2IgPSBfYVtfaV0sIGtleSA9IF9iWzBdLCB2YWx1ZSA9IF9iWzFdO1xuICAgICAgICAgICAgaWYgKGhleCA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIFRpbnlDb2xvci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgICAgIHZhciBmb3JtYXRTZXQgPSBCb29sZWFuKGZvcm1hdCk7XG4gICAgICAgIGZvcm1hdCA9IGZvcm1hdCAhPT0gbnVsbCAmJiBmb3JtYXQgIT09IHZvaWQgMCA/IGZvcm1hdCA6IHRoaXMuZm9ybWF0O1xuICAgICAgICB2YXIgZm9ybWF0dGVkU3RyaW5nID0gZmFsc2U7XG4gICAgICAgIHZhciBoYXNBbHBoYSA9IHRoaXMuYSA8IDEgJiYgdGhpcy5hID49IDA7XG4gICAgICAgIHZhciBuZWVkc0FscGhhRm9ybWF0ID0gIWZvcm1hdFNldCAmJiBoYXNBbHBoYSAmJiAoZm9ybWF0LnN0YXJ0c1dpdGgoJ2hleCcpIHx8IGZvcm1hdCA9PT0gJ25hbWUnKTtcbiAgICAgICAgaWYgKG5lZWRzQWxwaGFGb3JtYXQpIHtcbiAgICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgXCJ0cmFuc3BhcmVudFwiLCBhbGwgb3RoZXIgbm9uLWFscGhhIGZvcm1hdHNcbiAgICAgICAgICAgIC8vIHdpbGwgcmV0dXJuIHJnYmEgd2hlbiB0aGVyZSBpcyB0cmFuc3BhcmVuY3kuXG4gICAgICAgICAgICBpZiAoZm9ybWF0ID09PSAnbmFtZScgJiYgdGhpcy5hID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9OYW1lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b1JnYlN0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtYXQgPT09ICdyZ2InKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRTdHJpbmcgPSB0aGlzLnRvUmdiU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ3ByZ2InKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRTdHJpbmcgPSB0aGlzLnRvUGVyY2VudGFnZVJnYlN0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtYXQgPT09ICdoZXgnIHx8IGZvcm1hdCA9PT0gJ2hleDYnKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRTdHJpbmcgPSB0aGlzLnRvSGV4U3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ2hleDMnKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRTdHJpbmcgPSB0aGlzLnRvSGV4U3RyaW5nKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtYXQgPT09ICdoZXg0Jykge1xuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy50b0hleDhTdHJpbmcodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ2hleDgnKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRTdHJpbmcgPSB0aGlzLnRvSGV4OFN0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtYXQgPT09ICduYW1lJykge1xuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy50b05hbWUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybWF0ID09PSAnaHNsJykge1xuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy50b0hzbFN0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtYXQgPT09ICdoc3YnKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRTdHJpbmcgPSB0aGlzLnRvSHN2U3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvcm1hdHRlZFN0cmluZyB8fCB0aGlzLnRvSGV4U3RyaW5nKCk7XG4gICAgfTtcbiAgICBUaW55Q29sb3IucHJvdG90eXBlLnRvTnVtYmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKE1hdGgucm91bmQodGhpcy5yKSA8PCAxNikgKyAoTWF0aC5yb3VuZCh0aGlzLmcpIDw8IDgpICsgTWF0aC5yb3VuZCh0aGlzLmIpO1xuICAgIH07XG4gICAgVGlueUNvbG9yLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUaW55Q29sb3IodGhpcy50b1N0cmluZygpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExpZ2h0ZW4gdGhlIGNvbG9yIGEgZ2l2ZW4gYW1vdW50LiBQcm92aWRpbmcgMTAwIHdpbGwgYWx3YXlzIHJldHVybiB3aGl0ZS5cbiAgICAgKiBAcGFyYW0gYW1vdW50IC0gdmFsaWQgYmV0d2VlbiAxLTEwMFxuICAgICAqL1xuICAgIFRpbnlDb2xvci5wcm90b3R5cGUubGlnaHRlbiA9IGZ1bmN0aW9uIChhbW91bnQpIHtcbiAgICAgICAgaWYgKGFtb3VudCA9PT0gdm9pZCAwKSB7IGFtb3VudCA9IDEwOyB9XG4gICAgICAgIHZhciBoc2wgPSB0aGlzLnRvSHNsKCk7XG4gICAgICAgIGhzbC5sICs9IGFtb3VudCAvIDEwMDtcbiAgICAgICAgaHNsLmwgPSBjbGFtcDAxKGhzbC5sKTtcbiAgICAgICAgcmV0dXJuIG5ldyBUaW55Q29sb3IoaHNsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJyaWdodGVuIHRoZSBjb2xvciBhIGdpdmVuIGFtb3VudCwgZnJvbSAwIHRvIDEwMC5cbiAgICAgKiBAcGFyYW0gYW1vdW50IC0gdmFsaWQgYmV0d2VlbiAxLTEwMFxuICAgICAqL1xuICAgIFRpbnlDb2xvci5wcm90b3R5cGUuYnJpZ2h0ZW4gPSBmdW5jdGlvbiAoYW1vdW50KSB7XG4gICAgICAgIGlmIChhbW91bnQgPT09IHZvaWQgMCkgeyBhbW91bnQgPSAxMDsgfVxuICAgICAgICB2YXIgcmdiID0gdGhpcy50b1JnYigpO1xuICAgICAgICByZ2IuciA9IE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgcmdiLnIgLSBNYXRoLnJvdW5kKDI1NSAqIC0oYW1vdW50IC8gMTAwKSkpKTtcbiAgICAgICAgcmdiLmcgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigyNTUsIHJnYi5nIC0gTWF0aC5yb3VuZCgyNTUgKiAtKGFtb3VudCAvIDEwMCkpKSk7XG4gICAgICAgIHJnYi5iID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMjU1LCByZ2IuYiAtIE1hdGgucm91bmQoMjU1ICogLShhbW91bnQgLyAxMDApKSkpO1xuICAgICAgICByZXR1cm4gbmV3IFRpbnlDb2xvcihyZ2IpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGFya2VuIHRoZSBjb2xvciBhIGdpdmVuIGFtb3VudCwgZnJvbSAwIHRvIDEwMC5cbiAgICAgKiBQcm92aWRpbmcgMTAwIHdpbGwgYWx3YXlzIHJldHVybiBibGFjay5cbiAgICAgKiBAcGFyYW0gYW1vdW50IC0gdmFsaWQgYmV0d2VlbiAxLTEwMFxuICAgICAqL1xuICAgIFRpbnlDb2xvci5wcm90b3R5cGUuZGFya2VuID0gZnVuY3Rpb24gKGFtb3VudCkge1xuICAgICAgICBpZiAoYW1vdW50ID09PSB2b2lkIDApIHsgYW1vdW50ID0gMTA7IH1cbiAgICAgICAgdmFyIGhzbCA9IHRoaXMudG9Ic2woKTtcbiAgICAgICAgaHNsLmwgLT0gYW1vdW50IC8gMTAwO1xuICAgICAgICBoc2wubCA9IGNsYW1wMDEoaHNsLmwpO1xuICAgICAgICByZXR1cm4gbmV3IFRpbnlDb2xvcihoc2wpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWl4IHRoZSBjb2xvciB3aXRoIHB1cmUgd2hpdGUsIGZyb20gMCB0byAxMDAuXG4gICAgICogUHJvdmlkaW5nIDAgd2lsbCBkbyBub3RoaW5nLCBwcm92aWRpbmcgMTAwIHdpbGwgYWx3YXlzIHJldHVybiB3aGl0ZS5cbiAgICAgKiBAcGFyYW0gYW1vdW50IC0gdmFsaWQgYmV0d2VlbiAxLTEwMFxuICAgICAqL1xuICAgIFRpbnlDb2xvci5wcm90b3R5cGUudGludCA9IGZ1bmN0aW9uIChhbW91bnQpIHtcbiAgICAgICAgaWYgKGFtb3VudCA9PT0gdm9pZCAwKSB7IGFtb3VudCA9IDEwOyB9XG4gICAgICAgIHJldHVybiB0aGlzLm1peCgnd2hpdGUnLCBhbW91bnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWl4IHRoZSBjb2xvciB3aXRoIHB1cmUgYmxhY2ssIGZyb20gMCB0byAxMDAuXG4gICAgICogUHJvdmlkaW5nIDAgd2lsbCBkbyBub3RoaW5nLCBwcm92aWRpbmcgMTAwIHdpbGwgYWx3YXlzIHJldHVybiBibGFjay5cbiAgICAgKiBAcGFyYW0gYW1vdW50IC0gdmFsaWQgYmV0d2VlbiAxLTEwMFxuICAgICAqL1xuICAgIFRpbnlDb2xvci5wcm90b3R5cGUuc2hhZGUgPSBmdW5jdGlvbiAoYW1vdW50KSB7XG4gICAgICAgIGlmIChhbW91bnQgPT09IHZvaWQgMCkgeyBhbW91bnQgPSAxMDsgfVxuICAgICAgICByZXR1cm4gdGhpcy5taXgoJ2JsYWNrJywgYW1vdW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc2F0dXJhdGUgdGhlIGNvbG9yIGEgZ2l2ZW4gYW1vdW50LCBmcm9tIDAgdG8gMTAwLlxuICAgICAqIFByb3ZpZGluZyAxMDAgd2lsbCBpcyB0aGUgc2FtZSBhcyBjYWxsaW5nIGdyZXlzY2FsZVxuICAgICAqIEBwYXJhbSBhbW91bnQgLSB2YWxpZCBiZXR3ZWVuIDEtMTAwXG4gICAgICovXG4gICAgVGlueUNvbG9yLnByb3RvdHlwZS5kZXNhdHVyYXRlID0gZnVuY3Rpb24gKGFtb3VudCkge1xuICAgICAgICBpZiAoYW1vdW50ID09PSB2b2lkIDApIHsgYW1vdW50ID0gMTA7IH1cbiAgICAgICAgdmFyIGhzbCA9IHRoaXMudG9Ic2woKTtcbiAgICAgICAgaHNsLnMgLT0gYW1vdW50IC8gMTAwO1xuICAgICAgICBoc2wucyA9IGNsYW1wMDEoaHNsLnMpO1xuICAgICAgICByZXR1cm4gbmV3IFRpbnlDb2xvcihoc2wpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2F0dXJhdGUgdGhlIGNvbG9yIGEgZ2l2ZW4gYW1vdW50LCBmcm9tIDAgdG8gMTAwLlxuICAgICAqIEBwYXJhbSBhbW91bnQgLSB2YWxpZCBiZXR3ZWVuIDEtMTAwXG4gICAgICovXG4gICAgVGlueUNvbG9yLnByb3RvdHlwZS5zYXR1cmF0ZSA9IGZ1bmN0aW9uIChhbW91bnQpIHtcbiAgICAgICAgaWYgKGFtb3VudCA9PT0gdm9pZCAwKSB7IGFtb3VudCA9IDEwOyB9XG4gICAgICAgIHZhciBoc2wgPSB0aGlzLnRvSHNsKCk7XG4gICAgICAgIGhzbC5zICs9IGFtb3VudCAvIDEwMDtcbiAgICAgICAgaHNsLnMgPSBjbGFtcDAxKGhzbC5zKTtcbiAgICAgICAgcmV0dXJuIG5ldyBUaW55Q29sb3IoaHNsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbXBsZXRlbHkgZGVzYXR1cmF0ZXMgYSBjb2xvciBpbnRvIGdyZXlzY2FsZS5cbiAgICAgKiBTYW1lIGFzIGNhbGxpbmcgYGRlc2F0dXJhdGUoMTAwKWBcbiAgICAgKi9cbiAgICBUaW55Q29sb3IucHJvdG90eXBlLmdyZXlzY2FsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVzYXR1cmF0ZSgxMDApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3BpbiB0YWtlcyBhIHBvc2l0aXZlIG9yIG5lZ2F0aXZlIGFtb3VudCB3aXRoaW4gWy0zNjAsIDM2MF0gaW5kaWNhdGluZyB0aGUgY2hhbmdlIG9mIGh1ZS5cbiAgICAgKiBWYWx1ZXMgb3V0c2lkZSBvZiB0aGlzIHJhbmdlIHdpbGwgYmUgd3JhcHBlZCBpbnRvIHRoaXMgcmFuZ2UuXG4gICAgICovXG4gICAgVGlueUNvbG9yLnByb3RvdHlwZS5zcGluID0gZnVuY3Rpb24gKGFtb3VudCkge1xuICAgICAgICB2YXIgaHNsID0gdGhpcy50b0hzbCgpO1xuICAgICAgICB2YXIgaHVlID0gKGhzbC5oICsgYW1vdW50KSAlIDM2MDtcbiAgICAgICAgaHNsLmggPSBodWUgPCAwID8gMzYwICsgaHVlIDogaHVlO1xuICAgICAgICByZXR1cm4gbmV3IFRpbnlDb2xvcihoc2wpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWl4IHRoZSBjdXJyZW50IGNvbG9yIGEgZ2l2ZW4gYW1vdW50IHdpdGggYW5vdGhlciBjb2xvciwgZnJvbSAwIHRvIDEwMC5cbiAgICAgKiAwIG1lYW5zIG5vIG1peGluZyAocmV0dXJuIGN1cnJlbnQgY29sb3IpLlxuICAgICAqL1xuICAgIFRpbnlDb2xvci5wcm90b3R5cGUubWl4ID0gZnVuY3Rpb24gKGNvbG9yLCBhbW91bnQpIHtcbiAgICAgICAgaWYgKGFtb3VudCA9PT0gdm9pZCAwKSB7IGFtb3VudCA9IDUwOyB9XG4gICAgICAgIHZhciByZ2IxID0gdGhpcy50b1JnYigpO1xuICAgICAgICB2YXIgcmdiMiA9IG5ldyBUaW55Q29sb3IoY29sb3IpLnRvUmdiKCk7XG4gICAgICAgIHZhciBwID0gYW1vdW50IC8gMTAwO1xuICAgICAgICB2YXIgcmdiYSA9IHtcbiAgICAgICAgICAgIHI6IChyZ2IyLnIgLSByZ2IxLnIpICogcCArIHJnYjEucixcbiAgICAgICAgICAgIGc6IChyZ2IyLmcgLSByZ2IxLmcpICogcCArIHJnYjEuZyxcbiAgICAgICAgICAgIGI6IChyZ2IyLmIgLSByZ2IxLmIpICogcCArIHJnYjEuYixcbiAgICAgICAgICAgIGE6IChyZ2IyLmEgLSByZ2IxLmEpICogcCArIHJnYjEuYSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBUaW55Q29sb3IocmdiYSk7XG4gICAgfTtcbiAgICBUaW55Q29sb3IucHJvdG90eXBlLmFuYWxvZ291cyA9IGZ1bmN0aW9uIChyZXN1bHRzLCBzbGljZXMpIHtcbiAgICAgICAgaWYgKHJlc3VsdHMgPT09IHZvaWQgMCkgeyByZXN1bHRzID0gNjsgfVxuICAgICAgICBpZiAoc2xpY2VzID09PSB2b2lkIDApIHsgc2xpY2VzID0gMzA7IH1cbiAgICAgICAgdmFyIGhzbCA9IHRoaXMudG9Ic2woKTtcbiAgICAgICAgdmFyIHBhcnQgPSAzNjAgLyBzbGljZXM7XG4gICAgICAgIHZhciByZXQgPSBbdGhpc107XG4gICAgICAgIGZvciAoaHNsLmggPSAoaHNsLmggLSAoKHBhcnQgKiByZXN1bHRzKSA+PiAxKSArIDcyMCkgJSAzNjA7IC0tcmVzdWx0czspIHtcbiAgICAgICAgICAgIGhzbC5oID0gKGhzbC5oICsgcGFydCkgJSAzNjA7XG4gICAgICAgICAgICByZXQucHVzaChuZXcgVGlueUNvbG9yKGhzbCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiB0YWtlbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9pbmZ1c2lvbi9qUXVlcnkteGNvbG9yL2Jsb2IvbWFzdGVyL2pxdWVyeS54Y29sb3IuanNcbiAgICAgKi9cbiAgICBUaW55Q29sb3IucHJvdG90eXBlLmNvbXBsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBoc2wgPSB0aGlzLnRvSHNsKCk7XG4gICAgICAgIGhzbC5oID0gKGhzbC5oICsgMTgwKSAlIDM2MDtcbiAgICAgICAgcmV0dXJuIG5ldyBUaW55Q29sb3IoaHNsKTtcbiAgICB9O1xuICAgIFRpbnlDb2xvci5wcm90b3R5cGUubW9ub2Nocm9tYXRpYyA9IGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgICAgIGlmIChyZXN1bHRzID09PSB2b2lkIDApIHsgcmVzdWx0cyA9IDY7IH1cbiAgICAgICAgdmFyIGhzdiA9IHRoaXMudG9Ic3YoKTtcbiAgICAgICAgdmFyIGggPSBoc3YuaDtcbiAgICAgICAgdmFyIHMgPSBoc3YucztcbiAgICAgICAgdmFyIHYgPSBoc3YudjtcbiAgICAgICAgdmFyIHJlcyA9IFtdO1xuICAgICAgICB2YXIgbW9kaWZpY2F0aW9uID0gMSAvIHJlc3VsdHM7XG4gICAgICAgIHdoaWxlIChyZXN1bHRzLS0pIHtcbiAgICAgICAgICAgIHJlcy5wdXNoKG5ldyBUaW55Q29sb3IoeyBoOiBoLCBzOiBzLCB2OiB2IH0pKTtcbiAgICAgICAgICAgIHYgPSAodiArIG1vZGlmaWNhdGlvbikgJSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICBUaW55Q29sb3IucHJvdG90eXBlLnNwbGl0Y29tcGxlbWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGhzbCA9IHRoaXMudG9Ic2woKTtcbiAgICAgICAgdmFyIGggPSBoc2wuaDtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICBuZXcgVGlueUNvbG9yKHsgaDogKGggKyA3MikgJSAzNjAsIHM6IGhzbC5zLCBsOiBoc2wubCB9KSxcbiAgICAgICAgICAgIG5ldyBUaW55Q29sb3IoeyBoOiAoaCArIDIxNikgJSAzNjAsIHM6IGhzbC5zLCBsOiBoc2wubCB9KSxcbiAgICAgICAgXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbXB1dGUgaG93IHRoZSBjb2xvciB3b3VsZCBhcHBlYXIgb24gYSBiYWNrZ3JvdW5kXG4gICAgICovXG4gICAgVGlueUNvbG9yLnByb3RvdHlwZS5vbkJhY2tncm91bmQgPSBmdW5jdGlvbiAoYmFja2dyb3VuZCkge1xuICAgICAgICB2YXIgZmcgPSB0aGlzLnRvUmdiKCk7XG4gICAgICAgIHZhciBiZyA9IG5ldyBUaW55Q29sb3IoYmFja2dyb3VuZCkudG9SZ2IoKTtcbiAgICAgICAgdmFyIGFscGhhID0gZmcuYSArIGJnLmEgKiAoMSAtIGZnLmEpO1xuICAgICAgICByZXR1cm4gbmV3IFRpbnlDb2xvcih7XG4gICAgICAgICAgICByOiAoZmcuciAqIGZnLmEgKyBiZy5yICogYmcuYSAqICgxIC0gZmcuYSkpIC8gYWxwaGEsXG4gICAgICAgICAgICBnOiAoZmcuZyAqIGZnLmEgKyBiZy5nICogYmcuYSAqICgxIC0gZmcuYSkpIC8gYWxwaGEsXG4gICAgICAgICAgICBiOiAoZmcuYiAqIGZnLmEgKyBiZy5iICogYmcuYSAqICgxIC0gZmcuYSkpIC8gYWxwaGEsXG4gICAgICAgICAgICBhOiBhbHBoYSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3IgYHBvbHlhZCgzKWBcbiAgICAgKi9cbiAgICBUaW55Q29sb3IucHJvdG90eXBlLnRyaWFkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wb2x5YWQoMyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3IgYHBvbHlhZCg0KWBcbiAgICAgKi9cbiAgICBUaW55Q29sb3IucHJvdG90eXBlLnRldHJhZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9seWFkKDQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHBvbHlhZCBjb2xvcnMsIGxpa2UgKGZvciAxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCBldGMuLi4pXG4gICAgICogbW9uYWQsIGR5YWQsIHRyaWFkLCB0ZXRyYWQsIHBlbnRhZCwgaGV4YWQsIGhlcHRhZCwgb2N0YWQsIGV0Yy4uLlxuICAgICAqL1xuICAgIFRpbnlDb2xvci5wcm90b3R5cGUucG9seWFkID0gZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgdmFyIGhzbCA9IHRoaXMudG9Ic2woKTtcbiAgICAgICAgdmFyIGggPSBoc2wuaDtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFt0aGlzXTtcbiAgICAgICAgdmFyIGluY3JlbWVudCA9IDM2MCAvIG47XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChuZXcgVGlueUNvbG9yKHsgaDogKGggKyBpICogaW5jcmVtZW50KSAlIDM2MCwgczogaHNsLnMsIGw6IGhzbC5sIH0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogY29tcGFyZSBjb2xvciB2cyBjdXJyZW50IGNvbG9yXG4gICAgICovXG4gICAgVGlueUNvbG9yLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAoY29sb3IpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9SZ2JTdHJpbmcoKSA9PT0gbmV3IFRpbnlDb2xvcihjb2xvcikudG9SZ2JTdHJpbmcoKTtcbiAgICB9O1xuICAgIHJldHVybiBUaW55Q29sb3I7XG59KCkpO1xuZXhwb3J0IHsgVGlueUNvbG9yIH07XG4vLyBrZXB0IGZvciBiYWNrd2FyZHMgY29tcGF0YWJpbGl0eSB3aXRoIHYxXG5leHBvcnQgZnVuY3Rpb24gdGlueWNvbG9yKGNvbG9yLCBvcHRzKSB7XG4gICAgaWYgKGNvbG9yID09PSB2b2lkIDApIHsgY29sb3IgPSAnJzsgfVxuICAgIGlmIChvcHRzID09PSB2b2lkIDApIHsgb3B0cyA9IHt9OyB9XG4gICAgcmV0dXJuIG5ldyBUaW55Q29sb3IoY29sb3IsIG9wdHMpO1xufVxuIiwiaW1wb3J0IHsgY29tcHV0ZWQgfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgVGlueUNvbG9yIH0gZnJvbSAnQGN0cmwvdGlueWNvbG9yJztcbmltcG9ydCB7IHVzZUZvcm1EaXNhYmxlZCB9IGZyb20gJy4uLy4uL2Zvcm0vc3JjL2hvb2tzL3VzZS1mb3JtLWNvbW1vbi1wcm9wcy5tanMnO1xuaW1wb3J0IHsgdXNlTmFtZXNwYWNlIH0gZnJvbSAnLi4vLi4vLi4vaG9va3MvdXNlLW5hbWVzcGFjZS9pbmRleC5tanMnO1xuXG5mdW5jdGlvbiBkYXJrZW4oY29sb3IsIGFtb3VudCA9IDIwKSB7XG4gIHJldHVybiBjb2xvci5taXgoXCIjMTQxNDE0XCIsIGFtb3VudCkudG9TdHJpbmcoKTtcbn1cbmZ1bmN0aW9uIHVzZUJ1dHRvbkN1c3RvbVN0eWxlKHByb3BzKSB7XG4gIGNvbnN0IF9kaXNhYmxlZCA9IHVzZUZvcm1EaXNhYmxlZCgpO1xuICBjb25zdCBucyA9IHVzZU5hbWVzcGFjZShcImJ1dHRvblwiKTtcbiAgcmV0dXJuIGNvbXB1dGVkKCgpID0+IHtcbiAgICBsZXQgc3R5bGVzID0ge307XG4gICAgbGV0IGJ1dHRvbkNvbG9yID0gcHJvcHMuY29sb3I7XG4gICAgaWYgKGJ1dHRvbkNvbG9yKSB7XG4gICAgICBjb25zdCBtYXRjaCA9IGJ1dHRvbkNvbG9yLm1hdGNoKC92YXJcXCgoLio/KVxcKS8pO1xuICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIGJ1dHRvbkNvbG9yID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUod2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZShtYXRjaFsxXSk7XG4gICAgICB9XG4gICAgICBjb25zdCBjb2xvciA9IG5ldyBUaW55Q29sb3IoYnV0dG9uQ29sb3IpO1xuICAgICAgY29uc3QgYWN0aXZlQmdDb2xvciA9IHByb3BzLmRhcmsgPyBjb2xvci50aW50KDIwKS50b1N0cmluZygpIDogZGFya2VuKGNvbG9yLCAyMCk7XG4gICAgICBpZiAocHJvcHMucGxhaW4pIHtcbiAgICAgICAgc3R5bGVzID0gbnMuY3NzVmFyQmxvY2soe1xuICAgICAgICAgIFwiYmctY29sb3JcIjogcHJvcHMuZGFyayA/IGRhcmtlbihjb2xvciwgOTApIDogY29sb3IudGludCg5MCkudG9TdHJpbmcoKSxcbiAgICAgICAgICBcInRleHQtY29sb3JcIjogYnV0dG9uQ29sb3IsXG4gICAgICAgICAgXCJib3JkZXItY29sb3JcIjogcHJvcHMuZGFyayA/IGRhcmtlbihjb2xvciwgNTApIDogY29sb3IudGludCg1MCkudG9TdHJpbmcoKSxcbiAgICAgICAgICBcImhvdmVyLXRleHQtY29sb3JcIjogYHZhcigke25zLmNzc1Zhck5hbWUoXCJjb2xvci13aGl0ZVwiKX0pYCxcbiAgICAgICAgICBcImhvdmVyLWJnLWNvbG9yXCI6IGJ1dHRvbkNvbG9yLFxuICAgICAgICAgIFwiaG92ZXItYm9yZGVyLWNvbG9yXCI6IGJ1dHRvbkNvbG9yLFxuICAgICAgICAgIFwiYWN0aXZlLWJnLWNvbG9yXCI6IGFjdGl2ZUJnQ29sb3IsXG4gICAgICAgICAgXCJhY3RpdmUtdGV4dC1jb2xvclwiOiBgdmFyKCR7bnMuY3NzVmFyTmFtZShcImNvbG9yLXdoaXRlXCIpfSlgLFxuICAgICAgICAgIFwiYWN0aXZlLWJvcmRlci1jb2xvclwiOiBhY3RpdmVCZ0NvbG9yXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoX2Rpc2FibGVkLnZhbHVlKSB7XG4gICAgICAgICAgc3R5bGVzW25zLmNzc1ZhckJsb2NrTmFtZShcImRpc2FibGVkLWJnLWNvbG9yXCIpXSA9IHByb3BzLmRhcmsgPyBkYXJrZW4oY29sb3IsIDkwKSA6IGNvbG9yLnRpbnQoOTApLnRvU3RyaW5nKCk7XG4gICAgICAgICAgc3R5bGVzW25zLmNzc1ZhckJsb2NrTmFtZShcImRpc2FibGVkLXRleHQtY29sb3JcIildID0gcHJvcHMuZGFyayA/IGRhcmtlbihjb2xvciwgNTApIDogY29sb3IudGludCg1MCkudG9TdHJpbmcoKTtcbiAgICAgICAgICBzdHlsZXNbbnMuY3NzVmFyQmxvY2tOYW1lKFwiZGlzYWJsZWQtYm9yZGVyLWNvbG9yXCIpXSA9IHByb3BzLmRhcmsgPyBkYXJrZW4oY29sb3IsIDgwKSA6IGNvbG9yLnRpbnQoODApLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGhvdmVyQmdDb2xvciA9IHByb3BzLmRhcmsgPyBkYXJrZW4oY29sb3IsIDMwKSA6IGNvbG9yLnRpbnQoMzApLnRvU3RyaW5nKCk7XG4gICAgICAgIGNvbnN0IHRleHRDb2xvciA9IGNvbG9yLmlzRGFyaygpID8gYHZhcigke25zLmNzc1Zhck5hbWUoXCJjb2xvci13aGl0ZVwiKX0pYCA6IGB2YXIoJHtucy5jc3NWYXJOYW1lKFwiY29sb3ItYmxhY2tcIil9KWA7XG4gICAgICAgIHN0eWxlcyA9IG5zLmNzc1ZhckJsb2NrKHtcbiAgICAgICAgICBcImJnLWNvbG9yXCI6IGJ1dHRvbkNvbG9yLFxuICAgICAgICAgIFwidGV4dC1jb2xvclwiOiB0ZXh0Q29sb3IsXG4gICAgICAgICAgXCJib3JkZXItY29sb3JcIjogYnV0dG9uQ29sb3IsXG4gICAgICAgICAgXCJob3Zlci1iZy1jb2xvclwiOiBob3ZlckJnQ29sb3IsXG4gICAgICAgICAgXCJob3Zlci10ZXh0LWNvbG9yXCI6IHRleHRDb2xvcixcbiAgICAgICAgICBcImhvdmVyLWJvcmRlci1jb2xvclwiOiBob3ZlckJnQ29sb3IsXG4gICAgICAgICAgXCJhY3RpdmUtYmctY29sb3JcIjogYWN0aXZlQmdDb2xvcixcbiAgICAgICAgICBcImFjdGl2ZS1ib3JkZXItY29sb3JcIjogYWN0aXZlQmdDb2xvclxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKF9kaXNhYmxlZC52YWx1ZSkge1xuICAgICAgICAgIGNvbnN0IGRpc2FibGVkQnV0dG9uQ29sb3IgPSBwcm9wcy5kYXJrID8gZGFya2VuKGNvbG9yLCA1MCkgOiBjb2xvci50aW50KDUwKS50b1N0cmluZygpO1xuICAgICAgICAgIHN0eWxlc1tucy5jc3NWYXJCbG9ja05hbWUoXCJkaXNhYmxlZC1iZy1jb2xvclwiKV0gPSBkaXNhYmxlZEJ1dHRvbkNvbG9yO1xuICAgICAgICAgIHN0eWxlc1tucy5jc3NWYXJCbG9ja05hbWUoXCJkaXNhYmxlZC10ZXh0LWNvbG9yXCIpXSA9IHByb3BzLmRhcmsgPyBcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KVwiIDogYHZhcigke25zLmNzc1Zhck5hbWUoXCJjb2xvci13aGl0ZVwiKX0pYDtcbiAgICAgICAgICBzdHlsZXNbbnMuY3NzVmFyQmxvY2tOYW1lKFwiZGlzYWJsZWQtYm9yZGVyLWNvbG9yXCIpXSA9IGRpc2FibGVkQnV0dG9uQ29sb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0eWxlcztcbiAgfSk7XG59XG5cbmV4cG9ydCB7IGRhcmtlbiwgdXNlQnV0dG9uQ3VzdG9tU3R5bGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1dHRvbi1jdXN0b20ubWpzLm1hcFxuIiwiaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCBjb21wdXRlZCwgb3BlbkJsb2NrLCBjcmVhdGVCbG9jaywgcmVzb2x2ZUR5bmFtaWNDb21wb25lbnQsIG1lcmdlUHJvcHMsIHVucmVmLCB3aXRoQ3R4LCBjcmVhdGVFbGVtZW50QmxvY2ssIEZyYWdtZW50LCByZW5kZXJTbG90LCBub3JtYWxpemVDbGFzcywgY3JlYXRlQ29tbWVudFZOb2RlIH0gZnJvbSAndnVlJztcbmltcG9ydCB7IEVsSWNvbiB9IGZyb20gJy4uLy4uL2ljb24vaW5kZXgubWpzJztcbmltcG9ydCB7IHVzZUJ1dHRvbiB9IGZyb20gJy4vdXNlLWJ1dHRvbi5tanMnO1xuaW1wb3J0IHsgYnV0dG9uUHJvcHMsIGJ1dHRvbkVtaXRzIH0gZnJvbSAnLi9idXR0b24ubWpzJztcbmltcG9ydCB7IHVzZUJ1dHRvbkN1c3RvbVN0eWxlIH0gZnJvbSAnLi9idXR0b24tY3VzdG9tLm1qcyc7XG5pbXBvcnQgX2V4cG9ydF9zZmMgZnJvbSAnLi4vLi4vLi4vX3ZpcnR1YWwvcGx1Z2luLXZ1ZV9leHBvcnQtaGVscGVyLm1qcyc7XG5pbXBvcnQgeyB1c2VOYW1lc3BhY2UgfSBmcm9tICcuLi8uLi8uLi9ob29rcy91c2UtbmFtZXNwYWNlL2luZGV4Lm1qcyc7XG5cbmNvbnN0IF9fZGVmYXVsdF9fID0gZGVmaW5lQ29tcG9uZW50KHtcbiAgbmFtZTogXCJFbEJ1dHRvblwiXG59KTtcbmNvbnN0IF9zZmNfbWFpbiA9IC8qIEBfX1BVUkVfXyAqLyBkZWZpbmVDb21wb25lbnQoe1xuICAuLi5fX2RlZmF1bHRfXyxcbiAgcHJvcHM6IGJ1dHRvblByb3BzLFxuICBlbWl0czogYnV0dG9uRW1pdHMsXG4gIHNldHVwKF9fcHJvcHMsIHsgZXhwb3NlLCBlbWl0IH0pIHtcbiAgICBjb25zdCBwcm9wcyA9IF9fcHJvcHM7XG4gICAgY29uc3QgYnV0dG9uU3R5bGUgPSB1c2VCdXR0b25DdXN0b21TdHlsZShwcm9wcyk7XG4gICAgY29uc3QgbnMgPSB1c2VOYW1lc3BhY2UoXCJidXR0b25cIik7XG4gICAgY29uc3QgeyBfcmVmLCBfc2l6ZSwgX3R5cGUsIF9kaXNhYmxlZCwgX3Byb3BzLCBzaG91bGRBZGRTcGFjZSwgaGFuZGxlQ2xpY2sgfSA9IHVzZUJ1dHRvbihwcm9wcywgZW1pdCk7XG4gICAgY29uc3QgYnV0dG9uS2xzID0gY29tcHV0ZWQoKCkgPT4gW1xuICAgICAgbnMuYigpLFxuICAgICAgbnMubShfdHlwZS52YWx1ZSksXG4gICAgICBucy5tKF9zaXplLnZhbHVlKSxcbiAgICAgIG5zLmlzKFwiZGlzYWJsZWRcIiwgX2Rpc2FibGVkLnZhbHVlKSxcbiAgICAgIG5zLmlzKFwibG9hZGluZ1wiLCBwcm9wcy5sb2FkaW5nKSxcbiAgICAgIG5zLmlzKFwicGxhaW5cIiwgcHJvcHMucGxhaW4pLFxuICAgICAgbnMuaXMoXCJyb3VuZFwiLCBwcm9wcy5yb3VuZCksXG4gICAgICBucy5pcyhcImNpcmNsZVwiLCBwcm9wcy5jaXJjbGUpLFxuICAgICAgbnMuaXMoXCJ0ZXh0XCIsIHByb3BzLnRleHQpLFxuICAgICAgbnMuaXMoXCJsaW5rXCIsIHByb3BzLmxpbmspLFxuICAgICAgbnMuaXMoXCJoYXMtYmdcIiwgcHJvcHMuYmcpXG4gICAgXSk7XG4gICAgZXhwb3NlKHtcbiAgICAgIHJlZjogX3JlZixcbiAgICAgIHNpemU6IF9zaXplLFxuICAgICAgdHlwZTogX3R5cGUsXG4gICAgICBkaXNhYmxlZDogX2Rpc2FibGVkLFxuICAgICAgc2hvdWxkQWRkU3BhY2VcbiAgICB9KTtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4ge1xuICAgICAgcmV0dXJuIG9wZW5CbG9jaygpLCBjcmVhdGVCbG9jayhyZXNvbHZlRHluYW1pY0NvbXBvbmVudChfY3R4LnRhZyksIG1lcmdlUHJvcHMoe1xuICAgICAgICByZWZfa2V5OiBcIl9yZWZcIixcbiAgICAgICAgcmVmOiBfcmVmXG4gICAgICB9LCB1bnJlZihfcHJvcHMpLCB7XG4gICAgICAgIGNsYXNzOiB1bnJlZihidXR0b25LbHMpLFxuICAgICAgICBzdHlsZTogdW5yZWYoYnV0dG9uU3R5bGUpLFxuICAgICAgICBvbkNsaWNrOiB1bnJlZihoYW5kbGVDbGljaylcbiAgICAgIH0pLCB7XG4gICAgICAgIGRlZmF1bHQ6IHdpdGhDdHgoKCkgPT4gW1xuICAgICAgICAgIF9jdHgubG9hZGluZyA/IChvcGVuQmxvY2soKSwgY3JlYXRlRWxlbWVudEJsb2NrKEZyYWdtZW50LCB7IGtleTogMCB9LCBbXG4gICAgICAgICAgICBfY3R4LiRzbG90cy5sb2FkaW5nID8gcmVuZGVyU2xvdChfY3R4LiRzbG90cywgXCJsb2FkaW5nXCIsIHsga2V5OiAwIH0pIDogKG9wZW5CbG9jaygpLCBjcmVhdGVCbG9jayh1bnJlZihFbEljb24pLCB7XG4gICAgICAgICAgICAgIGtleTogMSxcbiAgICAgICAgICAgICAgY2xhc3M6IG5vcm1hbGl6ZUNsYXNzKHVucmVmKG5zKS5pcyhcImxvYWRpbmdcIikpXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6IHdpdGhDdHgoKCkgPT4gW1xuICAgICAgICAgICAgICAgIChvcGVuQmxvY2soKSwgY3JlYXRlQmxvY2socmVzb2x2ZUR5bmFtaWNDb21wb25lbnQoX2N0eC5sb2FkaW5nSWNvbikpKVxuICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgXzogMVxuICAgICAgICAgICAgfSwgOCwgW1wiY2xhc3NcIl0pKVxuICAgICAgICAgIF0sIDY0KSkgOiBfY3R4Lmljb24gfHwgX2N0eC4kc2xvdHMuaWNvbiA/IChvcGVuQmxvY2soKSwgY3JlYXRlQmxvY2sodW5yZWYoRWxJY29uKSwgeyBrZXk6IDEgfSwge1xuICAgICAgICAgICAgZGVmYXVsdDogd2l0aEN0eCgoKSA9PiBbXG4gICAgICAgICAgICAgIF9jdHguaWNvbiA/IChvcGVuQmxvY2soKSwgY3JlYXRlQmxvY2socmVzb2x2ZUR5bmFtaWNDb21wb25lbnQoX2N0eC5pY29uKSwgeyBrZXk6IDAgfSkpIDogcmVuZGVyU2xvdChfY3R4LiRzbG90cywgXCJpY29uXCIsIHsga2V5OiAxIH0pXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIF86IDNcbiAgICAgICAgICB9KSkgOiBjcmVhdGVDb21tZW50Vk5vZGUoXCJ2LWlmXCIsIHRydWUpLFxuICAgICAgICAgIF9jdHguJHNsb3RzLmRlZmF1bHQgPyAob3BlbkJsb2NrKCksIGNyZWF0ZUVsZW1lbnRCbG9jayhcInNwYW5cIiwge1xuICAgICAgICAgICAga2V5OiAyLFxuICAgICAgICAgICAgY2xhc3M6IG5vcm1hbGl6ZUNsYXNzKHsgW3VucmVmKG5zKS5lbShcInRleHRcIiwgXCJleHBhbmRcIildOiB1bnJlZihzaG91bGRBZGRTcGFjZSkgfSlcbiAgICAgICAgICB9LCBbXG4gICAgICAgICAgICByZW5kZXJTbG90KF9jdHguJHNsb3RzLCBcImRlZmF1bHRcIilcbiAgICAgICAgICBdLCAyKSkgOiBjcmVhdGVDb21tZW50Vk5vZGUoXCJ2LWlmXCIsIHRydWUpXG4gICAgICAgIF0pLFxuICAgICAgICBfOiAzXG4gICAgICB9LCAxNiwgW1wiY2xhc3NcIiwgXCJzdHlsZVwiLCBcIm9uQ2xpY2tcIl0pO1xuICAgIH07XG4gIH1cbn0pO1xudmFyIEJ1dHRvbiA9IC8qIEBfX1BVUkVfXyAqLyBfZXhwb3J0X3NmYyhfc2ZjX21haW4sIFtbXCJfX2ZpbGVcIiwgXCJidXR0b24udnVlXCJdXSk7XG5cbmV4cG9ydCB7IEJ1dHRvbiBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1idXR0b24yLm1qcy5tYXBcbiIsImltcG9ydCB7IGJ1dHRvblByb3BzIH0gZnJvbSAnLi9idXR0b24ubWpzJztcblxuY29uc3QgYnV0dG9uR3JvdXBQcm9wcyA9IHtcbiAgc2l6ZTogYnV0dG9uUHJvcHMuc2l6ZSxcbiAgdHlwZTogYnV0dG9uUHJvcHMudHlwZVxufTtcblxuZXhwb3J0IHsgYnV0dG9uR3JvdXBQcm9wcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnV0dG9uLWdyb3VwLm1qcy5tYXBcbiIsImltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgcHJvdmlkZSwgcmVhY3RpdmUsIHRvUmVmLCBvcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jaywgbm9ybWFsaXplQ2xhc3MsIHVucmVmLCByZW5kZXJTbG90IH0gZnJvbSAndnVlJztcbmltcG9ydCB7IGJ1dHRvbkdyb3VwUHJvcHMgfSBmcm9tICcuL2J1dHRvbi1ncm91cC5tanMnO1xuaW1wb3J0IHsgYnV0dG9uR3JvdXBDb250ZXh0S2V5IH0gZnJvbSAnLi9jb25zdGFudHMubWpzJztcbmltcG9ydCBfZXhwb3J0X3NmYyBmcm9tICcuLi8uLi8uLi9fdmlydHVhbC9wbHVnaW4tdnVlX2V4cG9ydC1oZWxwZXIubWpzJztcbmltcG9ydCB7IHVzZU5hbWVzcGFjZSB9IGZyb20gJy4uLy4uLy4uL2hvb2tzL3VzZS1uYW1lc3BhY2UvaW5kZXgubWpzJztcblxuY29uc3QgX19kZWZhdWx0X18gPSBkZWZpbmVDb21wb25lbnQoe1xuICBuYW1lOiBcIkVsQnV0dG9uR3JvdXBcIlxufSk7XG5jb25zdCBfc2ZjX21haW4gPSAvKiBAX19QVVJFX18gKi8gZGVmaW5lQ29tcG9uZW50KHtcbiAgLi4uX19kZWZhdWx0X18sXG4gIHByb3BzOiBidXR0b25Hcm91cFByb3BzLFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgY29uc3QgcHJvcHMgPSBfX3Byb3BzO1xuICAgIHByb3ZpZGUoYnV0dG9uR3JvdXBDb250ZXh0S2V5LCByZWFjdGl2ZSh7XG4gICAgICBzaXplOiB0b1JlZihwcm9wcywgXCJzaXplXCIpLFxuICAgICAgdHlwZTogdG9SZWYocHJvcHMsIFwidHlwZVwiKVxuICAgIH0pKTtcbiAgICBjb25zdCBucyA9IHVzZU5hbWVzcGFjZShcImJ1dHRvblwiKTtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4ge1xuICAgICAgcmV0dXJuIG9wZW5CbG9jaygpLCBjcmVhdGVFbGVtZW50QmxvY2soXCJkaXZcIiwge1xuICAgICAgICBjbGFzczogbm9ybWFsaXplQ2xhc3ModW5yZWYobnMpLmIoXCJncm91cFwiKSlcbiAgICAgIH0sIFtcbiAgICAgICAgcmVuZGVyU2xvdChfY3R4LiRzbG90cywgXCJkZWZhdWx0XCIpXG4gICAgICBdLCAyKTtcbiAgICB9O1xuICB9XG59KTtcbnZhciBCdXR0b25Hcm91cCA9IC8qIEBfX1BVUkVfXyAqLyBfZXhwb3J0X3NmYyhfc2ZjX21haW4sIFtbXCJfX2ZpbGVcIiwgXCJidXR0b24tZ3JvdXAudnVlXCJdXSk7XG5cbmV4cG9ydCB7IEJ1dHRvbkdyb3VwIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1dHRvbi1ncm91cDIubWpzLm1hcFxuIiwiaW1wb3J0IEJ1dHRvbiBmcm9tICcuL3NyYy9idXR0b24yLm1qcyc7XG5pbXBvcnQgQnV0dG9uR3JvdXAgZnJvbSAnLi9zcmMvYnV0dG9uLWdyb3VwMi5tanMnO1xuZXhwb3J0IHsgYnV0dG9uRW1pdHMsIGJ1dHRvbk5hdGl2ZVR5cGVzLCBidXR0b25Qcm9wcywgYnV0dG9uVHlwZXMgfSBmcm9tICcuL3NyYy9idXR0b24ubWpzJztcbmV4cG9ydCB7IGJ1dHRvbkdyb3VwQ29udGV4dEtleSB9IGZyb20gJy4vc3JjL2NvbnN0YW50cy5tanMnO1xuaW1wb3J0IHsgd2l0aEluc3RhbGwsIHdpdGhOb29wSW5zdGFsbCB9IGZyb20gJy4uLy4uL3V0aWxzL3Z1ZS9pbnN0YWxsLm1qcyc7XG5cbmNvbnN0IEVsQnV0dG9uID0gd2l0aEluc3RhbGwoQnV0dG9uLCB7XG4gIEJ1dHRvbkdyb3VwXG59KTtcbmNvbnN0IEVsQnV0dG9uR3JvdXAgPSB3aXRoTm9vcEluc3RhbGwoQnV0dG9uR3JvdXApO1xuXG5leHBvcnQgeyBFbEJ1dHRvbiwgRWxCdXR0b25Hcm91cCwgRWxCdXR0b24gYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIiwiaW1wb3J0IHsgdXNlRW1wdHlWYWx1ZXNQcm9wcyB9IGZyb20gJy4uLy4uLy4uL2hvb2tzL3VzZS1lbXB0eS12YWx1ZXMvaW5kZXgubWpzJztcbmltcG9ydCB7IGJ1aWxkUHJvcHMsIGRlZmluZVByb3BUeXBlIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdnVlL3Byb3BzL3J1bnRpbWUubWpzJztcbmltcG9ydCB7IHVzZVNpemVQcm9wIH0gZnJvbSAnLi4vLi4vLi4vaG9va3MvdXNlLXNpemUvaW5kZXgubWpzJztcblxuY29uc3QgY29uZmlnUHJvdmlkZXJQcm9wcyA9IGJ1aWxkUHJvcHMoe1xuICBhMTF5OiB7XG4gICAgdHlwZTogQm9vbGVhbixcbiAgICBkZWZhdWx0OiB0cnVlXG4gIH0sXG4gIGxvY2FsZToge1xuICAgIHR5cGU6IGRlZmluZVByb3BUeXBlKE9iamVjdClcbiAgfSxcbiAgc2l6ZTogdXNlU2l6ZVByb3AsXG4gIGJ1dHRvbjoge1xuICAgIHR5cGU6IGRlZmluZVByb3BUeXBlKE9iamVjdClcbiAgfSxcbiAgZXhwZXJpbWVudGFsRmVhdHVyZXM6IHtcbiAgICB0eXBlOiBkZWZpbmVQcm9wVHlwZShPYmplY3QpXG4gIH0sXG4gIGtleWJvYXJkTmF2aWdhdGlvbjoge1xuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogdHJ1ZVxuICB9LFxuICBtZXNzYWdlOiB7XG4gICAgdHlwZTogZGVmaW5lUHJvcFR5cGUoT2JqZWN0KVxuICB9LFxuICB6SW5kZXg6IE51bWJlcixcbiAgbmFtZXNwYWNlOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGRlZmF1bHQ6IFwiZWxcIlxuICB9LFxuICAuLi51c2VFbXB0eVZhbHVlc1Byb3BzXG59KTtcblxuZXhwb3J0IHsgY29uZmlnUHJvdmlkZXJQcm9wcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uZmlnLXByb3ZpZGVyLXByb3BzLm1qcy5tYXBcbiIsImltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgd2F0Y2gsIHJlbmRlclNsb3QgfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgcHJvdmlkZUdsb2JhbENvbmZpZyB9IGZyb20gJy4vaG9va3MvdXNlLWdsb2JhbC1jb25maWcubWpzJztcbmltcG9ydCB7IGNvbmZpZ1Byb3ZpZGVyUHJvcHMgfSBmcm9tICcuL2NvbmZpZy1wcm92aWRlci1wcm9wcy5tanMnO1xuXG5jb25zdCBtZXNzYWdlQ29uZmlnID0ge307XG5jb25zdCBDb25maWdQcm92aWRlciA9IGRlZmluZUNvbXBvbmVudCh7XG4gIG5hbWU6IFwiRWxDb25maWdQcm92aWRlclwiLFxuICBwcm9wczogY29uZmlnUHJvdmlkZXJQcm9wcyxcbiAgc2V0dXAocHJvcHMsIHsgc2xvdHMgfSkge1xuICAgIHdhdGNoKCgpID0+IHByb3BzLm1lc3NhZ2UsICh2YWwpID0+IHtcbiAgICAgIE9iamVjdC5hc3NpZ24obWVzc2FnZUNvbmZpZywgdmFsICE9IG51bGwgPyB2YWwgOiB7fSk7XG4gICAgfSwgeyBpbW1lZGlhdGU6IHRydWUsIGRlZXA6IHRydWUgfSk7XG4gICAgY29uc3QgY29uZmlnID0gcHJvdmlkZUdsb2JhbENvbmZpZyhwcm9wcyk7XG4gICAgcmV0dXJuICgpID0+IHJlbmRlclNsb3Qoc2xvdHMsIFwiZGVmYXVsdFwiLCB7IGNvbmZpZzogY29uZmlnID09IG51bGwgPyB2b2lkIDAgOiBjb25maWcudmFsdWUgfSk7XG4gIH1cbn0pO1xuXG5leHBvcnQgeyBDb25maWdQcm92aWRlciBhcyBkZWZhdWx0LCBtZXNzYWdlQ29uZmlnIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25maWctcHJvdmlkZXIubWpzLm1hcFxuIiwiaW1wb3J0IENvbmZpZ1Byb3ZpZGVyIGZyb20gJy4vc3JjL2NvbmZpZy1wcm92aWRlci5tanMnO1xuZXhwb3J0IHsgbWVzc2FnZUNvbmZpZyB9IGZyb20gJy4vc3JjL2NvbmZpZy1wcm92aWRlci5tanMnO1xuZXhwb3J0IHsgY29uZmlnUHJvdmlkZXJQcm9wcyB9IGZyb20gJy4vc3JjL2NvbmZpZy1wcm92aWRlci1wcm9wcy5tanMnO1xuZXhwb3J0IHsgY29uZmlnUHJvdmlkZXJDb250ZXh0S2V5IH0gZnJvbSAnLi9zcmMvY29uc3RhbnRzLm1qcyc7XG5leHBvcnQgeyBwcm92aWRlR2xvYmFsQ29uZmlnLCB1c2VHbG9iYWxDb21wb25lbnRTZXR0aW5ncywgdXNlR2xvYmFsQ29uZmlnIH0gZnJvbSAnLi9zcmMvaG9va3MvdXNlLWdsb2JhbC1jb25maWcubWpzJztcbmltcG9ydCB7IHdpdGhJbnN0YWxsIH0gZnJvbSAnLi4vLi4vdXRpbHMvdnVlL2luc3RhbGwubWpzJztcblxuY29uc3QgRWxDb25maWdQcm92aWRlciA9IHdpdGhJbnN0YWxsKENvbmZpZ1Byb3ZpZGVyKTtcblxuZXhwb3J0IHsgRWxDb25maWdQcm92aWRlciwgRWxDb25maWdQcm92aWRlciBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgeyBjb21wb25lbnRTaXplcyB9IGZyb20gJy4uLy4uL2NvbnN0YW50cy9zaXplLm1qcyc7XG5pbXBvcnQgeyBkYXRlUGlja1R5cGVzIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzL2RhdGUubWpzJztcblxuY29uc3QgaXNWYWxpZENvbXBvbmVudFNpemUgPSAodmFsKSA9PiBbXCJcIiwgLi4uY29tcG9uZW50U2l6ZXNdLmluY2x1ZGVzKHZhbCk7XG5jb25zdCBpc1ZhbGlkRGF0ZVBpY2tUeXBlID0gKHZhbCkgPT4gWy4uLmRhdGVQaWNrVHlwZXNdLmluY2x1ZGVzKHZhbCk7XG5cbmV4cG9ydCB7IGlzVmFsaWRDb21wb25lbnRTaXplLCBpc1ZhbGlkRGF0ZVBpY2tUeXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD12YWxpZGF0b3IubWpzLm1hcFxuIiwiaW1wb3J0IHsgaXNWYWxpZENvbXBvbmVudFNpemUgfSBmcm9tICcuLi8uLi8uLi91dGlscy92dWUvdmFsaWRhdG9yLm1qcyc7XG5pbXBvcnQgeyBidWlsZFByb3BzLCBkZWZpbmVQcm9wVHlwZSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3Z1ZS9wcm9wcy9ydW50aW1lLm1qcyc7XG5pbXBvcnQgeyBpY29uUHJvcFR5cGUgfSBmcm9tICcuLi8uLi8uLi91dGlscy92dWUvaWNvbi5tanMnO1xuaW1wb3J0IHsgdXNlQXJpYVByb3BzIH0gZnJvbSAnLi4vLi4vLi4vaG9va3MvdXNlLWFyaWEvaW5kZXgubWpzJztcbmltcG9ydCB7IFVQREFURV9NT0RFTF9FVkVOVCwgQ0hBTkdFX0VWRU5ULCBJTlBVVF9FVkVOVCB9IGZyb20gJy4uLy4uLy4uL2NvbnN0YW50cy9ldmVudC5tanMnO1xuaW1wb3J0IHsgaXNCb29sZWFuLCBpc051bWJlciB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3R5cGVzLm1qcyc7XG5pbXBvcnQgeyBpc1N0cmluZyB9IGZyb20gJ0B2dWUvc2hhcmVkJztcblxuY29uc3Qgc3dpdGNoUHJvcHMgPSBidWlsZFByb3BzKHtcbiAgbW9kZWxWYWx1ZToge1xuICAgIHR5cGU6IFtCb29sZWFuLCBTdHJpbmcsIE51bWJlcl0sXG4gICAgZGVmYXVsdDogZmFsc2VcbiAgfSxcbiAgZGlzYWJsZWQ6IEJvb2xlYW4sXG4gIGxvYWRpbmc6IEJvb2xlYW4sXG4gIHNpemU6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgdmFsaWRhdG9yOiBpc1ZhbGlkQ29tcG9uZW50U2l6ZVxuICB9LFxuICB3aWR0aDoge1xuICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sXG4gICAgZGVmYXVsdDogXCJcIlxuICB9LFxuICBpbmxpbmVQcm9tcHQ6IEJvb2xlYW4sXG4gIGluYWN0aXZlQWN0aW9uSWNvbjoge1xuICAgIHR5cGU6IGljb25Qcm9wVHlwZVxuICB9LFxuICBhY3RpdmVBY3Rpb25JY29uOiB7XG4gICAgdHlwZTogaWNvblByb3BUeXBlXG4gIH0sXG4gIGFjdGl2ZUljb246IHtcbiAgICB0eXBlOiBpY29uUHJvcFR5cGVcbiAgfSxcbiAgaW5hY3RpdmVJY29uOiB7XG4gICAgdHlwZTogaWNvblByb3BUeXBlXG4gIH0sXG4gIGFjdGl2ZVRleHQ6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogXCJcIlxuICB9LFxuICBpbmFjdGl2ZVRleHQ6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogXCJcIlxuICB9LFxuICBhY3RpdmVWYWx1ZToge1xuICAgIHR5cGU6IFtCb29sZWFuLCBTdHJpbmcsIE51bWJlcl0sXG4gICAgZGVmYXVsdDogdHJ1ZVxuICB9LFxuICBpbmFjdGl2ZVZhbHVlOiB7XG4gICAgdHlwZTogW0Jvb2xlYW4sIFN0cmluZywgTnVtYmVyXSxcbiAgICBkZWZhdWx0OiBmYWxzZVxuICB9LFxuICBuYW1lOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGRlZmF1bHQ6IFwiXCJcbiAgfSxcbiAgdmFsaWRhdGVFdmVudDoge1xuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogdHJ1ZVxuICB9LFxuICBiZWZvcmVDaGFuZ2U6IHtcbiAgICB0eXBlOiBkZWZpbmVQcm9wVHlwZShGdW5jdGlvbilcbiAgfSxcbiAgaWQ6IFN0cmluZyxcbiAgdGFiaW5kZXg6IHtcbiAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdXG4gIH0sXG4gIC4uLnVzZUFyaWFQcm9wcyhbXCJhcmlhTGFiZWxcIl0pXG59KTtcbmNvbnN0IHN3aXRjaEVtaXRzID0ge1xuICBbVVBEQVRFX01PREVMX0VWRU5UXTogKHZhbCkgPT4gaXNCb29sZWFuKHZhbCkgfHwgaXNTdHJpbmcodmFsKSB8fCBpc051bWJlcih2YWwpLFxuICBbQ0hBTkdFX0VWRU5UXTogKHZhbCkgPT4gaXNCb29sZWFuKHZhbCkgfHwgaXNTdHJpbmcodmFsKSB8fCBpc051bWJlcih2YWwpLFxuICBbSU5QVVRfRVZFTlRdOiAodmFsKSA9PiBpc0Jvb2xlYW4odmFsKSB8fCBpc1N0cmluZyh2YWwpIHx8IGlzTnVtYmVyKHZhbClcbn07XG5cbmV4cG9ydCB7IHN3aXRjaEVtaXRzLCBzd2l0Y2hQcm9wcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3dpdGNoLm1qcy5tYXBcbiIsImltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgY29tcHV0ZWQsIHJlZiwgd2F0Y2gsIG9uTW91bnRlZCwgb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2ssIG5vcm1hbGl6ZUNsYXNzLCB1bnJlZiwgd2l0aE1vZGlmaWVycywgY3JlYXRlRWxlbWVudFZOb2RlLCB3aXRoS2V5cywgY3JlYXRlQmxvY2ssIHdpdGhDdHgsIHJlc29sdmVEeW5hbWljQ29tcG9uZW50LCBjcmVhdGVDb21tZW50Vk5vZGUsIHRvRGlzcGxheVN0cmluZywgbm9ybWFsaXplU3R5bGUsIGNyZWF0ZVZOb2RlLCByZW5kZXJTbG90LCBuZXh0VGljayB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyBFbEljb24gfSBmcm9tICcuLi8uLi9pY29uL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBMb2FkaW5nIH0gZnJvbSAnQGVsZW1lbnQtcGx1cy9pY29ucy12dWUnO1xuaW1wb3J0IHsgc3dpdGNoUHJvcHMsIHN3aXRjaEVtaXRzIH0gZnJvbSAnLi9zd2l0Y2gubWpzJztcbmltcG9ydCBfZXhwb3J0X3NmYyBmcm9tICcuLi8uLi8uLi9fdmlydHVhbC9wbHVnaW4tdnVlX2V4cG9ydC1oZWxwZXIubWpzJztcbmltcG9ydCB7IHVzZUZvcm1JdGVtLCB1c2VGb3JtSXRlbUlucHV0SWQgfSBmcm9tICcuLi8uLi9mb3JtL3NyYy9ob29rcy91c2UtZm9ybS1pdGVtLm1qcyc7XG5pbXBvcnQgeyB1c2VGb3JtU2l6ZSwgdXNlRm9ybURpc2FibGVkIH0gZnJvbSAnLi4vLi4vZm9ybS9zcmMvaG9va3MvdXNlLWZvcm0tY29tbW9uLXByb3BzLm1qcyc7XG5pbXBvcnQgeyB1c2VOYW1lc3BhY2UgfSBmcm9tICcuLi8uLi8uLi9ob29rcy91c2UtbmFtZXNwYWNlL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBhZGRVbml0IH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvZG9tL3N0eWxlLm1qcyc7XG5pbXBvcnQgeyBVUERBVEVfTU9ERUxfRVZFTlQsIENIQU5HRV9FVkVOVCwgSU5QVVRfRVZFTlQgfSBmcm9tICcuLi8uLi8uLi9jb25zdGFudHMvZXZlbnQubWpzJztcbmltcG9ydCB7IGRlYnVnV2FybiwgdGhyb3dFcnJvciB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2Vycm9yLm1qcyc7XG5pbXBvcnQgeyBpc1Byb21pc2UgfSBmcm9tICdAdnVlL3NoYXJlZCc7XG5pbXBvcnQgeyBpc0Jvb2xlYW4gfSBmcm9tICcuLi8uLi8uLi91dGlscy90eXBlcy5tanMnO1xuXG5jb25zdCBDT01QT05FTlRfTkFNRSA9IFwiRWxTd2l0Y2hcIjtcbmNvbnN0IF9fZGVmYXVsdF9fID0gZGVmaW5lQ29tcG9uZW50KHtcbiAgbmFtZTogQ09NUE9ORU5UX05BTUVcbn0pO1xuY29uc3QgX3NmY19tYWluID0gLyogQF9fUFVSRV9fICovIGRlZmluZUNvbXBvbmVudCh7XG4gIC4uLl9fZGVmYXVsdF9fLFxuICBwcm9wczogc3dpdGNoUHJvcHMsXG4gIGVtaXRzOiBzd2l0Y2hFbWl0cyxcbiAgc2V0dXAoX19wcm9wcywgeyBleHBvc2UsIGVtaXQgfSkge1xuICAgIGNvbnN0IHByb3BzID0gX19wcm9wcztcbiAgICBjb25zdCB7IGZvcm1JdGVtIH0gPSB1c2VGb3JtSXRlbSgpO1xuICAgIGNvbnN0IHN3aXRjaFNpemUgPSB1c2VGb3JtU2l6ZSgpO1xuICAgIGNvbnN0IG5zID0gdXNlTmFtZXNwYWNlKFwic3dpdGNoXCIpO1xuICAgIGNvbnN0IHsgaW5wdXRJZCB9ID0gdXNlRm9ybUl0ZW1JbnB1dElkKHByb3BzLCB7XG4gICAgICBmb3JtSXRlbUNvbnRleHQ6IGZvcm1JdGVtXG4gICAgfSk7XG4gICAgY29uc3Qgc3dpdGNoRGlzYWJsZWQgPSB1c2VGb3JtRGlzYWJsZWQoY29tcHV0ZWQoKCkgPT4gcHJvcHMubG9hZGluZykpO1xuICAgIGNvbnN0IGlzQ29udHJvbGxlZCA9IHJlZihwcm9wcy5tb2RlbFZhbHVlICE9PSBmYWxzZSk7XG4gICAgY29uc3QgaW5wdXQgPSByZWYoKTtcbiAgICBjb25zdCBjb3JlID0gcmVmKCk7XG4gICAgY29uc3Qgc3dpdGNoS2xzID0gY29tcHV0ZWQoKCkgPT4gW1xuICAgICAgbnMuYigpLFxuICAgICAgbnMubShzd2l0Y2hTaXplLnZhbHVlKSxcbiAgICAgIG5zLmlzKFwiZGlzYWJsZWRcIiwgc3dpdGNoRGlzYWJsZWQudmFsdWUpLFxuICAgICAgbnMuaXMoXCJjaGVja2VkXCIsIGNoZWNrZWQudmFsdWUpXG4gICAgXSk7XG4gICAgY29uc3QgbGFiZWxMZWZ0S2xzID0gY29tcHV0ZWQoKCkgPT4gW1xuICAgICAgbnMuZShcImxhYmVsXCIpLFxuICAgICAgbnMuZW0oXCJsYWJlbFwiLCBcImxlZnRcIiksXG4gICAgICBucy5pcyhcImFjdGl2ZVwiLCAhY2hlY2tlZC52YWx1ZSlcbiAgICBdKTtcbiAgICBjb25zdCBsYWJlbFJpZ2h0S2xzID0gY29tcHV0ZWQoKCkgPT4gW1xuICAgICAgbnMuZShcImxhYmVsXCIpLFxuICAgICAgbnMuZW0oXCJsYWJlbFwiLCBcInJpZ2h0XCIpLFxuICAgICAgbnMuaXMoXCJhY3RpdmVcIiwgY2hlY2tlZC52YWx1ZSlcbiAgICBdKTtcbiAgICBjb25zdCBjb3JlU3R5bGUgPSBjb21wdXRlZCgoKSA9PiAoe1xuICAgICAgd2lkdGg6IGFkZFVuaXQocHJvcHMud2lkdGgpXG4gICAgfSkpO1xuICAgIHdhdGNoKCgpID0+IHByb3BzLm1vZGVsVmFsdWUsICgpID0+IHtcbiAgICAgIGlzQ29udHJvbGxlZC52YWx1ZSA9IHRydWU7XG4gICAgfSk7XG4gICAgY29uc3QgYWN0dWFsVmFsdWUgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgICByZXR1cm4gaXNDb250cm9sbGVkLnZhbHVlID8gcHJvcHMubW9kZWxWYWx1ZSA6IGZhbHNlO1xuICAgIH0pO1xuICAgIGNvbnN0IGNoZWNrZWQgPSBjb21wdXRlZCgoKSA9PiBhY3R1YWxWYWx1ZS52YWx1ZSA9PT0gcHJvcHMuYWN0aXZlVmFsdWUpO1xuICAgIGlmICghW3Byb3BzLmFjdGl2ZVZhbHVlLCBwcm9wcy5pbmFjdGl2ZVZhbHVlXS5pbmNsdWRlcyhhY3R1YWxWYWx1ZS52YWx1ZSkpIHtcbiAgICAgIGVtaXQoVVBEQVRFX01PREVMX0VWRU5ULCBwcm9wcy5pbmFjdGl2ZVZhbHVlKTtcbiAgICAgIGVtaXQoQ0hBTkdFX0VWRU5ULCBwcm9wcy5pbmFjdGl2ZVZhbHVlKTtcbiAgICAgIGVtaXQoSU5QVVRfRVZFTlQsIHByb3BzLmluYWN0aXZlVmFsdWUpO1xuICAgIH1cbiAgICB3YXRjaChjaGVja2VkLCAodmFsKSA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICBpbnB1dC52YWx1ZS5jaGVja2VkID0gdmFsO1xuICAgICAgaWYgKHByb3BzLnZhbGlkYXRlRXZlbnQpIHtcbiAgICAgICAgKF9hID0gZm9ybUl0ZW0gPT0gbnVsbCA/IHZvaWQgMCA6IGZvcm1JdGVtLnZhbGlkYXRlKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbChmb3JtSXRlbSwgXCJjaGFuZ2VcIikuY2F0Y2goKGVycikgPT4gZGVidWdXYXJuKGVycikpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGhhbmRsZUNoYW5nZSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHZhbCA9IGNoZWNrZWQudmFsdWUgPyBwcm9wcy5pbmFjdGl2ZVZhbHVlIDogcHJvcHMuYWN0aXZlVmFsdWU7XG4gICAgICBlbWl0KFVQREFURV9NT0RFTF9FVkVOVCwgdmFsKTtcbiAgICAgIGVtaXQoQ0hBTkdFX0VWRU5ULCB2YWwpO1xuICAgICAgZW1pdChJTlBVVF9FVkVOVCwgdmFsKTtcbiAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgaW5wdXQudmFsdWUuY2hlY2tlZCA9IGNoZWNrZWQudmFsdWU7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHN3aXRjaFZhbHVlID0gKCkgPT4ge1xuICAgICAgaWYgKHN3aXRjaERpc2FibGVkLnZhbHVlKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCB7IGJlZm9yZUNoYW5nZSB9ID0gcHJvcHM7XG4gICAgICBpZiAoIWJlZm9yZUNoYW5nZSkge1xuICAgICAgICBoYW5kbGVDaGFuZ2UoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2hvdWxkQ2hhbmdlID0gYmVmb3JlQ2hhbmdlKCk7XG4gICAgICBjb25zdCBpc1Byb21pc2VPckJvb2wgPSBbXG4gICAgICAgIGlzUHJvbWlzZShzaG91bGRDaGFuZ2UpLFxuICAgICAgICBpc0Jvb2xlYW4oc2hvdWxkQ2hhbmdlKVxuICAgICAgXS5pbmNsdWRlcyh0cnVlKTtcbiAgICAgIGlmICghaXNQcm9taXNlT3JCb29sKSB7XG4gICAgICAgIHRocm93RXJyb3IoQ09NUE9ORU5UX05BTUUsIFwiYmVmb3JlQ2hhbmdlIG11c3QgcmV0dXJuIHR5cGUgYFByb21pc2U8Ym9vbGVhbj5gIG9yIGBib29sZWFuYFwiKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1Byb21pc2Uoc2hvdWxkQ2hhbmdlKSkge1xuICAgICAgICBzaG91bGRDaGFuZ2UudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgaGFuZGxlQ2hhbmdlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgIGRlYnVnV2FybihDT01QT05FTlRfTkFNRSwgYHNvbWUgZXJyb3Igb2NjdXJyZWQ6ICR7ZX1gKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHNob3VsZENoYW5nZSkge1xuICAgICAgICBoYW5kbGVDaGFuZ2UoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGZvY3VzID0gKCkgPT4ge1xuICAgICAgdmFyIF9hLCBfYjtcbiAgICAgIChfYiA9IChfYSA9IGlucHV0LnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2EuZm9jdXMpID09IG51bGwgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICB9O1xuICAgIG9uTW91bnRlZCgoKSA9PiB7XG4gICAgICBpbnB1dC52YWx1ZS5jaGVja2VkID0gY2hlY2tlZC52YWx1ZTtcbiAgICB9KTtcbiAgICBleHBvc2Uoe1xuICAgICAgZm9jdXMsXG4gICAgICBjaGVja2VkXG4gICAgfSk7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IHtcbiAgICAgIHJldHVybiBvcGVuQmxvY2soKSwgY3JlYXRlRWxlbWVudEJsb2NrKFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3M6IG5vcm1hbGl6ZUNsYXNzKHVucmVmKHN3aXRjaEtscykpLFxuICAgICAgICBvbkNsaWNrOiB3aXRoTW9kaWZpZXJzKHN3aXRjaFZhbHVlLCBbXCJwcmV2ZW50XCJdKVxuICAgICAgfSwgW1xuICAgICAgICBjcmVhdGVFbGVtZW50Vk5vZGUoXCJpbnB1dFwiLCB7XG4gICAgICAgICAgaWQ6IHVucmVmKGlucHV0SWQpLFxuICAgICAgICAgIHJlZl9rZXk6IFwiaW5wdXRcIixcbiAgICAgICAgICByZWY6IGlucHV0LFxuICAgICAgICAgIGNsYXNzOiBub3JtYWxpemVDbGFzcyh1bnJlZihucykuZShcImlucHV0XCIpKSxcbiAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgcm9sZTogXCJzd2l0Y2hcIixcbiAgICAgICAgICBcImFyaWEtY2hlY2tlZFwiOiB1bnJlZihjaGVja2VkKSxcbiAgICAgICAgICBcImFyaWEtZGlzYWJsZWRcIjogdW5yZWYoc3dpdGNoRGlzYWJsZWQpLFxuICAgICAgICAgIFwiYXJpYS1sYWJlbFwiOiBfY3R4LmFyaWFMYWJlbCxcbiAgICAgICAgICBuYW1lOiBfY3R4Lm5hbWUsXG4gICAgICAgICAgXCJ0cnVlLXZhbHVlXCI6IF9jdHguYWN0aXZlVmFsdWUsXG4gICAgICAgICAgXCJmYWxzZS12YWx1ZVwiOiBfY3R4LmluYWN0aXZlVmFsdWUsXG4gICAgICAgICAgZGlzYWJsZWQ6IHVucmVmKHN3aXRjaERpc2FibGVkKSxcbiAgICAgICAgICB0YWJpbmRleDogX2N0eC50YWJpbmRleCxcbiAgICAgICAgICBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlLFxuICAgICAgICAgIG9uS2V5ZG93bjogd2l0aEtleXMoc3dpdGNoVmFsdWUsIFtcImVudGVyXCJdKVxuICAgICAgICB9LCBudWxsLCA0MiwgW1wiaWRcIiwgXCJhcmlhLWNoZWNrZWRcIiwgXCJhcmlhLWRpc2FibGVkXCIsIFwiYXJpYS1sYWJlbFwiLCBcIm5hbWVcIiwgXCJ0cnVlLXZhbHVlXCIsIFwiZmFsc2UtdmFsdWVcIiwgXCJkaXNhYmxlZFwiLCBcInRhYmluZGV4XCIsIFwib25LZXlkb3duXCJdKSxcbiAgICAgICAgIV9jdHguaW5saW5lUHJvbXB0ICYmIChfY3R4LmluYWN0aXZlSWNvbiB8fCBfY3R4LmluYWN0aXZlVGV4dCkgPyAob3BlbkJsb2NrKCksIGNyZWF0ZUVsZW1lbnRCbG9jayhcInNwYW5cIiwge1xuICAgICAgICAgIGtleTogMCxcbiAgICAgICAgICBjbGFzczogbm9ybWFsaXplQ2xhc3ModW5yZWYobGFiZWxMZWZ0S2xzKSlcbiAgICAgICAgfSwgW1xuICAgICAgICAgIF9jdHguaW5hY3RpdmVJY29uID8gKG9wZW5CbG9jaygpLCBjcmVhdGVCbG9jayh1bnJlZihFbEljb24pLCB7IGtleTogMCB9LCB7XG4gICAgICAgICAgICBkZWZhdWx0OiB3aXRoQ3R4KCgpID0+IFtcbiAgICAgICAgICAgICAgKG9wZW5CbG9jaygpLCBjcmVhdGVCbG9jayhyZXNvbHZlRHluYW1pY0NvbXBvbmVudChfY3R4LmluYWN0aXZlSWNvbikpKVxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgICBfOiAxXG4gICAgICAgICAgfSkpIDogY3JlYXRlQ29tbWVudFZOb2RlKFwidi1pZlwiLCB0cnVlKSxcbiAgICAgICAgICAhX2N0eC5pbmFjdGl2ZUljb24gJiYgX2N0eC5pbmFjdGl2ZVRleHQgPyAob3BlbkJsb2NrKCksIGNyZWF0ZUVsZW1lbnRCbG9jayhcInNwYW5cIiwge1xuICAgICAgICAgICAga2V5OiAxLFxuICAgICAgICAgICAgXCJhcmlhLWhpZGRlblwiOiB1bnJlZihjaGVja2VkKVxuICAgICAgICAgIH0sIHRvRGlzcGxheVN0cmluZyhfY3R4LmluYWN0aXZlVGV4dCksIDksIFtcImFyaWEtaGlkZGVuXCJdKSkgOiBjcmVhdGVDb21tZW50Vk5vZGUoXCJ2LWlmXCIsIHRydWUpXG4gICAgICAgIF0sIDIpKSA6IGNyZWF0ZUNvbW1lbnRWTm9kZShcInYtaWZcIiwgdHJ1ZSksXG4gICAgICAgIGNyZWF0ZUVsZW1lbnRWTm9kZShcInNwYW5cIiwge1xuICAgICAgICAgIHJlZl9rZXk6IFwiY29yZVwiLFxuICAgICAgICAgIHJlZjogY29yZSxcbiAgICAgICAgICBjbGFzczogbm9ybWFsaXplQ2xhc3ModW5yZWYobnMpLmUoXCJjb3JlXCIpKSxcbiAgICAgICAgICBzdHlsZTogbm9ybWFsaXplU3R5bGUodW5yZWYoY29yZVN0eWxlKSlcbiAgICAgICAgfSwgW1xuICAgICAgICAgIF9jdHguaW5saW5lUHJvbXB0ID8gKG9wZW5CbG9jaygpLCBjcmVhdGVFbGVtZW50QmxvY2soXCJkaXZcIiwge1xuICAgICAgICAgICAga2V5OiAwLFxuICAgICAgICAgICAgY2xhc3M6IG5vcm1hbGl6ZUNsYXNzKHVucmVmKG5zKS5lKFwiaW5uZXJcIikpXG4gICAgICAgICAgfSwgW1xuICAgICAgICAgICAgX2N0eC5hY3RpdmVJY29uIHx8IF9jdHguaW5hY3RpdmVJY29uID8gKG9wZW5CbG9jaygpLCBjcmVhdGVCbG9jayh1bnJlZihFbEljb24pLCB7XG4gICAgICAgICAgICAgIGtleTogMCxcbiAgICAgICAgICAgICAgY2xhc3M6IG5vcm1hbGl6ZUNsYXNzKHVucmVmKG5zKS5pcyhcImljb25cIikpXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6IHdpdGhDdHgoKCkgPT4gW1xuICAgICAgICAgICAgICAgIChvcGVuQmxvY2soKSwgY3JlYXRlQmxvY2socmVzb2x2ZUR5bmFtaWNDb21wb25lbnQodW5yZWYoY2hlY2tlZCkgPyBfY3R4LmFjdGl2ZUljb24gOiBfY3R4LmluYWN0aXZlSWNvbikpKVxuICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgXzogMVxuICAgICAgICAgICAgfSwgOCwgW1wiY2xhc3NcIl0pKSA6IF9jdHguYWN0aXZlVGV4dCB8fCBfY3R4LmluYWN0aXZlVGV4dCA/IChvcGVuQmxvY2soKSwgY3JlYXRlRWxlbWVudEJsb2NrKFwic3BhblwiLCB7XG4gICAgICAgICAgICAgIGtleTogMSxcbiAgICAgICAgICAgICAgY2xhc3M6IG5vcm1hbGl6ZUNsYXNzKHVucmVmKG5zKS5pcyhcInRleHRcIikpLFxuICAgICAgICAgICAgICBcImFyaWEtaGlkZGVuXCI6ICF1bnJlZihjaGVja2VkKVxuICAgICAgICAgICAgfSwgdG9EaXNwbGF5U3RyaW5nKHVucmVmKGNoZWNrZWQpID8gX2N0eC5hY3RpdmVUZXh0IDogX2N0eC5pbmFjdGl2ZVRleHQpLCAxMSwgW1wiYXJpYS1oaWRkZW5cIl0pKSA6IGNyZWF0ZUNvbW1lbnRWTm9kZShcInYtaWZcIiwgdHJ1ZSlcbiAgICAgICAgICBdLCAyKSkgOiBjcmVhdGVDb21tZW50Vk5vZGUoXCJ2LWlmXCIsIHRydWUpLFxuICAgICAgICAgIGNyZWF0ZUVsZW1lbnRWTm9kZShcImRpdlwiLCB7XG4gICAgICAgICAgICBjbGFzczogbm9ybWFsaXplQ2xhc3ModW5yZWYobnMpLmUoXCJhY3Rpb25cIikpXG4gICAgICAgICAgfSwgW1xuICAgICAgICAgICAgX2N0eC5sb2FkaW5nID8gKG9wZW5CbG9jaygpLCBjcmVhdGVCbG9jayh1bnJlZihFbEljb24pLCB7XG4gICAgICAgICAgICAgIGtleTogMCxcbiAgICAgICAgICAgICAgY2xhc3M6IG5vcm1hbGl6ZUNsYXNzKHVucmVmKG5zKS5pcyhcImxvYWRpbmdcIikpXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6IHdpdGhDdHgoKCkgPT4gW1xuICAgICAgICAgICAgICAgIGNyZWF0ZVZOb2RlKHVucmVmKExvYWRpbmcpKVxuICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgXzogMVxuICAgICAgICAgICAgfSwgOCwgW1wiY2xhc3NcIl0pKSA6IHVucmVmKGNoZWNrZWQpID8gcmVuZGVyU2xvdChfY3R4LiRzbG90cywgXCJhY3RpdmUtYWN0aW9uXCIsIHsga2V5OiAxIH0sICgpID0+IFtcbiAgICAgICAgICAgICAgX2N0eC5hY3RpdmVBY3Rpb25JY29uID8gKG9wZW5CbG9jaygpLCBjcmVhdGVCbG9jayh1bnJlZihFbEljb24pLCB7IGtleTogMCB9LCB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogd2l0aEN0eCgoKSA9PiBbXG4gICAgICAgICAgICAgICAgICAob3BlbkJsb2NrKCksIGNyZWF0ZUJsb2NrKHJlc29sdmVEeW5hbWljQ29tcG9uZW50KF9jdHguYWN0aXZlQWN0aW9uSWNvbikpKVxuICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgIF86IDFcbiAgICAgICAgICAgICAgfSkpIDogY3JlYXRlQ29tbWVudFZOb2RlKFwidi1pZlwiLCB0cnVlKVxuICAgICAgICAgICAgXSkgOiAhdW5yZWYoY2hlY2tlZCkgPyByZW5kZXJTbG90KF9jdHguJHNsb3RzLCBcImluYWN0aXZlLWFjdGlvblwiLCB7IGtleTogMiB9LCAoKSA9PiBbXG4gICAgICAgICAgICAgIF9jdHguaW5hY3RpdmVBY3Rpb25JY29uID8gKG9wZW5CbG9jaygpLCBjcmVhdGVCbG9jayh1bnJlZihFbEljb24pLCB7IGtleTogMCB9LCB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogd2l0aEN0eCgoKSA9PiBbXG4gICAgICAgICAgICAgICAgICAob3BlbkJsb2NrKCksIGNyZWF0ZUJsb2NrKHJlc29sdmVEeW5hbWljQ29tcG9uZW50KF9jdHguaW5hY3RpdmVBY3Rpb25JY29uKSkpXG4gICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgXzogMVxuICAgICAgICAgICAgICB9KSkgOiBjcmVhdGVDb21tZW50Vk5vZGUoXCJ2LWlmXCIsIHRydWUpXG4gICAgICAgICAgICBdKSA6IGNyZWF0ZUNvbW1lbnRWTm9kZShcInYtaWZcIiwgdHJ1ZSlcbiAgICAgICAgICBdLCAyKVxuICAgICAgICBdLCA2KSxcbiAgICAgICAgIV9jdHguaW5saW5lUHJvbXB0ICYmIChfY3R4LmFjdGl2ZUljb24gfHwgX2N0eC5hY3RpdmVUZXh0KSA/IChvcGVuQmxvY2soKSwgY3JlYXRlRWxlbWVudEJsb2NrKFwic3BhblwiLCB7XG4gICAgICAgICAga2V5OiAxLFxuICAgICAgICAgIGNsYXNzOiBub3JtYWxpemVDbGFzcyh1bnJlZihsYWJlbFJpZ2h0S2xzKSlcbiAgICAgICAgfSwgW1xuICAgICAgICAgIF9jdHguYWN0aXZlSWNvbiA/IChvcGVuQmxvY2soKSwgY3JlYXRlQmxvY2sodW5yZWYoRWxJY29uKSwgeyBrZXk6IDAgfSwge1xuICAgICAgICAgICAgZGVmYXVsdDogd2l0aEN0eCgoKSA9PiBbXG4gICAgICAgICAgICAgIChvcGVuQmxvY2soKSwgY3JlYXRlQmxvY2socmVzb2x2ZUR5bmFtaWNDb21wb25lbnQoX2N0eC5hY3RpdmVJY29uKSkpXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIF86IDFcbiAgICAgICAgICB9KSkgOiBjcmVhdGVDb21tZW50Vk5vZGUoXCJ2LWlmXCIsIHRydWUpLFxuICAgICAgICAgICFfY3R4LmFjdGl2ZUljb24gJiYgX2N0eC5hY3RpdmVUZXh0ID8gKG9wZW5CbG9jaygpLCBjcmVhdGVFbGVtZW50QmxvY2soXCJzcGFuXCIsIHtcbiAgICAgICAgICAgIGtleTogMSxcbiAgICAgICAgICAgIFwiYXJpYS1oaWRkZW5cIjogIXVucmVmKGNoZWNrZWQpXG4gICAgICAgICAgfSwgdG9EaXNwbGF5U3RyaW5nKF9jdHguYWN0aXZlVGV4dCksIDksIFtcImFyaWEtaGlkZGVuXCJdKSkgOiBjcmVhdGVDb21tZW50Vk5vZGUoXCJ2LWlmXCIsIHRydWUpXG4gICAgICAgIF0sIDIpKSA6IGNyZWF0ZUNvbW1lbnRWTm9kZShcInYtaWZcIiwgdHJ1ZSlcbiAgICAgIF0sIDEwLCBbXCJvbkNsaWNrXCJdKTtcbiAgICB9O1xuICB9XG59KTtcbnZhciBTd2l0Y2ggPSAvKiBAX19QVVJFX18gKi8gX2V4cG9ydF9zZmMoX3NmY19tYWluLCBbW1wiX19maWxlXCIsIFwic3dpdGNoLnZ1ZVwiXV0pO1xuXG5leHBvcnQgeyBTd2l0Y2ggYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3dpdGNoMi5tanMubWFwXG4iLCJpbXBvcnQgU3dpdGNoIGZyb20gJy4vc3JjL3N3aXRjaDIubWpzJztcbmV4cG9ydCB7IHN3aXRjaEVtaXRzLCBzd2l0Y2hQcm9wcyB9IGZyb20gJy4vc3JjL3N3aXRjaC5tanMnO1xuaW1wb3J0IHsgd2l0aEluc3RhbGwgfSBmcm9tICcuLi8uLi91dGlscy92dWUvaW5zdGFsbC5tanMnO1xuXG5jb25zdCBFbFN3aXRjaCA9IHdpdGhJbnN0YWxsKFN3aXRjaCk7XG5cbmV4cG9ydCB7IEVsU3dpdGNoLCBFbFN3aXRjaCBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iLCJpbXBvcnQgeyBkZWZpbmVTdG9yZSB9IGZyb20gJ3BpbmlhJztcbmltcG9ydCB7IHNoYWxsb3dSZWYgfSBmcm9tICd2dWUnO1xuaW1wb3J0IHR5cGUgeyBBcHAgfSBmcm9tICd2dWUnO1xuaW1wb3J0IHR5cGUgeyBGcm9udGVuZEV2ZW50RW1pdHRlciB9IGZyb20gJ0BzaWxseXRhdmVybi12dWUtZnJvbnRlbmQvZnJvbnRlbmQtZXZlbnQtZW1pdHRlcic7XG5cbmV4cG9ydCBjb25zdCB1c2VWdWVBcHBTdG9yZSA9IGRlZmluZVN0b3JlKCd2dWUtYXBwJywgKCkgPT4ge1xuICAgIGNvbnN0IHZ1ZUFwcCA9IHNoYWxsb3dSZWY8KCgpID0+IEFwcCkgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG4gICAgY29uc3QgY2hhdEFwcHMgPSBzaGFsbG93UmVmPFJlY29yZDxudW1iZXIsIEZyb250ZW5kRXZlbnRFbWl0dGVyPj4oe30pO1xuXG4gICAgcmV0dXJuIHsgdnVlQXBwLCBjaGF0QXBwcyB9O1xufSk7XG4iLCJpbXBvcnQgeyBkZWZpbmVTdG9yZSB9IGZyb20gJ3BpbmlhJztcbmltcG9ydCB7IHJlZiB9IGZyb20gJ3Z1ZSc7XG5cbmV4cG9ydCB0eXBlIFZhcldvcmxkSW5mbyA9IHtcbiAgICBwcmVkaWNhdGU6ICh2YXJzOiBhbnkpID0+IGJvb2xlYW47XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGVudHJ5PzogKHZhcnM6IGFueSkgPT4geyBjb250ZW50OiBzdHJpbmc7IGRlcHRoOiBudW1iZXIgfTtcbn07XG5cbmV4cG9ydCB0eXBlIFZ1ZUJvb2sgPSB7XG4gICAgY29udGVudDogc3RyaW5nO1xuICAgIGRlcHRoOiBudW1iZXI7XG59O1xuXG5leHBvcnQgY29uc3QgdXNlV29ybGRJbmZvU3RvcmUgPSBkZWZpbmVTdG9yZSgnd29ybGQtaW5mbycsICgpID0+IHtcbiAgICBjb25zdCB3b3JsZEluZm8gPSByZWY8VmFyV29ybGRJbmZvW10+KFtdKTtcbiAgICBjb25zdCB2dWVCb29rID0gcmVmPFJlY29yZDxzdHJpbmcsIFZ1ZUJvb2s+Pih7fSk7XG4gICAgY29uc3QgY291bnRlciA9IHJlZigwKTtcbiAgICBjb25zdCBuZXh0SWQgPSAoKSA9PiB7XG4gICAgICAgIGNvdW50ZXIudmFsdWUrKztcbiAgICAgICAgcmV0dXJuIGNvdW50ZXIudmFsdWU7XG4gICAgfTtcbiAgICByZXR1cm4geyB3b3JsZEluZm8sIHZ1ZUJvb2ssIG5leHRJZCB9O1xufSk7XG4iLCJpbXBvcnQgeyB1c2VXb3JsZEluZm9TdG9yZSB9IGZyb20gJ0Avc3RvcmVzL3dvcmxkLWluZm8nO1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJWYXJXb3JsZEluZm8gPSA8VCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4+KFxuICAgIHByZWRpY2F0ZTogKHZhcnM6IFQpID0+IGJvb2xlYW4sXG4gICAgYXJnOiBzdHJpbmcgfCAoKHZhcnM6IFQpID0+IHsgY29udGVudDogc3RyaW5nOyBkZXB0aDogbnVtYmVyIH0pXG4pID0+IHtcbiAgICBjb25zdCBzdG9yZSA9IHVzZVdvcmxkSW5mb1N0b3JlKCk7XG4gICAgaWYgKHR5cGVvZiBhcmcgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgc3RvcmUud29ybGRJbmZvLnB1c2goeyBwcmVkaWNhdGUsIG5hbWU6IGFyZyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBzdG9yZS53b3JsZEluZm8ucHVzaCh7IHByZWRpY2F0ZSwgbmFtZTogYGZ1bmMjJHtzdG9yZS5uZXh0SWQoKX1gLCBlbnRyeTogYXJnIH0pO1xuICAgIH1cbn07XG4iLCJleHBvcnQgZW51bSBFeHRlbnNpb25Qcm9tcHRQb3NpdGlvbiB7XG4gICAgQUZURVJfU1RPUlksXG4gICAgSU5fQ0hBVCxcbn1cblxuZXhwb3J0IGVudW0gRXh0ZW5zaW9uUHJvbXB0Um9sZSB7XG4gICAgU1lTVEVNLFxuICAgIFVTRVIsXG4gICAgQVNTSVNUQU5ULFxufVxuXG5leHBvcnQgZW51bSBFbnRyeVBvc2l0aW9uIHtcbiAgICBCRUZPUkVfQ0hBUl9ERUYsXG4gICAgQUZURVJfQ0hBUl9ERUYsXG4gICAgQkVGT1JFX0FVVEhPUl9OT1RFLFxuICAgIEFGVEVSX0FVVEhPUl9OT1RFLFxuICAgIElOX0RFUFRILFxuICAgIEJFRk9SRV9FWEFNUExFX01FUyxcbiAgICBBRlRFUl9FWEFNUExFX01FUyxcbn1cbiIsImltcG9ydCB7IHVzZVNldHRpbmdzU3RvcmUgfSBmcm9tICdAL3N0b3Jlcy9zZXR0aW5nJztcbmltcG9ydCB7IHVzZVZ1ZUFwcFN0b3JlIH0gZnJvbSAnQC9zdG9yZXMvdnVlLWFwcCc7XG5pbXBvcnQgeyBnZXRDb250ZXh0IH0gZnJvbSAnc2lsbHl0YXZlcm4tZXh0ZW5zaW9uLWFwaSc7XG5pbXBvcnQgeyBsb2FkV29ybGRJbmZvIH0gZnJvbSAnc2lsbHl0YXZlcm4td29ybGQtYXBpJztcbmltcG9ydCB0eXBlIHsgQXBwIH0gZnJvbSAndnVlJztcbmltcG9ydCB7IHJlZ2lzdGVyVmFyV29ybGRJbmZvIH0gZnJvbSAnLi9yZWdpc3Rlci12YXItd29ybGQtaW5mbyc7XG5pbXBvcnQgeyB1c2VXb3JsZEluZm9TdG9yZSB9IGZyb20gJ0Avc3RvcmVzL3dvcmxkLWluZm8nO1xuaW1wb3J0IHsgRW50cnlQb3NpdGlvbiwgRXh0ZW5zaW9uUHJvbXB0Um9sZSB9IGZyb20gJ0AvdGF2ZXJuLXR5cGVzL2VudW1zJztcblxuY29uc3QgcmVsb2FkVnVlQm9vayA9IChlbnRyaWVzOiBSZWNvcmQ8bnVtYmVyLCBUYXZlcm5WMkRhdGFXb3JsZEluZm9FbnRyeT4pID0+IHtcbiAgICBjb25zdCB7IHZ1ZUJvb2sgfSA9IHVzZVdvcmxkSW5mb1N0b3JlKCk7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gdnVlQm9vaykge1xuICAgICAgICBkZWxldGUgdnVlQm9va1trZXldO1xuICAgIH1cblxuICAgIGZvciAoY29uc3Qga2V5IGluIGVudHJpZXMpIHtcbiAgICAgICAgY29uc3QgZW50cnkgPSBlbnRyaWVzW2tleV07XG4gICAgICAgIGNvbnN0IGlzVnVlQm9va0VudHJ5ID0gL15WdWUtKC4rKSQvLmV4ZWMoZW50cnkuY29tbWVudCk7XG4gICAgICAgIGlmIChpc1Z1ZUJvb2tFbnRyeSkge1xuICAgICAgICAgICAgY29uc3QgZW50cnlOYW1lID0gaXNWdWVCb29rRW50cnlbMV07XG4gICAgICAgICAgICBpZiAoZW50cnkucG9zaXRpb24gPT0gRW50cnlQb3NpdGlvbi5JTl9ERVBUSCAmJiBlbnRyeS5yb2xlID09IEV4dGVuc2lvblByb21wdFJvbGUuU1lTVEVNKSB7XG4gICAgICAgICAgICAgICAgdnVlQm9va1tlbnRyeU5hbWVdID0ge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBlbnRyeS5jb250ZW50LFxuICAgICAgICAgICAgICAgICAgICBkZXB0aDogZW50cnkuZGVwdGghLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5jb25zdCBjbGVhblZ1ZSA9ICgpID0+IHtcbiAgICBjb25zdCBzdG9yZSA9IHVzZVZ1ZUFwcFN0b3JlKCk7XG4gICAgY29uc3QgdnVlQ3NzRWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2dWUtY3NzJyk7XG4gICAgY29uc29sZS5sb2coJ3RyeSBjbGVhblZ1ZSwgdnVlQ3NzRWxlbTonLCB2dWVDc3NFbGVtKTtcbiAgICB2dWVDc3NFbGVtPy5wYXJlbnROb2RlPy5yZW1vdmVDaGlsZCh2dWVDc3NFbGVtKTtcbiAgICBzdG9yZS52dWVBcHAgPSB1bmRlZmluZWQ7XG4gICAgc3RvcmUuY2hhdEFwcHMgPSB7fTtcbn07XG5cbi8qKlxuICog6YeN5paw5Yqg6L29VnVlIEFQUOOAguWcqOiBiuWkqeWIh+aNouWQjui/kOihjOOAguS7juinkuiJsuS4lueVjOS5puS4reWvu+aJvnZ1ZS1jc3Plkox2dWUtanPov5nkuKTpobnvvIzlubbkuJTliJvlu7pWdWUgQVBQ44CCXG4gKi9cbmV4cG9ydCBjb25zdCByZWxvYWRWdWUgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyBzZXR0aW5ncyB9ID0gdXNlU2V0dGluZ3NTdG9yZSgpO1xuICAgIGNvbnN0IHN0b3JlID0gdXNlVnVlQXBwU3RvcmUoKTtcbiAgICBpZiAoIXNldHRpbmdzLmVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCflsJ3or5Xph43mlrDliqDovb12dWUnKTtcblxuICAgIGNvbnN0IGNvbnRleHQgPSBnZXRDb250ZXh0KCk7XG4gICAgY29uc3QgY3VycmVudENoYXJhY3RlciA9IGNvbnRleHQuY2hhcmFjdGVyc1tjb250ZXh0LmNoYXJhY3RlcklkXTtcbiAgICBpZiAoIWN1cnJlbnRDaGFyYWN0ZXIpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ+acquaJvuWIsOinkuiJsicpO1xuICAgICAgICBjbGVhblZ1ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgYm9va05hbWUgPSBjdXJyZW50Q2hhcmFjdGVyLmRhdGE/LmNoYXJhY3Rlcl9ib29rPy5uYW1lO1xuICAgIGlmICghYm9va05hbWUpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ+inkuiJsuS4lueVjOS5puS4jeWtmOWcqCcpO1xuICAgICAgICBjbGVhblZ1ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgYm9va0VudHJpZXMgPSAoYXdhaXQgbG9hZFdvcmxkSW5mbyhib29rTmFtZSkpPy5lbnRyaWVzO1xuICAgIGlmICghYm9va0VudHJpZXMpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ+ivu+WPluinkuiJsuS4lueVjOS5puWksei0pScpO1xuICAgICAgICBjbGVhblZ1ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmVsb2FkVnVlQm9vayhib29rRW50cmllcyk7XG5cbiAgICBsZXQganNDb250ZW50OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgbGV0IGNzc0NvbnRlbnQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICAgIGZvciAoY29uc3Qga2V5IGluIGJvb2tFbnRyaWVzKSB7XG4gICAgICAgIGNvbnN0IGVudHJ5ID0gYm9va0VudHJpZXNba2V5XTtcblxuICAgICAgICBpZiAoZW50cnkuY29tbWVudCA9PSAndnVlLWpzJykge1xuICAgICAgICAgICAganNDb250ZW50ID0gZW50cnkuY29udGVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW50cnkuY29tbWVudCA9PSAndnVlLWNzcycpIHtcbiAgICAgICAgICAgIGNzc0NvbnRlbnQgPSBlbnRyeS5jb250ZW50O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFqc0NvbnRlbnQgfHwgIWNzc0NvbnRlbnQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ+S4lueVjOS5puS4reS4jeWtmOWcqHZ1ZeWJjeerrycpO1xuICAgICAgICBjbGVhblZ1ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJ+aJvuWIsHZ1ZS1qc+WSjHZ1ZS1jc3PvvIzlsJ3or5XliJvlu7pWdWUgQVBQJyk7XG5cbiAgICAod2luZG93IGFzIGFueSkuYWNjZXB0VnVlQXBwID0gKGFwcDogKCkgPT4gQXBwKSA9PiB7XG4gICAgICAgIHN0b3JlLnZ1ZUFwcCA9IGFwcDtcbiAgICB9O1xuXG4gICAgKHdpbmRvdyBhcyBhbnkpLnJlZ2lzdGVyVmFyV29ybGRJbmZvID0gcmVnaXN0ZXJWYXJXb3JsZEluZm87XG5cbiAgICBzdG9yZS52dWVBcHAgPSB1bmRlZmluZWQ7XG4gICAgdHJ5IHtcbiAgICAgICAgZXZhbChqc0NvbnRlbnQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ+WIm+W7ulZ1ZSBBUFDlpLHotKUnKTtcbiAgICAgICAgY2xlYW5WdWUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXN0b3JlLnZ1ZUFwcCkge1xuICAgICAgICBjb25zb2xlLmxvZygn5pyq5Y+R546wVnVlIEFQUCcpO1xuICAgICAgICBjbGVhblZ1ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKCfmiJDlip/liJvlu7pWdWUgQVBQJyk7XG5cbiAgICBjb25zdCBzdHlsZUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIHN0eWxlRWxlbS5pZCA9ICd2dWUtY3NzJztcbiAgICBzdHlsZUVsZW0udGV4dENvbnRlbnQgPSBjc3NDb250ZW50O1xuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtKTtcbiAgICBjb25zb2xlLmxvZygn5bey5oyC6L29VnVlIEFQUOWvueW6lOeahENTU+aWh+S7ticpO1xuXG4gICAgc3RvcmUuY2hhdEFwcHMgPSB7fTtcbiAgICBjb25zb2xlLmxvZygn5bey5riF56m6546w5pyJQVBQ5YiX6KGo77yM5YeG5aSH6YeN5paw5riy5p+TJyk7XG59O1xuIiwiaW1wb3J0IHsgdXNlVnVlQXBwU3RvcmUgfSBmcm9tICdAL3N0b3Jlcy92dWUtYXBwJztcblxuZXhwb3J0IGNvbnN0IGNsZWFuVnVlID0gKCkgPT4ge1xuICAgIGNvbnN0IGNoYXREaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdCcpIGFzIEhUTUxEaXZFbGVtZW50IHwgdW5kZWZpbmVkO1xuICAgIGlmICghY2hhdERpdikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBub2RlIG9mIGNoYXREaXYuY2hpbGROb2Rlcykge1xuICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEhUTUxEaXZFbGVtZW50KSB7XG4gICAgICAgICAgICBjb25zdCBpc01zZyA9IG5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdtZXMnKTtcbiAgICAgICAgICAgIGlmICghaXNNc2cpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgbWVzQmxvY2sgPSBub2RlLnF1ZXJ5U2VsZWN0b3IoJy5tZXNfYmxvY2snKTtcbiAgICAgICAgICAgIGlmICghbWVzQmxvY2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IG1lc1RleHQgPSBtZXNCbG9jay5xdWVyeVNlbGVjdG9yKCcubWVzX3RleHQnKTtcbiAgICAgICAgICAgIGlmICghbWVzVGV4dCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgKG1lc1RleHQgYXMgSFRNTERpdkVsZW1lbnQpLmhpZGRlbiA9IGZhbHNlO1xuXG4gICAgICAgICAgICBjb25zdCB2dWVBcHBEaXYgPSBtZXNCbG9jay5xdWVyeVNlbGVjdG9yKCcudnVlLWZyb250ZW5kLWFwcCcpO1xuICAgICAgICAgICAgaWYgKHZ1ZUFwcERpdikge1xuICAgICAgICAgICAgICAgIHZ1ZUFwcERpdi5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHsgY2hhdEFwcHMgfSA9IHVzZVZ1ZUFwcFN0b3JlKCk7XG5cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBjaGF0QXBwcykge1xuICAgICAgICBkZWxldGUgY2hhdEFwcHNba2V5XTtcbiAgICB9XG59O1xuIiwiZXhwb3J0IHZhciBNZXNzYWdlVXBkYXRlUmVhc29uO1xuKGZ1bmN0aW9uIChNZXNzYWdlVXBkYXRlUmVhc29uKSB7XG4gICAgTWVzc2FnZVVwZGF0ZVJlYXNvbltNZXNzYWdlVXBkYXRlUmVhc29uW1wiRURJVFwiXSA9IDBdID0gXCJFRElUXCI7XG4gICAgTWVzc2FnZVVwZGF0ZVJlYXNvbltNZXNzYWdlVXBkYXRlUmVhc29uW1wiU1dJUEVcIl0gPSAxXSA9IFwiU1dJUEVcIjtcbiAgICBNZXNzYWdlVXBkYXRlUmVhc29uW01lc3NhZ2VVcGRhdGVSZWFzb25bXCJTVFJFQU1cIl0gPSAyXSA9IFwiU1RSRUFNXCI7XG4gICAgTWVzc2FnZVVwZGF0ZVJlYXNvbltNZXNzYWdlVXBkYXRlUmVhc29uW1wiU1RSRUFNX0VORFwiXSA9IDNdID0gXCJTVFJFQU1fRU5EXCI7XG4gICAgTWVzc2FnZVVwZGF0ZVJlYXNvbltNZXNzYWdlVXBkYXRlUmVhc29uW1wiVU5LTk9XTlwiXSA9IDRdID0gXCJVTktOT1dOXCI7XG59KShNZXNzYWdlVXBkYXRlUmVhc29uIHx8IChNZXNzYWdlVXBkYXRlUmVhc29uID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV2ZW50cy5qcy5tYXAiLCJleHBvcnQgY2xhc3MgRnJvbnRlbmRFdmVudEVtaXR0ZXIge1xuICAgIGxpc3RlbmVycyA9IHt9O1xuICAgIG9uKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICBpZiAoIXRoaXMubGlzdGVuZXJzW2V2ZW50XSkge1xuICAgICAgICAgICAgdGhpcy5saXN0ZW5lcnNbZXZlbnRdID0gbmV3IFNldCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGlzdGVuZXJzW2V2ZW50XS5hZGQobGlzdGVuZXIpO1xuICAgIH1cbiAgICBvZmYoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmxpc3RlbmVyc1tldmVudF0pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxpc3RlbmVyc1tldmVudF0uaGFzKGxpc3RlbmVyKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzW2V2ZW50XS5kZWxldGUobGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVtaXQoZXZlbnQsIC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKHRoaXMubGlzdGVuZXJzW2V2ZW50XSkge1xuICAgICAgICAgICAgdGhpcy5saXN0ZW5lcnNbZXZlbnRdLmZvckVhY2goKGxpc3RlbmVyKSA9PiBsaXN0ZW5lciguLi5hcmdzKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgeyBNZXNzYWdlVXBkYXRlUmVhc29uIH0gZnJvbSAnLi9ldmVudHMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiaW1wb3J0IHsgZ2V0Q29udGV4dCB9IGZyb20gJ3NpbGx5dGF2ZXJuLWV4dGVuc2lvbi1hcGknO1xuXG5leHBvcnQgY29uc3QgcmVuZGVyTWVzc2FnZSA9IChjaGFyTmFtZTogc3RyaW5nLCBtZXNJZDogbnVtYmVyKSA9PiAoY29udGVudDogc3RyaW5nKSA9PlxuICAgIGdldENvbnRleHQoKS5tZXNzYWdlRm9ybWF0dGluZyhjb250ZW50LCBjaGFyTmFtZSwgZmFsc2UsIGZhbHNlLCBtZXNJZCk7XG4iLCJpbXBvcnQgeyBnZXRDb250ZXh0IH0gZnJvbSAnc2lsbHl0YXZlcm4tZXh0ZW5zaW9uLWFwaSc7XG5cbmV4cG9ydCBjb25zdCBtZXNzYWdlVmFycyA9IChtZXNJZDogbnVtYmVyKSA9PiAoKSA9PiB7XG4gICAgY29uc3QgY29udGV4dCA9IGdldENvbnRleHQoKTtcbiAgICBjb25zdCBtZXMgPSBjb250ZXh0LmNoYXRbbWVzSWRdO1xuICAgIGlmICghbWVzLnN3aXBlcykge1xuICAgICAgICBpZiAoIW1lcy5leHRyYSkge1xuICAgICAgICAgICAgbWVzLmV4dHJhID0ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFtZXMuZXh0cmEudnVlRnJvbnRlbmRWYXJzKSB7XG4gICAgICAgICAgICBtZXMuZXh0cmEudnVlRnJvbnRlbmRWYXJzID0ge307XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lcy5leHRyYS52dWVGcm9udGVuZFZhcnMgYXMgUmVjb3JkPHN0cmluZywgYW55PjtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBzd2lwZUluZm8gPSBtZXMuc3dpcGVfaW5mb1ttZXMuc3dpcGVfaWRdO1xuICAgICAgICBpZiAoIXN3aXBlSW5mby5leHRyYSkge1xuICAgICAgICAgICAgc3dpcGVJbmZvLmV4dHJhID0ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzd2lwZUluZm8uZXh0cmEudnVlRnJvbnRlbmRWYXJzKSB7XG4gICAgICAgICAgICBzd2lwZUluZm8uZXh0cmEudnVlRnJvbnRlbmRWYXJzID0ge307XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN3aXBlSW5mby5leHRyYS52dWVGcm9udGVuZFZhcnMgYXMgUmVjb3JkPHN0cmluZywgYW55PjtcbiAgICB9XG59O1xuIiwiaW1wb3J0IHsgdXNlV29ybGRJbmZvU3RvcmUgfSBmcm9tICdAL3N0b3Jlcy93b3JsZC1pbmZvJztcbmltcG9ydCB7IEV4dGVuc2lvblByb21wdFBvc2l0aW9uIH0gZnJvbSAnQC90YXZlcm4tdHlwZXMvZW51bXMnO1xuaW1wb3J0IHsgZ2V0Q29udGV4dCB9IGZyb20gJ3NpbGx5dGF2ZXJuLWV4dGVuc2lvbi1hcGknO1xuXG5leHBvcnQgY29uc3QgaGFuZGxlVmFyQ2hhbmdlID0gYXN5bmMgKHZhcnM6IFJlY29yZDxzdHJpbmcsIGFueT4pID0+IHtcbiAgICBjb25zdCB7IHdvcmxkSW5mbywgdnVlQm9vayB9ID0gdXNlV29ybGRJbmZvU3RvcmUoKTtcbiAgICBjb25zdCBjb250ZXh0ID0gZ2V0Q29udGV4dCgpO1xuICAgIHRyeSB7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB3b3JsZEluZm8pIHtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2YXRlZCA9IGl0ZW0ucHJlZGljYXRlKHZhcnMpO1xuICAgICAgICAgICAgaWYgKGl0ZW0uZW50cnkgJiYgYWN0aXZhdGVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZW50cnkgPSBpdGVtLmVudHJ5KHZhcnMpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2V0RXh0ZW5zaW9uUHJvbXB0KFxuICAgICAgICAgICAgICAgICAgICBgVnVlLSR7aXRlbS5uYW1lfWAsXG4gICAgICAgICAgICAgICAgICAgIGVudHJ5LmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgIEV4dGVuc2lvblByb21wdFBvc2l0aW9uLklOX0NIQVQsXG4gICAgICAgICAgICAgICAgICAgIGVudHJ5LmRlcHRoXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5uYW1lIGluIHZ1ZUJvb2sgJiYgYWN0aXZhdGVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZW50cnkgPSB2dWVCb29rW2l0ZW0ubmFtZV07XG4gICAgICAgICAgICAgICAgY29udGV4dC5zZXRFeHRlbnNpb25Qcm9tcHQoXG4gICAgICAgICAgICAgICAgICAgIGBWdWUtJHtpdGVtLm5hbWV9YCxcbiAgICAgICAgICAgICAgICAgICAgZW50cnkuY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgRXh0ZW5zaW9uUHJvbXB0UG9zaXRpb24uSU5fQ0hBVCxcbiAgICAgICAgICAgICAgICAgICAgZW50cnkuZGVwdGhcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNldEV4dGVuc2lvblByb21wdChgVnVlLSR7aXRlbS5uYW1lfWAsICcnLCBFeHRlbnNpb25Qcm9tcHRQb3NpdGlvbi5BRlRFUl9TVE9SWSwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgIH1cbn07XG4iLCJpbXBvcnQgeyBnZXRDb250ZXh0IH0gZnJvbSAnc2lsbHl0YXZlcm4tZXh0ZW5zaW9uLWFwaSc7XG5pbXBvcnQgeyBoYW5kbGVWYXJDaGFuZ2UgfSBmcm9tICcuLi9oYW5kbGUtdmFyLWNoYW5nZSc7XG5pbXBvcnQgeyBtZXNzYWdlVmFycyB9IGZyb20gJy4vbWVzc2FnZS12YXJzJztcblxuZXhwb3J0IGNvbnN0IHNhdmVDaGF0ID0gKG1lc0lkOiBudW1iZXIpID0+IHtcbiAgICBjb25zdCBjb250ZXh0ID0gZ2V0Q29udGV4dCgpO1xuICAgIGNvbnN0IGNoYXQgPSBjb250ZXh0LmNoYXQ7XG4gICAgY29uc3Qgb3JpZ2luYWwgPSBjb250ZXh0LnNhdmVDaGF0O1xuICAgIHJldHVybiBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmIChtZXNJZCA9PSBjaGF0Lmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIGhhbmRsZVZhckNoYW5nZShtZXNzYWdlVmFycyhtZXNJZCkpO1xuICAgICAgICAgICAgYXdhaXQgb3JpZ2luYWwoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBoYXNDaGFyQWZ0ZXIgPSBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IG1lc0lkOyBpIDwgY2hhdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCFjaGF0W2ldLmlzX3N5c3RlbSAmJiAhY2hhdFtpXS5pc191c2VyKSB7XG4gICAgICAgICAgICAgICAgaGFzQ2hhckFmdGVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWhhc0NoYXJBZnRlcikge1xuICAgICAgICAgICAgaGFuZGxlVmFyQ2hhbmdlKG1lc3NhZ2VWYXJzKG1lc0lkKSk7XG4gICAgICAgICAgICBhd2FpdCBvcmlnaW5hbCgpO1xuICAgICAgICB9XG4gICAgfTtcbn07XG4iLCJpbXBvcnQgdHlwZSB7IEFwcCB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyByZW5kZXJNZXNzYWdlIH0gZnJvbSAnLi9yZW5kZXItbWVzc2FnZSc7XG5pbXBvcnQgeyBtZXNzYWdlVmFycyB9IGZyb20gJy4vbWVzc2FnZS12YXJzJztcbmltcG9ydCB7IHNhdmVDaGF0IH0gZnJvbSAnLi9zYXZlLWNoYXQnO1xuaW1wb3J0IHsgdXNlV29ybGRJbmZvU3RvcmUgfSBmcm9tICdAL3N0b3Jlcy93b3JsZC1pbmZvJztcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVdyYXBwZXJBcGkgPSAoYXBwOiBBcHAsIGNoYXJOYW1lOiBzdHJpbmcsIG1lc0lkOiBudW1iZXIpID0+IHtcbiAgICBhcHAucHJvdmlkZSgnd3JhcHBlckFwaScsIHtcbiAgICAgICAgcmVuZGVyTWVzc2FnZTogcmVuZGVyTWVzc2FnZShjaGFyTmFtZSwgbWVzSWQpLFxuICAgICAgICBtZXNzYWdlVmFyczogbWVzc2FnZVZhcnMobWVzSWQpLFxuICAgICAgICBzYXZlQ2hhdDogc2F2ZUNoYXQobWVzSWQpLFxuICAgICAgICBnZXRWdWVCb29rOiAoKSA9PiB1c2VXb3JsZEluZm9TdG9yZSgpLnZ1ZUJvb2ssXG4gICAgfSk7XG59O1xuIiwiaW1wb3J0IHsgdXNlU2V0dGluZ3NTdG9yZSB9IGZyb20gJ0Avc3RvcmVzL3NldHRpbmcnO1xuaW1wb3J0IHsgdXNlVnVlQXBwU3RvcmUgfSBmcm9tICdAL3N0b3Jlcy92dWUtYXBwJztcbmltcG9ydCB7IEZyb250ZW5kRXZlbnRFbWl0dGVyLCBNZXNzYWdlVXBkYXRlUmVhc29uIH0gZnJvbSAnQHNpbGx5dGF2ZXJuLXZ1ZS1mcm9udGVuZC9mcm9udGVuZC1ldmVudC1lbWl0dGVyJztcbmltcG9ydCB7IGdldENvbnRleHQgfSBmcm9tICdzaWxseXRhdmVybi1leHRlbnNpb24tYXBpJztcbmltcG9ydCB7IGNyZWF0ZVdyYXBwZXJBcGkgfSBmcm9tICcuLi93cmFwcGVyLWFwaSc7XG5cbmV4cG9ydCBjb25zdCByZW5kZXJTaW5nbGVWdWVBcHAgPSAoXG4gICAgbWVzSWQ6IG51bWJlcixcbiAgICBjb250ZW50OiBzdHJpbmcsXG4gICAgbWVzOiBIVE1MRGl2RWxlbWVudCxcbiAgICByZWFzb246IE1lc3NhZ2VVcGRhdGVSZWFzb25cbikgPT4ge1xuICAgIGNvbnN0IHsgdnVlQXBwLCBjaGF0QXBwcyB9ID0gdXNlVnVlQXBwU3RvcmUoKTtcbiAgICBjb25zdCB7IHNldHRpbmdzIH0gPSB1c2VTZXR0aW5nc1N0b3JlKCk7XG4gICAgaWYgKCF2dWVBcHAgfHwgIXNldHRpbmdzLmVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbnRleHQgPSBnZXRDb250ZXh0KCk7XG5cbiAgICBjb25zdCBtZXNCbG9jayA9IG1lcy5xdWVyeVNlbGVjdG9yKCcubWVzX2Jsb2NrJyk7XG4gICAgaWYgKCFtZXNCbG9jaykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY2hOYW1lID0gbWVzQmxvY2sucXVlcnlTZWxlY3RvcignLmNoX25hbWUnKTtcbiAgICBpZiAoIWNoTmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbWVzVGV4dCA9IG1lc0Jsb2NrLnF1ZXJ5U2VsZWN0b3IoJy5tZXNfdGV4dCcpO1xuICAgIGlmICghbWVzVGV4dCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIChtZXNUZXh0IGFzIEhUTUxEaXZFbGVtZW50KS5oaWRkZW4gPSB0cnVlO1xuXG4gICAgY29uc3QgdnVlQXBwRGl2ID0gbWVzQmxvY2sucXVlcnlTZWxlY3RvcignLnZ1ZS1mcm9udGVuZC1hcHAnKTtcbiAgICBpZiAodnVlQXBwRGl2IGluc3RhbmNlb2YgSFRNTERpdkVsZW1lbnQpIHtcbiAgICAgICAgdnVlQXBwRGl2LmhpZGRlbiA9IGZhbHNlO1xuICAgICAgICBjaGF0QXBwc1ttZXNJZF0uZW1pdCgnbWVzc2FnZVVwZGF0ZWQnLCBjb250ZW50LCByZWFzb24pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbmV3QXBwID0gdnVlQXBwKCk7XG4gICAgbmV3QXBwLnByb3ZpZGUoJ2luaXRpYWxNZXNzYWdlJywgY29udGVudCk7XG4gICAgY29uc3QgbmV3RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbmV3RGl2LmNsYXNzTGlzdC5hZGQoJ3Z1ZS1mcm9udGVuZC1hcHAnKTtcbiAgICBuZXdEaXYuc3R5bGUucGFkZGluZ1JpZ2h0ID0gJzMwcHgnO1xuICAgIGNoTmFtZS5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyZW5kJywgbmV3RGl2KTtcbiAgICBjb25zdCBuZXdFdmVudEVtaXR0ZXIgPSBuZXcgRnJvbnRlbmRFdmVudEVtaXR0ZXIoKTtcbiAgICBjaGF0QXBwc1ttZXNJZF0gPSBuZXdFdmVudEVtaXR0ZXI7XG4gICAgbmV3QXBwLnByb3ZpZGUoJ2Zyb250ZW5kRXZlbnRFbWl0dGVyJywgbmV3RXZlbnRFbWl0dGVyKTtcbiAgICBuZXdBcHAucHJvdmlkZSgndGF2ZXJuQ29udGV4dCcsIGdldENvbnRleHQpO1xuICAgIGNyZWF0ZVdyYXBwZXJBcGkobmV3QXBwLCBjb250ZXh0LmNoYXJhY3RlcnNbY29udGV4dC5jaGFyYWN0ZXJJZF0ubmFtZSwgbWVzSWQpO1xuICAgIG5ld0FwcC5tb3VudChuZXdEaXYpO1xuXG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigoKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzRWRpdGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXJFZGl0VGV4dGFyZWEnKTtcbiAgICAgICAgaWYgKGlzRWRpdGluZyAmJiBpc0VkaXRpbmcucGFyZW50Tm9kZSA9PSBtZXNUZXh0KSB7XG4gICAgICAgICAgICAobWVzVGV4dCBhcyBIVE1MRGl2RWxlbWVudCkuaGlkZGVuID0gZmFsc2U7XG4gICAgICAgICAgICBuZXdEaXYuaGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZShtZXNUZXh0LCB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSwgY2hhcmFjdGVyRGF0YTogdHJ1ZSB9KTtcbn07XG4iLCJleHBvcnQgY29uc3QgZ2V0Q29udGVudCA9IChjaGF0OiBDaGF0W10sIG1lc0lkOiBudW1iZXIpID0+IHtcbiAgICBsZXQgY3VycmVudENvbnRlbnQgPSAnJztcbiAgICBjb25zdCBjdXJyZW50TWVzID0gY2hhdFttZXNJZF07XG4gICAgaWYgKGN1cnJlbnRNZXMuc3dpcGVfaWQpIHtcbiAgICAgICAgY3VycmVudENvbnRlbnQgPSBjdXJyZW50TWVzLnN3aXBlc1tjdXJyZW50TWVzLnN3aXBlX2lkXSA/PyAnLi4uJztcbiAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50Q29udGVudCA9IGNoYXRbbWVzSWRdLm1lcztcbiAgICB9XG4gICAgcmV0dXJuIGN1cnJlbnRDb250ZW50O1xufTtcbiIsImltcG9ydCB7IGdldENvbnRleHQgfSBmcm9tICdzaWxseXRhdmVybi1leHRlbnNpb24tYXBpJztcbmltcG9ydCB7IHJlbmRlclNpbmdsZVZ1ZUFwcCB9IGZyb20gJy4vcmVuZGVyLXNpbmdsZS12dWUtYXBwJztcbmltcG9ydCB0eXBlIHsgTWVzc2FnZVVwZGF0ZVJlYXNvbiB9IGZyb20gJ0BzaWxseXRhdmVybi12dWUtZnJvbnRlbmQvZnJvbnRlbmQtZXZlbnQtZW1pdHRlcic7XG5pbXBvcnQgeyBnZXRDb250ZW50IH0gZnJvbSAnLi4vZ2V0LWNvbnRlbnQnO1xuXG5leHBvcnQgY29uc3QgcmVuZGVyVnVlID0gKHJlYXNvbjogTWVzc2FnZVVwZGF0ZVJlYXNvbikgPT4ge1xuICAgIGNvbnN0IGNoYXQgPSBnZXRDb250ZXh0KCkuY2hhdDtcblxuICAgIGNvbnN0IGNoYXREaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdCcpIGFzIEhUTUxEaXZFbGVtZW50IHwgdW5kZWZpbmVkO1xuICAgIGlmICghY2hhdERpdikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBub2RlIG9mIGNoYXREaXYuY2hpbGROb2Rlcykge1xuICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEhUTUxEaXZFbGVtZW50KSB7XG4gICAgICAgICAgICBjb25zdCBpc01zZyA9IG5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdtZXMnKTtcbiAgICAgICAgICAgIGlmICghaXNNc2cpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgaXNVc2VyID0gbm9kZS5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbSgnaXNfdXNlcicpO1xuICAgICAgICAgICAgY29uc3QgaXNTeXN0ZW0gPSBub2RlLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKCdpc19zeXN0ZW0nKTtcbiAgICAgICAgICAgIGlmICghaXNVc2VyIHx8ICFpc1N5c3RlbSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaXNVc2VyVmFsdWUgPSBpc1VzZXIudmFsdWU7XG4gICAgICAgICAgICBjb25zdCBpc1N5c3RlbVZhbHVlID0gaXNTeXN0ZW0udmFsdWU7XG4gICAgICAgICAgICBpZiAoaXNVc2VyVmFsdWUgPT0gJ3RydWUnIHx8IGlzU3lzdGVtVmFsdWUgPT0gJ3RydWUnKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IG1lc0lkID0gcGFyc2VJbnQobm9kZS5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbSgnbWVzaWQnKT8udmFsdWUgPz8gJy0xJyk7XG4gICAgICAgICAgICBpZiAobWVzSWQgPCAwKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDlsJ3or5XmuLLmn5Pmtojmga8jJHttZXNJZH0uLi5gKTtcblxuICAgICAgICAgICAgcmVuZGVyU2luZ2xlVnVlQXBwKG1lc0lkLCBnZXRDb250ZW50KGNoYXQsIG1lc0lkKSwgbm9kZSwgcmVhc29uKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG4iLCJpbXBvcnQgeyByZWxvYWRWdWUgfSBmcm9tICdAL3RhdmVybi9yZWxvYWQtdnVlJztcbmltcG9ydCB7IGNsZWFuVnVlIH0gZnJvbSAnQC90YXZlcm4vcmVuZGVyL2NsZWFuLXZ1ZSc7XG5pbXBvcnQgeyByZW5kZXJWdWUgfSBmcm9tICdAL3RhdmVybi9yZW5kZXIvcmVuZGVyLXZ1ZSc7XG5pbXBvcnQgeyBNZXNzYWdlVXBkYXRlUmVhc29uIH0gZnJvbSAnQHNpbGx5dGF2ZXJuLXZ1ZS1mcm9udGVuZC9mcm9udGVuZC1ldmVudC1lbWl0dGVyJztcbmltcG9ydCB7IGRlZmluZVN0b3JlIH0gZnJvbSAncGluaWEnO1xuaW1wb3J0IHsgZXh0ZW5zaW9uX3NldHRpbmdzLCBnZXRDb250ZXh0IH0gZnJvbSAnc2lsbHl0YXZlcm4tZXh0ZW5zaW9uLWFwaSc7XG5pbXBvcnQgeyByZWFjdGl2ZSwgd2F0Y2ggfSBmcm9tICd2dWUnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNldHRpbmdzIHtcbiAgICBlbmFibGVkOiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgdXNlU2V0dGluZ3NTdG9yZSA9IGRlZmluZVN0b3JlKCdzZXR0aW5ncycsICgpID0+IHtcbiAgICBjb25zdCB0YXZlcm5Db250ZXh0ID0gZ2V0Q29udGV4dCgpO1xuXG4gICAgY29uc3QgZGVmYXVsdFNldHRpbmdzOiBTZXR0aW5ncyA9IHtcbiAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICB9O1xuXG4gICAgY29uc3Qgc2V0dGluZ3MgPSByZWFjdGl2ZShkZWZhdWx0U2V0dGluZ3MpO1xuICAgIGlmIChleHRlbnNpb25fc2V0dGluZ3NbJ3Z1ZS1mcm9udGVuZCddKSB7XG4gICAgICAgIGNvbnN0IHNhdmVkID0gZXh0ZW5zaW9uX3NldHRpbmdzWyd2dWUtZnJvbnRlbmQnXTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc2F2ZWQpIHtcbiAgICAgICAgICAgIChzZXR0aW5ncyBhcyBhbnkpW2tleV0gPSBzYXZlZFtrZXldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgd2F0Y2goc2V0dGluZ3MsIGFzeW5jIChzKSA9PiB7XG4gICAgICAgIGlmIChzLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIGF3YWl0IHJlbG9hZFZ1ZSgpO1xuICAgICAgICAgICAgcmVuZGVyVnVlKE1lc3NhZ2VVcGRhdGVSZWFzb24uVU5LTk9XTik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjbGVhblZ1ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGV4dGVuc2lvbl9zZXR0aW5nc1sndnVlLWZyb250ZW5kJ10gPSB7IC4uLnMgfTtcbiAgICAgICAgdGF2ZXJuQ29udGV4dC5zYXZlU2V0dGluZ3NEZWJvdW5jZWQoKTtcbiAgICB9KTtcblxuICAgIHJldHVybiB7IHNldHRpbmdzIH07XG59KTtcbiIsImltcG9ydCB7IHVzZVNldHRpbmdzU3RvcmUgfSBmcm9tICdAL3N0b3Jlcy9zZXR0aW5nJztcbmltcG9ydCB7IGdldENvbnRleHQgfSBmcm9tICdzaWxseXRhdmVybi1leHRlbnNpb24tYXBpJztcbmltcG9ydCB7IGNyZWF0ZVdvcmxkSW5mb0VudHJ5LCBsb2FkV29ybGRJbmZvLCBzYXZlV29ybGRJbmZvIH0gZnJvbSAnc2lsbHl0YXZlcm4td29ybGQtYXBpJztcbmltcG9ydCB7IHJlbG9hZFZ1ZSB9IGZyb20gJy4vcmVsb2FkLXZ1ZSc7XG5pbXBvcnQgeyByZW5kZXJWdWUgfSBmcm9tICcuL3JlbmRlci9yZW5kZXItdnVlJztcbmltcG9ydCB7IGNsZWFuVnVlIH0gZnJvbSAnLi9yZW5kZXIvY2xlYW4tdnVlJztcbmltcG9ydCB7IE1lc3NhZ2VVcGRhdGVSZWFzb24gfSBmcm9tICdAc2lsbHl0YXZlcm4tdnVlLWZyb250ZW5kL2Zyb250ZW5kLWV2ZW50LWVtaXR0ZXInO1xuXG5leHBvcnQgY29uc3QgdXBsb2FkRnJvbnRlbmQgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgbGV0IGRpcmVjdG9yeUhhbmRsZSA9IChhd2FpdCAod2luZG93IGFzIGFueSkuc2hvd0RpcmVjdG9yeVBpY2tlcigpKSBhcyBGaWxlU3lzdGVtRGlyZWN0b3J5SGFuZGxlO1xuICAgICAgICBpZiAoZGlyZWN0b3J5SGFuZGxlLm5hbWUgPT0gJ2Rpc3QnKSB7XG4gICAgICAgICAgICBkaXJlY3RvcnlIYW5kbGUgPSBhd2FpdCBkaXJlY3RvcnlIYW5kbGUuZ2V0RGlyZWN0b3J5SGFuZGxlKCdhc3NldHMnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjc3NIYW5kbGU6IEZpbGVTeXN0ZW1IYW5kbGUgfCB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBqc0hhbmRsZTogRmlsZVN5c3RlbUhhbmRsZSB8IHVuZGVmaW5lZDtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBbbmFtZSwgaGFuZGxlXSBvZiAoZGlyZWN0b3J5SGFuZGxlIGFzIGFueSkuZW50cmllcygpIGFzIEFzeW5jSXRlcmFibGVJdGVyYXRvcjxcbiAgICAgICAgICAgIFtzdHJpbmcsIEZpbGVTeXN0ZW1IYW5kbGVdXG4gICAgICAgID4pIHtcbiAgICAgICAgICAgIGlmIChuYW1lLnN0YXJ0c1dpdGgoJ2luZGV4JykpIHtcbiAgICAgICAgICAgICAgICBpZiAobmFtZS5lbmRzV2l0aCgnLmNzcycpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNzc0hhbmRsZSA9IGhhbmRsZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUuZW5kc1dpdGgoJy5qcycpKSB7XG4gICAgICAgICAgICAgICAgICAgIGpzSGFuZGxlID0gaGFuZGxlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghY3NzSGFuZGxlIHx8ICFqc0hhbmRsZSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjc3NIYW5kbGUua2luZCAhPSAnZmlsZScgfHwganNIYW5kbGUua2luZCAhPSAnZmlsZScpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjc3NGaWxlID0gYXdhaXQgKGNzc0hhbmRsZSBhcyBGaWxlU3lzdGVtRmlsZUhhbmRsZSkuZ2V0RmlsZSgpO1xuICAgICAgICBjb25zdCBqc0ZpbGUgPSBhd2FpdCAoanNIYW5kbGUgYXMgRmlsZVN5c3RlbUZpbGVIYW5kbGUpLmdldEZpbGUoKTtcbiAgICAgICAgY29uc3QgY3NzQ29udGVudCA9IGF3YWl0IGNzc0ZpbGUudGV4dCgpO1xuICAgICAgICBjb25zdCBqc0NvbnRlbnQgPSBhd2FpdCBqc0ZpbGUudGV4dCgpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gZ2V0Q29udGV4dCgpO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudENoYXJhY3RlciA9IGNvbnRleHQuY2hhcmFjdGVyc1tjb250ZXh0LmNoYXJhY3RlcklkXTtcbiAgICAgICAgICAgIGlmICghY3VycmVudENoYXJhY3Rlcikge1xuICAgICAgICAgICAgICAgIGFsZXJ0KCfmnKrmib7liLDop5LoibInKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGJvb2tOYW1lID0gY3VycmVudENoYXJhY3Rlci5kYXRhPy5jaGFyYWN0ZXJfYm9vaz8ubmFtZTtcbiAgICAgICAgICAgIGlmICghYm9va05hbWUpIHtcbiAgICAgICAgICAgICAgICBhbGVydCgn6KeS6Imy5LiW55WM5Lmm5LiN5a2Y5Zyo77yM6K+35YWI5Yib5bu65bm257uR5a6a6KeS6Imy5LiW55WM5LmmJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB3b3JsZEluZm8gPSBhd2FpdCBsb2FkV29ybGRJbmZvKGJvb2tOYW1lKTtcbiAgICAgICAgICAgIGlmICghd29ybGRJbmZvKSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoJ+ivu+WPluinkuiJsuS4lueVjOS5puWksei0pScpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc29sZS5sb2cod29ybGRJbmZvKTtcblxuICAgICAgICAgICAgbGV0IHZ1ZUNzc0VudHJ5OiBUYXZlcm5WMkRhdGFXb3JsZEluZm9FbnRyeSB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGxldCB2dWVKc0VudHJ5OiBUYXZlcm5WMkRhdGFXb3JsZEluZm9FbnRyeSB8IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gd29ybGRJbmZvLmVudHJpZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbnRyeSA9IHdvcmxkSW5mby5lbnRyaWVzW2tleV07XG4gICAgICAgICAgICAgICAgaWYgKGVudHJ5LmNvbW1lbnQgPT0gJ3Z1ZS1jc3MnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZ1ZUNzc0VudHJ5ID0gZW50cnk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlbnRyeS5jb21tZW50ID09ICd2dWUtanMnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZ1ZUpzRW50cnkgPSBlbnRyeTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghdnVlQ3NzRW50cnkpIHtcbiAgICAgICAgICAgICAgICB2dWVDc3NFbnRyeSA9IGNyZWF0ZVdvcmxkSW5mb0VudHJ5KGJvb2tOYW1lLCB3b3JsZEluZm8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF2dWVKc0VudHJ5KSB7XG4gICAgICAgICAgICAgICAgdnVlSnNFbnRyeSA9IGNyZWF0ZVdvcmxkSW5mb0VudHJ5KGJvb2tOYW1lLCB3b3JsZEluZm8pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXZ1ZUNzc0VudHJ5IHx8ICF2dWVKc0VudHJ5KSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoJ+WIm+W7uuS4lueVjOS5puadoeebruWksei0pScpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdnVlQ3NzRW50cnkuY29tbWVudCA9ICd2dWUtY3NzJztcbiAgICAgICAgICAgIHZ1ZUpzRW50cnkuY29tbWVudCA9ICd2dWUtanMnO1xuICAgICAgICAgICAgdnVlQ3NzRW50cnkuY29udGVudCA9IGNzc0NvbnRlbnQ7XG4gICAgICAgICAgICB2dWVKc0VudHJ5LmNvbnRlbnQgPSBqc0NvbnRlbnQ7XG4gICAgICAgICAgICBhd2FpdCBzYXZlV29ybGRJbmZvKGJvb2tOYW1lLCB3b3JsZEluZm8pO1xuXG4gICAgICAgICAgICBjb25zdCB7IHNldHRpbmdzIH0gPSB1c2VTZXR0aW5nc1N0b3JlKCk7XG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MuZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHJlbG9hZFZ1ZSgpO1xuICAgICAgICAgICAgICAgIGNsZWFuVnVlKCk7XG4gICAgICAgICAgICAgICAgcmVuZGVyVnVlKE1lc3NhZ2VVcGRhdGVSZWFzb24uVU5LTk9XTik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhbGVydCgn5oiQ5Yqf5LiK5LygVnVl5YmN56uvJyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnIgdXBsb2FkaW5nIHZ1ZSBmcm9udGVuZCcpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgICAgICBhbGVydCgn5pyq55+l6Zeu6aKYJyk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdFcnIgdXBsb2FkaW5nIHZ1ZSBmcm9udGVuZCcpO1xuICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgYWxlcnQoJ+aXoOazleS7juaMh+WumuaWh+S7tuWkueS4iuS8oFZ1ZeWJjeerr++8jOivt+ajgOafpei+k+WFpeebruW9leaYr+WQpuato+ehricpO1xuICAgIH1cbn07XG4iLCI8dGVtcGxhdGU+XG4gICAgPGRpdiBjbGFzcz1cIm91dGVyLWNvbnRhaW5lclwiPlxuICAgICAgICA8aHRtbCBjbGFzcz1cImRhcmtcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbm5lci1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3dpdGNoLXJvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dFwiPuWQr+eUqDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZWwtc3dpdGNoIHYtbW9kZWw9XCJzZXR0aW5ncy5lbmFibGVkXCIgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZWwtYnV0dG9uIEBjbGljaz1cInVwbG9hZEZyb250ZW5kXCI+5LiK5LygVnVl5YmN56uv5Yiw5LiW55WM5LmmPC9lbC1idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9odG1sPlxuICAgIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB7IHVzZVNldHRpbmdzU3RvcmUgfSBmcm9tICdAL3N0b3Jlcy9zZXR0aW5nJztcbmltcG9ydCB7IHVwbG9hZEZyb250ZW5kIH0gZnJvbSAnQC90YXZlcm4vdXBsb2FkLWZyb250ZW5kJztcblxuY29uc3QgeyBzZXR0aW5ncyB9ID0gdXNlU2V0dGluZ3NTdG9yZSgpO1xuPC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPVwic2Nzc1wiIHNjb3BlZD5cbi5vdXRlci1jb250YWluZXIge1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIGdyYXk7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgIG1hcmdpbjogMnB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigxMSwgMjQsIDM1KTtcbiAgICAtLXN0di10ZXh0LWNvbG9yLXByaW1hcnk6ICNkY2RjZDI7XG59XG5cbi5pbm5lci1jb250YWluZXIge1xuICAgIG1hcmdpbjogNXB4O1xufVxuXG4uc3dpdGNoLXJvdyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgLnRleHQge1xuICAgICAgICBsaW5lLWhlaWdodDogMzJweDtcbiAgICB9XG59XG48L3N0eWxlPlxuIiwiaW1wb3J0IHsgTWVzc2FnZVVwZGF0ZVJlYXNvbiB9IGZyb20gJ0BzaWxseXRhdmVybi12dWUtZnJvbnRlbmQvZnJvbnRlbmQtZXZlbnQtZW1pdHRlcic7XG5pbXBvcnQgeyByZW5kZXJTaW5nbGVWdWVBcHAgfSBmcm9tICcuL3JlbmRlci1zaW5nbGUtdnVlLWFwcCc7XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVMYXN0TWVzc2FnZSA9IChjb250ZW50OiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBjaGF0RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXQnKSBhcyBIVE1MRGl2RWxlbWVudCB8IHVuZGVmaW5lZDtcbiAgICBpZiAoIWNoYXREaXYpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBsYXN0TWVzID0gY2hhdERpdi5xdWVyeVNlbGVjdG9yKCcubGFzdF9tZXMnKTtcbiAgICBpZiAobGFzdE1lcyBpbnN0YW5jZW9mIEhUTUxEaXZFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IG1lc0lkQXR0ciA9IGxhc3RNZXMuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oJ21lc2lkJyk7XG4gICAgICAgIGlmICghbWVzSWRBdHRyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWVzSWQgPSBwYXJzZUludChtZXNJZEF0dHIudmFsdWUpO1xuXG4gICAgICAgIHJlbmRlclNpbmdsZVZ1ZUFwcChtZXNJZCwgY29udGVudCwgbGFzdE1lcywgTWVzc2FnZVVwZGF0ZVJlYXNvbi5TVFJFQU0pO1xuICAgIH1cbn07XG4iLCJpbXBvcnQgeyB1c2VTZXR0aW5nc1N0b3JlIH0gZnJvbSAnQC9zdG9yZXMvc2V0dGluZyc7XG5pbXBvcnQgeyB1c2VWdWVBcHBTdG9yZSB9IGZyb20gJ0Avc3RvcmVzL3Z1ZS1hcHAnO1xuaW1wb3J0IHsgZ2V0Q29udGV4dCB9IGZyb20gJ3NpbGx5dGF2ZXJuLWV4dGVuc2lvbi1hcGknO1xuaW1wb3J0IHsgbWVzc2FnZVZhcnMgfSBmcm9tICcuL3dyYXBwZXItYXBpL21lc3NhZ2UtdmFycyc7XG5pbXBvcnQgeyBnZXRDb250ZW50IH0gZnJvbSAnLi9nZXQtY29udGVudCc7XG5cbmV4cG9ydCBjb25zdCBlbWl0VmFyRXZlbnQgPSAobWVzSWQ6IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IHsgc2V0dGluZ3MgfSA9IHVzZVNldHRpbmdzU3RvcmUoKTtcbiAgICBpZiAoIXNldHRpbmdzLmVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGN1cnJlbnRFbWl0dGVyID0gdXNlVnVlQXBwU3RvcmUoKS5jaGF0QXBwc1ttZXNJZF07XG4gICAgaWYgKCFjdXJyZW50RW1pdHRlcikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY29udGV4dCA9IGdldENvbnRleHQoKTtcbiAgICBjb25zdCBjaGF0ID0gY29udGV4dC5jaGF0O1xuICAgIGxldCBsYXN0TWVzSWQ6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgICBmb3IgKGxldCBpID0gbWVzSWQgLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBjb25zdCBtZXMgPSBjaGF0W2ldO1xuICAgICAgICBpZiAoIW1lcy5pc191c2VyICYmICFtZXMuaXNfc3lzdGVtKSB7XG4gICAgICAgICAgICBsYXN0TWVzSWQgPSBpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJ1RyeSBlbWl0IHZhciBldmVudCwgbWVzSWQ6JywgbWVzSWQsICdsYXN0IG1lc0lkOicsIGxhc3RNZXNJZCk7XG5cbiAgICBpZiAobGFzdE1lc0lkID09IHVuZGVmaW5lZCkge1xuICAgICAgICBjdXJyZW50RW1pdHRlci5lbWl0KCdpbml0VmFyaWFibGVzJywgZ2V0Q29udGVudChjaGF0LCBtZXNJZCkpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgb2xkVmFycyA9IG1lc3NhZ2VWYXJzKGxhc3RNZXNJZCkoKTtcbiAgICBjdXJyZW50RW1pdHRlci5lbWl0KCd1cGRhdGVWYXJpYWJsZXMnLCBvbGRWYXJzLCBnZXRDb250ZW50KGNoYXQsIG1lc0lkKSk7XG59O1xuIiwiaW1wb3J0IHsgZ2V0Q29udGV4dCB9IGZyb20gJ3NpbGx5dGF2ZXJuLWV4dGVuc2lvbi1hcGknO1xuaW1wb3J0IHsgZW1pdFZhckV2ZW50IH0gZnJvbSAnLi9lbWl0LXZhci1ldmVudCc7XG5cbmV4cG9ydCBjb25zdCBlbWl0VmFyRXZlbnRzID0gKCkgPT4ge1xuICAgIGNvbnN0IGNvbnRleHQgPSBnZXRDb250ZXh0KCk7XG4gICAgY29uc3QgY2hhdCA9IGNvbnRleHQuY2hhdDtcbiAgICBmb3IgKGNvbnN0IFttZXNJZCwgbWVzXSBvZiBjaGF0LmVudHJpZXMoKSkge1xuICAgICAgICBpZiAoIW1lcy5pc19zeXN0ZW0gJiYgIW1lcy5pc191c2VyKSB7XG4gICAgICAgICAgICBlbWl0VmFyRXZlbnQobWVzSWQpO1xuICAgICAgICB9XG4gICAgfVxufTtcbiIsImltcG9ydCB7IGdldENvbnRleHQgfSBmcm9tICdzaWxseXRhdmVybi1leHRlbnNpb24tYXBpJztcbmltcG9ydCB7IHJlbG9hZFZ1ZSB9IGZyb20gJy4vcmVsb2FkLXZ1ZSc7XG5pbXBvcnQgeyByZW5kZXJWdWUgfSBmcm9tICcuL3JlbmRlci9yZW5kZXItdnVlJztcbmltcG9ydCB7IHVwZGF0ZUxhc3RNZXNzYWdlIH0gZnJvbSAnLi9yZW5kZXIvdXBkYXRlLWxhc3QtbWVzc2FnZSc7XG5pbXBvcnQgeyBjbGVhblZ1ZSB9IGZyb20gJy4vcmVuZGVyL2NsZWFuLXZ1ZSc7XG5pbXBvcnQgeyBNZXNzYWdlVXBkYXRlUmVhc29uIH0gZnJvbSAnQHNpbGx5dGF2ZXJuLXZ1ZS1mcm9udGVuZC9mcm9udGVuZC1ldmVudC1lbWl0dGVyJztcbmltcG9ydCB7IGVtaXRWYXJFdmVudCB9IGZyb20gJy4vZW1pdC12YXItZXZlbnQnO1xuaW1wb3J0IHsgZW1pdFZhckV2ZW50cyB9IGZyb20gJy4vZW1pdC12YXItZXZlbnRzJztcblxuZXhwb3J0IGNvbnN0IGxpc3RlbkV2ZW50cyA9ICgpID0+IHtcbiAgICBjb25zdCB7IGV2ZW50X3R5cGVzLCBldmVudFNvdXJjZSB9ID0gZ2V0Q29udGV4dCgpO1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IHtcbiAgICAgICAgW2V2ZW50X3R5cGVzLkNIQVRfQ0hBTkdFRF06IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IHJlbG9hZFZ1ZSgpO1xuICAgICAgICAgICAgcmVuZGVyVnVlKE1lc3NhZ2VVcGRhdGVSZWFzb24uVU5LTk9XTik7XG4gICAgICAgICAgICBlbWl0VmFyRXZlbnRzKCk7XG4gICAgICAgIH0sXG4gICAgICAgIFtldmVudF90eXBlcy5NRVNTQUdFX0RFTEVURURdOiAoKSA9PiB7XG4gICAgICAgICAgICBjbGVhblZ1ZSgpO1xuICAgICAgICAgICAgcmVuZGVyVnVlKE1lc3NhZ2VVcGRhdGVSZWFzb24uVU5LTk9XTik7XG4gICAgICAgICAgICBlbWl0VmFyRXZlbnRzKCk7XG4gICAgICAgIH0sXG4gICAgICAgIFtldmVudF90eXBlcy5DSEFSQUNURVJfTUVTU0FHRV9SRU5ERVJFRF06IChtZXNJZDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICByZW5kZXJWdWUoTWVzc2FnZVVwZGF0ZVJlYXNvbi5TVFJFQU1fRU5EKTtcbiAgICAgICAgICAgIGVtaXRWYXJFdmVudChtZXNJZCk7XG4gICAgICAgIH0sXG4gICAgICAgIFtldmVudF90eXBlcy5NRVNTQUdFX1VQREFURURdOiAoKSA9PiB7XG4gICAgICAgICAgICByZW5kZXJWdWUoTWVzc2FnZVVwZGF0ZVJlYXNvbi5FRElUKTtcbiAgICAgICAgICAgIGVtaXRWYXJFdmVudHMoKTtcbiAgICAgICAgfSxcbiAgICAgICAgW2V2ZW50X3R5cGVzLk1FU1NBR0VfU1dJUEVEXTogKCkgPT4ge1xuICAgICAgICAgICAgcmVuZGVyVnVlKE1lc3NhZ2VVcGRhdGVSZWFzb24uU1dJUEUpO1xuICAgICAgICB9LFxuICAgICAgICBbZXZlbnRfdHlwZXMuU1RSRUFNX1RPS0VOX1JFQ0VJVkVEXTogdXBkYXRlTGFzdE1lc3NhZ2UsXG4gICAgfTtcblxuICAgIGZvciAoY29uc3Qga2V5IGluIGxpc3RlbmVycykge1xuICAgICAgICBldmVudFNvdXJjZS5vbihrZXksICguLi5hcmdzOiBhbnlbXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXIgPSAobGlzdGVuZXJzIGFzIGFueSlba2V5XTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdWdWUgZnJvbnRlbmQ6IFNpbGx5VGF2ZXJuIGV2ZW50IHJlY2VpdmVkOicsIGtleSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnYXJnczonLCBhcmdzKTtcbiAgICAgICAgICAgIGxpc3RlbmVyKC4uLmFyZ3MpO1xuICAgICAgICB9KTtcbiAgICB9XG59O1xuIiwiPHRlbXBsYXRlPlxuICAgIDxlbC1jb25maWctcHJvdmlkZXIgbmFtZXNwYWNlPVwic3R2XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJleGFtcGxlLWV4dGVuc2lvbi1zZXR0aW5nc1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImlubGluZS1kcmF3ZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5saW5lLWRyYXdlci10b2dnbGUgaW5saW5lLWRyYXdlci1oZWFkZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGI+VnVl5YmN56uvPC9iPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5saW5lLWRyYXdlci1pY29uIGZhLXNvbGlkIGZhLWNpcmNsZS1jaGV2cm9uLWRvd24gZG93blwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbmxpbmUtZHJhd2VyLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgPFNldHRpbmdQYWdlIC8+XG4gICAgICAgICAgICAgICAgICAgIDxociBjbGFzcz1cInN5c0hSXCIgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2VsLWNvbmZpZy1wcm92aWRlcj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQgc2V0dXAgbGFuZz1cInRzXCI+XG5pbXBvcnQgeyBvbk1vdW50ZWQgfSBmcm9tICd2dWUnO1xuaW1wb3J0IFNldHRpbmdQYWdlIGZyb20gJy4vY29tcG9uZW50cy9TZXR0aW5nUGFnZS52dWUnO1xuaW1wb3J0IHsgbGlzdGVuRXZlbnRzIH0gZnJvbSAnLi90YXZlcm4vbGlzdGVuLWV2ZW50cyc7XG5cbm9uTW91bnRlZChsaXN0ZW5FdmVudHMpO1xuPC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPVwic2Nzc1wiIHNjb3BlZD48L3N0eWxlPlxuIiwiaW1wb3J0IHsgY3JlYXRlQXBwIH0gZnJvbSAndnVlJztcbmltcG9ydCB7IGNyZWF0ZVBpbmlhIH0gZnJvbSAncGluaWEnO1xuaW1wb3J0IEFwcCBmcm9tICcuL0FwcC52dWUnO1xuXG5pbXBvcnQgJ0Avc3R5bGVzL2luZGV4LnNjc3MnO1xuXG5jb25zdCBleHRlbnNpb25zU2V0dGluZ3NFbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dGVuc2lvbnNfc2V0dGluZ3MnKTtcbmNvbnN0IHNldHRpbmdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbnNldHRpbmdEaXYuaWQgPSAndnVlLWZyb250ZW5kLXNldHRpbmdzJztcbmNvbnN0IGFwcEVsZW0gPSBleHRlbnNpb25zU2V0dGluZ3NFbGVtIS5hcHBlbmRDaGlsZChzZXR0aW5nRGl2KTtcblxuY29uc3QgYXBwID0gY3JlYXRlQXBwKEFwcCk7XG5jb25zdCBwaW5pYSA9IGNyZWF0ZVBpbmlhKCk7XG5hcHAudXNlKHBpbmlhKTtcbmFwcC5tb3VudChhcHBFbGVtKTtcbiJdLCJuYW1lcyI6WyJzdHIiLCJtYXAiLCJrZXkiLCJ2YWwiLCJhcnIiLCJlbCIsImkiLCJoYXNPd25Qcm9wZXJ0eSIsImlzQXJyYXkiLCJpc0Z1bmN0aW9uIiwiaXNTeW1ib2wiLCJpc09iamVjdCIsIm9iamVjdFRvU3RyaW5nIiwidmFsdWUiLCJpc1BsYWluT2JqZWN0IiwiZm4iLCJjYWNoZSIsIl8iLCJjIiwib2xkVmFsdWUiLCJmbnMiLCJhcmciLCJvYmoiLCJ3cml0YWJsZSIsIm4iLCJyZXMiLCJpdGVtIiwibm9ybWFsaXplZCIsImNzc1RleHQiLCJyZXQiLCJ0bXAiLCJuYW1lIiwiaXNSZWYiLCJfa2V5IiwiZW50cmllcyIsInZhbDIiLCJ2IiwiX2EiLCJkZXRhY2hlZCIsImwiLCJjdXJyZW50RWZmZWN0U2NvcGUiLCJmcm9tUGFyZW50IiwibGFzdCIsImZhaWxTaWxlbnRseSIsInByZXZFZmZlY3QiLCJwcmV2U2hvdWxkVHJhY2siLCJsaW5rIiwic3ViIiwiaXNDb21wdXRlZCIsImUiLCJuZXh0IiwiZXJyb3IiLCJlcnIiLCJoZWFkIiwidGFpbCIsInByZXYiLCJjb21wdXRlZCIsImRlcCIsInByZXZTdWIiLCJzb2Z0IiwibmV4dFN1YiIsInByZXZEZXAiLCJuZXh0RGVwIiwiY2xlYW51cCIsImRlYnVnSW5mbyIsImN1cnJlbnRUYWlsIiwidGFyZ2V0IiwidHlwZSIsImRlcHNNYXAiLCJuZXdWYWx1ZSIsIm9sZFRhcmdldCIsInJ1biIsInRhcmdldElzQXJyYXkiLCJpc0FycmF5SW5kZXgiLCJuZXdMZW5ndGgiLCJrZXkyIiwib2JqZWN0IiwiZGVwTWFwIiwiYXJyYXkiLCJyYXciLCJhcmdzIiwieCIsInRoaXNBcmciLCJhcHBseSIsInNlcGFyYXRvciIsImNvbXBhcmVyIiwic2VsZiIsIm1ldGhvZCIsIndyYXBWYWx1ZSIsIml0ZXIiLCJyZXN1bHQiLCJhcnJheVByb3RvIiwid3JhcHBlZFJldEZuIiwibmVlZHNXcmFwIiwibWV0aG9kRm4iLCJyZXN1bHQyIiwid3JhcHBlZEZuIiwiaW5kZXgiLCJhY2MiLCJfaXNSZWFkb25seSIsIl9pc1NoYWxsb3ciLCJyZWNlaXZlciIsImlzUmVhZG9ubHkyIiwiaXNTaGFsbG93MiIsImlzT2xkVmFsdWVSZWFkb25seSIsImhhZEtleSIsInJhd1RhcmdldCIsInRhcmdldElzTWFwIiwiaXNQYWlyIiwiaXNLZXlPbmx5IiwiaW5uZXJJdGVyYXRvciIsIndyYXAiLCJkb25lIiwicmVhZG9ubHkiLCJzaGFsbG93IiwiaW5zdHJ1bWVudGF0aW9ucyIsInJhd0tleSIsImhhcyIsImNhbGxiYWNrIiwib2JzZXJ2ZWQiLCJnZXQiLCJoYWRJdGVtcyIsInJhd1R5cGUiLCJiYXNlSGFuZGxlcnMiLCJjb2xsZWN0aW9uSGFuZGxlcnMiLCJwcm94eU1hcCIsImV4aXN0aW5nUHJveHkiLCJ0YXJnZXRUeXBlIiwicHJveHkiLCJyIiwicmF3VmFsdWUiLCJ1c2VEaXJlY3RWYWx1ZSIsInJlZjIiLCJvYmplY3RXaXRoUmVmcyIsIl9vYmplY3QiLCJfZGVmYXVsdFZhbHVlIiwibmV3VmFsIiwiX2dldHRlciIsInNvdXJjZSIsImRlZmF1bHRWYWx1ZSIsInNldHRlciIsImlzU1NSIiwiZ2V0dGVyT3JPcHRpb25zIiwiZGVidWdPcHRpb25zIiwiZ2V0dGVyIiwiY2xlYW51cEZuIiwib3duZXIiLCJjbGVhbnVwcyIsIndhdGNoIiwiY2IiLCJvcHRpb25zIiwiaW1tZWRpYXRlIiwiZGVlcCIsIm9uY2UiLCJzY2hlZHVsZXIiLCJhdWdtZW50Sm9iIiwiY2FsbCIsInJlYWN0aXZlR2V0dGVyIiwic291cmNlMiIsImVmZmVjdCIsImJvdW5kQ2xlYW51cCIsImZvcmNlVHJpZ2dlciIsImlzTXVsdGlTb3VyY2UiLCJzIiwiY3VycmVudEVmZmVjdCIsImJhc2VHZXR0ZXIiLCJkZXB0aCIsInNjb3BlIiwid2F0Y2hIYW5kbGUiLCJfY2IiLCJqb2IiLCJpbW1lZGlhdGVGaXJzdFJ1biIsImN1cnJlbnRXYXRjaGVyIiwiY2xlYW51cDIiLCJzZWVuIiwibXNnIiwiaW5zdGFuY2UiLCJhcHBXYXJuSGFuZGxlciIsInRyYWNlIiwiYSIsIl9iIiwidm5vZGUiLCJ3YXJuQXJncyIsImN1cnJlbnRWTm9kZSIsIm5vcm1hbGl6ZWRTdGFjayIsInBhcmVudEluc3RhbmNlIiwibG9ncyIsImVudHJ5IiwicmVjdXJzZUNvdW50IiwicG9zdGZpeCIsImlzUm9vdCIsIm9wZW4iLCJjbG9zZSIsInByb3BzIiwia2V5cyIsInZhbHVlcyIsInRocm93SW5EZXYiLCJjb250ZXh0Vk5vZGUiLCJlcnJvckhhbmRsZXIiLCJ0aHJvd1VuaGFuZGxlZEVycm9ySW5Qcm9kdWN0aW9uIiwiY3VyIiwiZXhwb3NlZEluc3RhbmNlIiwiZXJyb3JJbmZvIiwiZXJyb3JDYXB0dXJlZEhvb2tzIiwidGhyb3dJblByb2QiLCJwIiwiaWQiLCJzdGFydCIsImVuZCIsIm1pZGRsZSIsIm1pZGRsZUpvYiIsIm1pZGRsZUpvYklkIiwiam9iSWQiLCJsYXN0Sm9iIiwiZGVkdXBlZCIsImIiLCJjdHgiLCJpc05vblNjb3BlZFNsb3QiLCJyZW5kZXJGbldpdGhDb250ZXh0IiwicHJldkluc3RhbmNlIiwicHJldlZOb2RlIiwiYmluZGluZ3MiLCJvbGRCaW5kaW5ncyIsImJpbmRpbmciLCJob29rIiwiaG9va3MiLCJleHRyYU9wdGlvbnMiLCJyYXdSZWYiLCJvbGRSYXdSZWYiLCJwYXJlbnRTdXNwZW5zZSIsImlzVW5tb3VudCIsInJlZlZhbHVlIiwicmVmIiwib2xkUmVmIiwicmVmcyIsInNldHVwU3RhdGUiLCJyYXdTZXR1cFN0YXRlIiwiY2FuU2V0U2V0dXBSZWYiLCJfaXNTdHJpbmciLCJfaXNSZWYiLCJkb1NldCIsImV4aXN0aW5nIiwid3JhcHBlZEhvb2siLCJjdXJyZW50Iiwia2VlcEFsaXZlUm9vdCIsImluamVjdGVkIiwicHJlcGVuZCIsInJlc2V0IiwibGlmZWN5Y2xlIiwiY29tcG9uZW50Iiwid2Fybk1pc3NpbmciLCJtYXliZVNlbGZSZWZlcmVuY2UiLCJDb21wb25lbnQiLCJzZWxmTmFtZSIsInJlZ2lzdHJ5Iiwic2xvdHMiLCJmYWxsYmFjayIsIm5vU2xvdHRlZCIsInNsb3QiLCJ2YWxpZFNsb3RDb250ZW50Iiwic2xvdEtleSIsInJlbmRlcmVkIiwidm5vZGVzIiwiY2hpbGQiLCJzdGF0ZSIsImRhdGEiLCJhY2Nlc3NDYWNoZSIsImFwcENvbnRleHQiLCJub3JtYWxpemVkUHJvcHMiLCJwdWJsaWNHZXR0ZXIiLCJjc3NNb2R1bGUiLCJnbG9iYWxQcm9wZXJ0aWVzIiwicHJvcHNPcHRpb25zIiwiZGVzY3JpcHRvciIsInB1YmxpY1RoaXMiLCJkYXRhT3B0aW9ucyIsImNvbXB1dGVkT3B0aW9ucyIsIm1ldGhvZHMiLCJ3YXRjaE9wdGlvbnMiLCJwcm92aWRlT3B0aW9ucyIsImluamVjdE9wdGlvbnMiLCJjcmVhdGVkIiwiYmVmb3JlTW91bnQiLCJtb3VudGVkIiwiYmVmb3JlVXBkYXRlIiwidXBkYXRlZCIsImFjdGl2YXRlZCIsImRlYWN0aXZhdGVkIiwiYmVmb3JlRGVzdHJveSIsImJlZm9yZVVubW91bnQiLCJkZXN0cm95ZWQiLCJ1bm1vdW50ZWQiLCJyZW5kZXIiLCJyZW5kZXJUcmFja2VkIiwicmVuZGVyVHJpZ2dlcmVkIiwiZXJyb3JDYXB0dXJlZCIsInNlcnZlclByZWZldGNoIiwiZXhwb3NlIiwiaW5oZXJpdEF0dHJzIiwiY29tcG9uZW50cyIsImRpcmVjdGl2ZXMiLCJmaWx0ZXJzIiwibWV0aG9kSGFuZGxlciIsIm9wdCIsInNldCIsInByb3ZpZGVzIiwicmVnaXN0ZXJMaWZlY3ljbGVIb29rIiwicmVnaXN0ZXIiLCJfaG9vayIsImV4cG9zZWQiLCJjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMiLCJoIiwiaGFuZGxlciIsImJhc2UiLCJtaXhpbnMiLCJleHRlbmRzT3B0aW9ucyIsImdsb2JhbE1peGlucyIsIm9wdGlvbk1lcmdlU3RyYXRlZ2llcyIsImNhY2hlZCIsInJlc29sdmVkIiwibSIsInRvIiwiZnJvbSIsInN0cmF0cyIsImFzTWl4aW4iLCJzdHJhdCIsIm1lcmdlZCIsImh5ZHJhdGUiLCJyb290Q29tcG9uZW50Iiwicm9vdFByb3BzIiwiY29udGV4dCIsImluc3RhbGxlZFBsdWdpbnMiLCJwbHVnaW5DbGVhbnVwRm5zIiwiaXNNb3VudGVkIiwiYXBwIiwicGx1Z2luIiwibWl4aW4iLCJkaXJlY3RpdmUiLCJyb290Q29udGFpbmVyIiwiaXNIeWRyYXRlIiwibmFtZXNwYWNlIiwibGFzdEFwcCIsInBhcmVudFByb3ZpZGVzIiwidHJlYXREZWZhdWx0QXNGYWN0b3J5IiwicmF3UHJvcHMiLCJpc1N0YXRlZnVsIiwiYXR0cnMiLCJyYXdQcmV2UHJvcHMiLCJvcHRpbWl6ZWQiLCJwYXRjaEZsYWciLCJyYXdDdXJyZW50UHJvcHMiLCJoYXNBdHRyc0NoYW5nZWQiLCJwcm9wc1RvVXBkYXRlIiwiY2FtZWxpemVkS2V5Iiwia2ViYWJLZXkiLCJuZWVkQ2FzdEtleXMiLCJyYXdDYXN0VmFsdWVzIiwiY2FtZWxLZXkiLCJjYXN0VmFsdWVzIiwiaXNBYnNlbnQiLCJoYXNEZWZhdWx0IiwicHJvcHNEZWZhdWx0cyIsImNvbXAiLCJoYXNFeHRlbmRzIiwiZXh0ZW5kUHJvcHMiLCJyYXcyIiwibm9ybWFsaXplZEtleSIsInByb3AiLCJwcm9wVHlwZSIsInNob3VsZENhc3QiLCJzaG91bGRDYXN0VHJ1ZSIsInR5cGVOYW1lIiwicmF3U2xvdCIsInJhd1Nsb3RzIiwiY2hpbGRyZW4iLCJuZWVkRGVsZXRpb25DaGVjayIsImRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCIsImNyZWF0ZUh5ZHJhdGlvbkZucyIsImhvc3RJbnNlcnQiLCJob3N0UmVtb3ZlIiwiaG9zdFBhdGNoUHJvcCIsImhvc3RDcmVhdGVFbGVtZW50IiwiaG9zdENyZWF0ZVRleHQiLCJob3N0Q3JlYXRlQ29tbWVudCIsImhvc3RTZXRUZXh0IiwiaG9zdFNldEVsZW1lbnRUZXh0IiwiaG9zdFBhcmVudE5vZGUiLCJob3N0TmV4dFNpYmxpbmciLCJob3N0U2V0U2NvcGVJZCIsImhvc3RJbnNlcnRTdGF0aWNDb250ZW50IiwicGF0Y2giLCJuMSIsIm4yIiwiY29udGFpbmVyIiwiYW5jaG9yIiwicGFyZW50Q29tcG9uZW50Iiwic2xvdFNjb3BlSWRzIiwiZ2V0TmV4dEhvc3ROb2RlIiwidW5tb3VudCIsInNoYXBlRmxhZyIsInByb2Nlc3NUZXh0IiwicHJvY2Vzc0NvbW1lbnROb2RlIiwibW91bnRTdGF0aWNOb2RlIiwicHJvY2Vzc0ZyYWdtZW50IiwicHJvY2Vzc0VsZW1lbnQiLCJwcm9jZXNzQ29tcG9uZW50IiwiaW50ZXJuYWxzIiwibW92ZVN0YXRpY05vZGUiLCJuZXh0U2libGluZyIsInJlbW92ZVN0YXRpY05vZGUiLCJtb3VudEVsZW1lbnQiLCJwYXRjaEVsZW1lbnQiLCJ2bm9kZUhvb2siLCJ0cmFuc2l0aW9uIiwiZGlycyIsIm1vdW50Q2hpbGRyZW4iLCJzZXRTY29wZUlkIiwibmVlZENhbGxUcmFuc2l0aW9uSG9va3MiLCJzY29wZUlkIiwic3ViVHJlZSIsInBhcmVudFZOb2RlIiwiZHluYW1pY0NoaWxkcmVuIiwib2xkUHJvcHMiLCJuZXdQcm9wcyIsInBhdGNoQmxvY2tDaGlsZHJlbiIsInBhdGNoQ2hpbGRyZW4iLCJwYXRjaFByb3BzIiwib2xkQ2hpbGRyZW4iLCJuZXdDaGlsZHJlbiIsImZhbGxiYWNrQ29udGFpbmVyIiwib2xkVk5vZGUiLCJuZXdWTm9kZSIsImZyYWdtZW50U3RhcnRBbmNob3IiLCJmcmFnbWVudEVuZEFuY2hvciIsImZyYWdtZW50U2xvdFNjb3BlSWRzIiwibW91bnRDb21wb25lbnQiLCJ1cGRhdGVDb21wb25lbnQiLCJpbml0aWFsVk5vZGUiLCJzZXR1cFJlbmRlckVmZmVjdCIsInBsYWNlaG9sZGVyIiwidXBkYXRlQ29tcG9uZW50UHJlUmVuZGVyIiwiY29tcG9uZW50VXBkYXRlRm4iLCJidSIsInUiLCJwYXJlbnQiLCJub25IeWRyYXRlZEFzeW5jUm9vdCIsIm9yaWdpbk5leHQiLCJuZXh0VHJlZSIsInByZXZUcmVlIiwiYm0iLCJyb290IiwiaXNBc3luY1dyYXBwZXJWTm9kZSIsInNjb3BlZEluaXRpYWxWTm9kZSIsInVwZGF0ZSIsIm5leHRWTm9kZSIsInByZXZQcm9wcyIsImMxIiwicHJldlNoYXBlRmxhZyIsImMyIiwicGF0Y2hLZXllZENoaWxkcmVuIiwicGF0Y2hVbmtleWVkQ2hpbGRyZW4iLCJ1bm1vdW50Q2hpbGRyZW4iLCJvbGRMZW5ndGgiLCJjb21tb25MZW5ndGgiLCJuZXh0Q2hpbGQiLCJwYXJlbnRBbmNob3IiLCJsMiIsImUxIiwiZTIiLCJuZXh0UG9zIiwiczEiLCJzMiIsImtleVRvTmV3SW5kZXhNYXAiLCJwYXRjaGVkIiwidG9CZVBhdGNoZWQiLCJtb3ZlZCIsIm1heE5ld0luZGV4U29GYXIiLCJuZXdJbmRleFRvT2xkSW5kZXhNYXAiLCJwcmV2Q2hpbGQiLCJuZXdJbmRleCIsImluY3JlYXNpbmdOZXdJbmRleFNlcXVlbmNlIiwibmV4dEluZGV4IiwibW92ZSIsIm1vdmVUeXBlIiwibGVhdmUiLCJkZWxheUxlYXZlIiwiYWZ0ZXJMZWF2ZSIsInJlbW92ZTIiLCJwZXJmb3JtTGVhdmUiLCJkb1JlbW92ZSIsImNhY2hlSW5kZXgiLCJzaG91bGRJbnZva2VEaXJzIiwic2hvdWxkSW52b2tlVm5vZGVIb29rIiwidW5tb3VudENvbXBvbmVudCIsInJlbW92ZSIsInJlbW92ZUZyYWdtZW50IiwicGVyZm9ybVJlbW92ZSIsImJ1bSIsInVtIiwidGVsZXBvcnRFbmQiLCJpc0ZsdXNoaW5nIiwiY3VycmVudE5hbWVzcGFjZSIsImFsbG93ZWQiLCJjaDEiLCJjaDIiLCJqIiwibGVuIiwiYXJySSIsInN1YkNvbXBvbmVudCIsImZsdXNoIiwiYmFzZVdhdGNoT3B0aW9ucyIsInJ1bnNJbW1lZGlhdGVseSIsInNzckNsZWFudXAiLCJ3YXRjaFN0b3BIYW5kbGUiLCJpc1ByZSIsImlzRmlyc3RSdW4iLCJwYXRoIiwic2VnbWVudHMiLCJtb2RlbE5hbWUiLCJldmVudCIsInJhd0FyZ3MiLCJpc01vZGVsTGlzdGVuZXIiLCJtb2RpZmllcnMiLCJoYW5kbGVyTmFtZSIsIm9uY2VIYW5kbGVyIiwiZXh0ZW5kRW1pdHMiLCJub3JtYWxpemVkRnJvbUV4dGVuZCIsIndpdGhQcm94eSIsImVtaXQiLCJyZW5kZXJDYWNoZSIsImZhbGx0aHJvdWdoQXR0cnMiLCJwcm94eVRvVXNlIiwidGhpc1Byb3h5IiwicmVuZGVyMiIsInByZXZDaGlsZHJlbiIsIm5leHRQcm9wcyIsIm5leHRDaGlsZHJlbiIsImVtaXRzIiwiZHluYW1pY1Byb3BzIiwiZW1pdHNPcHRpb25zIiwibmV4dEtleXMiLCJzdXNwZW5zZSIsImRpc2FibGVUcmFja2luZyIsImluVk9uY2UiLCJyZWZfa2V5IiwicmVmX2ZvciIsImlzQmxvY2tOb2RlIiwibmVlZEZ1bGxDaGlsZHJlbk5vcm1hbGl6YXRpb24iLCJjbG9uZWQiLCJrbGFzcyIsInN0eWxlIiwiZXh0cmFQcm9wcyIsIm1lcmdlUmVmIiwiY2xvbmVUcmFuc2l0aW9uIiwibWVyZ2VkUHJvcHMiLCJ0ZXh0IiwiZmxhZyIsImFzQmxvY2siLCJzbG90RmxhZyIsInRvTWVyZ2UiLCJpbmNvbWluZyIsImciLCJyZWdpc3Rlckdsb2JhbFNldHRlciIsInNldHRlcnMiLCJzZXR1cFJlc3VsdCIsInNldHVwIiwic2V0dXBDb250ZXh0IiwiaXNBc3luY1NldHVwIiwicmVzb2x2ZWRSZXN1bHQiLCJza2lwT3B0aW9ucyIsImluY2x1ZGVJbmZlcnJlZCIsIm1hdGNoIiwiaW5mZXJGcm9tUmVnaXN0cnkiLCJ0YWciLCJpcyIsIm5vZGUiLCJzZWxlY3RvciIsImNvbnRlbnQiLCJiZWZvcmUiLCJ0ZW1wbGF0ZSIsIndyYXBwZXIiLCJpc1NWRyIsInRyYW5zaXRpb25DbGFzc2VzIiwiaXNDc3NTdHJpbmciLCJoYXNDb250cm9sbGVkRGlzcGxheSIsInByZXZTdHlsZSIsImNzc1ZhclRleHQiLCJwcmVmaXhlZCIsInJhd05hbWUiLCJpc0Jvb2xlYW4iLCJhdHRyTmFtZSIsIm5lZWRSZW1vdmUiLCJwcmV2VmFsdWUiLCJuZXh0VmFsdWUiLCJpbnZva2VycyIsImV4aXN0aW5nSW52b2tlciIsImludm9rZXIiLCJpbml0aWFsVmFsdWUiLCJvcmlnaW5hbFN0b3AiLCJjYW1lbGl6ZSQxIiwiY2FjaGVLZXkiLCJndWFyZCIsImV2ZW50S2V5IiwiayIsIm1vdW50IiwiY29udGFpbmVyT3JTZWxlY3RvciIsInBpbmlhIiwibyIsIk11dGF0aW9uVHlwZSIsIl9wIiwidG9CZUluc3RhbGxlZCIsInN1YnNjcmlwdGlvbnMiLCJvbkNsZWFudXAiLCJyZW1vdmVTdWJzY3JpcHRpb24iLCJpZHgiLCJwYXRjaFRvQXBwbHkiLCJzdWJQYXRjaCIsInRhcmdldFZhbHVlIiwiaG90IiwiYWN0aW9ucyIsImdldHRlcnMiLCJpbml0aWFsU3RhdGUiLCJzdG9yZSIsImxvY2FsU3RhdGUiLCJjb21wdXRlZEdldHRlcnMiLCIkaWQiLCJpc09wdGlvbnNTdG9yZSIsIm9wdGlvbnNGb3JQbHVnaW4iLCIkc3Vic2NyaWJlT3B0aW9ucyIsImlzTGlzdGVuaW5nIiwiaXNTeW5jTGlzdGVuaW5nIiwiYWN0aW9uU3Vic2NyaXB0aW9ucyIsImRlYnVnZ2VyRXZlbnRzIiwiYWN0aXZlTGlzdGVuZXIiLCIkcGF0Y2giLCJwYXJ0aWFsU3RhdGVPck11dGF0b3IiLCJzdWJzY3JpcHRpb25NdXRhdGlvbiIsIm15TGlzdGVuZXJJZCIsIiRyZXNldCIsIm5ld1N0YXRlIiwiJHN0YXRlIiwiJGRpc3Bvc2UiLCJhY3Rpb24iLCJ3cmFwcGVkQWN0aW9uIiwiYWZ0ZXJDYWxsYmFja0xpc3QiLCJvbkVycm9yQ2FsbGJhY2tMaXN0IiwiYWZ0ZXIiLCJvbkVycm9yIiwicGFydGlhbFN0b3JlIiwic3RvcFdhdGNoZXIiLCJzZXR1cFN0b3JlIiwiYWN0aW9uVmFsdWUiLCJleHRlbmRlciIsImlkT3JPcHRpb25zIiwic2V0dXBPcHRpb25zIiwiaXNTZXR1cFN0b3JlIiwidXNlU3RvcmUiLCJoYXNDb250ZXh0IiwiYmxvY2siLCJibG9ja1N1ZmZpeCIsImVsZW1lbnQiLCJtb2RpZmllciIsImNscyIsIm5hbWVzcGFjZU92ZXJyaWRlcyIsImRlcml2ZWROYW1lc3BhY2UiLCJzdHlsZXMiLCJTeW1ib2wiLCJvYmplY3RQcm90byIsIm5hdGl2ZU9iamVjdFRvU3RyaW5nIiwic3ltVG9TdHJpbmdUYWciLCJpc093biIsInVubWFza2VkIiwiaXRlcmF0ZWUiLCJsZW5ndGgiLCJ1aWQiLCJmdW5jIiwiZnVuY1Byb3RvIiwiZnVuY1RvU3RyaW5nIiwicGF0dGVybiIsImNvdW50IiwibGFzdENhbGxlZCIsInN0YW1wIiwicmVtYWluaW5nIiwic3RyaW5nIiwiTUFYX1NBRkVfSU5URUdFUiIsIm90aGVyIiwib2JqVmFsdWUiLCJ0cmFuc2Zvcm0iLCJvdGhlckFyZ3MiLCJIQVNIX1VOREVGSU5FRCIsImxhc3RJbmRleCIsIk1hcCIsInNpemUiLCJyZXNvbHZlciIsIm1lbW9pemVkIiwibnVtYmVyIiwicXVvdGUiLCJzdWJTdHJpbmciLCJvZmZzZXQiLCJwcmVkaWNhdGUiLCJpc1N0cmljdCIsImhhc0Z1bmMiLCJwYWlycyIsInBhaXIiLCJjdXN0b21pemVyIiwibmVzdGVkIiwicGF0aHMiLCJtZXNzYWdlIiwicmVxdWlyZWQiLCJ2YWxpZGF0b3IiLCJlcFByb3AiLCJ2YWxpZCIsImFsbG93ZWRWYWx1ZXMiLCJhbGxvd1ZhbHVlc1RleHQiLCJvcHRpb24iLCJpbmplY3RlZFNpemUiLCJjb25maWciLCJnbG9iYWwiLCJpblNldHVwIiwib2xkQ29uZmlnIiwicHJvdmlkZUZuIiwiY2ZnIiwiX2V4cG9ydF9zZmMiLCJzZmMiLCJkZWZhdWx0VW5pdCIsIm1haW4iLCJleHRyYSIsIl9fZGVmYXVsdF9fIiwiX3NmY19tYWluIiwiX19wcm9wcyIsIm5zIiwiY29sb3IiLCJfY3R4IiwiX2NhY2hlIiwiX2RlZmluZUNvbXBvbmVudDE1MCIsIl9vcGVuQmxvY2sxNTAiLCJfY3JlYXRlRWxlbWVudEJsb2NrMTUwIiwiX2NyZWF0ZUVsZW1lbnRWTm9kZTE1MCIsImFyaWFzIiwiZGV0ZXJtaW5pc3RpY0lkIiwiaWRJbmplY3Rpb24iLCJmb3JtIiwiZm9ybUl0ZW0iLCJmb3JtSXRlbUNvbnRleHQiLCJkaXNhYmxlSWRHZW5lcmF0aW9uIiwiZGlzYWJsZUlkTWFuYWdlbWVudCIsImlucHV0SWQiLCJpZFVud2F0Y2giLCJpc0xhYmVsZWRCeUZvcm1JdGVtIiwiZGlzYWJsZUlkR2VuZXJhdGlvbjIiLCJuZXdJZCIsInZtIiwiaWdub3JlIiwiZW1wdHlSZWYiLCJnbG9iYWxDb25maWciLCJkaXNhYmxlZCIsInJlcGxhY2VtZW50IiwidmVyc2lvbiIsImNvbmRpdGlvbiIsImJ1dHRvbkdyb3VwQ29udGV4dCIsIl9zaXplIiwiX2Rpc2FibGVkIiwiX3JlZiIsIl90eXBlIiwiYXV0b0luc2VydFNwYWNlIiwiX2MiLCJfcHJvcHMiLCJzaG91bGRBZGRTcGFjZSIsImRlZmF1bHRTbG90IiwiZXZ0IiwiTG9hZGluZyIsIm1heCIsImlzUGVyY2VudCIsIm1pbiIsImQiLCJxIiwidCIsImYiLCJtb2QiLCJhbGxvdzNDaGFyIiwiaGV4IiwiYWxsb3c0Q2hhciIsInJnYiIsIm9rIiwiZm9ybWF0IiwibmFtZWQiLCJUaW55Q29sb3IiLCJvcHRzIiwiUiIsIkciLCJCIiwiUnNSR0IiLCJHc1JHQiIsIkJzUkdCIiwiYWxwaGEiLCJoc3YiLCJoc2wiLCJhbGxvd1Nob3J0Q2hhciIsImZtdCIsInJuZCIsIl9pIiwiZm9ybWF0U2V0IiwiZm9ybWF0dGVkU3RyaW5nIiwiaGFzQWxwaGEiLCJuZWVkc0FscGhhRm9ybWF0IiwiYW1vdW50IiwiaHVlIiwicmdiMSIsInJnYjIiLCJyZ2JhIiwicmVzdWx0cyIsInNsaWNlcyIsInBhcnQiLCJtb2RpZmljYXRpb24iLCJiYWNrZ3JvdW5kIiwiZmciLCJiZyIsImluY3JlbWVudCIsImJ1dHRvbkNvbG9yIiwiYWN0aXZlQmdDb2xvciIsImhvdmVyQmdDb2xvciIsInRleHRDb2xvciIsImRpc2FibGVkQnV0dG9uQ29sb3IiLCJidXR0b25TdHlsZSIsImhhbmRsZUNsaWNrIiwiYnV0dG9uS2xzIiwic3dpdGNoU2l6ZSIsInN3aXRjaERpc2FibGVkIiwiaXNDb250cm9sbGVkIiwiaW5wdXQiLCJjb3JlIiwic3dpdGNoS2xzIiwiY2hlY2tlZCIsImxhYmVsTGVmdEtscyIsImxhYmVsUmlnaHRLbHMiLCJjb3JlU3R5bGUiLCJhY3R1YWxWYWx1ZSIsImhhbmRsZUNoYW5nZSIsInN3aXRjaFZhbHVlIiwiYmVmb3JlQ2hhbmdlIiwic2hvdWxkQ2hhbmdlIiwiZm9jdXMiLCJjcmVhdGVFbGVtZW50Vk5vZGUiLCJ2dWVBcHAiLCJjaGF0QXBwcyIsIndvcmxkSW5mbyIsInZ1ZUJvb2siLCJjb3VudGVyIiwiRXh0ZW5zaW9uUHJvbXB0UG9zaXRpb24iLCJFeHRlbnNpb25Qcm9tcHRQb3NpdGlvbjIiLCJFeHRlbnNpb25Qcm9tcHRSb2xlIiwiRXh0ZW5zaW9uUHJvbXB0Um9sZTIiLCJFbnRyeVBvc2l0aW9uIiwiRW50cnlQb3NpdGlvbjIiLCJpc1Z1ZUJvb2tFbnRyeSIsImVudHJ5TmFtZSIsImNsZWFuVnVlIiwidnVlQ3NzRWxlbSIsImdldENvbnRleHQiLCJjaGF0RGl2IiwibWVzQmxvY2siLCJtZXNUZXh0IiwidnVlQXBwRGl2IiwiTWVzc2FnZVVwZGF0ZVJlYXNvbiIsIl9fcHVibGljRmllbGQiLCJsaXN0ZW5lciIsImNoYXJOYW1lIiwibWVzSWQiLCJtZXMiLCJzd2lwZUluZm8iLCJ2YXJzIiwiY2hhdCIsIm9yaWdpbmFsIiwiaGFzQ2hhckFmdGVyIiwicmVhc29uIiwic2V0dGluZ3MiLCJjaE5hbWUiLCJuZXdBcHAiLCJuZXdEaXYiLCJuZXdFdmVudEVtaXR0ZXIiLCJpc0VkaXRpbmciLCJjdXJyZW50Q29udGVudCIsImN1cnJlbnRNZXMiLCJpc1VzZXIiLCJpc1N5c3RlbSIsImlzVXNlclZhbHVlIiwiaXNTeXN0ZW1WYWx1ZSIsInRhdmVybkNvbnRleHQiLCJzYXZlZCIsImRpcmVjdG9yeUhhbmRsZSIsImNzc0hhbmRsZSIsImpzSGFuZGxlIiwiaGFuZGxlIiwiY3NzRmlsZSIsImpzRmlsZSIsImNzc0NvbnRlbnQiLCJqc0NvbnRlbnQiLCJjdXJyZW50Q2hhcmFjdGVyIiwiYm9va05hbWUiLCJ2dWVDc3NFbnRyeSIsInZ1ZUpzRW50cnkiLCJsYXN0TWVzIiwibWVzSWRBdHRyIiwiY3VycmVudEVtaXR0ZXIiLCJsYXN0TWVzSWQiLCJvbGRWYXJzIiwiZXZlbnRfdHlwZXMiLCJldmVudFNvdXJjZSIsImxpc3RlbmVycyIsIkFwcCJdLCJtYXBwaW5ncyI6IjhpQ0FBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEdBS0EsMkJBRUEsU0FBUyxRQUFRQSxFQUFLLENBQ2QsTUFBQUMsRUFBNkIsT0FBQSxPQUFPLElBQUksRUFDOUMsVUFBV0MsS0FBT0YsRUFBSSxNQUFNLEdBQUcsRUFBR0MsRUFBSUMsQ0FBRyxFQUFJLEVBQ3RDLE9BQUNDLEdBQVFBLEtBQU9GLENBQ3pC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Q0FHOUIsRUNGYSxhQUFlLElBQU0sQ0FDOUIsS0FBTSxDQUFFLFlBQUF1QyxFQUFhLFlBQUFDLENBQVksRUFBSWpELGFBQVcsRUFDMUNrRCxFQUFZLENBQ2QsQ0FBQ0YsRUFBWSxZQUFZLEVBQUcsU0FBWSxDQUNwQyxNQUFNLFVBQVUsRUFDaEIsVUFBVSxvQkFBb0IsT0FBTyxFQUN2QixjQUFBLENBQ2xCLEVBQ0EsQ0FBQ0EsRUFBWSxlQUFlLEVBQUcsSUFBTSxDQUN4QixTQUFBLEVBQ1QsVUFBVSxvQkFBb0IsT0FBTyxFQUN2QixjQUFBLENBQ2xCLEVBQ0EsQ0FBQ0EsRUFBWSwwQkFBMEIsRUFBSXZDLEdBQWtCLENBQ3pELFVBQVUsb0JBQW9CLFVBQVUsRUFDeEMsYUFBYUEsQ0FBSyxDQUN0QixFQUNBLENBQUN1QyxFQUFZLGVBQWUsRUFBRyxJQUFNLENBQ2pDLFVBQVUsb0JBQW9CLElBQUksRUFDcEIsY0FBQSxDQUNsQixFQUNBLENBQUNBLEVBQVksY0FBYyxFQUFHLElBQU0sQ0FDaEMsVUFBVSxvQkFBb0IsS0FBSyxDQUN2QyxFQUNBLENBQUNBLEVBQVkscUJBQXFCLEVBQUcsaUJBQ3pDLEVBRUEsVUFBV3g0QixLQUFPMDRCLEVBQ0ZELEVBQUEsR0FBR3o0QixFQUFLLElBQUk4RSxJQUFnQixDQUM5QixNQUFBaXhCLEVBQVkyQyxFQUFrQjE0QixDQUFHLEVBQy9CLFFBQUEsSUFBSSw0Q0FBNkNBLENBQUcsRUFDcEQsUUFBQSxJQUFJLFFBQVM4RSxDQUFJLEVBQ3pCaXhCLEVBQVMsR0FBR2p4QixDQUFJLENBQUEsQ0FDbkIsQ0FFVCxpTEN0QkEsaUJBQVUsWUFBWSxnaEJDaEJoQix1QkFBeUIsU0FBUyxlQUFlLHFCQUFxQixFQUN0RSxXQUFhLFNBQVMsY0FBYyxLQUFLLEVBQy9DLFdBQVcsR0FBSyx3QkFDaEIsTUFBTSxRQUFVLHVCQUF3QixZQUFZLFVBQVUsRUFFeEQsSUFBTSxVQUFVNnpCLFNBQUcsRUFDbkIsTUFBUSxZQUFZLEVBQzFCLElBQUksSUFBSSxLQUFLLEVBQ2IsSUFBSSxNQUFNLE9BQU8iLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMCwxLDIsMyw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSwxNiwxNywxOCwxOSwyMCwyMSwyMiwyMywyNCwyNSwyNiwyNywyOCwyOSwzMCwzMSwzMiwzMywzNCwzNSwzNiwzNywzOCwzOSw0MCw0MSw0Miw0Myw0NCw0NSw0Niw0Nyw0OCw0OSw1MCw1MSw1Miw1Myw1NCw1NSw1Niw1Nyw1OCw1OSw2MCw2MSw2Miw2Myw2NCw2NSw2Niw2Nyw2OCw2OSw3MCw3MSw3Miw3Myw3NCw3NSw3Niw3Nyw3OCw3OSw4MCw4MSw4Miw4Myw4NCw4NSw4Niw4Nyw4OCw4OSw5MCw5MSw5Miw5Myw5NCw5NSw5Niw5Nyw5OCw5OSwxMDAsMTAxLDEwMiwxMDMsMTA0LDEwNSwxMDYsMTA3LDEwOCwxMDksMTEwLDExMSwxMTIsMTEzLDExNCwxMTUsMTE2LDExNywxMTgsMTE5LDEyMCwxMjEsMTIyLDEyMywxMjQsMTI1LDEyNiwxMjcsMTI4LDEyOSwxMzAsMTMxXX0=
